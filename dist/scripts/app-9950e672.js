!function(){"use strict";function e(e){e.state("app.projects",{url:"/projects/:interval",templateUrl:"app/modules/project/list/projects.html",resolve:{projects:["$stateParams","projectsUtils","projectResource",function(e,t,a){return a.query().$promise.then(function(a){return e.interval?t.projectsDuringInterval(a,e.interval):a})}]},controller:"ProjectListController as vm"}).state("app.editProject",{url:"/projects/edit/:id",templateUrl:"app/modules/project/edit/edit.html",resolve:{projects:["$stateParams","projectResource",function(e,t){return e.id?t.get({id:e.id}).$promise:{}}],elements:["elementResource",function(e){return e.query().$promise}]},controller:"ProjectController",controllerAs:"vm"}).state("app.digitize",{url:"/projects/digitize/:id",templateUrl:"app/modules/project/digitize/digitize.html",resolve:{projects:["$stateParams","projectResource",function(e,t){return e.id?t.get({id:e.id}).$promise:{}}],elements:["elementResource",function(e){return e.query().$promise}],digitalServices:["$stateParams","digitalServiceUtils","digitalServiceResource",function(e,t,a){return a.query().$promise.then(function(a){return e.interval?t.digitalServicesDuringInterval(a,e.interval):a})}]},controller:"DigitizeController",controllerAs:"vm"})}var t=angular.module("app.project",["ui.router","ngResource","app.data","app.common"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t){var a=this;a.projects=e,a.delete=t.getDeleteMethod(a.projects),console.log("Projects: \n"),console.log(angular.toJson(a.projects))}angular.module("app.project").controller("ProjectListController",e),e.$inject=["projects","deleteProjectModal"]}(),function(){"use strict";function e(e){e.state("app.elements",{url:"/elements/:interval",templateUrl:"app/modules/element/list/elements.html",resolve:{elements:["$stateParams","elementUtils","elementResource",function(e,t,a){return a.query().$promise.then(function(a){return e.interval?t.elementsDuringInterval(a,e.interval):a})}]},controller:"ElementListController as vm"}).state("app.editElement",{url:"/elements/edit/:id",templateUrl:"app/modules/element/edit/edit.html",resolve:{data:["$stateParams","elementResource",function(e,t){return e.id?t.get({id:e.id}).$promise:{}}]},controller:"ElementController",controllerAs:"vm"})}var t=angular.module("app.element",["ui.router","ngResource","app.data","app.common"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,a){var i=this;this.modalOptions={closeButtonText:"Cancel",actionButtonText:"Delete",headerText:"Adding new element",bodyText:"Element Creation"},this.modalDefaults={windowClass:"small-modal"},this.getDeleteMethod=function(s){return function(r){t.show(i.modalDefaults,i.modalOptions).then(function(){e.delete(r,function(){var e=s.indexOf(r);s.splice(e,1),a.success("The element was successfully created")})})}}}var t=angular.module("app.element");t.service("newElementModal",e),e.$inject=["elementResource","commonModal","notificator"]}(),function(){"use strict";function e(e){e.state("login",{url:"/login",data:{noAuth:!0},templateUrl:"app/modules/profile/auth/login.html",controller:"LoginController",controllerAs:"vm"}).state("app.profile",{url:"/profile",templateUrl:"app/modules/profile/edit/edit.html",controller:"ProfileController",controllerAs:"vm"})}var t=angular.module("app.profile",["ui.router"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,a,i,s,r){var l=this;l.project=e,l.element=a,l.showReturnBtn=l.project.id&&s.from.state.name,l.update=function(){l.project.date=(new Date).toISOString(),t.update(l.project,function(){r.success("Project was successfully updated")})},l.return=function(){i.go(s.from.state.name,s.from.params)},l.undo=function(){i.reload()},l.reset=function(){l.project.elements=[]},l.save=function(){l.project.date=(new Date).toISOString(),l.project.elements=[],l.project.services=[],t.save(this.project,function(){r.success("Project was successfully saved")})}}angular.module("app.profile").controller("ProjectController",e),e.$inject=["projects","projectResource","elements","$state","shortHistory","notificator"]}(),function(){"use strict";function e(e,t,a,i,s,r,l){var o=this;o.project=e,o.element=a,o.services=i,o.showReturnBtn=o.project.id&&r.from.state.name,o.suggestedServices=o.services,o.suggestedServices=o.services.filter(function(e){for(var t in e.tags)for(var a in o.project.elements)for(var i in o.project.elements[a].tags)if(e.tags[t].text===o.project.elements[a].tags[i].text)return!0;return!1}),o.undo=function(){s.reload()},o.reset=function(){o.project.services=[]},o.update=function(){o.project.date=(new Date).toISOString(),t.update(o.project,function(){l.success("Digitized Model was successfully saved")})}}angular.module("app.profile").controller("DigitizeController",e),e.$inject=["projects","projectResource","elements","digitalServices","$state","shortHistory","notificator"]}(),function(){"use strict";function e(e,t,a){var i=this;i.user=$.extend(!0,{},t.getCurrentUser()),i.responseErrorMsg="",i.update=function(){e.put("/api/profile",i.user).success(function(e){t.setCurrentUser(e),a.success("Profile changes saved")}).error(function(e){i.responseErrorMsg=e.message})},i.cancel=function(){i.responseErrorMsg="",i.user=$.extend(!0,{},t.getCurrentUser())}}angular.module("app.profile").controller("ProfileController",e),e.$inject=["$http","session","notificator"]}(),function(){"use strict";function e(e){var t=this;t.user={},t.responseErrorMsg="",this.login=function(){e.login(t.user).then(null,function(e){t.responseErrorMsg=e.data.message})}}function t(e,t,a){e.logout=a.logout,e.$on("$userLoggedIn",function(){t.go("app.dashboard")}),e.$on("$userLoggedOut",function(){t.go("login")})}angular.module("app.profile").controller("LoginController",e).run(t),e.$inject=["authenticationService"],t.$inject=["$rootScope","$state","authenticationService"]}(),function(){"use strict";function e(e,t){var a=this;a.elements=e,a.delete=t.getDeleteMethod(a.elements),console.log("Elements: \n"),console.log(angular.toJson(a.elements))}angular.module("app.element").controller("ElementListController",e),e.$inject=["elements","deleteElementModal"]}(),function(){"use strict";function e(e,t,a,i,s){var r=this;r.element=e,r.showReturnBtn=r.element.id&&i.from.state.name,r.update=function(){r.element.date=(new Date).toISOString(),t.update(r.element,function(){i.goTo("from"),s.success("Element was successfully updated")})},r.return=function(){a.go(i.from.state.name,i.from.params)},r.save=function(){r.element.date=(new Date).toISOString(),t.save(this.element,function(){i.goTo("from"),s.success("Element was successfully saved")})},r.loadTags=function(e){var t=[{text:"3D"},{text:"GIS"},{text:"GPS"},{text:"OSM"},{text:"participants"},{text:"VoIP"},{text:"access"},{text:"accessibility"},{text:"account"},{text:"accounting"},{text:"acquisition"},{text:"actor"},{text:"address"},{text:"administration"},{text:"administrator"},{text:"advanced"},{text:"advertisement"},{text:"advertising"},{text:"aid"},{text:"analysis"},{text:"android"},{text:"app"},{text:"appointment"},{text:"approval"},{text:"assistance"},{text:"augmented reality"},{text:"authority"},{text:"availability"},{text:"bill"},{text:"billing"},{text:"booking"},{text:"budget"},{text:"calendar"},{text:"call"},{text:"campaign"},{text:"capacity"},{text:"cargo"},{text:"checking"},{text:"checklists"},{text:"community"},{text:"companies"},{text:"company"},{text:"competition"},{text:"competitor"},{text:"consumed"},{text:"consumption"},{text:"contact"},{text:"contacts"},{text:"control"},{text:"coordination"},{text:"cost"},{text:"costs"},{text:"critical"},{text:"customer"},{text:"database"},{text:"date"},{text:"delivery"},{text:"design"},{text:"device"},{text:"diagnose"},{text:"diagnosis"},{text:"diagnostic"},{text:"diagram"},{text:"digital"},{text:"direct"},{text:"discount"},{text:"document"},{text:"documentation"},{text:"documents"},{text:"doodle"},{text:"download"},{text:"drawing"},{text:"drive"},{text:"duration"},{text:"email"},{text:"emergency"},{text:"estimate"},{text:"event"},{text:"exchange"},{text:"expert"},{text:"experts"},{text:"fair"},{text:"faq"},{text:"file"},{text:"finance"},{text:"finances"},{text:"finder"},{text:"follow-up"},{text:"form"},{text:"geography"},{text:"glasses"},{text:"gps"},{text:"group"},{text:"help"},{text:"history"},{text:"hours"},{text:"iOS"},{text:"image"},{text:"immediate"},{text:"information"},{text:"instant"},{text:"instructions"},{text:"inventory"},{text:"investigation"},{text:"invitation"},{text:"invoice"},{text:"journey"},{text:"language"},{text:"list"},{text:"load"},{text:"location"},{text:"logistic"},{text:"logistics"},{text:"loyalty"},{text:"machine"},{text:"mail"},{text:"mailing"},{text:"maintenance"},{text:"management"},{text:"map"},{text:"maps"},{text:"marketing"},{text:"material"},{text:"message"},{text:"milestone"},{text:"model"},{text:"monitoring"},{text:"multimedia"},{text:"newspaper"},{text:"offer"},{text:"opening"},{text:"opinion"},{text:"order"},{text:"organisation"},{text:"organization"},{text:"outline"},{text:"overview"},{text:"paper"},{text:"participant"},{text:"participants"},{text:"path"},{text:"payment"},{text:"period"},{text:"permit"},{text:"phone"},{text:"photo"},{text:"pickup"},{text:"place"},{text:"plan"},{text:"planning"},{text:"platform"},{text:"poll"},{text:"post"},{text:"presentation"},{text:"price"},{text:"prices"},{text:"print"},{text:"printer"},{text:"problem"},{text:"process"},{text:"product"},{text:"profile"},{text:"program"},{text:"promotions"},{text:"prototype"},{text:"purchase"},{text:"rating"},{text:"reachability"},{text:"receiver"},{text:"recipient"},{text:"recommendation"},{text:"record"},{text:"recording"},{text:"records"},{text:"registration"},{text:"relationship"},{text:"reminder"},{text:"repository"},{text:"reputation"},{text:"request"},{text:"research"},{text:"reservation"},{text:"resource"},{text:"resources"},{text:"review"},{text:"reviews"},{text:"road"},{text:"room"},{text:"route"},{text:"satellite"},{text:"schedule"},{text:"secure"},{text:"service"},{text:"shipping"},{text:"shopping"},{text:"signed"},{text:"sketch"},{text:"skype"},{text:"slot"},{text:"smart"},{text:"smartphone"},{text:"sms"},{text:"solution"},{text:"space"},{text:"spare"},{text:"spontaneously"},{text:"stakeholder"},{text:"status"},{text:"stock"},{text:"streaming"},{text:"substitute"},{text:"summary"},{text:"supply"},{text:"support"},{text:"survey"},{text:"telephone"},{text:"temporary"},{text:"text"},{text:"time"},{text:"times"},{text:"timings"},{text:"tracking"},{text:"transport"},{text:"transportation"},{text:"tts"},{text:"urgent"},{text:"usage"},{text:"used"},{text:"user"},{text:"vcard"},{text:"vector"},{text:"venue"},{text:"video"},{text:"virtual reality"},{text:"voting"},{text:"warehouse"},{text:"way"},{text:"web"},{text:"wireless"},{text:"workaround"}];return t.filter(function(t){return-1!=t.text.toLowerCase().indexOf(e.toLowerCase())})}}angular.module("app.profile").controller("ElementController",e),e.$inject=["data","elementResource","$state","shortHistory","notificator","$http"]}(),function(){"use strict";function e(e){e.state("app.digitalServices",{url:"/digitalservices/:interval",templateUrl:"app/modules/digitalservice/list/digitalservices.html",resolve:{digitalServices:["$stateParams","digitalServiceUtils","digitalServiceResource",function(e,t,a){return a.query().$promise.then(function(a){return e.interval?t.digitalServicesDuringInterval(a,e.interval):a})}]},controller:"DigitalServiceListController as vm"}).state("app.editDigitalService",{url:"/digitalservices/edit/:id",templateUrl:"app/modules/digitalservice/edit/edit.html",resolve:{data:["$stateParams","digitalServiceResource",function(e,t){return e.id?t.get({id:e.id}).$promise:{}}]},controller:"DigitalServiceController",controllerAs:"vm"})}var t=angular.module("app.digitalService",["ui.router","ngResource","app.data","app.common"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t){var a=this;a.digitalServices=e,a.delete=t.getDeleteMethod(a.digitalServices),console.log("Digital Services: \n"),console.log(angular.toJson(a.digitalServices))}angular.module("app.digitalService").controller("DigitalServiceListController",e),e.$inject=["digitalServices","deleteDigitalServiceModal"]}(),function(){"use strict";function e(e,t,a,i,s){var r=this;r.digitalService=e,r.showReturnBtn=r.digitalService.id&&i.from.state.name,r.update=function(){r.digitalService.date=(new Date).toISOString(),t.update(r.digitalService,function(){s.success("Digital Service was successfully updated")})},r.return=function(){a.go(i.from.state.name,i.from.params)},r.save=function(){r.digitalService.date=(new Date).toISOString(),t.save(this.digitalService,function(){i.goTo("from"),s.success("Digital Service was successfully saved")})},r.loadTags=function(e){var t=[{text:"3D"},{text:"GIS"},{text:"GPS"},{text:"OSM"},{text:"participants"},{text:"VoIP"},{text:"access"},{text:"accessibility"},{text:"account"},{text:"accounting"},{text:"acquisition"},{text:"actor"},{text:"address"},{text:"administration"},{text:"administrator"},{text:"advanced"},{text:"advertisement"},{text:"advertising"},{text:"aid"},{text:"analysis"},{text:"android"},{text:"app"},{text:"appointment"},{text:"approval"},{text:"assistance"},{text:"augmented reality"},{text:"authority"},{text:"availability"},{text:"bill"},{text:"billing"},{text:"booking"},{text:"budget"},{text:"calendar"},{text:"call"},{text:"campaign"},{text:"capacity"},{text:"cargo"},{text:"checking"},{text:"checklists"},{text:"community"},{text:"companies"},{text:"company"},{text:"competition"},{text:"competitor"},{text:"consumed"},{text:"consumption"},{text:"contact"},{text:"contacts"},{text:"control"},{text:"coordination"},{text:"cost"},{text:"costs"},{text:"critical"},{text:"customer"},{text:"database"},{text:"date"},{text:"delivery"},{text:"design"},{text:"device"},{text:"diagnose"},{text:"diagnosis"},{text:"diagnostic"},{text:"diagram"},{text:"digital"},{text:"direct"},{text:"discount"},{text:"document"},{text:"documentation"},{text:"documents"},{text:"doodle"},{text:"download"},{text:"drawing"},{text:"drive"},{text:"duration"},{text:"email"},{text:"emergency"},{text:"estimate"},{text:"event"},{text:"exchange"},{text:"expert"},{text:"experts"},{text:"fair"},{text:"faq"},{text:"file"},{text:"finance"},{text:"finances"},{text:"finder"},{text:"follow-up"},{text:"form"},{text:"geography"},{text:"glasses"},{text:"gps"},{text:"group"},{text:"help"},{text:"history"},{text:"hours"},{text:"iOS"},{text:"image"},{text:"immediate"},{text:"information"},{text:"instant"},{text:"instructions"},{text:"inventory"},{text:"investigation"},{text:"invitation"},{text:"invoice"},{text:"journey"},{text:"language"},{text:"list"},{text:"load"},{text:"location"},{text:"logistic"},{text:"logistics"},{text:"loyalty"},{text:"machine"},{text:"mail"},{text:"mailing"},{text:"maintenance"},{text:"management"},{text:"map"},{text:"maps"},{text:"marketing"},{text:"material"},{text:"message"},{text:"milestone"},{text:"model"},{text:"monitoring"},{text:"multimedia"},{text:"newspaper"},{text:"offer"},{text:"opening"},{text:"opinion"},{text:"order"},{text:"organisation"},{text:"organization"},{text:"outline"},{text:"overview"},{text:"paper"},{text:"participant"},{text:"participants"},{text:"path"},{text:"payment"},{text:"period"},{text:"permit"},{text:"phone"},{text:"photo"},{text:"pickup"},{text:"place"},{text:"plan"},{text:"planning"},{text:"platform"},{text:"poll"},{text:"post"},{text:"presentation"},{text:"price"},{text:"prices"},{text:"print"},{text:"printer"},{text:"problem"},{text:"process"},{text:"product"},{text:"profile"},{text:"program"},{text:"promotions"},{text:"prototype"},{text:"purchase"},{text:"rating"},{text:"reachability"},{text:"receiver"},{text:"recipient"},{text:"recommendation"},{text:"record"},{text:"recording"},{text:"records"},{text:"registration"},{text:"relationship"},{text:"reminder"},{text:"repository"},{text:"reputation"},{text:"request"},{text:"research"},{text:"reservation"},{text:"resource"},{text:"resources"},{text:"review"},{text:"reviews"},{text:"road"},{text:"room"},{text:"route"},{text:"satellite"},{text:"schedule"},{text:"secure"},{text:"service"},{text:"shipping"},{text:"shopping"},{text:"signed"},{text:"sketch"},{text:"skype"},{text:"slot"},{text:"smart"},{text:"smartphone"},{text:"sms"},{text:"solution"},{text:"space"},{text:"spare"},{text:"spontaneously"},{text:"stakeholder"},{text:"status"},{text:"stock"},{text:"streaming"},{text:"substitute"},{text:"summary"},{text:"supply"},{text:"support"},{text:"survey"},{text:"telephone"},{text:"temporary"},{text:"text"},{text:"time"},{text:"times"},{text:"timings"},{text:"tracking"},{text:"transport"},{text:"transportation"},{text:"tts"},{text:"urgent"},{text:"usage"},{text:"used"},{text:"user"},{text:"vcard"},{text:"vector"},{text:"venue"},{text:"video"},{text:"virtual reality"},{text:"voting"},{text:"warehouse"},{text:"way"},{text:"web"},{text:"wireless"},{text:"workaround"}];return t.filter(function(t){return-1!=t.text.toLowerCase().indexOf(e.toLowerCase())})}}angular.module("app.profile").controller("DigitalServiceController",e),e.$inject=["data","digitalServiceResource","$state","shortHistory","notificator"]}(),function(){"use strict";function e(e){e.state("app.dashboard",{url:"/dashboard",templateUrl:"app/modules/dashboard/dashboard.html",resolve:{projects:["projectResource",function(e){return e.query().$promise}],digitalServices:["digitalServiceResource",function(e){return e.query().$promise}],elements:["elementResource",function(e){return e.query().$promise}]},controller:"dashboardController",controllerAs:"vm"})}var t=angular.module("app.dashboard",["ui.router","ngResource","app.data"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(){return{restrict:"EA",transclude:!0,replace:!0,scope:{widgetClass:"@",iconClass:"@",iconText:"@"},templateUrl:"app/modules/dashboard/widget-stat/widget_stat.html"}}angular.module("app.dashboard").directive("widgetStat",e)}(),function(){"use strict";function e(e,t){e.state("app",{url:"/app","abstract":!0,templateUrl:"app/modules/core/app.html"}),t.otherwise(function(e){var t=e.get("$state");t.go("app.dashboard")})}var t=angular.module("app.core",["ngResource","ui.router","ngAnimate","toastr"]);t.config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){function t(e){$("body").toggleClass("nav-shown",e)}var a={click:function(e){e.on("click",function(e){t(),e.preventDefault()})},swipe:function(a){function i(){try{return e[0].createEvent("TouchEvent"),!0}catch(t){return!1}}i()&&a.swipe({swipeLeft:function(){t(!1)},swipeRight:function(){t(!0)}})}};return{restrict:"A",scope:{type:"@"},link:function(e,t){a[e.type](t,e)}}}e.$inject=["$document"],angular.module("app.core").directive("navCollapseToggler",e)}(),function(){"use strict";angular.module("app.common",["ui.bootstrap","ui.router"])}(),function(){"use strict";function e(){function e(e,t){t.addClass("widget")}return{link:e,restrict:"EA"}}angular.module("app.common").directive("widget",e)}(),function(){"use strict";function e(e){var a={backdrop:!0,keyboard:!0,modalFade:!0,templateUrl:"app/modules/common/modal/modal.html"},i={closeButtonText:"Close",actionButtonText:"OK",headerText:"Proceed?",bodyText:"Perform this action?"};this.show=function(s,r){var l={},o={};return angular.extend(l,a,s),angular.extend(o,i,r),l.controller||(l.controller=t(l,o)),e.open(l).result}}function t(e,t){function a(e,a){e.modalOptions=t,e.modalOptions.ok=function(e){a.close(e)},e.modalOptions.close=e.modalOptions.close||function(){a.dismiss("cancel")}}return a.$inject=["$scope","$modalInstance"],a}angular.module("app.common").service("commonModal",e),e.$inject=["$modal"]}(),function(){"use strict";function e(e,t,a){var i=this;this.modalOptions={closeButtonText:"Cancel",actionButtonText:"Delete",headerText:"Confirm project deletion",bodyText:"The project will be deleted permanently, do you want to continue?"},this.modalDefaults={windowClass:"small-modal"},this.getDeleteMethod=function(s){return function(r){t.show(i.modalDefaults,i.modalOptions).then(function(){e.delete(r,function(){var e=s.indexOf(r);s.splice(e,1),a.success("Project was successfully deleted")})})}}}var t=angular.module("app.project");t.service("deleteProjectModal",e),e.$inject=["projectResource","commonModal","notificator"]}(),function(){"use strict";function e(e,t,a){var i=this;this.modalOptions={closeButtonText:"Cancel",actionButtonText:"Delete",headerText:"Confirm element deletion",bodyText:"The element will be deleted permanently, do you want to continue?"},this.modalDefaults={windowClass:"small-modal"},this.getDeleteMethod=function(s){return function(r){t.show(i.modalDefaults,i.modalOptions).then(function(){e.delete(r,function(){var e=s.indexOf(r);s.splice(e,1),a.success("The element was successfully deleted")})})}}}var t=angular.module("app.element");t.service("deleteElementModal",e),e.$inject=["elementResource","commonModal","notificator"]}(),function(){"use strict";function e(e,t,a){var i=this;this.modalOptions={closeButtonText:"Cancel",actionButtonText:"Delete",headerText:"Confirm service deletion",bodyText:"The digital service will be deleted permanently, do you want to continue?"},this.modalDefaults={windowClass:"small-modal"},this.getDeleteMethod=function(s){return function(r){t.show(i.modalDefaults,i.modalOptions).then(function(){e.delete(r,function(){var e=s.indexOf(r);s.splice(e,1),a.success("The digital service was successfully deleted")})})}}}var t=angular.module("app.digitalService");t.service("deleteDigitalServiceModal",e),e.$inject=["digitalServiceResource","commonModal","notificator"]}(),function(){"use strict";angular.module("app.data",["ngResource"])}(),function(){"use strict";function e(e){return e("/api/projects/:id",{id:"@id"},{update:{method:"PUT"}})}function t(){function e(e,t){var a=new Date,i=864e5*t,s=[];return e.forEach(function(e){var t=new Date(e.date);i>a-t&&s.push(e)}),s}function t(e,t){return e.sort(function(e,t){return e.date<t.date?1:e.date==t.date?0:-1}),e.slice(0,t||1)}function a(e){var t=e[0];return e.forEach(function(e){t=t.date<e.date?t:e}),t}return{projectsDuringInterval:e,lastEdited:a,recent:t}}angular.module("app.data").factory("projectResource",e).factory("projectsUtils",t),e.$inject=["$resource"],t.$inject=["projectResource"]}(),function(){"use strict";function e(e){return e("/api/elements/:id",{id:"@id"},{update:{method:"PUT"}})}function t(){function e(t,a){var i=new Date,s=864e5*a,r=[];return t.forEach(function(t){var a=new Date(t.date);s>i-a&&e.push(t)}),r}function t(e,t){return e.sort(function(e,t){return e.date<t.date?1:e.date==t.date?0:-1}),e.slice(0,t||1)}function a(e){var t=e[0];return e.forEach(function(e){t=t.date<e.date?t:e}),t}return{elementsDuringInterval:e,lastEdited:a,recent:t}}angular.module("app.data").factory("elementResource",e).factory("elementUtils",t),e.$inject=["$resource"],t.$inject=["elementResource"]}(),function(){"use strict";function e(e){return e("/api/digitalservices/:id",{id:"@id"},{update:{method:"PUT"}})}function t(){function e(t,a){var i=new Date,s=864e5*a,r=[];return t.forEach(function(t){var a=new Date(t.date);s>i-a&&e.push(t)}),r}function t(e,t){return e.sort(function(e,t){return e.date<t.date?1:e.date==t.date?0:-1}),e.slice(0,t||1)}function a(e){var t=e[0];return e.forEach(function(e){t=t.date<e.date?t:e}),t}function i(){}return{digitalServicesDuringInterval:e,lastEdited:a,recent:t,filteredByTags:i}}angular.module("app.data").factory("digitalServiceResource",e).factory("digitalServiceUtils",t),e.$inject=["$resource"],t.$inject=["digitalServiceResource"]}(),function(){"use strict";function e(e,t,a,i,s,r,l){e.projects=a,e.elements=l,e.projectsLastMonth=i.projectsDuringInterval(a,30),e.lastEditedProject=i.lastEdited(a),e.projectsRecently=i.recent(a,5),e.digitalServices=s,e.digitalServicesRecently=r.recent(s,4),e.alerts=[{type:"warning",msg:t.trustAsHtml('<span class="fw-semi-bold">Warning:</span> Best check yo self, you\'re not looking too good.')},{type:"success",msg:t.trustAsHtml('<span class="fw-semi-bold">Success:</span> You successfully read this important alert message.')},{type:"info",msg:t.trustAsHtml('<span class="fw-semi-bold">Info:</span> This alert needs your attention, but it\'s not super important.')},{type:"danger",msg:t.trustAsHtml('<span class="fw-semi-bold">Danger:</span> Change this and that and try again.<a class="btn btn-default btn-xs pull-right mr" href="#">Ignore</a><a class="btn btn-danger btn-xs pull-right mr-xs" href="#">Take this action</a>')}],e.addAlert=function(){e.alerts.push({type:"warning",msg:t.trustAsHtml("Another alert!")})},e.closeAlert=function(t){e.alerts.splice(t,1)}}angular.module("app.dashboard").controller("dashboardController",e),e.$inject=["$scope","$sce","projects","projectsUtils","digitalServices","digitalServiceUtils","elements"]}(),function(){"use strict";function e(e,t,a,i,s,r){var l=this;l.title=e.appTitle,t.app=e,t.$state=a,i.$on("$stateChangeStart",function(e,t,a){r.checkAccess(e,t,a)}),t.$on("$stateChangeSuccess",function(){$("body").toggleClass("nav-shown",!1)}),i.$on("$userSet",function(e,t){l.currentUser=t}),s.init(t)}angular.module("app.core").controller("App",e),e.$inject=["config","$scope","$state","$rootScope","shortHistory","authorize","session"]}(),function(){"use strict";var e=angular.module("app.core"),t={name:"Digitizer ",appTitle:"Digitizer",version:"1.1.1"};e.value("config",t)}(),function(){"use strict";function e(e){return{success:function(t,a){e.success(t,a)},warning:function(t,a){e.warning(t,a)},error:function(t,a){e.error(t,a)},info:function(t,a){e.info(t,a)}}}function t(e,t,a){e.$on("$userLoggedIn",function(){t.success("Hey there! Welcome to Digitizer!"),a(function(){t.info("Use the Dashboard to access latest projects and services ;)",{timeOut:6e3})},4e3)}),e.$on("$userLoggedOut",function(){t.success("Logged out successfully")})}function a(e){angular.extend(e,{timeOut:3e3})}angular.module("app.common").config(a).factory("notificator",e).run(t),e.$inject=["toastr"],t.$inject=["$rootScope","notificator","$timeout"],a.$inject=["toastrConfig"]}(),function(){"use strict";function e(e){function t(e,t,i){a[e]={state:t,params:i}}var a=this;this.init=function(e){e.$on("$stateChangeSuccess",function(e,a,i,s,r){t("from",s,r),t("to",a,i)})},this.goTo=function(t){e.go(a[t].state.name,a[t].params)}}function t(e,t,a){var i=this;this.fetchCurrentUser=function(a){var s;return s=i.getCurrentUser()?t(function(e){e(i.getCurrentUser())}):e.get(a)},this.getCurrentUser=function(){return this.user},this.setCurrentUser=function(e){this.user=e,a.$broadcast("$userSet",this.user)}}function a(e,t){this.checkAccess=function(a,i,s){e.getCurrentUser()||i.data&&i.data.noAuth||(a.preventDefault(),e.fetchCurrentUser("/api/profile").success(function(a){e.setCurrentUser(a),t.go(i.name,s)}).error(function(){t.go("login")}))}}function i(e,t,a){this.login=function(i){return e.post("/api/login",i).success(function(e){a.setCurrentUser(e),t.$broadcast("$userLoggedIn")})},this.logout=function(){return e.get("/api/logout").success(function(){a.setCurrentUser(null),t.$broadcast("$userLoggedOut")})}}angular.module("app.common").service("shortHistory",e).service("session",t).service("authorize",a).service("authenticationService",i),e.$inject=["$state"],t.$inject=["$http","$q","$rootScope"],a.$inject=["session","$state","$urlRouter","$rootScope"],i.$inject=["$http","$rootScope","session"]}(),/*
 * Copyright (c) 2016.
 * Kamalika Dutta
 */
function(){"use strict";angular.module("app",["app.core","app.profile","app.project","app.element","app.digitalService","app.dashboard","app.data","app.common","ngDragDrop","ngTagsInput"])}(),angular.module("app").run(["$templateCache",function(e){e.put("app/modules/core/app.html",'<nav id="sidebar" class="sidebar" role="navigation" data-ng-include="\'app/modules/core/navigation/sidebar.html\'"></nav><div class="content-wrap" nav-collapse-toggler="" type="swipe"><main role="main"><nav class="page-controls navbar navbar-default" data-ng-include="\'app/modules/core/navigation/navbar.html\'"></nav><div id="content" class="content view-animate fade-up" data-ui-view=""></div></main></div>'),e.put("app/modules/dashboard/dashboard.html",'<ol class="breadcrumb"><li><span class="text-muted">You are here</span></li><li class="active">Dashboard</li></ol><div class="row mt-lg"><div class="col-md-3 col-sm-3 col-xs-6"><div class="dashboard-div-wrapper bg-primary" ui-sref="app.projects"><i class="fa fa-folder dashboard-div-icon"></i><h5><strong>{{projects.length}}</strong> Projects</h5></div></div><div class="col-md-3 col-sm-3 col-xs-6"><div class="dashboard-div-wrapper bg-success" ui-sref="app.elements"><i class="fa fa-cubes dashboard-div-icon"></i><h5><strong>{{elements.length}}</strong> Model Elements</h5></div></div><div class="col-md-3 col-sm-3 col-xs-6"><div class="dashboard-div-wrapper bg-amethyst" ui-sref="app.digitalServices"><i class="fa fa-cloud dashboard-div-icon"></i><h5><strong>{{digitalServices.length}}</strong> Digital Services</h5></div></div><div class="col-md-3 col-sm-3 col-xs-6"><div class="dashboard-div-wrapper bg-warning" ui-sref="app.profile"><i class="fa fa-user dashboard-div-icon"></i><h5>Profile</h5></div></div></div><div class="row"><div class="col-md-6"><div ng-include="\'app/modules/dashboard/widget-tables/dash_projects.html\'"></div></div><div class="col-md-6"><div ng-include="\'app/modules/dashboard/widget-tables/dash_services.html\'"></div></div></div>'),e.put("app/modules/common/modal/modal.html",'<div class="modal-header"><h3>{{modalOptions.headerText}}</h3></div><div class="modal-body"><p>{{modalOptions.bodyText}}</p></div><div class="modal-footer"><button type="button" class="btn" data-ng-click="modalOptions.close()">{{modalOptions.closeButtonText}}</button> <button class="btn btn-primary" data-ng-click="modalOptions.ok();">{{modalOptions.actionButtonText}}</button></div>'),e.put("app/modules/core/navigation/navbar.html",'<div class="container-fluid"><div class="navbar-header"><ul class="nav navbar-nav"><li><a class="visible-xs navbar-toggle toggle-navigation-collapse" nav-collapse-toggler="" type="click" href="#" title="Show/hide sidebar" data-placement="bottom" data-tooltip=""><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></a></li></ul><a class="navbar-brand visible-xs">{{app.name}}</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li class="dropdown" dropdown=""><a href="#" dropdown-toggle=""><i class="fa fa-user"></i>&nbsp; {{vm.currentUser.firstName}} <span class="fw-semi-bold">{{vm.currentUser.lastName}}</span> <span class="badge bg-gray ml-xs">3</span></a><div class="dropdown-menu animated fadeInUp" data-sn-notifications-menu=""><section class="panel notifications"><header class="panel-heading"><h6 class="text-center mt-xs mb-xs">This is for representational purposes.<br><strong>You have no notifications</strong></h6></header><div id="notifications-list" class="list-group thin-scroll"><a class="list-group-item" ui-sref="app.digitalServices"><span class="thumb-sm pull-left mr"><span class="rounded bg-primary rounded-lg"><i class="fa fa-cloud text-white"></i></span></span><p class="text-ellipsis no-margin">New <strong>24</strong> services added.</p><time class="help-block no-margin">15 Apr 2016</time></a><div class="list-group-item"><span class="thumb-sm pull-left mr"><i class="fa fa-check-square-o fa-lg"></i></span><p class="no-margin overflow-hidden">User <a href="#">John Doe</a> is interested in your service. Communicate further? &nbsp;&nbsp;<br><button class="btn btn-xs btn-success">Allow</button> <button class="btn btn-xs btn-danger">Deny</button><time class="help-block no-margin">12:18 AM</time></p></div><div class="list-group-item"><span class="thumb-sm pull-left mr"><i class="fa fa-shield fa-lg"></i></span><p class="no-margin overflow-hidden">Instructions for changing your Account password. Please check your account <a ui-sref="app.profile">profile page</a>.<time class="help-block no-margin">12:18 AM</time></p></div></div><footer class="panel-footer text-sm"><button class="btn btn-xs btn-link pull-right"><i class="fa fa-refresh"></i></button> <small>Synced at: 08 June 2016 18:36</small></footer></section></div></li><li class=""></li><li><a href="" ng-click="logout()">Logout</a></li></ul></div></div>'),e.put("app/modules/core/navigation/sidebar.html",'<header class="logo"><a class="toggle-navigation-collapse" nav-collapse-toggler="" type="click" href="#" title="Show/hide sidebar" data-tooltip="">Digitizer <sup class="text-info fw-semi-bold">beta</sup></a></header><ul class="sidebar-nav"><li><a ui-sref="app.dashboard" ui-sref-active="active"><i class="fa fa-tachometer fa-lg"></i>&nbsp; Dashboard</a></li><li><a class="text-blue" data-target="#sidebar-project" data-toggle="collapse" data-parent="#sidebar" ng-class="$state.includes(\'app.projects\') || $state.includes(\'app.editProject\') ? \'active\' : \'\'"><i class="fa fa-folder fa-lg text-blue"></i>&nbsp; Projects <b class="caret"></b></a><ul id="sidebar-project" class="collapse in"><li><a ui-sref="app.projects" ui-sref-active="active"><i class="fa fa-circle-thin fa-fw" aria-hidden="true"></i>&nbsp; Show all</a></li><li><a ui-sref="app.editProject" ui-sref-active="active"><i class="fa fa-plus fa-fw" aria-hidden="true"></i>&nbsp; {{$state.includes(\'app.editProject\') && $state.params.id ? \'Project editing\' : \'Create new\'}}</a></li></ul></li><li><a data-target="#sidebar-element" data-toggle="collapse" data-parent="#sidebar" ng-class="$state.includes(\'app.elements\') || $state.includes(\'app.editElement\') ? \'active\' : \'\'"><i class="fa fa-cubes fa-lg text-green"></i>&nbsp; Elements <b class="caret"></b></a><ul id="sidebar-element" class="collapse in"><li><a ui-sref="app.elements" ui-sref-active="active"><i class="fa fa-circle-thin fa-fw" aria-hidden="true"></i>&nbsp; Show all</a></li><li><a ui-sref="app.editElement" ui-sref-active="active"><i class="fa fa-plus fa-fw" aria-hidden="true"></i>&nbsp; {{$state.includes(\'app.editElement\') && $state.params.id ? \'Element editing\' : \'Create new\'}}</a></li></ul></li><li><a data-target="#sidebar-service" data-toggle="collapse" data-parent="#sidebar" ng-class="$state.includes(\'app.digitalServices\') || $state.includes(\'app.editDigitalService\') ? \'active\' : \'\'"><i class="fa fa-cloud fa-lg text-amethyst"></i>&nbsp; Services <b class="caret"></b></a><ul id="sidebar-service" class="collapse in"><li><a ui-sref="app.digitalServices" ui-sref-active="active"><i class="fa fa-circle-thin fa-fw" aria-hidden="true"></i>&nbsp; Show all</a></li><li><a ui-sref="app.editDigitalService" ui-sref-active="active"><i class="fa fa-plus fa-fw" aria-hidden="true"></i>&nbsp; {{$state.includes(\'app.editDigitalService\') && $state.params.id ? \'Editing Digital Service\' : \'Create new\'}}</a></li></ul></li><li><a ui-sref="app.profile" ui-sref-active="active"><i class="fa fa-user fa-lg text-warning"></i>&nbsp; Profile</a></li><li><a href="#" ng-click="logout()"><i class="fa fa-sign-out fa-lg"></i>&nbsp; Logout</a></li></ul>'),e.put("app/modules/dashboard/widget-stat/widget_stat.html",'<div class="widget bg-transparent text-center"><p><span class="circle {{widgetClass}}" style="font-size: 36px"><span class="{{iconClass}}">{{iconText}}</span></span></p><div ng-transclude=""></div></div>'),e.put("app/modules/dashboard/widget-tables/dash_projects.html",'<div class="panel panel-default"><div class="panel-heading bg-primary"><div class="pull-right"><input ng-model="searchProject" class="form-control input-sm" type="search" placeholder="Search..."></div><h5 class="widget-title mt-xs"><i class="fa fa-folder">&emsp;</i>Recent <span class="fw-semi-bold">Projects</span></h5></div><widget><table class="table table-hover mb-0"><thead><tr><th>Date</th><th>Name</th></tr></thead><tbody><tr ng-repeat="project in projectsRecently | filter:searchProject"><td>{{project.date | date:\' MMM dd, hh:mm\'}}</td><td><a ui-sref="app.editProject({id: project.id})">{{project.title}}</a></td></tr></tbody></table></widget></div>'),e.put("app/modules/dashboard/widget-tables/dash_services.html",'<div class="panel panel-default"><div class="panel-heading bg-amethyst"><div class="pull-right"><input ng-model="searchDigitalService" class="form-control input-sm" type="search" placeholder="Search..."></div><h5 class="widget-title mt-xs"><i class="fa fa-cloud">&emsp;</i> Recently Added Services</h5></div><widget><table class="table table-hover mb-0"><thead><tr><th>Digital Service</th><th>Tags</th></tr></thead><tbody><tr ng-repeat="service in digitalServicesRecently | filter:searchDigitalService"><td><a ui-sref="app.editDigitalService({id: service.id})">{{service.digitalComponent}}</a></td><td><label ng-repeat="tag in service.tags track by $index"><label class="label label-info">{{tag.text}}</label>&nbsp;</label></td></tr></tbody></table></widget></div>'),e.put("app/modules/digitalservice/edit/edit.html",'<ol class="breadcrumb"><li><span class="text-muted">YOU ARE HERE</span></li><li class="active">{{vm.digitalService.id ? \'Editing\' : \'Create new\'}}</li></ol><div class="row"><div class="col-md-12"><widget><h4 class="mt-0">{{vm.digitalService.id ? \'Editing\' : \'Create new\'}} Digital Service</h4><form novalidate="" role="form" name="digitalServiceForm" class="form-horizontal mt" ng-submit="digitalServiceForm.$valid && (vm.digitalService.id ? vm.update() : vm.save())"><div class="form-group"><label class="col-sm-2 control-label" for="title">Title</label><div class="col-sm-10"><input type="text" id="title" name="title" class="form-control" ng-model="vm.digitalService.digitalComponent" required="" ng-minlength="3" ng-maxlength="100"><div ng-show="digitalServiceForm.digitalComponent.$invalid && (digitalServiceForm.digitalComponent.$dirty || digitalServiceForm.$submitted)"><small class="error" ng-show="digitalServiceForm.digitalComponent.$error.required">Title of Digital Component is required.</small> <small class="error" ng-show="digitalServiceForm.digitalComponent.$error.minlength">Title is required to be at least 3 characters</small> <small class="error" ng-show="digitalServiceForm.digitalComponent.$error.maxlength">Title cannot be longer than 100 characters</small></div></div></div><div class="form-group"><label class="control-label col-sm-2">Tags</label><div class="col-sm-10"><tags-input ng-model="vm.digitalService.tags" display-property="text"><auto-complete source="vm.loadTags($query)" min-length="0" load-on-focus="true" load-on-empty="true" max-results-to-show="100" template="my-custom-template"></auto-complete></tags-input><div ng-show="digitalServiceForm.tags.$invalid && (digitalServiceForm.tags.$dirty || digitalServiceForm.$submitted)"><small class="error" ng-show="digitalServiceForm.tags.$error.required">Tags are required.</small> <small class="error" ng-show="digitalServiceForm.tags.$error.minlength">Enter at least 3 tags. Eg. "tag1", tag2" etc.</small></div></div></div><div class="text-right"><span ng-if="vm.showReturnBtn"><button type="button" class="btn" ng-click="vm.return()">Return</button></span> <button type="button" class="btn btn-danger" ng-click="vm.return()" ng-hide="vm.digitalService.id">Cancel</button> <button type="submit" class="btn btn-primary">Save</button></div></form></widget></div></div><script type="text/ng-template" id="my-custom-template"><label class="label label-info">{{data.text}}</label></script>'),e.put("app/modules/digitalservice/list/digitalservices.html",'<ol class="breadcrumb"><li><span class="text-muted">YOU ARE HERE</span></li><li class="active">Digital Services</li></ol><div class="panel panel-default"><div class="row"><div class="col-md-12 col-sm-12"><div class="panel-heading bg-amethyst"><button type="button" class="btn btn-sm btn-default pull-right mt-xs" ui-sref="app.editDigitalService({id: null})">Add Service</button><div class="pull-right col-md-8 col-xs-1 mt-xs"><input ng-model="searchDigitalService" class="form-control input-sm" type="search" placeholder="Search for a service..."></div><h4 class="widget-title text-white">Digital Services</h4></div><widget class="table-responsive"><table class="table table-hover"><thead><tr><th>ID</th><th>Digital Component</th><th>Tags</th><th class="pull-center">Edit/Delete</th></tr></thead><tbody><tr ng-repeat="digitalService in vm.digitalServices | filter:searchDigitalService"><td class="col-md-1">{{digitalService.id}}</td><td class="col-md-2">{{digitalService.digitalComponent}}</td><td><label ng-repeat="tag in digitalService.tags track by $index"><label class="label label-info">{{tag.text}}</label>&nbsp;</label></td><td class="text-right col-md-1"><div class="btn-group inline"><button type="button" class="btn btn-default btn-small" ui-sref="app.editDigitalService({id: digitalService.id})"><i class="fa fa-pencil-square-o" title="Edit" aria-hidden="true"></i></button> <button type="button" class="btn btn-danger outline btn-small" ng-click="vm.delete(digitalService)"><i class="fa fa-trash-o" title="Delete" aria-hidden="true"></i></button></div></td></tr></tbody></table></widget></div></div></div>'),e.put("app/modules/element/edit/edit.html",'<ol class="breadcrumb"><li><span class="text-muted">YOU ARE HERE</span></li><li class="active">{{vm.element.id ? \'Editing\' : \'Create new\'}}</li></ol><div class="row"><div class="col-md-12"><widget><h4 class="mt-0">{{vm.element.id ? \'Editing\' : \'Create new\'}} Element</h4><form novalidate="" role="form" name="elementForm" class="form-horizontal mt" ng-submit="elementForm.$valid && (vm.element.id ? vm.update() : vm.save())"><div class="form-group"><label class="col-sm-2 control-label" for="title">Title</label><div class="col-sm-10"><input type="text" id="title" name="title" class="form-control" ng-model="vm.element.modelElement" required="" ng-minlength="3" ng-maxlength="100"><div ng-show="elementForm.modelElement.$invalid && (elementForm.modelElement.$dirty || elementForm.$submitted)"><small class="error" ng-show="elementForm.modelElement.$error.required">Title of Digital Component is required.</small> <small class="error" ng-show="elementForm.modelElement.$error.minlength">Title is required to be at least 3 characters</small> <small class="error" ng-show="elementForm.modelElement.$error.maxlength">Title cannot be longer than 100 characters</small></div></div></div><div class="form-group"><label class="control-label col-sm-2">Add Tags</label><div class="col-sm-10"><tags-input ng-model="vm.element.tags" display-property="text"><auto-complete source="vm.loadTags($query)" min-length="0" load-on-focus="true" load-on-empty="true" max-results-to-show="" template="my-custom-template"></auto-complete></tags-input><div ng-show="elementForm.tags.$invalid && (elementForm.tags.$dirty || elementForm.$submitted)"><small class="error" ng-show="elementForm.tags.$error.required">Tags are required.</small> <small class="error" ng-show="elementForm.tags.$error.minlength">Enter at least 3 tags. Eg. "tag1", tag2" etc.</small></div></div></div><div class="text-right"><span ng-if="vm.showReturnBtn"><button type="button" class="btn" ng-click="vm.return()">Return</button></span> <button type="button" class="btn btn-danger" ng-click="vm.return()" ng-hide="vm.element.id">Cancel</button> <button type="submit" class="btn btn-primary">Save</button></div></form></widget></div></div><script type="text/ng-template" id="my-custom-template"><label class="label label-info">{{data.text}}</label></script>'),e.put("app/modules/element/list/elements.html",'<ol class="breadcrumb"><li><span class="text-muted">YOU ARE HERE</span></li><li class="active">Elements</li></ol><div class="panel panel-default"><div class="row"><div class="col-md-12"><div class="panel-heading bg-success"><button type="button" class="btn btn-sm btn-default pull-right mt-xs" ui-sref="app.editElement({id: null})">Add Element</button><div class="pull-right col-md-8 col-xs-1 mt-xs"><input ng-model="searchElement" class="form-control input-sm" type="search" placeholder="Search for an element..."></div><h4 class="widget-title text-white">Elements</h4></div><widget class="table-responsive"><table class="table table-hover"><thead><tr><th>ID</th><th>Model Elements</th><th>Tags</th><th>Edit/Delete</th></tr></thead><tbody><tr ng-repeat="element in vm.elements | filter:searchElement"><td class="col-md-1">{{element.id}}</td><td class="col-md-2">{{element.modelElement}}</td><td><label ng-repeat="tag in element.tags track by $index"><label class="label label-info">{{tag.text}}</label>&nbsp;</label></td><td class="text-right col-md-1"><div class="btn-group inline pull-left"><button type="button" class="btn btn-default btn-small" ui-sref="app.editElement({id: element.id})"><i class="fa fa-pencil-square-o" title="Edit" aria-hidden="true"></i></button> <button type="button" class="btn btn-danger outline btn-small" ng-click="vm.delete(element)"><i class="fa fa-trash-o" title="Delete" aria-hidden="true"></i></button></div></td></tr></tbody></table></widget></div></div></div>'),e.put("app/modules/profile/auth/login.html",'<div class="container"><main id="content" class="widget-login-container" role="main"><div class="row"><div class="col-lg-4 col-sm-6 col-xs-6 col-lg-offset-4 col-sm-offset-3 col-xs-offset-3"><h5 class="text-center text-muted">Digitizer <sup class="fw-semi-bold text-info">beta</sup></h5><widget class="widget-login"><header><h3 class="mt-0">Login to Digitizer</h3></header><div class="widget-body"><p class="fs-mini text-muted">Use your username and password to sign in<br>Don\'t have an account? Sign up now!</p><form role="form" novalidate="" name="loginForm" class="login-form mt-lg" ng-submit="loginForm.$valid && vm.login()"><div class="alert alert-danger" role="alert" ng-show="vm.responseErrorMsg">{{vm.responseErrorMsg}}</div><div class="form-group"><div class="input-group margin-bottom-sm"><span class="input-group-addon"><i class="fa fa-user fa-fw"></i></span> <input type="text" class="form-control" required="" ng-minlength="3" ng-maxlength="20" ng-model="vm.user.username" name="username" placeholder="Username"></div><div ng-show="loginForm.username.$invalid && (loginForm.username.$dirty || loginForm.$submitted)"><small class="error" ng-show="loginForm.username.$error.required">Username is required.</small> <small class="error" ng-show="loginForm.username.$error.minlength">Username is required to be at least 3 characters</small> <small class="error" ng-show="loginForm.username.$error.maxlength">Username cannot be longer than 20 characters</small></div></div><div class="form-group"><div class="input-group margin-bottom-sm"><span class="input-group-addon"><i class="fa fa-lock fa-fw"></i></span> <input class="form-control" required="" ng-minlength="3" ng-maxlength="20" ng-model="vm.user.password" name="password" type="password" placeholder="Password"></div><div ng-show="loginForm.password.$invalid && (loginForm.password.$dirty || loginForm.$submitted)"><small class="error" ng-show="loginForm.password.$error.required">Password is required.</small> <small class="error" ng-show="loginForm.password.$error.minlength">Password is required to be at least 3 characters</small> <small class="error" ng-show="loginForm.password.$error.maxlength">Password cannot be longer than 20 characters</small></div></div><div class="clearfix"><div class="btn-toolbar pull-right"><button type="reset" class="btn btn-default btn-sm">Create an account</button> <button type="submit" class="btn btn-sidebar btn-sm">Login</button></div><a class="mt-sm pull-right fs-mini" href="#">Trouble with account? &nbsp;</a></div></form></div></widget></div></div></main><footer class="page-footer">2016 &copy; Digitizer. Business Procedure Modelling and Digitization Toolbox.</footer></div>'),e.put("app/modules/profile/edit/edit.html",'<ol class="breadcrumb"><li><span class="text-muted">YOU ARE HERE</span></li><li class="active">Profile</li></ol><div class="row"><div class="col-md-12"><widget><h4 class="mt-0">Profile</h4><form novalidate="" role="form" name="profileForm" class="form-horizontal mt" ng-submit="profileForm.$valid && vm.update()"><div class="alert alert-danger" role="alert" ng-show="vm.responseErrorMsg">{{vm.responseErrorMsg}}</div><div class="form-group"><label class="col-sm-2 control-label" for="username">Username</label><div class="col-sm-10"><input type="text" class="form-control" name="username" ng-model="vm.user.username" required="" ng-minlength="3" ng-maxlength="20"><div ng-show="profileForm.username.$invalid && (profileForm.username.$dirty || profileForm.$submitted)"><small class="error" ng-show="profileForm.username.$error.required">Username is required.</small> <small class="error" ng-show="profileForm.username.$error.minlength">Username is required to be at least 3 characters</small> <small class="error" ng-show="profileForm.username.$error.maxlength">Username cannot be longer than 20 characters</small></div></div></div><div class="form-group"><label class="col-sm-2 control-label" for="firstName">First name</label><div class="col-sm-10"><input type="firstName" class="form-control" name="firstName" ng-model="vm.user.firstName" required=""><div ng-show="profileForm.firstName.$invalid && (profileForm.firstName.$dirty || profileForm.$submitted)"><small class="error" ng-show="profileForm.firstName.$error.required">Email is required.</small> <small class="error" ng-show="profileForm.firstName.$error.firstName">Email is incorrect</small></div></div></div><div class="form-group"><label class="col-sm-2 control-label" for="lastName">Last name</label><div class="col-sm-10"><input type="lastName" class="form-control" name="lastName" ng-model="vm.user.lastName" required=""><div ng-show="profileForm.lastName.$invalid && (profileForm.lastName.$dirty || profileForm.$submitted)"><small class="error" ng-show="profileForm.lastName.$error.required">Email is required.</small> <small class="error" ng-show="profileForm.lastName.$error.lastName">Email is incorrect</small></div></div></div><div class="form-group"><label class="col-sm-2 control-label" for="password">Password</label><div class="col-sm-10"><input type="password" name="password" class="form-control" ng-model="vm.user.password" required="" ng-minlength="3" ng-maxlength="20"><div ng-show="profileForm.password.$invalid && (profileForm.password.$dirty || profileForm.$submitted)"><small class="error" ng-show="profileForm.password.$error.required">Password is required.</small> <small class="error" ng-show="profileForm.password.$error.minlength">Password is required to be at least 3 characters</small> <small class="error" ng-show="profileForm.password.$error.maxlength">Password cannot be longer than 20 characters</small></div></div></div><div class="form-group"><label class="col-sm-2 control-label" for="newPassword">New password</label><div class="col-sm-10"><input type="password" name="newPassword" class="form-control" ng-model="vm.user.newPassword" ng-minlength="3" ng-maxlength="20"><div ng-show="profileForm.newPassword.$invalid && (profileForm.newPassword.$dirty || profileForm.$submitted)"><small class="error" ng-show="profileForm.newPassword.$error.minlength">Password is required to be at least 3 characters</small> <small class="error" ng-show="profileForm.newPassword.$error.maxlength">Password cannot be longer than 20 characters</small></div></div></div><div class="text-right"><button type="button" class="btn" ng-click="vm.cancel()">Cancel</button> <button type="submit" class="btn btn-primary">Save</button></div></form></widget></div></div>'),e.put("app/modules/project/digitize/digitize.html",'<ol class="breadcrumb"><li><span class="text-muted">YOU ARE HERE</span></li><li ui-sref="app.editProject({id: vm.project.id})">{{vm.project.title}}</li><li class="active">{{vm.project.id ? \'Digitizing\' : \'Create new\'}}</li></ol><div class="btn-group-horizontal pull-right" role="group"><button type="button" class="btn btn-default" ui-sref="app.editProject({id: vm.project.id})"><i class="fa fa-arrow-left text-gray" title="Cancel"></i></button> <button type="button" class="btn btn-danger" ng-click="vm.reset()"><i class="fa fa-undo" title="Reset services"></i></button> <button type="button" class="btn btn-info" ng-click="vm.update()" ui-sref="app.editProject({id: vm.project.id})"><i class="fa fa-floppy-o" title="Save digitized model"></i></button></div><div class="row"><div class="services-canvas cloud"><div ng-repeat="service in vm.suggestedServices"><div class="service" data-drag="true" ng-model="service" ng-show="service.digitalComponent" jqyoui-draggable="" data-jqyoui-options="{revert: \'invalid\'}">{{service.digitalComponent}}</div></div></div><div class="selected-services-canvas" data-drop="true" ng-model="vm.project.services" jqyoui-droppable="{multiple: true}"><div class="drop-service col-md-8" ng-show="!vm.project.services.length">Drop service here</div><div ng-repeat="service in vm.project.services track by $index"><div class="service selected-service">{{service.digitalComponent}}</div></div></div><div class="digital-canvas"><div ng-repeat="element in vm.project.elements track by $index"><i class="fa fa-long-arrow-right fa-2x" style="vertical-align: middle;" ng-show="$index != 0"></i><div class="element-digital">{{element.modelElement}}</div></div></div></div>'),e.put("app/modules/project/edit/available_elements.html",'<widget><div class="widget-title"><button type="button" class="btn btn-primary pull-right mt-n-sm" ui-sref="app.editElement({id: null})"><i class="fa fa-plus"></i></button><h5><i class="fa fa-cubes">&emsp;</i> Available elements <input ng-model="searchElement" class="form-control input-sm mt-sm" type="search" placeholder="Search..."></h5></div><div class="element-canvas mt-sm"><div ng-repeat="element in vm.element | filter:searchElement | orderBy:element.date"><div class="element" data-drag="true" ng-show="element.modelElement" ng-model="element" jqyoui-draggable="" data-jqyoui-options="{revert: \'invalid\'}">{{element.modelElement}}</div></div></div></widget>'),e.put("app/modules/project/edit/edit.html",'<ol class="breadcrumb"><li><span class="text-muted">YOU ARE HERE</span></li><li class="active">{{vm.project.id ? \'Edit project\' : \'Create new\'}}</li></ol><div class="col-md-9"><div class="row"><widget><form novalidate="" role="form" name="projectForm" class="form-horizontal mt" ng-submit="projectForm.$valid && (vm.project.id ? vm.update() : vm.save())"><h4 class="mt-0">{{vm.project.id ? \'Editing \' : \'Creating new\'}} project</h4><div class="form-group"><label class="col-sm-2 control-label" for="title">Title</label><div class="col-sm-10"><input type="text" id="title" name="title" class="form-control" ng-model="vm.project.title" required="" ng-minlength="3" ng-maxlength="100"><div ng-show="projectForm.title.$invalid && (projectForm.title.$dirty || projectForm.$submitted)"><small class="error" ng-show="projectForm.title.$error.required">Title is required.</small> <small class="error" ng-show="projectForm.title.$error.minlength">Title is required to be at least 3 characters</small> <small class="error" ng-show="projectForm.title.$error.maxlength">Title cannot be longer than 100 characters</small></div></div></div><div class="form-group"><label class="control-label col-sm-2">Description</label><div class="col-sm-10"><textarea name="description" class="form-control" rows="2" ng-model="vm.project.description" required="" ng-minlength="1">\n            <div ng-show="projectForm.description.$invalid && (projectForm.description.$dirty || projectForm.$submitted)">\n              <small class="error" ng-show="projectForm.description.$error.required">\n                Description is required.\n              </small>\n              <small class="error" ng-show="projectForm.description.$error.minlength">\n                Description is required to be at least 5 characters\n              </small>\n            </div>\n          </textarea></div></div><div class="form-group"><div class="col-sm-12"><label>Business Procedure Model</label><div class="btn-group-horizontal pull-right" role="group"><button type="button" class="btn btn-default" ui-sref="app.projects"><i class="fa fa-arrow-left text-gray" title="Cancel"></i></button> <button type="button" class="btn btn-danger" ng-click="vm.reset()"><i class="fa fa-undo" title="Reset model"></i></button> <button type="submit" class="btn btn-primary"><i class="fa fa-floppy-o" title="Save model"></i></button></div></div></div><div class="form-group" ng-show="vm.project.id"><div class="col-sm-12"><div class="analog-canvas" data-drop="true" ng-model="vm.project.elements" jqyoui-droppable="{multiple:true}"><div ng-repeat="element in vm.project.elements track by $index"><i class="fa fa-long-arrow-right fa-lg" aria-hidden="true" ng-show="$index != 0"></i><div class="element model-element">{{element.modelElement}}</div></div></div><button type="submit" class="btn btn-block btn-info" ng-click="vm.update()" ui-sref="app.digitize({id: vm.project.id})">Digitize</button></div></div></form></widget></div></div><div class="col-md-3" ng-include="\'app/modules/project/edit/available_elements.html\'"></div>'),e.put("app/modules/project/list/projects.html",'<ol class="breadcrumb"><li><span class="text-muted">YOU ARE HERE</span></li><li class="active">Projects</li></ol><div class="panel panel-default"><div class="row"><div class="col-md-12 col-xs-12"><div class="panel-heading bg-primary"><button type="button" class="btn btn-sm btn-default pull-right mt-xs" ui-sref="app.editProject({id: null})">Create new project</button><div class="pull-right col-md-8 col-xs-4 mt-xs"><input ng-model="searchProject" class="form-control input-sm" type="search" placeholder="Search for a service..."></div><h4 class="widget-title text-white">Projects</h4></div><widget class="table-responsive"><table class="table table-hover col-md-12 col-xs-12"><thead><tr><th>Title</th><th>Last updated</th><th>Elements</th><th></th></tr></thead><tbody><tr ng-repeat="project in vm.projects | filter:searchProject | orderBy:vm.projects.date" ui-sref="app.editProject({id: project.id})"><td class="col-md-2 col-xs-1">{{project.title}}</td><td class="col-md-2 col-xs-1"><span>{{project.date | date: \'short\'}}</span></td><td class="col-md-1 col-xs-1"><element ng-repeat="element in project.elements track by $index"><i class="fa fa-long-arrow-right fa-lg" style="vertical-align: middle;" ng-show="$index != 0"></i><element class="element model-element">{{element.modelElement}}</element></element></td><td class="text-right col-md-1 col-xs-1"><div class="btn-group inline"><button type="button" class="btn btn-default" ui-sref="app.editProject({id: project.id})"><i class="fa fa-pencil-square-o" title="Edit" aria-hidden="true"></i></button> <button type="button" class="btn btn-danger outline" ng-click="vm.delete(project)"><i class="fa fa-trash-o" title="Delete" aria-hidden="true"></i></button></div></td></tr></tbody></table></widget></div></div></div>')}]);