/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
/*!
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */
if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e="length"in t&&t.length,i=Z.type(t);return"function"===i||Z.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(Z.isFunction(e))return Z.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return Z.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(ae.test(e))return Z.filter(e,t,i);e=Z.filter(e,t)}return Z.grep(t,function(t){return G.call(e,t)>=0!==i})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=pe[t]={};return Z.each(t.match(de)||[],function(t,i){e[i]=!0}),e}function s(){X.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+a.uid++}function l(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(xe,"-$1").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:be.test(i)?Z.parseJSON(i):i}catch(r){}ye.set(t,e,i)}else i=void 0;return i}function h(){return!0}function u(){return!1}function c(){try{return X.activeElement}catch(t){}}function f(t,e){return Z.nodeName(t,"table")&&Z.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=Ie.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var i=0,n=t.length;n>i;i++)me.set(t[i],"globalEval",!e||me.get(e[i],"globalEval"))}function v(t,e){var i,n,r,o,s,a,l,h;if(1===e.nodeType){if(me.hasData(t)&&(o=me.access(t),s=me.set(e,o),h=o.events)){delete s.handle,s.events={};for(r in h)for(i=0,n=h[r].length;n>i;i++)Z.event.add(e,r,h[r][i])}ye.hasData(t)&&(a=ye.access(t),l=Z.extend({},a),ye.set(e,l))}}function m(t,e){var i=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Z.nodeName(t,e)?Z.merge([t],i):i}function y(t,e){var i=e.nodeName.toLowerCase();"input"===i&&$e.test(t.type)?e.checked=t.checked:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}function b(e,i){var n,r=Z(i.createElement(e)).appendTo(i.body),o=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(r[0]))?n.display:Z.css(r[0],"display");return r.detach(),o}function x(t){var e=X,i=qe[t];return i||(i=b(t,e),"none"!==i&&i||(ze=(ze||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=ze[0].contentDocument,e.write(),e.close(),i=b(t,e),ze.detach()),qe[t]=i),i}function w(t,e,i){var n,r,o,s,a=t.style;return i=i||Be(t),i&&(s=i.getPropertyValue(e)||i[e]),i&&(""!==s||Z.contains(t.ownerDocument,t)||(s=Z.style(t,e)),He.test(s)&&Re.test(e)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function k(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function T(t,e){if(e in t)return e;for(var i=e[0].toUpperCase()+e.slice(1),n=e,r=Ye.length;r--;)if(e=Ye[r]+i,e in t)return e;return n}function $(t,e,i){var n=Ue.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function C(t,e,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===i&&(s+=Z.css(t,i+ke[o],!0,r)),n?("content"===i&&(s-=Z.css(t,"padding"+ke[o],!0,r)),"margin"!==i&&(s-=Z.css(t,"border"+ke[o]+"Width",!0,r))):(s+=Z.css(t,"padding"+ke[o],!0,r),"padding"!==i&&(s+=Z.css(t,"border"+ke[o]+"Width",!0,r)));return s}function M(t,e,i){var n=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Be(t),s="border-box"===Z.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=w(t,e,o),(0>r||null==r)&&(r=t.style[e]),He.test(r))return r;n=s&&(J.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+C(t,e,i||(s?"border":"content"),n,o)+"px"}function S(t,e){for(var i,n,r,o=[],s=0,a=t.length;a>s;s++)n=t[s],n.style&&(o[s]=me.get(n,"olddisplay"),i=n.style.display,e?(o[s]||"none"!==i||(n.style.display=""),""===n.style.display&&Te(n)&&(o[s]=me.access(n,"olddisplay",x(n.nodeName)))):(r=Te(n),"none"===i&&r||me.set(n,"olddisplay",r?i:Z.css(n,"display"))));for(s=0;a>s;s++)n=t[s],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[s]||"":"none"));return t}function P(t,e,i,n,r){return new P.prototype.init(t,e,i,n,r)}function D(){return setTimeout(function(){Je=void 0}),Je=Z.now()}function A(t,e){var i,n=0,r={height:t};for(e=e?1:0;4>n;n+=2-e)i=ke[n],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function E(t,e,i){for(var n,r=(ii[e]||[]).concat(ii["*"]),o=0,s=r.length;s>o;o++)if(n=r[o].call(i,e,t))return n}function N(t,e,i){var n,r,o,s,a,l,h,u,c=this,f={},d=t.style,p=t.nodeType&&Te(t),g=me.get(t,"fxshow");i.queue||(a=Z._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,Z.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],h=Z.css(t,"display"),u="none"===h?me.get(t,"olddisplay")||x(t.nodeName):h,"inline"===u&&"none"===Z.css(t,"float")&&(d.display="inline-block")),i.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(n in e)if(r=e[n],Qe.exec(r)){if(delete e[n],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue;p=!0}f[n]=g&&g[n]||Z.style(t,n)}else h=void 0;if(Z.isEmptyObject(f))"inline"===("none"===h?x(t.nodeName):h)&&(d.display=h);else{g?"hidden"in g&&(p=g.hidden):g=me.access(t,"fxshow",{}),o&&(g.hidden=!p),p?Z(t).show():c.done(function(){Z(t).hide()}),c.done(function(){var e;me.remove(t,"fxshow");for(e in f)Z.style(t,e,f[e])});for(n in f)s=E(p?g[n]:0,n,c),n in g||(g[n]=s.start,p&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function _(t,e){var i,n,r,o,s;for(i in t)if(n=Z.camelCase(i),r=e[n],o=t[i],Z.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),s=Z.cssHooks[n],s&&"expand"in s){o=s.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=r)}else e[n]=r}function j(t,e,i){var n,r,o=0,s=ei.length,a=Z.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Je||D(),i=Math.max(0,h.startTime+h.duration-e),n=i/h.duration||0,o=1-n,s=0,l=h.tweens.length;l>s;s++)h.tweens[s].run(o);return a.notifyWith(t,[h,o,i]),1>o&&l?i:(a.resolveWith(t,[h]),!1)},h=a.promise({elem:t,props:Z.extend({},e),opts:Z.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Je||D(),duration:i.duration,tweens:[],createTween:function(e,i){var n=Z.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(n),n},stop:function(e){var i=0,n=e?h.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)h.tweens[i].run(1);return e?a.resolveWith(t,[h,e]):a.rejectWith(t,[h,e]),this}}),u=h.props;for(_(u,h.opts.specialEasing);s>o;o++)if(n=ei[o].call(h,t,u,h.opts))return n;return Z.map(u,E,h),Z.isFunction(h.opts.start)&&h.opts.start.call(t,h),Z.fx.timer(Z.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function O(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(de)||[];if(Z.isFunction(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function I(t,e,i,n){function r(a){var l;return o[a]=!0,Z.each(t[a]||[],function(t,a){var h=a(e,i,n);return"string"!=typeof h||s||o[h]?s?!(l=h):void 0:(e.dataTypes.unshift(h),r(h),!1)}),l}var o={},s=t===bi;return r(e.dataTypes[0])||!o["*"]&&r("*")}function L(t,e){var i,n,r=Z.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&Z.extend(!0,t,n),t}function F(t,e,i){for(var n,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function z(t,e,i,n){var r,o,s,a,l,h={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)h[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=h[l+" "+o]||h["* "+o],!s)for(r in h)if(a=r.split(" "),a[1]===o&&(s=h[l+" "+a[0]]||h["* "+a[0]])){s===!0?s=h[r]:h[r]!==!0&&(o=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(c){return{state:"parsererror",error:s?c:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function q(t,e,i,n){var r;if(Z.isArray(e))Z.each(e,function(e,r){i||$i.test(t)?n(t,r):q(t+"["+("object"==typeof r?e:"")+"]",r,i,n)});else if(i||"object"!==Z.type(e))n(t,e);else for(r in e)q(t+"["+r+"]",e[r],i,n)}function R(t){return Z.isWindow(t)?t:9===t.nodeType&&t.defaultView}var H=[],B=H.slice,V=H.concat,U=H.push,G=H.indexOf,W={},K=W.toString,Y=W.hasOwnProperty,J={},X=t.document,Q="2.1.4",Z=function(t,e){return new Z.fn.init(t,e)},te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ee=/^-ms-/,ie=/-([\da-z])/gi,ne=function(t,e){return e.toUpperCase()};Z.fn=Z.prototype={jquery:Q,constructor:Z,selector:"",length:0,toArray:function(){return B.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:B.call(this)},pushStack:function(t){var e=Z.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Z.each(this,t,e)},map:function(t){return this.pushStack(Z.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(B.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:H.sort,splice:H.splice},Z.extend=Z.fn.extend=function(){var t,e,i,n,r,o,s=arguments[0]||{},a=1,l=arguments.length,h=!1;for("boolean"==typeof s&&(h=s,s=arguments[a]||{},a++),"object"==typeof s||Z.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],n=t[e],s!==n&&(h&&n&&(Z.isPlainObject(n)||(r=Z.isArray(n)))?(r?(r=!1,o=i&&Z.isArray(i)?i:[]):o=i&&Z.isPlainObject(i)?i:{},s[e]=Z.extend(h,o,n)):void 0!==n&&(s[e]=n));return s},Z.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Z.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Z.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==Z.type(t)||t.nodeType||Z.isWindow(t)?!1:t.constructor&&!Y.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?W[K.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;t=Z.trim(t),t&&(1===t.indexOf("use strict")?(e=X.createElement("script"),e.text=t,X.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(ee,"ms-").replace(ie,ne)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var r,o=0,s=t.length,a=i(t);if(n){if(a)for(;s>o&&(r=e.apply(t[o],n),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],n),r===!1)break}else if(a)for(;s>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(te,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?Z.merge(n,"string"==typeof t?[t]:t):U.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:G.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;i>n;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n,r=[],o=0,s=t.length,a=!i;s>o;o++)n=!e(t[o],o),n!==a&&r.push(t[o]);return r},map:function(t,e,n){var r,o=0,s=t.length,a=i(t),l=[];if(a)for(;s>o;o++)r=e(t[o],o,n),null!=r&&l.push(r);else for(o in t)r=e(t[o],o,n),null!=r&&l.push(r);return V.apply([],l)},guid:1,proxy:function(t,e){var i,n,r;return"string"==typeof e&&(i=t[e],e=t,t=i),Z.isFunction(t)?(n=B.call(arguments,2),r=function(){return t.apply(e||this,n.concat(B.call(arguments)))},r.guid=t.guid=t.guid||Z.guid++,r):void 0},now:Date.now,support:J}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){W["[object "+e+"]"]=e.toLowerCase()});var re=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(t){function e(t,e,i,n){var r,o,s,a,l,h,c,d,p,g;if((e?e.ownerDocument||e:q)!==N&&E(e),e=e||N,i=i||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return i;if(!n&&j){if(11!==a&&(r=ye.exec(t)))if(s=r[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return i;if(o.id===s)return i.push(o),i}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&F(e,o)&&o.id===s)return i.push(o),i}else{if(r[2])return Q.apply(i,e.getElementsByTagName(t)),i;if((s=r[3])&&w.getElementsByClassName)return Q.apply(i,e.getElementsByClassName(s)),i}if(w.qsa&&(!O||!O.test(t))){if(d=c=z,p=e,g=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(h=C(t),(c=e.getAttribute("id"))?d=c.replace(xe,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=h.length;l--;)h[l]=d+f(h[l]);p=be.test(t)&&u(e.parentNode)||e,g=h.join(",")}if(g)try{return Q.apply(i,p.querySelectorAll(g)),i}catch(v){}finally{c||e.removeAttribute("id")}}}return S(t.replace(le,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>k.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[z]=!0,t}function r(t){var e=N.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=t.length;n--;)k.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||W)-(~t.sourceIndex||W);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function h(t){return n(function(e){return e=+e,n(function(i,n){for(var r,o=t([],i.length,e),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function c(){}function f(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function d(t,e,i){var n=e.dir,r=i&&"parentNode"===n,o=H++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,o)}:function(e,i,s){var a,l,h=[R,o];if(s){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||r){if(l=e[z]||(e[z]={}),(a=l[n])&&a[0]===R&&a[1]===o)return h[2]=a[2];if(l[n]=h,h[2]=t(e,i,s))return!0}}}function p(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function g(t,i,n){for(var r=0,o=i.length;o>r;r++)e(t,i[r],n);return n}function v(t,e,i,n,r){for(var o,s=[],a=0,l=t.length,h=null!=e;l>a;a++)(o=t[a])&&(!i||i(o,n,r))&&(s.push(o),h&&e.push(a));return s}function m(t,e,i,r,o,s){return r&&!r[z]&&(r=m(r)),o&&!o[z]&&(o=m(o,s)),n(function(n,s,a,l){var h,u,c,f=[],d=[],p=s.length,m=n||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?m:v(m,f,t,a,l),b=i?o||(n?t:p||r)?[]:s:y;if(i&&i(y,b,a,l),r)for(h=v(b,d),r(h,[],a,l),u=h.length;u--;)(c=h[u])&&(b[d[u]]=!(y[d[u]]=c));if(n){if(o||t){if(o){for(h=[],u=b.length;u--;)(c=b[u])&&h.push(y[u]=c);o(null,b=[],h,l)}for(u=b.length;u--;)(c=b[u])&&(h=o?te(n,c):f[u])>-1&&(n[h]=!(s[h]=c))}}else b=v(b===s?b.splice(p,b.length):b),o?o(null,s,b,l):Q.apply(s,b)})}function y(t){for(var e,i,n,r=t.length,o=k.relative[t[0].type],s=o||k.relative[" "],a=o?1:0,l=d(function(t){return t===e},s,!0),h=d(function(t){return te(e,t)>-1},s,!0),u=[function(t,i,n){var r=!o&&(n||i!==P)||((e=i).nodeType?l(t,i,n):h(t,i,n));return e=null,r}];r>a;a++)if(i=k.relative[t[a].type])u=[d(p(u),i)];else{if(i=k.filter[t[a].type].apply(null,t[a].matches),i[z]){for(n=++a;r>n&&!k.relative[t[n].type];n++);return m(a>1&&p(u),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(le,"$1"),i,n>a&&y(t.slice(a,n)),r>n&&y(t=t.slice(n)),r>n&&f(t))}u.push(i)}return p(u)}function b(t,i){var r=i.length>0,o=t.length>0,s=function(n,s,a,l,h){var u,c,f,d=0,p="0",g=n&&[],m=[],y=P,b=n||o&&k.find.TAG("*",h),x=R+=null==y?1:Math.random()||.1,w=b.length;for(h&&(P=s!==N&&s);p!==w&&null!=(u=b[p]);p++){if(o&&u){for(c=0;f=t[c++];)if(f(u,s,a)){l.push(u);break}h&&(R=x)}r&&((u=!f&&u)&&d--,n&&g.push(u))}if(d+=p,r&&p!==d){for(c=0;f=i[c++];)f(g,m,s,a);if(n){if(d>0)for(;p--;)g[p]||m[p]||(m[p]=J.call(l));m=v(m)}Q.apply(l,m),h&&!n&&m.length>0&&d+i.length>1&&e.uniqueSort(l)}return h&&(R=x,P=y),g};return r?n(s):s}var x,w,k,T,$,C,M,S,P,D,A,E,N,_,j,O,I,L,F,z="sizzle"+1*new Date,q=t.document,R=0,H=0,B=i(),V=i(),U=i(),G=function(t,e){return t===e&&(A=!0),0},W=1<<31,K={}.hasOwnProperty,Y=[],J=Y.pop,X=Y.push,Q=Y.push,Z=Y.slice,te=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ne.replace("w","w#"),oe="\\["+ie+"*("+ne+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ie+"*\\]",se=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ie+"+","g"),le=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),he=new RegExp("^"+ie+"*,"+ie+"*"),ue=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),ce=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),fe=new RegExp(se),de=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,ve=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),ke=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Te=function(){E()};try{Q.apply(Y=Z.call(q.childNodes),q.childNodes),Y[q.childNodes.length].nodeType}catch($e){Q={apply:Y.length?function(t,e){X.apply(t,Z.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}w=e.support={},$=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},E=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:q;return n!==N&&9===n.nodeType&&n.documentElement?(N=n,_=n.documentElement,i=n.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",Te,!1):i.attachEvent&&i.attachEvent("onunload",Te)),j=!$(n),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=me.test(n.getElementsByClassName),w.getById=r(function(t){return _.appendChild(t).id=z,!n.getElementsByName||!n.getElementsByName(z).length}),w.getById?(k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&j){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},k.filter.ID=function(t){var e=t.replace(we,ke);return function(t){return t.getAttribute("id")===e}}):(delete k.find.ID,k.filter.ID=function(t){var e=t.replace(we,ke);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),k.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},k.find.CLASS=w.getElementsByClassName&&function(t,e){return j?e.getElementsByClassName(t):void 0},I=[],O=[],(w.qsa=me.test(n.querySelectorAll))&&(r(function(t){_.appendChild(t).innerHTML="<a id='"+z+"'></a><select id='"+z+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+ie+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||O.push("\\["+ie+"*(?:value|"+ee+")"),t.querySelectorAll("[id~="+z+"-]").length||O.push("~="),t.querySelectorAll(":checked").length||O.push(":checked"),t.querySelectorAll("a#"+z+"+*").length||O.push(".#.+[+~]")}),r(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&O.push("name"+ie+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(w.matchesSelector=me.test(L=_.matches||_.webkitMatchesSelector||_.mozMatchesSelector||_.oMatchesSelector||_.msMatchesSelector))&&r(function(t){w.disconnectedMatch=L.call(t,"div"),L.call(t,"[s!='']:x"),I.push("!=",se)}),O=O.length&&new RegExp(O.join("|")),I=I.length&&new RegExp(I.join("|")),e=me.test(_.compareDocumentPosition),F=e||me.test(_.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=e?function(t,e){if(t===e)return A=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!w.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===q&&F(q,t)?-1:e===n||e.ownerDocument===q&&F(q,e)?1:D?te(D,t)-te(D,e):0:4&i?-1:1)}:function(t,e){if(t===e)return A=!0,0;var i,r=0,o=t.parentNode,a=e.parentNode,l=[t],h=[e];if(!o||!a)return t===n?-1:e===n?1:o?-1:a?1:D?te(D,t)-te(D,e):0;if(o===a)return s(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)h.unshift(i);for(;l[r]===h[r];)r++;return r?s(l[r],h[r]):l[r]===q?-1:h[r]===q?1:0},n):N},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==N&&E(t),i=i.replace(ce,"='$1']"),!(!w.matchesSelector||!j||I&&I.test(i)||O&&O.test(i)))try{var n=L.call(t,i);if(n||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(r){}return e(i,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&E(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==N&&E(t);var i=k.attrHandle[e.toLowerCase()],n=i&&K.call(k.attrHandle,e.toLowerCase())?i(t,e,!j):void 0;return void 0!==n?n:w.attributes||!j?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(A=!w.detectDuplicates,D=!w.sortStable&&t.slice(0),t.sort(G),A){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return D=null,t},T=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=T(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=T(e);return i},k=e.selectors={cacheLength:50,createPseudo:n,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(we,ke),t[3]=(t[3]||t[4]||t[5]||"").replace(we,ke),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return pe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&fe.test(i)&&(e=C(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(we,ke).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=B[t+" "];return e||(e=new RegExp("(^|"+ie+")"+t+"("+ie+"|$)"))&&B(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var o=e.attr(r,t);return null==o?"!="===i:i?(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(ae," ")+" ").indexOf(n)>-1:"|="===i?o===n||o.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var h,u,c,f,d,p,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(v){if(o){for(;g;){for(c=e;c=c[g];)if(a?c.nodeName.toLowerCase()===m:1===c.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?v.firstChild:v.lastChild],s&&y){for(u=v[z]||(v[z]={}),h=u[t]||[],d=h[0]===R&&h[1],f=h[0]===R&&h[2],c=d&&v.childNodes[d];c=++d&&c&&c[g]||(f=d=0)||p.pop();)if(1===c.nodeType&&++f&&c===e){u[t]=[R,d,f];break}}else if(y&&(h=(e[z]||(e[z]={}))[t])&&h[0]===R)f=h[1];else for(;(c=++d&&c&&c[g]||(f=d=0)||p.pop())&&((a?c.nodeName.toLowerCase()!==m:1!==c.nodeType)||!++f||(y&&((c[z]||(c[z]={}))[t]=[R,f]),c!==e)););return f-=r,f===n||f%n===0&&f/n>=0}}},PSEUDO:function(t,i){var r,o=k.pseudos[t]||k.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[z]?o(i):o.length>1?(r=[t,t,"",i],k.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=o(t,i),s=r.length;s--;)n=te(t,r[s]),t[n]=!(e[n]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:n(function(t){var e=[],i=[],r=M(t.replace(le,"$1"));return r[z]?n(function(t,e,i,n){for(var o,s=r(t,null,n,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,n,o){return e[0]=t,r(e,null,o,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(we,ke),function(e){return(e.textContent||e.innerText||T(e)).indexOf(t)>-1}}),lang:n(function(t){return de.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(we,ke).toLowerCase(),function(e){var i;do if(i=j?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===_},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return ve.test(t.nodeName)},input:function(t){return ge.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,i){return[0>i?i+e:i]}),even:h(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:h(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:h(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:h(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},k.pseudos.nth=k.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})k.pseudos[x]=l(x);return c.prototype=k.filters=k.pseudos,k.setFilters=new c,C=e.tokenize=function(t,i){var n,r,o,s,a,l,h,u=V[t+" "];if(u)return i?0:u.slice(0);for(a=t,l=[],h=k.preFilter;a;){(!n||(r=he.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=ue.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(le," ")}),a=a.slice(n.length));for(s in k.filter)!(r=pe[s].exec(a))||h[s]&&!(r=h[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):V(t,l).slice(0)},M=e.compile=function(t,e){var i,n=[],r=[],o=U[t+" "];if(!o){for(e||(e=C(t)),i=e.length;i--;)o=y(e[i]),o[z]?n.push(o):r.push(o);o=U(t,b(r,n)),o.selector=t}return o},S=e.select=function(t,e,i,n){var r,o,s,a,l,h="function"==typeof t&&t,c=!n&&C(t=h.selector||t);if(i=i||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&j&&k.relative[o[1].type]){if(e=(k.find.ID(s.matches[0].replace(we,ke),e)||[])[0],!e)return i;h&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pe.needsContext.test(t)?0:o.length;r--&&(s=o[r],!k.relative[a=s.type]);)if((l=k.find[a])&&(n=l(s.matches[0].replace(we,ke),be.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(r,1),t=n.length&&f(o),!t)return Q.apply(i,n),i;break}}return(h||M(t,c))(n,e,!j,i,be.test(t)&&u(e.parentNode)||e),i},w.sortStable=z.split("").sort(G).join("")===z,w.detectDuplicates=!!A,E(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(ee,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);Z.find=re,Z.expr=re.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=re.uniqueSort,Z.text=re.getText,Z.isXMLDoc=re.isXML,Z.contains=re.contains;var oe=Z.expr.match.needsContext,se=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/^.[^:#\[\.,]*$/;Z.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?Z.find.matchesSelector(n,t)?[n]:[]:Z.find.matches(t,Z.grep(e,function(t){return 1===t.nodeType}))},Z.fn.extend({find:function(t){var e,i=this.length,n=[],r=this;if("string"!=typeof t)return this.pushStack(Z(t).filter(function(){for(e=0;i>e;e++)if(Z.contains(r[e],this))return!0}));for(e=0;i>e;e++)Z.find(t,r[e],n);return n=this.pushStack(i>1?Z.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&oe.test(t)?Z(t):t||[],!1).length}});var le,he=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ue=Z.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:he.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||le).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof Z?e[0]:e,Z.merge(this,Z.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:X,!0)),se.test(i[1])&&Z.isPlainObject(e))for(i in e)Z.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return n=X.getElementById(i[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=X,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Z.isFunction(t)?"undefined"!=typeof le.ready?le.ready(t):t(Z):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Z.makeArray(t,this))};ue.prototype=Z.fn,le=Z(X);var ce=/^(?:parents|prev(?:Until|All))/,fe={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&Z(t).is(i))break;n.push(t)}return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),Z.fn.extend({has:function(t){var e=Z(t,this),i=e.length;return this.filter(function(){for(var t=0;i>t;t++)if(Z.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,r=this.length,o=[],s=oe.test(t)||"string"!=typeof t?Z(t,e||this.context):0;r>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&Z.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(t){return t?"string"==typeof t?G.call(Z(t),this[0]):G.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Z.unique(Z.merge(this.get(),Z(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Z.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Z.dir(t,"parentNode")},parentsUntil:function(t,e,i){return Z.dir(t,"parentNode",i)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return Z.dir(t,"nextSibling")},prevAll:function(t){return Z.dir(t,"previousSibling")},nextUntil:function(t,e,i){return Z.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return Z.dir(t,"previousSibling",i)},siblings:function(t){return Z.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Z.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Z.merge([],t.childNodes)}},function(t,e){Z.fn[t]=function(i,n){var r=Z.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=Z.filter(n,r)),this.length>1&&(fe[t]||Z.unique(r),ce.test(t)&&r.reverse()),this.pushStack(r)}});var de=/\S+/g,pe={};Z.Callbacks=function(t){t="string"==typeof t?pe[t]||o(t):Z.extend({},t);var e,i,n,r,s,a,l=[],h=!t.once&&[],u=function(o){for(e=t.memory&&o,i=!0,a=r||0,r=0,s=l.length,n=!0;l&&s>a;a++)if(l[a].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}n=!1,l&&(h?h.length&&u(h.shift()):e?l=[]:c.disable())},c={add:function(){if(l){var i=l.length;!function o(e){Z.each(e,function(e,i){var n=Z.type(i);"function"===n?t.unique&&c.has(i)||l.push(i):i&&i.length&&"string"!==n&&o(i)})}(arguments),n?s=l.length:e&&(r=i,u(e))}return this},remove:function(){return l&&Z.each(arguments,function(t,e){for(var i;(i=Z.inArray(e,l,i))>-1;)l.splice(i,1),n&&(s>=i&&s--,a>=i&&a--)}),this},has:function(t){return t?Z.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=h=e=void 0,this},disabled:function(){return!l},lock:function(){return h=void 0,e||c.disable(),this},locked:function(){return!h},fireWith:function(t,e){return!l||i&&!h||(e=e||[],e=[t,e.slice?e.slice():e],n?h.push(e):u(e)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},Z.extend({Deferred:function(t){var e=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Z.Deferred(function(i){Z.each(e,function(e,o){var s=Z.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&Z.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===n?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Z.extend(t,n):n}},r={};return n.pipe=n.then,Z.each(e,function(t,o){var s=o[2],a=o[3];n[o[1]]=s.add,a&&s.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=s.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,o=B.call(arguments),s=o.length,a=1!==s||t&&Z.isFunction(t.promise)?s:0,l=1===a?t:Z.Deferred(),h=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?B.call(arguments):r,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);s>r;r++)o[r]&&Z.isFunction(o[r].promise)?o[r].promise().done(h(r,n,o)).fail(l.reject).progress(h(r,i,e)):--a;return a||l.resolveWith(n,o),l.promise()}});var ge;Z.fn.ready=function(t){return Z.ready.promise().done(t),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Z.readyWait++:Z.ready(!0)},ready:function(t){(t===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,t!==!0&&--Z.readyWait>0||(ge.resolveWith(X,[Z]),Z.fn.triggerHandler&&(Z(X).triggerHandler("ready"),Z(X).off("ready"))))}}),Z.ready.promise=function(e){return ge||(ge=Z.Deferred(),"complete"===X.readyState?setTimeout(Z.ready):(X.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1))),ge.promise(e)},Z.ready.promise();var ve=Z.access=function(t,e,i,n,r,o,s){var a=0,l=t.length,h=null==i;if("object"===Z.type(i)){r=!0;for(a in i)Z.access(t,e,a,i[a],!0,o,s)}else if(void 0!==n&&(r=!0,Z.isFunction(n)||(s=!0),h&&(s?(e.call(t,n),e=null):(h=e,e=function(t,e,i){return h.call(Z(t),i)})),e))for(;l>a;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return r?t:h?e.call(t):l?e(t[0],i):o};Z.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0;var e={},i=t[this.expando];if(!i){i=a.uid++;try{e[this.expando]={value:i},Object.defineProperties(t,e)}catch(n){e[this.expando]=i,Z.extend(t,e)}}return this.cache[i]||(this.cache[i]={}),i},set:function(t,e,i){var n,r=this.key(t),o=this.cache[r];if("string"==typeof e)o[e]=i;else if(Z.isEmptyObject(o))Z.extend(this.cache[r],e);else for(n in e)o[n]=e[n];return o},get:function(t,e){var i=this.cache[this.key(t)];return void 0===e?i:i[e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?(n=this.get(t,e),void 0!==n?n:this.get(t,Z.camelCase(e))):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,r,o=this.key(t),s=this.cache[o];if(void 0===e)this.cache[o]={};else{Z.isArray(e)?n=e.concat(e.map(Z.camelCase)):(r=Z.camelCase(e),e in s?n=[e,r]:(n=r,n=n in s?[n]:n.match(de)||[])),i=n.length;for(;i--;)delete s[n[i]]}},hasData:function(t){return!Z.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var me=new a,ye=new a,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;Z.extend({hasData:function(t){return ye.hasData(t)||me.hasData(t)},data:function(t,e,i){return ye.access(t,e,i)},removeData:function(t,e){ye.remove(t,e)},_data:function(t,e,i){return me.access(t,e,i)},_removeData:function(t,e){me.remove(t,e)}}),Z.fn.extend({data:function(t,e){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=ye.get(o),1===o.nodeType&&!me.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=Z.camelCase(n.slice(5)),l(o,n,r[n])));me.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){ye.set(this,t)}):ve(this,function(e){var i,n=Z.camelCase(t);if(o&&void 0===e){if(i=ye.get(o,t),void 0!==i)return i;if(i=ye.get(o,n),void 0!==i)return i;if(i=l(o,n,void 0),void 0!==i)return i}else this.each(function(){var i=ye.get(this,n);ye.set(this,n,e),-1!==t.indexOf("-")&&void 0!==i&&ye.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){ye.remove(this,t)})}}),Z.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=me.get(t,e),i&&(!n||Z.isArray(i)?n=me.access(t,e,Z.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=Z.queue(t,e),n=i.length,r=i.shift(),o=Z._queueHooks(t,e),s=function(){Z.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return me.get(t,i)||me.access(t,i,{empty:Z.Callbacks("once memory").add(function(){me.remove(t,[e+"queue",i])})})}}),Z.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?Z.queue(this[0],t):void 0===e?this:this.each(function(){var i=Z.queue(this,t,e);Z._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&Z.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Z.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=Z.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)i=me.get(o[s],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ke=["Top","Right","Bottom","Left"],Te=function(t,e){return t=e||t,"none"===Z.css(t,"display")||!Z.contains(t.ownerDocument,t)},$e=/^(?:checkbox|radio)$/i;!function(){var t=X.createDocumentFragment(),e=t.appendChild(X.createElement("div")),i=X.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),J.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ce="undefined";J.focusinBubbles="onfocusin"in t;var Me=/^key/,Se=/^(?:mouse|pointer|contextmenu)|click/,Pe=/^(?:focusinfocus|focusoutblur)$/,De=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(t,e,i,n,r){var o,s,a,l,h,u,c,f,d,p,g,v=me.get(t);if(v)for(i.handler&&(o=i,i=o.handler,r=o.selector),i.guid||(i.guid=Z.guid++),(l=v.events)||(l=v.events={}),(s=v.handle)||(s=v.handle=function(e){return typeof Z!==Ce&&Z.event.triggered!==e.type?Z.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(de)||[""],h=e.length;h--;)a=De.exec(e[h])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d&&(c=Z.event.special[d]||{},d=(r?c.delegateType:c.bindType)||d,c=Z.event.special[d]||{},u=Z.extend({type:d,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&Z.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=l[d])||(f=l[d]=[],f.delegateCount=0,c.setup&&c.setup.call(t,n,p,s)!==!1||t.addEventListener&&t.addEventListener(d,s,!1)),c.add&&(c.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),r?f.splice(f.delegateCount++,0,u):f.push(u),Z.event.global[d]=!0)},remove:function(t,e,i,n,r){var o,s,a,l,h,u,c,f,d,p,g,v=me.hasData(t)&&me.get(t);if(v&&(l=v.events)){for(e=(e||"").match(de)||[""],h=e.length;h--;)if(a=De.exec(e[h])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d){for(c=Z.event.special[d]||{},d=(n?c.delegateType:c.bindType)||d,f=l[d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)u=f[o],!r&&g!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,c.remove&&c.remove.call(t,u));s&&!f.length&&(c.teardown&&c.teardown.call(t,p,v.handle)!==!1||Z.removeEvent(t,d,v.handle),delete l[d])}else for(d in l)Z.event.remove(t,d+e[h],i,n,!0);Z.isEmptyObject(l)&&(delete v.handle,me.remove(t,"events"))}},trigger:function(e,i,n,r){var o,s,a,l,h,u,c,f=[n||X],d=Y.call(e,"type")?e.type:e,p=Y.call(e,"namespace")?e.namespace.split("."):[];if(s=a=n=n||X,3!==n.nodeType&&8!==n.nodeType&&!Pe.test(d+Z.event.triggered)&&(d.indexOf(".")>=0&&(p=d.split("."),d=p.shift(),p.sort()),h=d.indexOf(":")<0&&"on"+d,e=e[Z.expando]?e:new Z.Event(d,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:Z.makeArray(i,[e]),c=Z.event.special[d]||{},r||!c.trigger||c.trigger.apply(n,i)!==!1)){if(!r&&!c.noBubble&&!Z.isWindow(n)){for(l=c.delegateType||d,Pe.test(l+d)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;
a===(n.ownerDocument||X)&&f.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=f[o++])&&!e.isPropagationStopped();)e.type=o>1?l:c.bindType||d,u=(me.get(s,"events")||{})[e.type]&&me.get(s,"handle"),u&&u.apply(s,i),u=h&&s[h],u&&u.apply&&Z.acceptData(s)&&(e.result=u.apply(s,i),e.result===!1&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&c._default.apply(f.pop(),i)!==!1||!Z.acceptData(n)||h&&Z.isFunction(n[d])&&!Z.isWindow(n)&&(a=n[h],a&&(n[h]=null),Z.event.triggered=d,n[d](),Z.event.triggered=void 0,a&&(n[h]=a)),e.result}},dispatch:function(t){t=Z.event.fix(t);var e,i,n,r,o,s=[],a=B.call(arguments),l=(me.get(this,"events")||{})[t.type]||[],h=Z.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,t)!==!1){for(s=Z.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,n=((Z.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==t.type){for(n=[],i=0;a>i;i++)o=e[i],r=o.selector+" ",void 0===n[r]&&(n[r]=o.needsContext?Z(r,this).index(l)>=0:Z.find(r,this,null,[l]).length),n[r]&&n.push(o);n.length&&s.push({elem:l,handlers:n})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||X,n=i.documentElement,r=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Z.expando])return t;var e,i,n,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Se.test(r)?this.mouseHooks:Me.test(r)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new Z.Event(o),e=n.length;e--;)i=n[e],t[i]=o[i];return t.target||(t.target=X),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==c()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Z.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var r=Z.extend(new Z.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?Z.event.trigger(r,null,e):Z.event.dispatch.call(e,r),r.isDefaultPrevented()&&i.preventDefault()}},Z.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)},Z.Event=function(t,e){return this instanceof Z.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?h:u):this.type=t,e&&Z.extend(this,e),this.timeStamp=t&&t.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(t,e)},Z.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=h,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Z.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==n&&!Z.contains(n,r))&&(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),J.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){Z.event.simulate(e,t.target,Z.event.fix(t),!0)};Z.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=me.access(n,e);r||n.addEventListener(t,i,!0),me.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=me.access(n,e)-1;r?me.access(n,e,r):(n.removeEventListener(t,i,!0),me.remove(n,e))}}}),Z.fn.extend({on:function(t,e,i,n,r){var o,s;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(s in t)this.on(s,e,i,t[s],r);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),n===!1)n=u;else if(!n)return this;return 1===r&&(o=n,n=function(t){return Z().off(t),o.apply(this,arguments)},n.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,Z(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=u),this.each(function(){Z.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){Z.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?Z.event.trigger(t,e,i,!0):void 0}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ee=/<([\w:]+)/,Ne=/<|&#?\w+;/,_e=/<(?:script|style|link)/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^$|\/(?:java|ecma)script/i,Ie=/^true\/(.*)/,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Fe.optgroup=Fe.option,Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td,Z.extend({clone:function(t,e,i){var n,r,o,s,a=t.cloneNode(!0),l=Z.contains(t.ownerDocument,t);if(!(J.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Z.isXMLDoc(t)))for(s=m(a),o=m(t),n=0,r=o.length;r>n;n++)y(o[n],s[n]);if(e)if(i)for(o=o||m(t),s=s||m(a),n=0,r=o.length;r>n;n++)v(o[n],s[n]);else v(t,a);return s=m(a,"script"),s.length>0&&g(s,!l&&m(t,"script")),a},buildFragment:function(t,e,i,n){for(var r,o,s,a,l,h,u=e.createDocumentFragment(),c=[],f=0,d=t.length;d>f;f++)if(r=t[f],r||0===r)if("object"===Z.type(r))Z.merge(c,r.nodeType?[r]:r);else if(Ne.test(r)){for(o=o||u.appendChild(e.createElement("div")),s=(Ee.exec(r)||["",""])[1].toLowerCase(),a=Fe[s]||Fe._default,o.innerHTML=a[1]+r.replace(Ae,"<$1></$2>")+a[2],h=a[0];h--;)o=o.lastChild;Z.merge(c,o.childNodes),o=u.firstChild,o.textContent=""}else c.push(e.createTextNode(r));for(u.textContent="",f=0;r=c[f++];)if((!n||-1===Z.inArray(r,n))&&(l=Z.contains(r.ownerDocument,r),o=m(u.appendChild(r),"script"),l&&g(o),i))for(h=0;r=o[h++];)Oe.test(r.type||"")&&i.push(r);return u},cleanData:function(t){for(var e,i,n,r,o=Z.event.special,s=0;void 0!==(i=t[s]);s++){if(Z.acceptData(i)&&(r=i[me.expando],r&&(e=me.cache[r]))){if(e.events)for(n in e.events)o[n]?Z.event.remove(i,n):Z.removeEvent(i,n,e.handle);me.cache[r]&&delete me.cache[r]}delete ye.cache[i[ye.expando]]}}}),Z.fn.extend({text:function(t){return ve(this,function(t){return void 0===t?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?Z.filter(t,this):this,r=0;null!=(i=n[r]);r++)e||1!==i.nodeType||Z.cleanData(m(i)),i.parentNode&&(e&&Z.contains(i.ownerDocument,i)&&g(m(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Z.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Z.clone(this,t,e)})},html:function(t){return ve(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!_e.test(t)&&!Fe[(Ee.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Ae,"<$1></$2>");try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(Z.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Z.cleanData(m(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=V.apply([],t);var i,n,r,o,s,a,l=0,h=this.length,u=this,c=h-1,f=t[0],g=Z.isFunction(f);if(g||h>1&&"string"==typeof f&&!J.checkClone&&je.test(f))return this.each(function(i){var n=u.eq(i);g&&(t[0]=f.call(this,i,n.html())),n.domManip(t,e)});if(h&&(i=Z.buildFragment(t,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(r=Z.map(m(i,"script"),d),o=r.length;h>l;l++)s=i,l!==c&&(s=Z.clone(s,!0,!0),o&&Z.merge(r,m(s,"script"))),e.call(this[l],s,l);if(o)for(a=r[r.length-1].ownerDocument,Z.map(r,p),l=0;o>l;l++)s=r[l],Oe.test(s.type||"")&&!me.access(s,"globalEval")&&Z.contains(a,s)&&(s.src?Z._evalUrl&&Z._evalUrl(s.src):Z.globalEval(s.textContent.replace(Le,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Z.fn[t]=function(t){for(var i,n=[],r=Z(t),o=r.length-1,s=0;o>=s;s++)i=s===o?this:this.clone(!0),Z(r[s])[e](i),U.apply(n,i.get());return this.pushStack(n)}});var ze,qe={},Re=/^margin/,He=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),Be=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(o);var e=t.getComputedStyle(s,null);i="1%"!==e.top,n="4px"===e.width,r.removeChild(o)}var i,n,r=X.documentElement,o=X.createElement("div"),s=X.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),t.getComputedStyle&&Z.extend(J,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,i=s.appendChild(X.createElement("div"));return i.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",s.style.width="1px",r.appendChild(o),e=!parseFloat(t.getComputedStyle(i,null).marginRight),r.removeChild(o),s.removeChild(i),e}}))}(),Z.swap=function(t,e,i,n){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=i.apply(t,n||[]);for(o in e)t.style[o]=s[o];return r};var Ve=/^(none|table(?!-c[ea]).+)/,Ue=new RegExp("^("+we+")(.*)$","i"),Ge=new RegExp("^([+-])=("+we+")","i"),We={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"},Ye=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=w(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=Z.camelCase(e),l=t.style;return e=Z.cssProps[a]||(Z.cssProps[a]=T(l,a)),s=Z.cssHooks[e]||Z.cssHooks[a],void 0===i?s&&"get"in s&&void 0!==(r=s.get(t,!1,n))?r:l[e]:(o=typeof i,"string"===o&&(r=Ge.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(Z.css(t,e)),o="number"),null!=i&&i===i&&("number"!==o||Z.cssNumber[a]||(i+="px"),J.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(l[e]=i)),void 0)}},css:function(t,e,i,n){var r,o,s,a=Z.camelCase(e);return e=Z.cssProps[a]||(Z.cssProps[a]=T(t.style,a)),s=Z.cssHooks[e]||Z.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,i)),void 0===r&&(r=w(t,e,n)),"normal"===r&&e in Ke&&(r=Ke[e]),""===i||i?(o=parseFloat(r),i===!0||Z.isNumeric(o)?o||0:r):r}}),Z.each(["height","width"],function(t,e){Z.cssHooks[e]={get:function(t,i,n){return i?Ve.test(Z.css(t,"display"))&&0===t.offsetWidth?Z.swap(t,We,function(){return M(t,e,n)}):M(t,e,n):void 0},set:function(t,i,n){var r=n&&Be(t);return $(t,i,n?C(t,e,n,"border-box"===Z.css(t,"boxSizing",!1,r),r):0)}}}),Z.cssHooks.marginRight=k(J.reliableMarginRight,function(t,e){return e?Z.swap(t,{display:"inline-block"},w,[t,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(t,e){Z.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];4>n;n++)r[t+ke[n]+e]=o[n]||o[n-2]||o[0];return r}},Re.test(t)||(Z.cssHooks[t+e].set=$)}),Z.fn.extend({css:function(t,e){return ve(this,function(t,e,i){var n,r,o={},s=0;if(Z.isArray(e)){for(n=Be(t),r=e.length;r>s;s++)o[e[s]]=Z.css(t,e[s],!1,n);return o}return void 0!==i?Z.style(t,e,i):Z.css(t,e)},t,e,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Te(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=P,P.prototype={constructor:P,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(Z.cssNumber[i]?"":"px")},cur:function(){var t=P.propHooks[this.prop];return t&&t.get?t.get(this):P.propHooks._default.get(this)},run:function(t){var e,i=P.propHooks[this.prop];return this.pos=e=this.options.duration?Z.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Z.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Z.fx.step[t.prop]?Z.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Z.cssProps[t.prop]]||Z.cssHooks[t.prop])?Z.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Z.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Z.fx=P.prototype.init,Z.fx.step={};var Je,Xe,Qe=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),ti=/queueHooks$/,ei=[N],ii={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),r=Ze.exec(e),o=r&&r[3]||(Z.cssNumber[t]?"":"px"),s=(Z.cssNumber[t]||"px"!==o&&+n)&&Ze.exec(Z.css(i.elem,t)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+n||1;do a=a||".5",s/=a,Z.style(i.elem,t,s+o);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return r&&(s=i.start=+s||+n||0,i.unit=o,i.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),i}]};Z.Animation=Z.extend(j,{tweener:function(t,e){Z.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,r=t.length;r>n;n++)i=t[n],ii[i]=ii[i]||[],ii[i].unshift(e)},prefilter:function(t,e){e?ei.unshift(t):ei.push(t)}}),Z.speed=function(t,e,i){var n=t&&"object"==typeof t?Z.extend({},t):{complete:i||!i&&e||Z.isFunction(t)&&t,duration:t,easing:i&&e||e&&!Z.isFunction(e)&&e};return n.duration=Z.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Z.fx.speeds?Z.fx.speeds[n.duration]:Z.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){Z.isFunction(n.old)&&n.old.call(this),n.queue&&Z.dequeue(this,n.queue)},n},Z.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Te).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=Z.isEmptyObject(t),o=Z.speed(e,i,n),s=function(){var e=j(this,Z.extend({},t),o);(r||me.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=Z.timers,s=me.get(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&ti.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));(e||!i)&&Z.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=me.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=Z.timers,s=n?n.length:0;for(i.finish=!0,Z.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),Z.each(["toggle","show","hide"],function(t,e){var i=Z.fn[e];Z.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(A(e,!0),t,n,r)}}),Z.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Z.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),Z.timers=[],Z.fx.tick=function(){var t,e=0,i=Z.timers;for(Je=Z.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||Z.fx.stop(),Je=void 0},Z.fx.timer=function(t){Z.timers.push(t),t()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Xe||(Xe=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Xe),Xe=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(t,e){return t=Z.fx?Z.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t=X.createElement("input"),e=X.createElement("select"),i=e.appendChild(X.createElement("option"));t.type="checkbox",J.checkOn=""!==t.value,J.optSelected=i.selected,e.disabled=!0,J.optDisabled=!i.disabled,t=X.createElement("input"),t.value="t",t.type="radio",J.radioValue="t"===t.value}();var ni,ri,oi=Z.expr.attrHandle;Z.fn.extend({attr:function(t,e){return ve(this,Z.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Z.removeAttr(this,t)})}}),Z.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Ce?Z.prop(t,e,i):(1===o&&Z.isXMLDoc(t)||(e=e.toLowerCase(),n=Z.attrHooks[e]||(Z.expr.match.bool.test(e)?ri:ni)),void 0===i?n&&"get"in n&&null!==(r=n.get(t,e))?r:(r=Z.find.attr(t,e),null==r?void 0:r):null!==i?n&&"set"in n&&void 0!==(r=n.set(t,i,e))?r:(t.setAttribute(e,i+""),i):void Z.removeAttr(t,e))},removeAttr:function(t,e){var i,n,r=0,o=e&&e.match(de);if(o&&1===t.nodeType)for(;i=o[r++];)n=Z.propFix[i]||i,Z.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)},attrHooks:{type:{set:function(t,e){if(!J.radioValue&&"radio"===e&&Z.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),ri={set:function(t,e,i){return e===!1?Z.removeAttr(t,i):t.setAttribute(i,i),i}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(t,e){var i=oi[e]||Z.find.attr;oi[e]=function(t,e,n){var r,o;return n||(o=oi[e],oi[e]=r,r=null!=i(t,e,n)?e.toLowerCase():null,oi[e]=o),r}});var si=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(t,e){return ve(this,Z.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Z.propFix[t]||t]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,i){var n,r,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return o=1!==s||!Z.isXMLDoc(t),o&&(e=Z.propFix[e]||e,r=Z.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||si.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),J.optSelected||(Z.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var ai=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(t){var e,i,n,r,o,s,a="string"==typeof t&&t,l=0,h=this.length;if(Z.isFunction(t))return this.each(function(e){Z(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(de)||[];h>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ai," "):" ")){for(o=0;r=e[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");s=Z.trim(n),i.className!==s&&(i.className=s)}return this},removeClass:function(t){var e,i,n,r,o,s,a=0===arguments.length||"string"==typeof t&&t,l=0,h=this.length;if(Z.isFunction(t))return this.each(function(e){Z(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(de)||[];h>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ai," "):"")){for(o=0;r=e[o++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");s=t?Z.trim(n):"",i.className!==s&&(i.className=s)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):this.each(Z.isFunction(t)?function(i){Z(this).toggleClass(t.call(this,i,this.className,e),e)}:function(){if("string"===i)for(var e,n=0,r=Z(this),o=t.match(de)||[];e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(i===Ce||"boolean"===i)&&(this.className&&me.set(this,"__className__",this.className),this.className=this.className||t===!1?"":me.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(ai," ").indexOf(e)>=0)return!0;return!1}});var li=/\r/g;Z.fn.extend({val:function(t){var e,i,n,r=this[0];{if(arguments.length)return n=Z.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,Z(this).val()):t,null==r?r="":"number"==typeof r?r+="":Z.isArray(r)&&(r=Z.map(r,function(t){return null==t?"":t+""})),e=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=Z.valHooks[r.type]||Z.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(li,""):null==i?"":i)}}}),Z.extend({valHooks:{option:{get:function(t){var e=Z.find.attr(t,"value");return null!=e?e:Z.trim(Z.text(t))}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:n.length,l=0>r?a:o?r:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==r||(J.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&Z.nodeName(i.parentNode,"optgroup"))){if(e=Z(i).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,o=Z.makeArray(e),s=r.length;s--;)n=r[s],(n.selected=Z.inArray(n.value,o)>=0)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(t,e){return Z.isArray(e)?t.checked=Z.inArray(Z(t).val(),e)>=0:void 0}},J.checkOn||(Z.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Z.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),Z.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var hi=Z.now(),ui=/\?/;Z.parseJSON=function(t){return JSON.parse(t+"")},Z.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{i=new DOMParser,e=i.parseFromString(t,"text/xml")}catch(n){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+t),e};var ci=/#.*$/,fi=/([?&])_=[^&]*/,di=/^(.*?):[ \t]*([^\r\n]*)$/gm,pi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gi=/^(?:GET|HEAD)$/,vi=/^\/\//,mi=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yi={},bi={},xi="*/".concat("*"),wi=t.location.href,ki=mi.exec(wi.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wi,type:"GET",isLocal:pi.test(ki[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?L(L(t,Z.ajaxSettings),e):L(Z.ajaxSettings,t)},ajaxPrefilter:O(yi),ajaxTransport:O(bi),ajax:function(t,e){function i(t,e,i,s){var l,u,m,y,x,k=e;2!==b&&(b=2,a&&clearTimeout(a),n=void 0,o=s||"",w.readyState=t>0?4:0,l=t>=200&&300>t||304===t,i&&(y=F(c,w,i)),y=z(c,y,w,l),l?(c.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(Z.lastModified[r]=x),x=w.getResponseHeader("etag"),x&&(Z.etag[r]=x)),204===t||"HEAD"===c.type?k="nocontent":304===t?k="notmodified":(k=y.state,u=y.data,m=y.error,l=!m)):(m=k,(t||!k)&&(k="error",0>t&&(t=0))),w.status=t,w.statusText=(e||k)+"",l?p.resolveWith(f,[u,k,w]):p.rejectWith(f,[w,k,m]),w.statusCode(v),v=void 0,h&&d.trigger(l?"ajaxSuccess":"ajaxError",[w,c,l?u:m]),g.fireWith(f,[w,k]),h&&(d.trigger("ajaxComplete",[w,c]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r,o,s,a,l,h,u,c=Z.ajaxSetup({},e),f=c.context||c,d=c.context&&(f.nodeType||f.jquery)?Z(f):Z.event,p=Z.Deferred(),g=Z.Callbacks("once memory"),v=c.statusCode||{},m={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!s)for(s={};e=di.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return b||(t=y[i]=y[i]||t,m[t]=e),this},overrideMimeType:function(t){return b||(c.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)v[e]=[v[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||x;return n&&n.abort(e),i(0,e),this}};if(p.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,c.url=((t||c.url||wi)+"").replace(ci,"").replace(vi,ki[1]+"//"),c.type=e.method||e.type||c.method||c.type,c.dataTypes=Z.trim(c.dataType||"*").toLowerCase().match(de)||[""],null==c.crossDomain&&(l=mi.exec(c.url.toLowerCase()),c.crossDomain=!(!l||l[1]===ki[1]&&l[2]===ki[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(ki[3]||("http:"===ki[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=Z.param(c.data,c.traditional)),I(yi,c,e,w),2===b)return w;h=Z.event&&c.global,h&&0===Z.active++&&Z.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!gi.test(c.type),r=c.url,c.hasContent||(c.data&&(r=c.url+=(ui.test(r)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=fi.test(r)?r.replace(fi,"$1_="+hi++):r+(ui.test(r)?"&":"?")+"_="+hi++)),c.ifModified&&(Z.lastModified[r]&&w.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&w.setRequestHeader("If-None-Match",Z.etag[r])),(c.data&&c.hasContent&&c.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",c.contentType),w.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+xi+"; q=0.01":""):c.accepts["*"]);for(u in c.headers)w.setRequestHeader(u,c.headers[u]);if(c.beforeSend&&(c.beforeSend.call(f,w,c)===!1||2===b))return w.abort();x="abort";for(u in{success:1,error:1,complete:1})w[u](c[u]);if(n=I(bi,c,e,w)){w.readyState=1,h&&d.trigger("ajaxSend",[w,c]),c.async&&c.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},c.timeout));try{b=1,n.send(m,i)}catch(k){if(!(2>b))throw k;i(-1,k)}}else i(-1,"No Transport");return w},getJSON:function(t,e,i){return Z.get(t,e,i,"json")},getScript:function(t,e){return Z.get(t,void 0,e,"script")}}),Z.each(["get","post"],function(t,e){Z[e]=function(t,i,n,r){return Z.isFunction(i)&&(r=r||n,n=i,i=void 0),Z.ajax({url:t,type:e,dataType:r,data:i,success:n})}}),Z._evalUrl=function(t){return Z.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(t){var e;return Z.isFunction(t)?this.each(function(e){Z(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Z(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(Z.isFunction(t)?function(e){Z(this).wrapInner(t.call(this,e))}:function(){var e=Z(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=Z.isFunction(t);return this.each(function(i){Z(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Z.expr.filters.visible=function(t){return!Z.expr.filters.hidden(t)};var Ti=/%20/g,$i=/\[\]$/,Ci=/\r?\n/g,Mi=/^(?:submit|button|image|reset|file)$/i,Si=/^(?:input|select|textarea|keygen)/i;Z.param=function(t,e){var i,n=[],r=function(t,e){e=Z.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(t)||t.jquery&&!Z.isPlainObject(t))Z.each(t,function(){r(this.name,this.value)});else for(i in t)q(i,t[i],e,r);
return n.join("&").replace(Ti,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Z.prop(this,"elements");return t?Z.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Z(this).is(":disabled")&&Si.test(this.nodeName)&&!Mi.test(t)&&(this.checked||!$e.test(t))}).map(function(t,e){var i=Z(this).val();return null==i?null:Z.isArray(i)?Z.map(i,function(t){return{name:e.name,value:t.replace(Ci,"\r\n")}}):{name:e.name,value:i.replace(Ci,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Pi=0,Di={},Ai={0:200,1223:204},Ei=Z.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Di)Di[t]()}),J.cors=!!Ei&&"withCredentials"in Ei,J.ajax=Ei=!!Ei,Z.ajaxTransport(function(t){var e;return J.cors||Ei&&!t.crossDomain?{send:function(i,n){var r,o=t.xhr(),s=++Pi;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)o.setRequestHeader(r,i[r]);e=function(t){return function(){e&&(delete Di[s],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?n(o.status,o.statusText):n(Ai[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Di[s]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(a){if(e)throw a}},abort:function(){e&&e()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Z.globalEval(t),t}}}),Z.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Z.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,r){e=Z("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),X.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Ni=[],_i=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ni.pop()||Z.expando+"_"+hi++;return this[t]=!0,t}}),Z.ajaxPrefilter("json jsonp",function(e,i,n){var r,o,s,a=e.jsonp!==!1&&(_i.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&_i.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=Z.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(_i,"$1"+r):e.jsonp!==!1&&(e.url+=(ui.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||Z.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},n.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=i.jsonpCallback,Ni.push(r)),s&&Z.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),Z.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||X;var n=se.exec(t),r=!i&&[];return n?[e.createElement(n[1])]:(n=Z.buildFragment([t],e,r),r&&r.length&&Z(r).remove(),Z.merge([],n.childNodes))};var ji=Z.fn.load;Z.fn.load=function(t,e,i){if("string"!=typeof t&&ji)return ji.apply(this,arguments);var n,r,o,s=this,a=t.indexOf(" ");return a>=0&&(n=Z.trim(t.slice(a)),t=t.slice(0,a)),Z.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&Z.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,s.html(n?Z("<div>").append(Z.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){s.each(i,o||[t.responseText,e,t])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Z.fn[e]=function(t){return this.on(e,t)}}),Z.expr.filters.animated=function(t){return Z.grep(Z.timers,function(e){return t===e.elem}).length};var Oi=t.document.documentElement;Z.offset={setOffset:function(t,e,i){var n,r,o,s,a,l,h,u=Z.css(t,"position"),c=Z(t),f={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=Z.css(t,"top"),l=Z.css(t,"left"),h=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,h?(n=c.position(),s=n.top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),Z.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+r),"using"in e?e.using.call(t,f):c.css(f)}},Z.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Z.offset.setOffset(this,t,e)});var e,i,n=this[0],r={top:0,left:0},o=n&&n.ownerDocument;if(o)return e=o.documentElement,Z.contains(e,n)?(typeof n.getBoundingClientRect!==Ce&&(r=n.getBoundingClientRect()),i=R(o),{top:r.top+i.pageYOffset-e.clientTop,left:r.left+i.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===Z.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Z.nodeName(t[0],"html")||(n=t.offset()),n.top+=Z.css(t[0],"borderTopWidth",!0),n.left+=Z.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-Z.css(i,"marginTop",!0),left:e.left-n.left-Z.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Oi;t&&!Z.nodeName(t,"html")&&"static"===Z.css(t,"position");)t=t.offsetParent;return t||Oi})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n="pageYOffset"===i;Z.fn[e]=function(r){return ve(this,function(e,r,o){var s=R(e);return void 0===o?s?s[i]:e[r]:void(s?s.scrollTo(n?t.pageXOffset:o,n?o:t.pageYOffset):e[r]=o)},e,r,arguments.length,null)}}),Z.each(["top","left"],function(t,e){Z.cssHooks[e]=k(J.pixelPosition,function(t,i){return i?(i=w(t,e),He.test(i)?Z(t).position()[e]+"px":i):void 0})}),Z.each({Height:"height",Width:"width"},function(t,e){Z.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){Z.fn[n]=function(n,r){var o=arguments.length&&(i||"boolean"!=typeof n),s=i||(n===!0||r===!0?"margin":"border");return ve(this,function(e,i,n){var r;return Z.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===n?Z.css(e,i,s):Z.style(e,i,n,s)},e,o?n:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Ii=t.jQuery,Li=t.$;return Z.noConflict=function(e){return t.$===Z&&(t.$=Li),e&&t.jQuery===Z&&(t.jQuery=Ii),Z},typeof e===Ce&&(t.jQuery=t.$=Z),Z}),/**
 * @license AngularJS v1.3.20
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,i){"use strict";function n(t,e){return e=e||Error,function(){var i,n,r=arguments[0],o="["+(t?t+":":"")+r+"] ",s=arguments[1],a=arguments;for(i=o+s.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e+2<a.length?fe(a[e+2]):t}),i=i+"\nhttp://errors.angularjs.org/1.3.20/"+(t?t+"/":"")+r,n=2;n<arguments.length;n++)i=i+(2==n?"?":"&")+"p"+(n-2)+"="+encodeURIComponent(fe(arguments[n]));return new e(i)}}function r(t){if(null==t||C(t))return!1;var e="length"in Object(t)&&t.length;return t.nodeType===xr&&e?!0:x(t)||dr(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,i){var n,s;if(t)if(T(t))for(n in t)"prototype"==n||"length"==n||"name"==n||t.hasOwnProperty&&!t.hasOwnProperty(n)||e.call(i,t[n],n,t);else if(dr(t)||r(t)){var a="object"!=typeof t;for(n=0,s=t.length;s>n;n++)(a||n in t)&&e.call(i,t[n],n,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,i,t);else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t);return t}function s(t){return Object.keys(t).sort()}function a(t,e,i){for(var n=s(t),r=0;r<n.length;r++)e.call(i,t[n[r]],n[r]);return n}function l(t){return function(e,i){t(i,e)}}function h(){return++cr}function u(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function c(t){for(var e=t.$$hashKey,i=1,n=arguments.length;n>i;i++){var r=arguments[i];if(r)for(var o=Object.keys(r),s=0,a=o.length;a>s;s++){var l=o[s];t[l]=r[l]}}return u(t,e),t}function f(t){return parseInt(t,10)}function d(t,e){return c(Object.create(t),e)}function p(){}function g(t){return t}function v(t){return function(){return t}}function m(t){return"undefined"==typeof t}function y(t){return"undefined"!=typeof t}function b(t){return null!==t&&"object"==typeof t}function x(t){return"string"==typeof t}function w(t){return"number"==typeof t}function k(t){return"[object Date]"===lr.call(t)}function T(t){return"function"==typeof t}function $(t){return"[object RegExp]"===lr.call(t)}function C(t){return t&&t.window===t}function M(t){return t&&t.$evalAsync&&t.$watch}function S(t){return"[object File]"===lr.call(t)}function P(t){return"[object FormData]"===lr.call(t)}function D(t){return"[object Blob]"===lr.call(t)}function A(t){return"boolean"==typeof t}function E(t){return t&&T(t.then)}function N(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function _(t){var e,i={},n=t.split(",");for(e=0;e<n.length;e++)i[n[e]]=!0;return i}function j(t){return Jn(t.nodeName||t[0]&&t[0].nodeName)}function O(t,e){var i=t.indexOf(e);return i>=0&&t.splice(i,1),e}function I(t,e,i,n){if(C(t)||M(t))throw hr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(e){if(t===e)throw hr("cpi","Can't copy! Source and destination are identical.");if(i=i||[],n=n||[],b(t)){var r=i.indexOf(t);if(-1!==r)return n[r];i.push(t),n.push(e)}var s;if(dr(t)){e.length=0;for(var a=0;a<t.length;a++)s=I(t[a],null,i,n),b(t[a])&&(i.push(t[a]),n.push(s)),e.push(s)}else{var l=e.$$hashKey;dr(e)?e.length=0:o(e,function(t,i){delete e[i]});for(var h in t)t.hasOwnProperty(h)&&(s=I(t[h],null,i,n),b(t[h])&&(i.push(t[h]),n.push(s)),e[h]=s);u(e,l)}}else if(e=t,t)if(dr(t))e=I(t,[],i,n);else if(k(t))e=new Date(t.getTime());else if($(t))e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex;else if(b(t)){var c=Object.create(Object.getPrototypeOf(t));e=I(t,c,i,n)}return e}function L(t,e){if(dr(t)){e=e||[];for(var i=0,n=t.length;n>i;i++)e[i]=t[i]}else if(b(t)){e=e||{};for(var r in t)("$"!==r.charAt(0)||"$"!==r.charAt(1))&&(e[r]=t[r])}return e||t}function F(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,r,o,s=typeof t,a=typeof e;if(s==a&&"object"==s){if(!dr(t)){if(k(t))return k(e)?F(t.getTime(),e.getTime()):!1;if($(t))return $(e)?t.toString()==e.toString():!1;if(M(t)||M(e)||C(t)||C(e)||dr(e)||k(e)||$(e))return!1;o={};for(r in t)if("$"!==r.charAt(0)&&!T(t[r])){if(!F(t[r],e[r]))return!1;o[r]=!0}for(r in e)if(!o.hasOwnProperty(r)&&"$"!==r.charAt(0)&&e[r]!==i&&!T(e[r]))return!1;return!0}if(!dr(e))return!1;if((n=t.length)==e.length){for(r=0;n>r;r++)if(!F(t[r],e[r]))return!1;return!0}}return!1}function z(t,e,i){return t.concat(or.call(e,i))}function q(t,e){return or.call(t,e||0)}function R(t,e){var i=arguments.length>2?q(arguments,2):[];return!T(e)||e instanceof RegExp?e:i.length?function(){return arguments.length?e.apply(t,z(i,arguments,0)):e.apply(t,i)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function H(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=i:C(n)?r="$WINDOW":n&&e===n?r="$DOCUMENT":M(n)&&(r="$SCOPE"),r}function B(t,e){return"undefined"==typeof t?i:(w(e)||(e=e?2:null),JSON.stringify(t,H,e))}function V(t){return x(t)?JSON.parse(t):t}function U(t){t=ir(t).clone();try{t.empty()}catch(e){}var i=ir("<div>").append(t).html();try{return t[0].nodeType===kr?Jn(i):i.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Jn(e)})}catch(e){return Jn(i)}}function G(t){try{return decodeURIComponent(t)}catch(e){}}function W(t){var e,i,n={};return o((t||"").split("&"),function(t){if(t&&(e=t.replace(/\+/g,"%20").split("="),i=G(e[0]),y(i))){var r=y(e[1])?G(e[1]):!0;Xn.call(n,i)?dr(n[i])?n[i].push(r):n[i]=[n[i],r]:n[i]=r}}),n}function K(t){var e=[];return o(t,function(t,i){dr(t)?o(t,function(t){e.push(J(i,!0)+(t===!0?"":"="+J(t,!0)))}):e.push(J(i,!0)+(t===!0?"":"="+J(t,!0)))}),e.length?e.join("&"):""}function Y(t){return J(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function J(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function X(t,e){var i,n,r=mr.length;for(t=ir(t),n=0;r>n;++n)if(i=mr[n]+e,x(i=t.attr(i)))return i;return null}function Q(t,e){var i,n,r={};o(mr,function(e){var r=e+"app";!i&&t.hasAttribute&&t.hasAttribute(r)&&(i=t,n=t.getAttribute(r))}),o(mr,function(e){var r,o=e+"app";!i&&(r=t.querySelector("["+o.replace(":","\\:")+"]"))&&(i=r,n=r.getAttribute(o))}),i&&(r.strictDi=null!==X(i,"strict-di"),e(i,n?[n]:[],r))}function Z(i,n,r){b(r)||(r={});var s={strictDi:!1};r=c(s,r);var a=function(){if(i=ir(i),i.injector()){var t=i[0]===e?"document":U(i);throw hr("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",i)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=Ve(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,i,n){t.$apply(function(){e.data("$injector",n),i(e)(t)})}]),o},l=/^NG_ENABLE_DEBUG_INFO!/,h=/^NG_DEFER_BOOTSTRAP!/;return t&&l.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(l,"")),t&&!h.test(t.name)?a():(t.name=t.name.replace(h,""),ur.resumeBootstrap=function(t){return o(t,function(t){n.push(t)}),a()},void(T(ur.resumeDeferredBootstrap)&&ur.resumeDeferredBootstrap()))}function te(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function ee(t){var e=ur.element(t).injector();if(!e)throw hr("test","no injector found for element argument to getTestability");return e.get("$$testability")}function ie(t,e){return e=e||"_",t.replace(yr,function(t,i){return(i?e:"")+t.toLowerCase()})}function ne(){var e;br||(nr=t.jQuery,nr&&nr.fn.on?(ir=nr,c(nr.fn,{scope:qr.scope,isolateScope:qr.isolateScope,controller:qr.controller,injector:qr.injector,inheritedData:qr.inheritedData}),e=nr.cleanData,nr.cleanData=function(t){var i;if(fr)fr=!1;else for(var n,r=0;null!=(n=t[r]);r++)i=nr._data(n,"events"),i&&i.$destroy&&nr(n).triggerHandler("$destroy");e(t)}):ir=xe,ur.element=ir,br=!0)}function re(t,e,i){if(!t)throw hr("areq","Argument '{0}' is {1}",e||"?",i||"required");return t}function oe(t,e,i){return i&&dr(t)&&(t=t[t.length-1]),re(T(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function se(t,e){if("hasOwnProperty"===t)throw hr("badname","hasOwnProperty is not a valid {0} name",e)}function ae(t,e,i){if(!e)return t;for(var n,r=e.split("."),o=t,s=r.length,a=0;s>a;a++)n=r[a],t&&(t=(o=t)[n]);return!i&&T(t)?R(o,t):t}function le(t){var e=t[0],i=t[t.length-1],n=[e];do{if(e=e.nextSibling,!e)break;n.push(e)}while(e!==i);return ir(n)}function he(){return Object.create(null)}function ue(t){function e(t,e,i){return t[e]||(t[e]=i())}var i=n("$injector"),r=n("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||n,e(o,"module",function(){var t={};return function(n,o,s){var a=function(t,e){if("hasOwnProperty"===t)throw r("badname","hasOwnProperty is not a valid {0} name",e)};return a(n,"module"),o&&t.hasOwnProperty(n)&&(t[n]=null),e(t,n,function(){function t(t,i,n,r){return r||(r=e),function(){return r[n||"push"]([t,i,arguments]),h}}if(!o)throw i("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",n);var e=[],r=[],a=[],l=t("$injector","invoke","push",r),h={_invokeQueue:e,_configBlocks:r,_runBlocks:a,requires:o,name:n,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:l,run:function(t){return a.push(t),this}};return s&&l(s),h})}})}function ce(t){var e=[];return JSON.stringify(t,function(t,i){if(i=H(t,i),b(i)){if(e.indexOf(i)>=0)return"<<already seen>>";e.push(i)}return i})}function fe(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?ce(t):t}function de(e){c(e,{bootstrap:Z,copy:I,extend:c,equals:F,element:ir,forEach:o,injector:Ve,noop:p,bind:R,toJson:B,fromJson:V,identity:g,isUndefined:m,isDefined:y,isString:x,isFunction:T,isObject:b,isNumber:w,isElement:N,isArray:dr,version:Mr,isDate:k,lowercase:Jn,uppercase:Qn,callbacks:{counter:0},getTestability:ee,$$minErr:n,$$csp:vr,reloadWithDebugInfo:te}),rr=ue(t);try{rr("ngLocale")}catch(i){rr("ngLocale",[]).provider("$locale",vi)}rr("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Yi}),t.provider("$compile",Xe).directive({a:_o,input:Jo,textarea:Jo,form:Fo,script:zs,select:Hs,style:Vs,option:Bs,ngBind:Zo,ngBindHtml:es,ngBindTemplate:ts,ngClass:ns,ngClassEven:os,ngClassOdd:rs,ngCloak:ss,ngController:as,ngForm:zo,ngHide:_s,ngIf:us,ngInclude:cs,ngInit:ds,ngNonBindable:Ss,ngPluralize:Ps,ngRepeat:Ds,ngShow:Ns,ngStyle:js,ngSwitch:Os,ngSwitchWhen:Is,ngSwitchDefault:Ls,ngOptions:Rs,ngTransclude:Fs,ngModel:$s,ngList:ps,ngChange:is,pattern:Gs,ngPattern:Gs,required:Us,ngRequired:Us,minlength:Ks,ngMinlength:Ks,maxlength:Ws,ngMaxlength:Ws,ngValue:Qo,ngModelOptions:Ms}).directive({ngInclude:fs}).directive(jo).directive(ls),t.provider({$anchorScroll:Ue,$animate:Jr,$browser:Ke,$cacheFactory:Ye,$controller:ei,$document:ii,$exceptionHandler:ni,$filter:ln,$interpolate:pi,$interval:gi,$http:ui,$httpBackend:fi,$location:Ai,$log:Ei,$parse:Bi,$rootScope:Ki,$q:Vi,$$q:Ui,$sce:Zi,$sceDelegate:Qi,$sniffer:tn,$templateCache:Je,$templateRequest:en,$$testability:nn,$timeout:rn,$window:an,$$rAF:Wi,$$asyncCallback:Ge,$$jqLite:ze})}])}function pe(){return++Pr}function ge(t){return t.replace(Er,function(t,e,i,n){return n?i.toUpperCase():i}).replace(Nr,"Moz$1")}function ve(t){return!Ir.test(t)}function me(t){var e=t.nodeType;return e===xr||!e||e===$r}function ye(t,e){var i,n,r,s,a=e.createDocumentFragment(),l=[];if(ve(t))l.push(e.createTextNode(t));else{for(i=i||a.appendChild(e.createElement("div")),n=(Lr.exec(t)||["",""])[1].toLowerCase(),r=zr[n]||zr._default,i.innerHTML=r[1]+t.replace(Fr,"<$1></$2>")+r[2],s=r[0];s--;)i=i.lastChild;l=z(l,i.childNodes),i=a.firstChild,i.textContent=""}return a.textContent="",a.innerHTML="",o(l,function(t){a.appendChild(t)}),a}function be(t,i){i=i||e;var n;return(n=Or.exec(t))?[i.createElement(n[1])]:(n=ye(t,i))?n.childNodes:[]}function xe(t){if(t instanceof xe)return t;var e;if(x(t)&&(t=pr(t),e=!0),!(this instanceof xe)){if(e&&"<"!=t.charAt(0))throw jr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new xe(t)}e?Ae(this,be(t)):Ae(this,t)}function we(t){return t.cloneNode(!0)}function ke(t,e){if(e||$e(t),t.querySelectorAll)for(var i=t.querySelectorAll("*"),n=0,r=i.length;r>n;n++)$e(i[n])}function Te(t,e,i,n){if(y(n))throw jr("offargs","jqLite#off() does not support the `selector` argument");var r=Ce(t),s=r&&r.events,a=r&&r.handle;if(a)if(e)o(e.split(" "),function(e){if(y(i)){var n=s[e];if(O(n||[],i),n&&n.length>0)return}Ar(t,e,a),delete s[e]});else for(e in s)"$destroy"!==e&&Ar(t,e,a),delete s[e]}function $e(t,e){var n=t.ng339,r=n&&Sr[n];if(r){if(e)return void delete r.data[e];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Te(t)),delete Sr[n],t.ng339=i}}function Ce(t,e){var n=t.ng339,r=n&&Sr[n];return e&&!r&&(t.ng339=n=pe(),r=Sr[n]={events:{},data:{},handle:i}),r}function Me(t,e,i){if(me(t)){var n=y(i),r=!n&&e&&!b(e),o=!e,s=Ce(t,!r),a=s&&s.data;if(n)a[e]=i;else{if(o)return a;if(r)return a&&a[e];c(a,e)}}}function Se(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Pe(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",pr((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+pr(e)+" "," ")))})}function De(t,e){if(e&&t.setAttribute){var i=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=pr(t),-1===i.indexOf(" "+t+" ")&&(i+=t+" ")}),t.setAttribute("class",pr(i))}}function Ae(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var i=e.length;if("number"==typeof i&&e.window!==e){if(i)for(var n=0;i>n;n++)t[t.length++]=e[n]}else t[t.length++]=e}}function Ee(t,e){return Ne(t,"$"+(e||"ngController")+"Controller")}function Ne(t,e,n){t.nodeType==$r&&(t=t.documentElement);for(var r=dr(e)?e:[e];t;){for(var o=0,s=r.length;s>o;o++)if((n=ir.data(t,r[o]))!==i)return n;t=t.parentNode||t.nodeType===Cr&&t.host}}function _e(t){for(ke(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function je(t,e){e||ke(t);var i=t.parentNode;i&&i.removeChild(t)}function Oe(e,i){i=i||t,"complete"===i.document.readyState?i.setTimeout(e):ir(i).on("load",e)}function Ie(t,e){var i=Rr[e.toLowerCase()];return i&&Hr[j(t)]&&i}function Le(t,e){var i=t.nodeName;return("INPUT"===i||"TEXTAREA"===i)&&Br[e]}function Fe(t,e){var i=function(i,n){i.isDefaultPrevented=function(){return i.defaultPrevented};var r=e[n||i.type],o=r?r.length:0;if(o){if(m(i.immediatePropagationStopped)){var s=i.stopImmediatePropagation;i.stopImmediatePropagation=function(){i.immediatePropagationStopped=!0,i.stopPropagation&&i.stopPropagation(),s&&s.call(i)}}i.isImmediatePropagationStopped=function(){return i.immediatePropagationStopped===!0},o>1&&(r=L(r));for(var a=0;o>a;a++)i.isImmediatePropagationStopped()||r[a].call(t,i)}};return i.elem=t,i}function ze(){this.$get=function(){return c(xe,{hasClass:function(t,e){return t.attr&&(t=t[0]),Se(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),De(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Pe(t,e)}})}}function qe(t,e){var i=t&&t.$$hashKey;if(i)return"function"==typeof i&&(i=t.$$hashKey()),i;var n=typeof t;return i="function"==n||"object"==n&&null!==t?t.$$hashKey=n+":"+(e||h)():n+":"+t}function Re(t,e){if(e){var i=0;this.nextUid=function(){return++i}}o(t,this.put,this)}function He(t){var e=t.toString().replace(Wr,""),i=e.match(Vr);return i?"function("+(i[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Be(t,e,i){var n,r,s,a;if("function"==typeof t){if(!(n=t.$inject)){if(n=[],t.length){if(e)throw x(i)&&i||(i=t.name||He(t)),Kr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",i);r=t.toString().replace(Wr,""),s=r.match(Vr),o(s[1].split(Ur),function(t){t.replace(Gr,function(t,e,i){n.push(i)})})}t.$inject=n}}else dr(t)?(a=t.length-1,oe(t[a],"fn"),n=t.slice(0,a)):oe(t,"fn",!0);return n}function Ve(t,e){function n(t){return function(e,i){return b(e)?void o(e,l(t)):t(e,i)}}function r(t,e){if(se(t,"service"),(T(e)||dr(e))&&(e=M.instantiate(e)),!e.$get)throw Kr("pget","Provider '{0}' must define $get factory method.",t);return C[t+w]=e}function s(t,e){return function(){var i=P.invoke(e,this);if(m(i))throw Kr("undef","Provider '{0}' must return a value from $get factory method.",t);return i}}function a(t,e,i){return r(t,{$get:i!==!1?s(t,e):e})}function h(t,e){return a(t,["$injector",function(t){return t.instantiate(e)}])}function u(t,e){return a(t,v(e),!1)}function c(t,e){se(t,"constant"),C[t]=e,S[t]=e}function f(t,e){var i=M.get(t+w),n=i.$get;i.$get=function(){var t=P.invoke(n,i);return P.invoke(e,null,{$delegate:t})}}function d(t){var e,i=[];return o(t,function(t){function n(t){var e,i;for(e=0,i=t.length;i>e;e++){var n=t[e],r=M.get(n[0]);r[n[1]].apply(r,n[2])}}if(!$.get(t)){$.put(t,!0);try{x(t)?(e=rr(t),i=i.concat(d(e.requires)).concat(e._runBlocks),n(e._invokeQueue),n(e._configBlocks)):T(t)?i.push(M.invoke(t)):dr(t)?i.push(M.invoke(t)):oe(t,"module")}catch(r){throw dr(t)&&(t=t[t.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),Kr("modulerr","Failed to instantiate module {0} due to:\n{1}",t,r.stack||r.message||r)}}}),i}function g(t,i){function n(e,n){if(t.hasOwnProperty(e)){if(t[e]===y)throw Kr("cdep","Circular dependency found: {0}",e+" <- "+k.join(" <- "));return t[e]}try{return k.unshift(e),t[e]=y,t[e]=i(e,n)}catch(r){throw t[e]===y&&delete t[e],r}finally{k.shift()}}function r(t,i,r,o){"string"==typeof r&&(o=r,r=null);var s,a,l,h=[],u=Ve.$$annotate(t,e,o);for(a=0,s=u.length;s>a;a++){if(l=u[a],"string"!=typeof l)throw Kr("itkn","Incorrect injection token! Expected service name as string, got {0}",l);h.push(r&&r.hasOwnProperty(l)?r[l]:n(l,o))}return dr(t)&&(t=t[s]),t.apply(i,h)}function o(t,e,i){var n=Object.create((dr(t)?t[t.length-1]:t).prototype||null),o=r(t,n,e,i);return b(o)||T(o)?o:n}return{invoke:r,instantiate:o,get:n,annotate:Ve.$$annotate,has:function(e){return C.hasOwnProperty(e+w)||t.hasOwnProperty(e)}}}e=e===!0;var y={},w="Provider",k=[],$=new Re([],!0),C={$provide:{provider:n(r),factory:n(a),service:n(h),value:n(u),constant:n(c),decorator:f}},M=C.$injector=g(C,function(t,e){throw ur.isString(e)&&k.push(e),Kr("unpr","Unknown provider: {0}",k.join(" <- "))}),S={},P=S.$injector=g(S,function(t,e){var n=M.get(t+w,e);return P.invoke(n.$get,n,i,t)});return o(d(t),function(t){P.invoke(t||p)}),P}function Ue(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,i,n){function r(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===j(t)?(e=t,!0):void 0}),e}function o(){var t=a.yOffset;if(T(t))t=t();else if(N(t)){var i=t[0],n=e.getComputedStyle(i);t="fixed"!==n.position?0:i.getBoundingClientRect().bottom}else w(t)||(t=0);return t}function s(t){if(t){t.scrollIntoView();var i=o();if(i){var n=t.getBoundingClientRect().top;e.scrollBy(0,n-i)}}else e.scrollTo(0,0)}function a(){var t,e=i.hash();e?(t=l.getElementById(e))?s(t):(t=r(l.getElementsByName(e)))?s(t):"top"===e&&s(null):s(null)}var l=e.document;return t&&n.$watch(function(){return i.hash()},function(t,e){(t!==e||""!==t)&&Oe(function(){n.$evalAsync(a)})}),a}]}function Ge(){this.$get=["$$rAF","$timeout",function(t,e){return t.supported?function(e){return t(e)}:function(t){return e(t,0,!1)}}]}function We(t,e,n,r){function s(t){try{t.apply(null,q(arguments,1))}finally{if($--,0===$)for(;C.length;)try{C.pop()()}catch(e){n.error(e)}}}function a(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function l(t,e){!function i(){o(S,function(t){t()}),M=e(i,t)}()}function h(){c(),f()}function u(){try{return b.state}catch(t){}}function c(){P=u(),P=m(P)?null:P,F(P,O)&&(P=O),O=P}function f(){(A!==g.url()||D!==P)&&(A=g.url(),D=P,o(_,function(t){t(g.url(),P)}))}function d(t){try{return decodeURIComponent(t)}catch(e){return t}}var g=this,v=e[0],y=t.location,b=t.history,w=t.setTimeout,k=t.clearTimeout,T={};g.isMock=!1;var $=0,C=[];g.$$completeOutstandingRequest=s,g.$$incOutstandingRequestCount=function(){$++},g.notifyWhenNoOutstandingRequests=function(t){o(S,function(t){t()}),0===$?t():C.push(t)};var M,S=[];g.addPollFn=function(t){return m(M)&&l(100,w),S.push(t),t};var P,D,A=y.href,E=e.find("base"),N=null;c(),D=P,g.url=function(e,i,n){if(m(n)&&(n=null),y!==t.location&&(y=t.location),b!==t.history&&(b=t.history),e){var o=D===n;if(A===e&&(!r.history||o))return g;var s=A&&wi(A)===wi(e);return A=e,D=n,!r.history||s&&o?((!s||N)&&(N=e),i?y.replace(e):s?y.hash=a(e):y.href=e):(b[i?"replaceState":"pushState"](n,"",e),c(),D=P),g}return N||y.href.replace(/%27/g,"'")},g.state=function(){return P};var _=[],j=!1,O=null;g.onUrlChange=function(e){return j||(r.history&&ir(t).on("popstate",h),ir(t).on("hashchange",h),j=!0),_.push(e),e},g.$$checkUrlChange=f,g.baseHref=function(){var t=E.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var I={},L="",z=g.baseHref();g.cookies=function(t,e){var r,o,s,a,l;if(!t){if(v.cookie!==L)for(L=v.cookie,o=L.split("; "),I={},a=0;a<o.length;a++)s=o[a],l=s.indexOf("="),l>0&&(t=d(s.substring(0,l)),I[t]===i&&(I[t]=d(s.substring(l+1))));return I}e===i?v.cookie=encodeURIComponent(t)+"=;path="+z+";expires=Thu, 01 Jan 1970 00:00:00 GMT":x(e)&&(r=(v.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path="+z).length+1,r>4096&&n.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+r+" > 4096 bytes)!"))},g.defer=function(t,e){var i;return $++,i=w(function(){delete T[i],s(t)},e||0),T[i]=!0,i},g.defer.cancel=function(t){return T[t]?(delete T[t],k(t),s(p),!0):!1}}function Ke(){this.$get=["$window","$log","$sniffer","$document",function(t,e,i,n){return new We(t,n,e,i)}]}function Ye(){this.$get=function(){function t(t,i){function r(t){t!=f&&(d?d==t&&(d=t.n):d=t,o(t.n,t.p),o(t,f),f=t,f.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw n("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var s=0,a=c({},i,{id:t}),l={},h=i&&i.capacity||Number.MAX_VALUE,u={},f=null,d=null;return e[t]={put:function(t,e){if(h<Number.MAX_VALUE){var i=u[t]||(u[t]={key:t});r(i)}if(!m(e))return t in l||s++,l[t]=e,s>h&&this.remove(d.key),e},get:function(t){if(h<Number.MAX_VALUE){var e=u[t];if(!e)return;r(e)}return l[t]},remove:function(t){if(h<Number.MAX_VALUE){var e=u[t];if(!e)return;e==f&&(f=e.p),e==d&&(d=e.n),o(e.n,e.p),delete u[t]}delete l[t],s--},removeAll:function(){l={},s=0,u={},f=d=null},destroy:function(){l=null,a=null,u=null,delete e[t]},info:function(){return c({},a,{size:s})}}}var e={};return t.info=function(){var t={};return o(e,function(e,i){t[i]=e.info()}),t},t.get=function(t){return e[t]},t}}function Je(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Xe(t,n){function r(t,e){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,n={};return o(t,function(t,r){var o=t.match(i);if(!o)throw Xr("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,r,t);n[r]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||r}}),n}var s={},a="Directive",h=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?:\:([^;]+))?;?)/,f=_("ngSrc,ngSrcset,src,srcset"),m=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/;this.directive=function $(e,i){return se(e,"directive"),x(e)?(re(i,"directiveFactory"),s.hasOwnProperty(e)||(s[e]=[],t.factory(e+a,["$injector","$exceptionHandler",function(t,i){var n=[];return o(s[e],function(o,s){try{var a=t.invoke(o);T(a)?a={compile:v(a)}:!a.compile&&a.link&&(a.compile=v(a.link)),a.priority=a.priority||0,a.index=s,a.name=a.name||e,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",b(a.scope)&&(a.$$isolateBindings=r(a.scope,a.name)),n.push(a)}catch(l){i(l)}}),n}])),s[e].push(i)):o(e,l($)),this},this.aHrefSanitizationWhitelist=function(t){return y(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var k=!0;this.debugInfoEnabled=function(t){return y(t)?(k=t,this):k},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,n,r,l,v,y,$,C,S,P,D){function A(t,e){try{t.addClass(e)}catch(i){}}function E(t,e,i,n,r){t instanceof ir||(t=ir(t)),o(t,function(e,i){e.nodeType==kr&&e.nodeValue.match(/\S+/)&&(t[i]=ir(e).wrap("<span></span>").parent()[0])});var s=_(t,e,t,i,n,r);E.$$addScopeClass(t);var a=null;return function(e,i,n){re(e,"scope"),n=n||{};var r=n.parentBoundTranscludeFn,o=n.transcludeControllers,l=n.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),a||(a=N(l));var h;if(h="html"!==a?ir(Q(a,ir("<div>").append(t).html())):i?qr.clone.call(t):t,o)for(var u in o)h.data("$"+u+"Controller",o[u].instance);return E.$$addScopeInfo(h,e),i&&i(h,e),s&&s(e,h,h,r),h}}function N(t){var e=t&&t[0];return e&&"foreignobject"!==j(e)&&e.toString().match(/SVG/)?"svg":"html"}function _(t,e,n,r,o,s){function a(t,n,r,o){var s,a,l,h,u,c,f,d,v;if(p){var m=n.length;for(v=new Array(m),u=0;u<g.length;u+=3)f=g[u],v[f]=n[f]}else v=n;for(u=0,c=g.length;c>u;)l=v[g[u++]],s=g[u++],a=g[u++],s?(s.scope?(h=t.$new(),E.$$addScopeInfo(ir(l),h)):h=t,d=s.transcludeOnThisElement?I(t,s.transclude,o,s.elementTranscludeOnThisElement):!s.templateOnThisElement&&o?o:!o&&e?I(t,e):null,s(a,h,l,r,d)):a&&a(t,l.childNodes,i,o)}for(var l,h,u,c,f,d,p,g=[],v=0;v<t.length;v++)l=new se,h=L(t[v],[],l,0===v?r:i,o),u=h.length?H(h,t[v],l,e,n,null,[],[],s):null,u&&u.scope&&E.$$addScopeClass(l.$$element),f=u&&u.terminal||!(c=t[v].childNodes)||!c.length?null:_(c,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:e),(u||f)&&(g.push(v,u,f),d=!0,p=p||u),s=null;return d?a:null}function I(t,e,i){var n=function(n,r,o,s,a){return n||(n=t.$new(!1,a),n.$$transcluded=!0),e(n,r,{parentBoundTranscludeFn:i,transcludeControllers:o,futureParentElement:s})};return n}function L(t,e,i,n,r){var o,s,a=t.nodeType,l=i.$attr;switch(a){case xr:V(e,Qe(j(t)),"E",n,r);for(var c,f,d,p,g,v,m=t.attributes,y=0,w=m&&m.length;w>y;y++){var k=!1,T=!1;c=m[y],f=c.name,g=pr(c.value),p=Qe(f),(v=ce.test(p))&&(f=f.replace(Qr,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var $=p.replace(/(Start|End)$/,"");G($)&&p===$+"Start"&&(k=f,T=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),d=Qe(f.toLowerCase()),l[d]=f,(v||!i.hasOwnProperty(d))&&(i[d]=g,Ie(t,d)&&(i[d]=!0)),te(t,e,g,d,v),V(e,d,"A",n,r,k,T)}if(s=t.className,b(s)&&(s=s.animVal),x(s)&&""!==s)for(;o=u.exec(s);)d=Qe(o[2]),V(e,d,"C",n,r)&&(i[d]=pr(o[3])),s=s.substr(o.index+o[0].length);break;case kr:X(e,t.nodeValue);break;case Tr:try{o=h.exec(t.nodeValue),o&&(d=Qe(o[1]),V(e,d,"M",n,r)&&(i[d]=pr(o[2])))}catch(C){}}return e.sort(Y),e}function z(t,e,i){var n=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Xr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,i);t.nodeType==xr&&(t.hasAttribute(e)&&r++,t.hasAttribute(i)&&r--),n.push(t),t=t.nextSibling}while(r>0)}else n.push(t);return ir(n)}function R(t,e,i){return function(n,r,o,s,a){return r=z(r[0],e,i),t(n,r,o,s,a)}}function H(t,s,a,l,h,u,c,f,d){function p(t,e,i,n){t&&(i&&(t=R(t,i,n)),t.require=C.require,t.directiveName=S,(j===C||C.$$isolateScope)&&(t=ne(t,{isolateScope:!0})),c.push(t)),e&&(i&&(e=R(e,i,n)),e.require=C.require,e.directiveName=S,(j===C||C.$$isolateScope)&&(e=ne(e,{isolateScope:!0})),f.push(e))}function g(t,e,i,n){var r,s,a="data",l=!1,h=i;if(x(e)){if(s=e.match(m),e=e.substring(s[0].length),s[3]&&(s[1]?s[3]=null:s[1]=s[3]),"^"===s[1]?a="inheritedData":"^^"===s[1]&&(a="inheritedData",h=i.parent()),"?"===s[2]&&(l=!0),r=null,n&&"data"===a&&(r=n[e])&&(r=r.instance),r=r||h[a]("$"+e+"Controller"),!r&&!l)throw Xr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",e,t);return r||null}return dr(e)&&(r=[],o(e,function(e){r.push(g(t,e,i,n))})),r}function w(t,e,r,l,h){function u(t,e,n){var r;return M(t)||(n=e,e=t,t=i),G&&(r=w),n||(n=G?T.parent():T),h(t,e,r,n,D)}var d,p,m,b,x,w,k,T,C;if(s===r?(C=a,T=a.$$element):(T=ir(r),C=new se(T,a)),j&&(x=e.$new(!0)),h&&(k=u,k.$$boundTransclude=h),_&&($={},w={},o(_,function(t){var i,n={$scope:t===j||t.$$isolateScope?x:e,$element:T,$attrs:C,$transclude:k};b=t.controller,"@"==b&&(b=C[t.name]),i=y(b,n,!0,t.controllerAs),w[t.name]=i,G||T.data("$"+t.name+"Controller",i.instance),$[t.name]=i})),j){E.$$addScopeInfo(T,x,!0,!(O&&(O===j||O===j.$$originalDirective))),E.$$addScopeClass(T,!0);var S=$&&$[j.name],P=x;S&&S.identifier&&j.bindToController===!0&&(P=S.instance),o(x.$$isolateBindings=j.$$isolateBindings,function(t,i){var r,o,s,a,l=t.attrName,h=t.optional,u=t.mode;switch(u){case"@":C.$observe(l,function(t){P[i]=t}),C.$$observers[l].$$scope=e,C[l]&&(P[i]=n(C[l])(e));break;case"=":if(h&&!C[l])return;o=v(C[l]),a=o.literal?F:function(t,e){return t===e||t!==t&&e!==e},s=o.assign||function(){throw r=P[i]=o(e),Xr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",C[l],j.name)},r=P[i]=o(e);var c=function(t){return a(t,P[i])||(a(t,r)?s(e,t=P[i]):P[i]=t),r=t};c.$stateful=!0;var f;f=t.collection?e.$watchCollection(C[l],c):e.$watch(v(C[l],c),null,o.literal),x.$on("$destroy",f);break;case"&":o=v(C[l]),P[i]=function(t){return o(e,t)}}})}for($&&(o($,function(t){t()}),$=null),d=0,p=c.length;p>d;d++)m=c[d],oe(m,m.isolateScope?x:e,T,C,m.require&&g(m.directiveName,m.require,T,w),k);var D=e;for(j&&(j.template||null===j.templateUrl)&&(D=x),t&&t(D,r.childNodes,i,h),d=f.length-1;d>=0;d--)m=f[d],oe(m,m.isolateScope?x:e,T,C,m.require&&g(m.directiveName,m.require,T,w),k)}d=d||{};for(var k,$,C,S,P,D,A,N=-Number.MAX_VALUE,_=d.controllerDirectives,j=d.newIsolateScopeDirective,O=d.templateDirective,I=d.nonTlbTranscludeDirective,H=!1,V=!1,G=d.hasElementTranscludeDirective,Y=a.$$element=ir(s),X=u,Z=l,te=0,ie=t.length;ie>te;te++){C=t[te];var re=C.$$start,ae=C.$$end;if(re&&(Y=z(s,re,ae)),P=i,N>C.priority)break;if((A=C.scope)&&(C.templateUrl||(b(A)?(J("new/isolated scope",j||k,C,Y),j=C):J("new/isolated scope",j,C,Y)),k=k||C),S=C.name,!C.templateUrl&&C.controller&&(A=C.controller,_=_||{},J("'"+S+"' controller",_[S],C,Y),_[S]=C),(A=C.transclude)&&(H=!0,C.$$tlb||(J("transclusion",I,C,Y),I=C),"element"==A?(G=!0,N=C.priority,P=Y,Y=a.$$element=ir(e.createComment(" "+S+": "+a[S]+" ")),s=Y[0],ee(h,q(P),s),Z=E(P,l,N,X&&X.name,{nonTlbTranscludeDirective:I})):(P=ir(we(s)).contents(),Y.empty(),Z=E(P,l))),C.template)if(V=!0,J("template",O,C,Y),O=C,A=T(C.template)?C.template(Y,a):C.template,A=ue(A),C.replace){if(X=C,P=ve(A)?[]:ti(Q(C.templateNamespace,pr(A))),s=P[0],1!=P.length||s.nodeType!==xr)throw Xr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",S,"");ee(h,Y,s);var le={$attr:{}},he=L(s,[],le),ce=t.splice(te+1,t.length-(te+1));j&&B(he),t=t.concat(he).concat(ce),W(a,le),ie=t.length}else Y.html(A);if(C.templateUrl)V=!0,J("template",O,C,Y),O=C,C.replace&&(X=C),w=K(t.splice(te,t.length-te),Y,a,h,H&&Z,c,f,{controllerDirectives:_,newIsolateScopeDirective:j,templateDirective:O,nonTlbTranscludeDirective:I}),ie=t.length;else if(C.compile)try{D=C.compile(Y,a,Z),T(D)?p(null,D,re,ae):D&&p(D.pre,D.post,re,ae)}catch(fe){r(fe,U(Y))}C.terminal&&(w.terminal=!0,N=Math.max(N,C.priority))}return w.scope=k&&k.scope===!0,w.transcludeOnThisElement=H,w.elementTranscludeOnThisElement=G,w.templateOnThisElement=V,w.transclude=Z,d.hasElementTranscludeDirective=G,w}function B(t){for(var e=0,i=t.length;i>e;e++)t[e]=d(t[e],{$$isolateScope:!0})}function V(e,n,o,l,h,u,c){if(n===h)return null;var f=null;if(s.hasOwnProperty(n))for(var p,g=t.get(n+a),v=0,m=g.length;m>v;v++)try{p=g[v],(l===i||l>p.priority)&&-1!=p.restrict.indexOf(o)&&(u&&(p=d(p,{$$start:u,$$end:c})),e.push(p),f=p)
}catch(y){r(y)}return f}function G(e){if(s.hasOwnProperty(e))for(var i,n=t.get(e+a),r=0,o=n.length;o>r;r++)if(i=n[r],i.multiElement)return!0;return!1}function W(t,e){var i=e.$attr,n=t.$attr,r=t.$$element;o(t,function(n,r){"$"!=r.charAt(0)&&(e[r]&&e[r]!==n&&(n+=("style"===r?";":" ")+e[r]),t.$set(r,n,!0,i[r]))}),o(e,function(e,o){"class"==o?(A(r,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(r.attr("style",r.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,n[o]=i[o])})}function K(t,e,i,n,r,s,a,h){var u,c,f=[],p=e[0],g=t.shift(),v=d(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),m=T(g.templateUrl)?g.templateUrl(e,i):g.templateUrl,y=g.templateNamespace;return e.empty(),l(m).then(function(l){var d,x,w,k;if(l=ue(l),g.replace){if(w=ve(l)?[]:ti(Q(y,pr(l))),d=w[0],1!=w.length||d.nodeType!==xr)throw Xr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,m);x={$attr:{}},ee(n,e,d);var T=L(d,[],x);b(g.scope)&&B(T),t=T.concat(t),W(i,x)}else d=p,e.html(l);for(t.unshift(v),u=H(t,d,i,r,e,g,s,a,h),o(n,function(t,i){t==d&&(n[i]=e[0])}),c=_(e[0].childNodes,r);f.length;){var $=f.shift(),C=f.shift(),M=f.shift(),S=f.shift(),P=e[0];if(!$.$$destroyed){if(C!==p){var D=C.className;h.hasElementTranscludeDirective&&g.replace||(P=we(d)),ee(M,ir(C),P),A(ir(P),D)}k=u.transcludeOnThisElement?I($,u.transclude,S):S,u(c,$,P,n,k)}}f=null}),function(t,e,i,n,r){var o=r;e.$$destroyed||(f?f.push(e,i,n,o):(u.transcludeOnThisElement&&(o=I(e,u.transclude,r)),u(c,e,i,n,o)))}}function Y(t,e){var i=e.priority-t.priority;return 0!==i?i:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function J(t,e,i,n){if(e)throw Xr("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",e.name,i.name,t,U(n))}function X(t,e){var i=n(e,!0);i&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&E.$$addBindingClass(e),function(t,e){var r=e.parent();n||E.$$addBindingClass(r),E.$$addBindingInfo(r,i.expressions),t.$watch(i,function(t){e[0].nodeValue=t})}}})}function Q(t,i){switch(t=Jn(t||"html")){case"svg":case"math":var n=e.createElement("div");return n.innerHTML="<"+t+">"+i+"</"+t+">",n.childNodes[0].childNodes;default:return i}}function Z(t,e){if("srcdoc"==e)return S.HTML;var i=j(t);return"xlinkHref"==e||"form"==i&&"action"==e||"img"!=i&&("src"==e||"ngSrc"==e)?S.RESOURCE_URL:void 0}function te(t,e,i,r,o){var s=Z(t,r);o=f[r]||o;var a=n(i,!0,s,o);if(a){if("multiple"===r&&"select"===j(t))throw Xr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",U(t));e.push({priority:100,compile:function(){return{pre:function(t,e,l){var h=l.$$observers||(l.$$observers={});if(w.test(r))throw Xr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var u=l[r];u!==i&&(a=u&&n(u,!0,s,o),i=u),a&&(l[r]=a(t),(h[r]||(h[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||t).$watch(a,function(t,e){"class"===r&&t!=e?l.$updateClass(t,e):l.$set(r,t)}))}}}})}}function ee(t,i,n){var r,o,s=i[0],a=i.length,l=s.parentNode;if(t)for(r=0,o=t.length;o>r;r++)if(t[r]==s){t[r++]=n;for(var h=r,u=h+a-1,c=t.length;c>h;h++,u++)c>u?t[h]=t[u]:delete t[h];t.length-=a-1,t.context===s&&(t.context=n);break}l&&l.replaceChild(n,s);var f=e.createDocumentFragment();f.appendChild(s),ir(n).data(ir(s).data()),nr?(fr=!0,nr.cleanData([s])):delete ir.cache[s[ir.expando]];for(var d=1,p=i.length;p>d;d++){var g=i[d];ir(g).remove(),f.appendChild(g),delete i[d]}i[0]=n,i.length=1}function ne(t,e){return c(function(){return t.apply(null,arguments)},t,e)}function oe(t,e,i,n,o,s){try{t(e,i,n,o,s)}catch(a){r(a,U(i))}}var se=function(t,e){if(e){var i,n,r,o=Object.keys(e);for(i=0,n=o.length;n>i;i++)r=o[i],this[r]=e[r]}else this.$attr={};this.$$element=t};se.prototype={$normalize:Qe,$addClass:function(t){t&&t.length>0&&P.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&P.removeClass(this.$$element,t)},$updateClass:function(t,e){var i=Ze(t,e);i&&i.length&&P.addClass(this.$$element,i);var n=Ze(e,t);n&&n.length&&P.removeClass(this.$$element,n)},$set:function(t,e,n,s){var a,l=this.$$element[0],h=Ie(l,t),u=Le(l,t),c=t;if(h?(this.$$element.prop(t,e),s=h):u&&(this[u]=e,c=u),this[t]=e,s?this.$attr[t]=s:(s=this.$attr[t],s||(this.$attr[t]=s=ie(t,"-"))),a=j(this.$$element),"a"===a&&"href"===t||"img"===a&&"src"===t)this[t]=e=D(e,"src"===t);else if("img"===a&&"srcset"===t){for(var f="",d=pr(e),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,g=/\s/.test(d)?p:/(,)/,v=d.split(g),m=Math.floor(v.length/2),y=0;m>y;y++){var b=2*y;f+=D(pr(v[b]),!0),f+=" "+pr(v[b+1])}var x=pr(v[2*y]).split(/\s/);f+=D(pr(x[0]),!0),2===x.length&&(f+=" "+pr(x[1])),this[t]=e=f}n!==!1&&(null===e||e===i?this.$$element.removeAttr(s):this.$$element.attr(s,e));var w=this.$$observers;w&&o(w[c],function(t){try{t(e)}catch(i){r(i)}})},$observe:function(t,e){var i=this,n=i.$$observers||(i.$$observers=he()),r=n[t]||(n[t]=[]);return r.push(e),$.$evalAsync(function(){!r.$$inter&&i.hasOwnProperty(t)&&e(i[t])}),function(){O(r,e)}}};var ae=n.startSymbol(),le=n.endSymbol(),ue="{{"==ae||"}}"==le?g:function(t){return t.replace(/\{\{/g,ae).replace(/}}/g,le)},ce=/^ngAttr[A-Z]/;return E.$$addBindingInfo=k?function(t,e){var i=t.data("$binding")||[];dr(e)?i=i.concat(e):i.push(e),t.data("$binding",i)}:p,E.$$addBindingClass=k?function(t){A(t,"ng-binding")}:p,E.$$addScopeInfo=k?function(t,e,i,n){var r=i?n?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:p,E.$$addScopeClass=k?function(t,e){A(t,e?"ng-isolate-scope":"ng-scope")}:p,E}]}function Qe(t){return ge(t.replace(Qr,""))}function Ze(t,e){var i="",n=t.split(/\s+/),r=e.split(/\s+/);t:for(var o=0;o<n.length;o++){for(var s=n[o],a=0;a<r.length;a++)if(s==r[a])continue t;i+=(i.length>0?" ":"")+s}return i}function ti(t){t=ir(t);var e=t.length;if(1>=e)return t;for(;e--;){var i=t[e];i.nodeType===Tr&&sr.call(t,e,1)}return t}function ei(){var t={},e=!1,r=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(e,i){se(e,"controller"),b(e)?c(t,e):t[e]=i},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(o,s){function a(t,e,i,r){if(!t||!b(t.$scope))throw n("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,e);t.$scope[e]=i}return function(n,l,h,u){var f,d,p,g;if(h=h===!0,u&&x(u)&&(g=u),x(n)){if(d=n.match(r),!d)throw Zr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",n);p=d[1],g=g||d[3],n=t.hasOwnProperty(p)?t[p]:ae(l.$scope,p,!0)||(e?ae(s,p,!0):i),oe(n,p,!0)}if(h){var v=(dr(n)?n[n.length-1]:n).prototype;return f=Object.create(v||null),g&&a(l,g,f,p||n.name),c(function(){return o.invoke(n,f,l,p),f},{instance:f,identifier:g})}return f=o.instantiate(n,l,p),g&&a(l,g,f,p||n.name),f}}]}function ii(){this.$get=["$window",function(t){return ir(t.document)}]}function ni(){this.$get=["$log",function(t){return function(){t.error.apply(t,arguments)}}]}function ri(t,e){if(x(t)){var i=t.replace(ro,"").trim();if(i){var n=e("Content-Type");(n&&0===n.indexOf(to)||oi(i))&&(t=V(i))}}return t}function oi(t){var e=t.match(io);return e&&no[e[0]].test(t)}function si(t){var e,i,n,r=he();return t?(o(t.split("\n"),function(t){n=t.indexOf(":"),e=Jn(pr(t.substr(0,n))),i=pr(t.substr(n+1)),e&&(r[e]=r[e]?r[e]+", "+i:i)}),r):r}function ai(t){var e=b(t)?t:i;return function(i){if(e||(e=si(t)),i){var n=e[Jn(i)];return void 0===n&&(n=null),n}return e}}function li(t,e,i,n){return T(n)?n(t,e,i):(o(n,function(n){t=n(t,e,i)}),t)}function hi(t){return t>=200&&300>t}function ui(){var t=this.defaults={transformResponse:[ri],transformRequest:[function(t){return!b(t)||S(t)||D(t)||P(t)?t:B(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:L(eo),put:L(eo),patch:L(eo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},e=!1;this.useApplyAsync=function(t){return y(t)?(e=!!t,this):e};var r=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(s,l,h,u,f,d){function p(e){function r(t){var e=c({},t);return e.data=t.data?li(t.data,t.headers,t.status,l.transformResponse):t.data,hi(t.status)?e:f.reject(e)}function s(t){var e,i={};return o(t,function(t,n){T(t)?(e=t(),null!=e&&(i[n]=e)):i[n]=t}),i}function a(e){var i,n,r,o=t.headers,a=c({},e.headers);o=c({},o.common,o[Jn(e.method)]);t:for(i in o){n=Jn(i);for(r in a)if(Jn(r)===n)continue t;a[i]=o[i]}return s(a)}if(!ur.isObject(e))throw n("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var l=c({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse},e);l.headers=a(e),l.method=Qn(l.method);var h=function(e){var n=e.headers,s=li(e.data,ai(n),i,e.transformRequest);return m(s)&&o(n,function(t,e){"content-type"===Jn(e)&&delete n[e]}),m(e.withCredentials)&&!m(t.withCredentials)&&(e.withCredentials=t.withCredentials),w(e,s).then(r,r)},u=[h,i],d=f.when(l);for(o(M,function(t){(t.request||t.requestError)&&u.unshift(t.request,t.requestError),(t.response||t.responseError)&&u.push(t.response,t.responseError)});u.length;){var p=u.shift(),g=u.shift();d=d.then(p,g)}return d.success=function(t){return oe(t,"fn"),d.then(function(e){t(e.data,e.status,e.headers,l)}),d},d.error=function(t){return oe(t,"fn"),d.then(null,function(e){t(e.data,e.status,e.headers,l)}),d},d}function g(){o(arguments,function(t){p[t]=function(e,i){return p(c(i||{},{method:t,url:e}))}})}function v(){o(arguments,function(t){p[t]=function(e,i,n){return p(c(n||{},{method:t,url:e,data:i}))}})}function w(n,r){function o(t,i,n,r){function o(){a(i,t,n,r)}d&&(hi(t)?d.put(k,[t,i,si(n),r]):d.remove(k)),e?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function a(t,e,i,r){e=e>=-1?e:0,(hi(e)?v.resolve:v.reject)({data:t,status:e,headers:ai(i),config:n,statusText:r})}function h(t){a(t.data,t.status,L(t.headers()),t.statusText)}function c(){var t=p.pendingRequests.indexOf(n);-1!==t&&p.pendingRequests.splice(t,1)}var d,g,v=f.defer(),x=v.promise,w=n.headers,k=$(n.url,n.params);if(p.pendingRequests.push(n),x.then(c,c),!n.cache&&!t.cache||n.cache===!1||"GET"!==n.method&&"JSONP"!==n.method||(d=b(n.cache)?n.cache:b(t.cache)?t.cache:C),d&&(g=d.get(k),y(g)?E(g)?g.then(h,h):dr(g)?a(g[1],g[0],L(g[2]),g[3]):a(g,200,{},"OK"):d.put(k,x)),m(g)){var T=sn(n.url)?l.cookies()[n.xsrfCookieName||t.xsrfCookieName]:i;T&&(w[n.xsrfHeaderName||t.xsrfHeaderName]=T),s(n.method,k,r,o,w,n.timeout,n.withCredentials,n.responseType)}return x}function $(t,e){if(!e)return t;var i=[];return a(e,function(t,e){null===t||m(t)||(dr(t)||(t=[t]),o(t,function(t){b(t)&&(t=k(t)?t.toISOString():B(t)),i.push(J(e)+"="+J(t))}))}),i.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+i.join("&")),t}var C=h("$http"),M=[];return o(r,function(t){M.unshift(x(t)?d.get(t):d.invoke(t))}),p.pendingRequests=[],g("get","delete","head","jsonp"),v("post","put","patch"),p.defaults=t,p}]}function ci(){return new t.XMLHttpRequest}function fi(){this.$get=["$browser","$window","$document",function(t,e,i){return di(t,ci,t.defer,e.angular.callbacks,i[0])}]}function di(t,e,n,r,s){function a(t,e,i){var n=s.createElement("script"),o=null;return n.type="text/javascript",n.src=t,n.async=!0,o=function(t){Ar(n,"load",o),Ar(n,"error",o),s.body.removeChild(n),n=null;var a=-1,l="unknown";t&&("load"!==t.type||r[e].called||(t={type:"error"}),l=t.type,a="error"===t.type?404:200),i&&i(a,l)},Dr(n,"load",o),Dr(n,"error",o),s.body.appendChild(n),o}return function(s,l,h,u,c,f,d,g){function v(){x&&x(),w&&w.abort()}function m(e,r,o,s,a){$!==i&&n.cancel($),x=w=null,e(r,o,s,a),t.$$completeOutstandingRequest(p)}if(t.$$incOutstandingRequestCount(),l=l||t.url(),"jsonp"==Jn(s)){var b="_"+(r.counter++).toString(36);r[b]=function(t){r[b].data=t,r[b].called=!0};var x=a(l.replace("JSON_CALLBACK","angular.callbacks."+b),b,function(t,e){m(u,t,r[b].data,"",e),r[b]=p})}else{var w=e();w.open(s,l,!0),o(c,function(t,e){y(t)&&w.setRequestHeader(e,t)}),w.onload=function(){var t=w.statusText||"",e="response"in w?w.response:w.responseText,i=1223===w.status?204:w.status;0===i&&(i=e?200:"file"==on(l).protocol?404:0),m(u,i,e,w.getAllResponseHeaders(),t)};var k=function(){m(u,-1,null,null,"")};if(w.onerror=k,w.onabort=k,d&&(w.withCredentials=!0),g)try{w.responseType=g}catch(T){if("json"!==g)throw T}w.send(h||null)}if(f>0)var $=n(v,f);else E(f)&&f.then(v)}}function pi(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(i,n,r){function o(t){return"\\\\\\"+t}function s(o,s,f,d){function p(i){return i.replace(h,t).replace(u,e)}function g(t){try{return t=D(t),d&&!y(t)?t:A(t)}catch(e){var i=oo("interr","Can't interpolate: {0}\n{1}",o,e.toString());n(i)}}d=!!d;for(var v,b,x,w=0,k=[],$=[],C=o.length,M=[],S=[];C>w;){if(-1==(v=o.indexOf(t,w))||-1==(b=o.indexOf(e,v+a))){w!==C&&M.push(p(o.substring(w)));break}w!==v&&M.push(p(o.substring(w,v))),x=o.substring(v+a,b),k.push(x),$.push(i(x,g)),w=b+l,S.push(M.length),M.push("")}if(f&&M.length>1)throw oo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!s||k.length){var P=function(t){for(var e=0,i=k.length;i>e;e++){if(d&&m(t[e]))return;M[S[e]]=t[e]}return M.join("")},D=function(t){return f?r.getTrusted(f,t):r.valueOf(t)},A=function(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=B(t)}return t};return c(function(t){var e=0,i=k.length,r=new Array(i);try{for(;i>e;e++)r[e]=$[e](t);return P(r)}catch(s){var a=oo("interr","Can't interpolate: {0}\n{1}",o,s.toString());n(a)}},{exp:o,expressions:k,$$watchDelegate:function(t,e,i){var n;return t.$watchGroup($,function(i,r){var o=P(i);T(e)&&e.call(this,o,i!==r?n:o,t),n=o},i)}})}}var a=t.length,l=e.length,h=new RegExp(t.replace(/./g,o),"g"),u=new RegExp(e.replace(/./g,o),"g");return s.startSymbol=function(){return t},s.endSymbol=function(){return e},s}]}function gi(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,i,n){function r(r,s,a,l){var h=e.setInterval,u=e.clearInterval,c=0,f=y(l)&&!l,d=(f?n:i).defer(),p=d.promise;return a=y(a)?a:0,p.then(null,null,r),p.$$intervalId=h(function(){d.notify(c++),a>0&&c>=a&&(d.resolve(c),u(p.$$intervalId),delete o[p.$$intervalId]),f||t.$apply()},s),o[p.$$intervalId]=d,p}var o={};return r.cancel=function(t){return t&&t.$$intervalId in o?(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0):!1},r}]}function vi(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(t){return 1===t?"one":"other"}}}}function mi(t){for(var e=t.split("/"),i=e.length;i--;)e[i]=Y(e[i]);return e.join("/")}function yi(t,e){var i=on(t);e.$$protocol=i.protocol,e.$$host=i.hostname,e.$$port=f(i.port)||ao[i.protocol]||null}function bi(t,e){var i="/"!==t.charAt(0);i&&(t="/"+t);var n=on(t);e.$$path=decodeURIComponent(i&&"/"===n.pathname.charAt(0)?n.pathname.substring(1):n.pathname),e.$$search=W(n.search),e.$$hash=decodeURIComponent(n.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function xi(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function wi(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function ki(t){return t.replace(/(#.+)|#$/,"$1")}function Ti(t){return t.substr(0,wi(t).lastIndexOf("/")+1)}function $i(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Ci(t,e,n){this.$$html5=!0,n=n||"",yi(t,this),this.$$parse=function(t){var i=xi(e,t);if(!x(i))throw lo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);bi(i,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=K(this.$$search),i=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=mi(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var s,a,l;return(s=xi(t,r))!==i?(a=s,l=(s=xi(n,s))!==i?e+(xi("/",s)||s):t+a):(s=xi(e,r))!==i?l=e+s:e==r+"/"&&(l=e),l&&this.$$parse(l),!!l}}function Mi(t,e,i){yi(t,this),this.$$parse=function(n){function r(t,e,i){var n,r=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(i)&&(e=e.replace(i,"")),r.exec(e)?t:(n=r.exec(t),n?n[1]:t)}var o,s=xi(t,n)||xi(e,n);m(s)||"#"!==s.charAt(0)?this.$$html5?o=s:(o="",m(s)&&(t=n,this.replace())):(o=xi(i,s),m(o)&&(o=s)),bi(o,this),this.$$path=r(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var e=K(this.$$search),n=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=mi(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+(this.$$url?i+this.$$url:"")},this.$$parseLinkUrl=function(e){return wi(t)==wi(e)?(this.$$parse(e),!0):!1}}function Si(t,e,i){this.$$html5=!0,Mi.apply(this,arguments),this.$$parseLinkUrl=function(n,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,s;return t==wi(n)?o=n:(s=xi(e,n))?o=t+i+s:e===n+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=K(this.$$search),n=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=mi(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+i+this.$$url}}function Pi(t){return function(){return this[t]}}function Di(t,e){return function(i){return m(i)?this[t]:(this[t]=e(i),this.$$compose(),this)}}function Ai(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(t){return A(t)?(e.enabled=t,this):b(t)?(A(t.enabled)&&(e.enabled=t.enabled),A(t.requireBase)&&(e.requireBase=t.requireBase),A(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(i,n,r,o,s){function a(t,e,i){var r=h.url(),o=h.$$state;try{n.url(t,e,i),h.$$state=n.state()}catch(s){throw h.url(r),h.$$state=o,s}}function l(t,e){i.$broadcast("$locationChangeSuccess",h.absUrl(),t,h.$$state,e)}var h,u,c,f=n.baseHref(),d=n.url();if(e.enabled){if(!f&&e.requireBase)throw lo("nobase","$location in HTML5 mode requires a <base> tag to be present!");c=$i(d)+(f||"/"),u=r.history?Ci:Si}else c=wi(d),u=Mi;var p=Ti(c);h=new u(c,p,"#"+t),h.$$parseLinkUrl(d,d),h.$$state=n.state();var g=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var r=ir(t.target);"a"!==j(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var a=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");b(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=on(a.animVal).href),g.test(a)||!a||r.attr("target")||t.isDefaultPrevented()||h.$$parseLinkUrl(a,l)&&(t.preventDefault(),h.absUrl()!=n.url()&&(i.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),ki(h.absUrl())!=ki(d)&&n.url(h.absUrl(),!0);var v=!0;return n.onUrlChange(function(t,e){return m(xi(p,t))?void(s.location.href=t):(i.$evalAsync(function(){var n,r=h.absUrl(),o=h.$$state;h.$$parse(t),h.$$state=e,n=i.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,h.absUrl()===t&&(n?(h.$$parse(r),h.$$state=o,a(r,!1,o)):(v=!1,l(r,o)))}),void(i.$$phase||i.$digest()))}),i.$watch(function(){var t=ki(n.url()),e=ki(h.absUrl()),o=n.state(),s=h.$$replace,u=t!==e||h.$$html5&&r.history&&o!==h.$$state;(v||u)&&(v=!1,i.$evalAsync(function(){var e=h.absUrl(),n=i.$broadcast("$locationChangeStart",e,t,h.$$state,o).defaultPrevented;h.absUrl()===e&&(n?(h.$$parse(t),h.$$state=o):(u&&a(e,s,o===h.$$state?null:h.$$state),l(t,o)))})),h.$$replace=!1}),h}]}function Ei(){var t=!0,e=this;this.debugEnabled=function(e){return y(e)?(t=e,this):t},this.$get=["$window",function(i){function n(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function r(t){var e=i.console||{},r=e[t]||e.log||p,s=!1;try{s=!!r.apply}catch(a){}return s?function(){var t=[];return o(arguments,function(e){t.push(n(e))}),r.apply(e,t)}:function(t,e){r(t,null==e?"":e)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var i=r("debug");return function(){t&&i.apply(e,arguments)}}()}}]}function Ni(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw uo("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function _i(t,e){if(t+="",!x(t))throw uo("iseccst","Cannot convert object to primitive value! Expression: {0}",e);return t}function ji(t,e){if(t){if(t.constructor===t)throw uo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw uo("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw uo("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw uo("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Oi(t,e){if(t){if(t.constructor===t)throw uo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===co||t===fo||t===po)throw uo("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Ii(t){return t.constant}function Li(t,e,i,n,r){ji(t,r),ji(e,r);for(var o,s=i.split("."),a=0;s.length>1;a++){o=Ni(s.shift(),r);var l=0===a&&e&&e[o]||t[o];l||(l={},t[o]=l),t=ji(l,r)}return o=Ni(s.shift(),r),ji(t[o],r),t[o]=n,n}function Fi(t){return"constructor"==t}function zi(t,e,n,r,o,s,a){Ni(t,s),Ni(e,s),Ni(n,s),Ni(r,s),Ni(o,s);var l=function(t){return ji(t,s)},h=a||Fi(t)?l:g,u=a||Fi(e)?l:g,c=a||Fi(n)?l:g,f=a||Fi(r)?l:g,d=a||Fi(o)?l:g;return function(s,a){var l=a&&a.hasOwnProperty(t)?a:s;return null==l?l:(l=h(l[t]),e?null==l?i:(l=u(l[e]),n?null==l?i:(l=c(l[n]),r?null==l?i:(l=f(l[r]),o?null==l?i:l=d(l[o]):l):l):l):l)}}function qi(t,e){return function(i,n){return t(i,n,ji,e)}}function Ri(t,e,n){var r=e.expensiveChecks,s=r?wo:xo,a=s[t];if(a)return a;var l=t.split("."),h=l.length;if(e.csp)a=6>h?zi(l[0],l[1],l[2],l[3],l[4],n,r):function(t,e){var o,s=0;do o=zi(l[s++],l[s++],l[s++],l[s++],l[s++],n,r)(t,e),e=i,t=o;while(h>s);return o};else{var u="";r&&(u+="s = eso(s, fe);\nl = eso(l, fe);\n");var c=r;o(l,function(t,e){Ni(t,n);var i=(e?"s":'((l&&l.hasOwnProperty("'+t+'"))?l:s)')+"."+t;(r||Fi(t))&&(i="eso("+i+", fe)",c=!0),u+="if(s == null) return undefined;\ns="+i+";\n"}),u+="return s;";var f=new Function("s","l","eso","fe",u);f.toString=v(u),c&&(f=qi(f,n)),a=f}return a.sharedGetter=!0,a.assign=function(e,i,n){return Li(e,n,t,i,t)},s[t]=a,a}function Hi(t){return T(t.valueOf)?t.valueOf():ko.call(t)}function Bi(){var t=he(),e=he();this.$get=["$filter","$sniffer",function(i,n){function r(t){var e=t;return t.sharedGetter&&(e=function(e,i){return t(e,i)},e.literal=t.literal,e.constant=t.constant,e.assign=t.assign),e}function s(t,e){for(var i=0,n=t.length;n>i;i++){var r=t[i];r.constant||(r.inputs?s(r.inputs,e):-1===e.indexOf(r)&&e.push(r))}return e}function a(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=Hi(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function l(t,e,i,n){var r,o=n.$$inputs||(n.$$inputs=s(n.inputs,[]));if(1===o.length){var l=a;return o=o[0],t.$watch(function(t){var e=o(t);return a(e,l)||(r=n(t),l=e&&Hi(e)),r},e,i)}for(var h=[],u=0,c=o.length;c>u;u++)h[u]=a;return t.$watch(function(t){for(var e=!1,i=0,s=o.length;s>i;i++){var l=o[i](t);(e||(e=!a(l,h[i])))&&(h[i]=l&&Hi(l))}return e&&(r=n(t)),r},e,i)}function h(t,e,i,n){var r,o;return r=t.$watch(function(t){return n(t)},function(t,i,n){o=t,T(e)&&e.apply(this,arguments),y(t)&&n.$$postDigest(function(){y(o)&&r()})},i)}function u(t,e,i,n){function r(t){var e=!0;return o(t,function(t){y(t)||(e=!1)}),e}var s,a;return s=t.$watch(function(t){return n(t)},function(t,i,n){a=t,T(e)&&e.call(this,t,i,n),r(t)&&n.$$postDigest(function(){r(a)&&s()})},i)}function c(t,e,i,n){var r;return r=t.$watch(function(t){return n(t)},function(){T(e)&&e.apply(this,arguments),r()},i)}function f(t,e){if(!e)return t;var i=t.$$watchDelegate,n=i!==u&&i!==h,r=n?function(i,n){var r=t(i,n);return e(r,i,n)}:function(i,n){var r=t(i,n),o=e(r,i,n);return y(r)?o:r};return t.$$watchDelegate&&t.$$watchDelegate!==l?r.$$watchDelegate=t.$$watchDelegate:e.$stateful||(r.$$watchDelegate=l,r.inputs=[t]),r}var d={csp:n.csp,expensiveChecks:!1},g={csp:n.csp,expensiveChecks:!0};return function(n,o,s){var a,v,m;switch(typeof n){case"string":m=n=n.trim();var y=s?e:t;if(a=y[m],!a){":"===n.charAt(0)&&":"===n.charAt(1)&&(v=!0,n=n.substring(2));var b=s?g:d,x=new yo(b),w=new bo(x,i,b);a=w.parse(n),a.constant?a.$$watchDelegate=c:v?(a=r(a),a.$$watchDelegate=a.literal?u:h):a.inputs&&(a.$$watchDelegate=l),y[m]=a}return f(a,o);case"function":return f(n,o);default:return f(p,o)}}}]}function Vi(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Gi(function(e){t.$evalAsync(e)},e)}]}function Ui(){this.$get=["$browser","$exceptionHandler",function(t,e){return Gi(function(e){t.defer(e)},e)}]}function Gi(t,e){function r(t,e,i){function n(e){return function(i){r||(r=!0,e.call(t,i))}}var r=!1;return[n(e),n(i)]}function s(){this.$$state={status:0}}function a(t,e){return function(i){e.call(t,i)}}function l(t){var n,r,o;o=t.pending,t.processScheduled=!1,t.pending=i;for(var s=0,a=o.length;a>s;++s){r=o[s][0],n=o[s][t.status];try{T(n)?r.resolve(n(t.value)):1===t.status?r.resolve(t.value):r.reject(t.value)}catch(l){r.reject(l),e(l)}}}function h(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){l(e)}))}function u(){this.promise=new s,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}function c(t){var e=new u,i=0,n=dr(t)?[]:{};return o(t,function(t,r){i++,m(t).then(function(t){n.hasOwnProperty(r)||(n[r]=t,--i||e.resolve(n))},function(t){n.hasOwnProperty(r)||e.reject(t)})}),0===i&&e.resolve(n),e.promise}var f=n("$q",TypeError),d=function(){return new u};s.prototype={then:function(t,e,i){var n=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([n,t,e,i]),this.$$state.status>0&&h(this.$$state),n.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return v(e,!0,t)},function(e){return v(e,!1,t)},e)}},u.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(f("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var i,n;n=r(this,this.$$resolve,this.$$reject);try{(b(t)||T(t))&&(i=t&&t.then),T(i)?(this.promise.$$state.status=-1,i.call(t,n[0],n[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,h(this.promise.$$state))}catch(o){n[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,h(this.promise.$$state)},notify:function(i){var n=this.promise.$$state.pending;this.promise.$$state.status<=0&&n&&n.length&&t(function(){for(var t,r,o=0,s=n.length;s>o;o++){r=n[o][0],t=n[o][3];try{r.notify(T(t)?t(i):i)}catch(a){e(a)}}})}};var p=function(t){var e=new u;return e.reject(t),e.promise},g=function(t,e){var i=new u;return e?i.resolve(t):i.reject(t),i.promise},v=function(t,e,i){var n=null;try{T(i)&&(n=i())}catch(r){return g(r,!1)}return E(n)?n.then(function(){return g(t,e)},function(t){return g(t,!1)}):g(t,e)},m=function(t,e,i,n){var r=new u;return r.resolve(t),r.promise.then(e,i,n)},y=function x(t){function e(t){n.resolve(t)}function i(t){n.reject(t)}if(!T(t))throw f("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof x))return new x(t);var n=new u;return t(e,i),n.promise};return y.defer=d,y.reject=p,y.when=m,y.all=c,y}function Wi(){this.$get=["$window","$timeout",function(t,e){function i(){for(var t=0;t<u.length;t++){var e=u[t];e&&(u[t]=null,e())}h=u.length=0}function n(t){var e=u.length;return h++,u.push(t),0===e&&(l=a(i)),function(){e>=0&&(u[e]=null,e=null,0===--h&&l&&(l(),l=null,u.length=0))}}var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame,o=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,s=!!r,a=s?function(t){var e=r(t);return function(){o(e)}}:function(t){var i=e(t,16.66,!1);return function(){e.cancel(i)}};n.supported=s;var l,h=0,u=[];return n}]}function Ki(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=h(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,i=n("$rootScope"),s=null,a=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(n,l,u,c){function f(t){t.currentScope.$$destroyed=!0}function d(){this.$id=h(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function g(t){if($.$$phase)throw i("inprog","{0} already in progress",$.$$phase);$.$$phase=t}function v(){$.$$phase=null}function y(t,e,i){do t.$$listenerCount[i]-=e,0===t.$$listenerCount[i]&&delete t.$$listenerCount[i];while(t=t.$parent)}function x(){}function w(){for(;S.length;)try{S.shift()()}catch(t){l(t)}a=null}function k(){null===a&&(a=c.defer(function(){$.$apply(w)}))}d.prototype={constructor:d,$new:function(e,i){var n;return i=i||this,e?(n=new d,n.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),n=new this.$$ChildScope),n.$parent=i,n.$$prevSibling=i.$$childTail,i.$$childHead?(i.$$childTail.$$nextSibling=n,i.$$childTail=n):i.$$childHead=i.$$childTail=n,(e||i!=this)&&n.$on("$destroy",f),n},$watch:function(t,e,i){var n=u(t);if(n.$$watchDelegate)return n.$$watchDelegate(this,e,i,n);var r=this,o=r.$$watchers,a={fn:e,last:x,get:n,exp:t,eq:!!i};return s=null,T(e)||(a.fn=p),o||(o=r.$$watchers=[]),o.unshift(a),function(){O(o,a),s=null}},$watchGroup:function(t,e){function i(){l=!1,h?(h=!1,e(r,r,a)):e(r,n,a)}var n=new Array(t.length),r=new Array(t.length),s=[],a=this,l=!1,h=!0;if(!t.length){var u=!0;return a.$evalAsync(function(){u&&e(r,r,a)}),function(){u=!1}}return 1===t.length?this.$watch(t[0],function(t,i,o){r[0]=t,n[0]=i,e(r,t===i?r:n,o)}):(o(t,function(t,e){var o=a.$watch(t,function(t,o){r[e]=t,n[e]=o,l||(l=!0,a.$evalAsync(i))});s.push(o)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(t,e){function i(t){o=t;var e,i,n,a,l;if(!m(o)){if(b(o))if(r(o)){s!==d&&(s=d,v=s.length=0,c++),e=o.length,v!==e&&(c++,s.length=v=e);for(var h=0;e>h;h++)l=s[h],a=o[h],n=l!==l&&a!==a,n||l===a||(c++,s[h]=a)}else{s!==p&&(s=p={},v=0,c++),e=0;for(i in o)o.hasOwnProperty(i)&&(e++,a=o[i],l=s[i],i in s?(n=l!==l&&a!==a,n||l===a||(c++,s[i]=a)):(v++,s[i]=a,c++));if(v>e){c++;for(i in s)o.hasOwnProperty(i)||(v--,delete s[i])}}else s!==o&&(s=o,c++);return c}}function n(){if(g?(g=!1,e(o,o,l)):e(o,a,l),h)if(b(o))if(r(o)){a=new Array(o.length);
for(var t=0;t<o.length;t++)a[t]=o[t]}else{a={};for(var i in o)Xn.call(o,i)&&(a[i]=o[i])}else a=o}i.$stateful=!0;var o,s,a,l=this,h=e.length>1,c=0,f=u(t,i),d=[],p={},g=!0,v=0;return this.$watch(f,n)},$digest:function(){var t,n,r,o,h,u,f,d,p,m,y=e,b=this,k=[];g("$digest"),c.$$checkUrlChange(),this===$&&null!==a&&(c.defer.cancel(a),w()),s=null;do{for(u=!1,d=b;C.length;){try{m=C.shift(),m.scope.$eval(m.expression,m.locals)}catch(S){l(S)}s=null}t:do{if(o=d.$$watchers)for(h=o.length;h--;)try{if(t=o[h])if((n=t.get(d))===(r=t.last)||(t.eq?F(n,r):"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))){if(t===s){u=!1;break t}}else u=!0,s=t,t.last=t.eq?I(n,null):n,t.fn(n,r===x?n:r,d),5>y&&(p=4-y,k[p]||(k[p]=[]),k[p].push({msg:T(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:n,oldVal:r}))}catch(S){l(S)}if(!(f=d.$$childHead||d!==b&&d.$$nextSibling))for(;d!==b&&!(f=d.$$nextSibling);)d=d.$parent}while(d=f);if((u||C.length)&&!y--)throw v(),i("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,k)}while(u||C.length);for(v();M.length;)try{M.shift()()}catch(S){l(S)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==$){for(var e in this.$$listenerCount)y(this,this.$$listenerCount[e],e);t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(t,e){return u(t)(this,e)},$evalAsync:function(t,e){$.$$phase||C.length||c.defer(function(){C.length&&$.$digest()}),C.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){M.push(t)},$apply:function(t){try{return g("$apply"),this.$eval(t)}catch(e){l(e)}finally{v();try{$.$digest()}catch(e){throw l(e),e}}},$applyAsync:function(t){function e(){i.$eval(t)}var i=this;t&&S.push(e),k()},$on:function(t,e){var i=this.$$listeners[t];i||(this.$$listeners[t]=i=[]),i.push(e);var n=this;do n.$$listenerCount[t]||(n.$$listenerCount[t]=0),n.$$listenerCount[t]++;while(n=n.$parent);var r=this;return function(){var n=i.indexOf(e);-1!==n&&(i[n]=null,y(r,1,t))}},$emit:function(t){var e,i,n,r=[],o=this,s=!1,a={name:t,targetScope:o,stopPropagation:function(){s=!0},preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1},h=z([a],arguments,1);do{for(e=o.$$listeners[t]||r,a.currentScope=o,i=0,n=e.length;n>i;i++)if(e[i])try{e[i].apply(null,h)}catch(u){l(u)}else e.splice(i,1),i--,n--;if(s)return a.currentScope=null,a;o=o.$parent}while(o);return a.currentScope=null,a},$broadcast:function(t){var e=this,i=e,n=e,r={name:t,targetScope:e,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!e.$$listenerCount[t])return r;for(var o,s,a,h=z([r],arguments,1);i=n;){for(r.currentScope=i,o=i.$$listeners[t]||[],s=0,a=o.length;a>s;s++)if(o[s])try{o[s].apply(null,h)}catch(u){l(u)}else o.splice(s,1),s--,a--;if(!(n=i.$$listenerCount[t]&&i.$$childHead||i!==e&&i.$$nextSibling))for(;i!==e&&!(n=i.$$nextSibling);)i=i.$parent}return r.currentScope=null,r}};var $=new d,C=$.$$asyncQueue=[],M=$.$$postDigestQueue=[],S=$.$$applyAsyncQueue=[];return $}]}function Yi(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.$get=function(){return function(i,n){var r,o=n?e:t;return r=on(i).href,""===r||r.match(o)?i:"unsafe:"+r}}}function Ji(t){if("self"===t)return t;if(x(t)){if(t.indexOf("***")>-1)throw To("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=gr(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if($(t))return new RegExp("^"+t.source+"$");throw To("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Xi(t){var e=[];return y(t)&&o(t,function(t){e.push(Ji(t))}),e}function Qi(){this.SCE_CONTEXTS=$o;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Xi(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Xi(t)),e},this.$get=["$injector",function(n){function r(t,e){return"self"===t?sn(e):!!t.exec(e.href)}function o(i){var n,o,s=on(i.toString()),a=!1;for(n=0,o=t.length;o>n;n++)if(r(t[n],s)){a=!0;break}if(a)for(n=0,o=e.length;o>n;n++)if(r(e[n],s)){a=!1;break}return a}function s(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var n=f.hasOwnProperty(t)?f[t]:null;if(!n)throw To("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===i||""===e)return e;if("string"!=typeof e)throw To("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function l(t){return t instanceof c?t.$$unwrapTrustedValue():t}function h(t,e){if(null===e||e===i||""===e)return e;var n=f.hasOwnProperty(t)?f[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===$o.RESOURCE_URL){if(o(e))return e;throw To("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===$o.HTML)return u(e);throw To("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(){throw To("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var c=s(),f={};return f[$o.HTML]=s(c),f[$o.CSS]=s(c),f[$o.URL]=s(c),f[$o.JS]=s(c),f[$o.RESOURCE_URL]=s(f[$o.URL]),{trustAs:a,getTrusted:h,valueOf:l}}]}function Zi(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,i){if(t&&8>er)throw To("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var n=L($o);n.isEnabled=function(){return t},n.trustAs=i.trustAs,n.getTrusted=i.getTrusted,n.valueOf=i.valueOf,t||(n.trustAs=n.getTrusted=function(t,e){return e},n.valueOf=g),n.parseAs=function(t,i){var r=e(i);return r.literal&&r.constant?r:e(i,function(e){return n.getTrusted(t,e)})};var r=n.parseAs,s=n.getTrusted,a=n.trustAs;return o($o,function(t,e){var i=Jn(e);n[ge("parse_as_"+i)]=function(e){return r(t,e)},n[ge("get_trusted_"+i)]=function(e){return s(t,e)},n[ge("trust_as_"+i)]=function(e){return a(t,e)}}),n}]}function tn(){this.$get=["$window","$document",function(t,e){var i,n,r={},o=f((/android (\d+)/.exec(Jn((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),a=e[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,h=a.body&&a.body.style,u=!1,c=!1;if(h){for(var d in h)if(n=l.exec(d)){i=n[0],i=i.substr(0,1).toUpperCase()+i.substr(1);break}i||(i="WebkitOpacity"in h&&"webkit"),u=!!("transition"in h||i+"Transition"in h),c=!!("animation"in h||i+"Animation"in h),!o||u&&c||(u=x(a.body.style.webkitTransition),c=x(a.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>o||s),hasEvent:function(t){if("input"===t&&11>=er)return!1;if(m(r[t])){var e=a.createElement("div");r[t]="on"+t in e}return r[t]},csp:vr(),vendorPrefix:i,transitions:u,animations:c,android:o}}]}function en(){this.$get=["$templateCache","$http","$q","$sce",function(t,e,i,n){function r(o,s){function a(t){if(!s)throw Xr("tpload","Failed to load template: {0}",o);return i.reject(t)}r.totalPendingRequests++,x(o)&&t.get(o)||(o=n.getTrustedResourceUrl(o));var l=e.defaults&&e.defaults.transformResponse;dr(l)?l=l.filter(function(t){return t!==ri}):l===ri&&(l=null);var h={cache:t,transformResponse:l};return e.get(o,h)["finally"](function(){r.totalPendingRequests--}).then(function(t){return t.data},a)}return r.totalPendingRequests=0,r}]}function nn(){this.$get=["$rootScope","$browser","$location",function(t,e,i){var n={};return n.findBindings=function(t,e,i){var n=t.getElementsByClassName("ng-binding"),r=[];return o(n,function(t){var n=ur.element(t).data("$binding");n&&o(n,function(n){if(i){var o=new RegExp("(^|\\s)"+gr(e)+"(\\s|\\||$)");o.test(n)&&r.push(t)}else-1!=n.indexOf(e)&&r.push(t)})}),r},n.findModels=function(t,e,i){for(var n=["ng-","data-ng-","ng\\:"],r=0;r<n.length;++r){var o=i?"=":"*=",s="["+n[r]+"model"+o+'"'+e+'"]',a=t.querySelectorAll(s);if(a.length)return a}},n.getLocation=function(){return i.url()},n.setLocation=function(e){e!==i.url()&&(i.url(e),t.$digest())},n.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},n}]}function rn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,i,n,r){function o(o,a,l){var h,u=y(l)&&!l,c=(u?n:i).defer(),f=c.promise;return h=e.defer(function(){try{c.resolve(o())}catch(e){c.reject(e),r(e)}finally{delete s[f.$$timeoutId]}u||t.$apply()},a),f.$$timeoutId=h,s[h]=c,f}var s={};return o.cancel=function(t){return t&&t.$$timeoutId in s?(s[t.$$timeoutId].reject("canceled"),delete s[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function on(t){var e=t;return er&&(Co.setAttribute("href",e),e=Co.href),Co.setAttribute("href",e),{href:Co.href,protocol:Co.protocol?Co.protocol.replace(/:$/,""):"",host:Co.host,search:Co.search?Co.search.replace(/^\?/,""):"",hash:Co.hash?Co.hash.replace(/^#/,""):"",hostname:Co.hostname,port:Co.port,pathname:"/"===Co.pathname.charAt(0)?Co.pathname:"/"+Co.pathname}}function sn(t){var e=x(t)?on(t):t;return e.protocol===Mo.protocol&&e.host===Mo.host}function an(){this.$get=v(t)}function ln(t){function e(n,r){if(b(n)){var s={};return o(n,function(t,i){s[i]=e(i,t)}),s}return t.factory(n+i,r)}var i="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+i)}}],e("currency",fn),e("date",Cn),e("filter",hn),e("json",Mn),e("limitTo",Sn),e("lowercase",Eo),e("number",dn),e("orderBy",Pn),e("uppercase",No)}function hn(){return function(t,e,i){if(!dr(t))return t;var n,r,o=null!==e?typeof e:"null";switch(o){case"function":n=e;break;case"boolean":case"null":case"number":case"string":r=!0;case"object":n=un(e,i,r);break;default:return t}return t.filter(n)}}function un(t,e,i){var n,r=b(t)&&"$"in t;return e===!0?e=F:T(e)||(e=function(t,e){return m(t)?!1:null===t||null===e?t===e:b(t)||b(e)?!1:(t=Jn(""+t),e=Jn(""+e),-1!==t.indexOf(e))}),n=function(n){return r&&!b(n)?cn(n,t.$,e,!1):cn(n,t,e,i)}}function cn(t,e,i,n,r){var o=null!==t?typeof t:"null",s=null!==e?typeof e:"null";if("string"===s&&"!"===e.charAt(0))return!cn(t,e.substring(1),i,n);if(dr(t))return t.some(function(t){return cn(t,e,i,n)});switch(o){case"object":var a;if(n){for(a in t)if("$"!==a.charAt(0)&&cn(t[a],e,i,!0))return!0;return r?!1:cn(t,e,i,!1)}if("object"===s){for(a in e){var l=e[a];if(!T(l)&&!m(l)){var h="$"===a,u=h?t:t[a];if(!cn(u,l,i,h,h))return!1}}return!0}return i(t,e);case"function":return!1;default:return i(t,e)}}function fn(t){var e=t.NUMBER_FORMATS;return function(t,i,n){return m(i)&&(i=e.CURRENCY_SYM),m(n)&&(n=e.PATTERNS[1].maxFrac),null==t?t:pn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,n).replace(/\u00A4/g,i)}}function dn(t){var e=t.NUMBER_FORMATS;return function(t,i){return null==t?t:pn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,i)}}function pn(t,e,i,n,r){if(!isFinite(t)||b(t))return"";var o=0>t;t=Math.abs(t);var s=t+"",a="",l=[],h=!1;if(-1!==s.indexOf("e")){var u=s.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>r+1?t=0:(a=s,h=!0)}if(h)r>0&&1>t&&(a=t.toFixed(r),t=parseFloat(a));else{var c=(s.split(So)[1]||"").length;m(r)&&(r=Math.min(Math.max(e.minFrac,c),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+r)).toString()+"e"+-r);var f=(""+t).split(So),d=f[0];f=f[1]||"";var p,g=0,v=e.lgSize,y=e.gSize;if(d.length>=v+y)for(g=d.length-v,p=0;g>p;p++)(g-p)%y===0&&0!==p&&(a+=i),a+=d.charAt(p);for(p=g;p<d.length;p++)(d.length-p)%v===0&&0!==p&&(a+=i),a+=d.charAt(p);for(;f.length<r;)f+="0";r&&"0"!==r&&(a+=n+f.substr(0,r))}return 0===t&&(o=!1),l.push(o?e.negPre:e.posPre,a,o?e.negSuf:e.posSuf),l.join("")}function gn(t,e,i){var n="";for(0>t&&(n="-",t=-t),t=""+t;t.length<e;)t="0"+t;return i&&(t=t.substr(t.length-e)),n+t}function vn(t,e,i,n){return i=i||0,function(r){var o=r["get"+t]();return(i>0||o>-i)&&(o+=i),0===o&&-12==i&&(o=12),gn(o,e,n)}}function mn(t,e){return function(i,n){var r=i["get"+t](),o=Qn(e?"SHORT"+t:t);return n[o][r]}}function yn(t){var e=-1*t.getTimezoneOffset(),i=e>=0?"+":"";return i+=gn(Math[e>0?"floor":"ceil"](e/60),2)+gn(Math.abs(e%60),2)}function bn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function xn(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function wn(t){return function(e){var i=bn(e.getFullYear()),n=xn(e),r=+n-+i,o=1+Math.round(r/6048e5);return gn(o,t)}}function kn(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function Tn(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function $n(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function Cn(t){function e(t){var e;if(e=t.match(i)){var n=new Date(0),r=0,o=0,s=e[8]?n.setUTCFullYear:n.setFullYear,a=e[8]?n.setUTCHours:n.setHours;e[9]&&(r=f(e[9]+e[10]),o=f(e[9]+e[11])),s.call(n,f(e[1]),f(e[2])-1,f(e[3]));var l=f(e[4]||0)-r,h=f(e[5]||0)-o,u=f(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return a.call(n,l,h,u,c),n}return t}var i=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(i,n,r){var s,a,l="",h=[];if(n=n||"mediumDate",n=t.DATETIME_FORMATS[n]||n,x(i)&&(i=Ao.test(i)?f(i):e(i)),w(i)&&(i=new Date(i)),!k(i))return i;for(;n;)a=Do.exec(n),a?(h=z(h,a,1),n=h.pop()):(h.push(n),n=null);return r&&"UTC"===r&&(i=new Date(i.getTime()),i.setMinutes(i.getMinutes()+i.getTimezoneOffset())),o(h,function(e){s=Po[e],l+=s?s(i,t.DATETIME_FORMATS):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function Mn(){return function(t,e){return m(e)&&(e=2),B(t,e)}}function Sn(){return function(t,e){return w(t)&&(t=t.toString()),dr(t)||x(t)?(e=1/0===Math.abs(Number(e))?Number(e):f(e),e?e>0?t.slice(0,e):t.slice(e):x(t)?"":[]):t}}function Pn(t){return function(e,i,n){function o(t,e){for(var n=0;n<i.length;n++){var r=i[n](t,e);if(0!==r)return r}return 0}function s(t,e){return e?function(e,i){return t(i,e)}:t}function a(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function l(t){return null===t?"null":"function"==typeof t.valueOf&&(t=t.valueOf(),a(t))?t:"function"==typeof t.toString&&(t=t.toString(),a(t))?t:""}function h(t,e){var i=typeof t,n=typeof e;return i===n&&"object"===i&&(t=l(t),e=l(e)),i===n?("string"===i&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:e>t?-1:1):n>i?-1:1}return r(e)?(i=dr(i)?i:[i],0===i.length&&(i=["+"]),i=i.map(function(e){var i=!1,n=e||g;if(x(e)){if(("+"==e.charAt(0)||"-"==e.charAt(0))&&(i="-"==e.charAt(0),e=e.substring(1)),""===e)return s(h,i);if(n=t(e),n.constant){var r=n();return s(function(t,e){return h(t[r],e[r])},i)}}return s(function(t,e){return h(n(t),n(e))},i)}),or.call(e).sort(s(o,n))):e}}function Dn(t){return T(t)&&(t={link:t}),t.restrict=t.restrict||"AC",v(t)}function An(t,e){t.$name=e}function En(t,e,n,r,s){var a=this,l=[],h=a.$$parentForm=t.parent().controller("form")||Oo;a.$error={},a.$$success={},a.$pending=i,a.$name=s(e.name||e.ngForm||"")(n),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,h.$addControl(a),a.$rollbackViewValue=function(){o(l,function(t){t.$rollbackViewValue()})},a.$commitViewValue=function(){o(l,function(t){t.$commitViewValue()})},a.$addControl=function(t){se(t.$name,"input"),l.push(t),t.$name&&(a[t.$name]=t)},a.$$renameControl=function(t,e){var i=t.$name;a[i]===t&&delete a[i],a[e]=t,t.$name=e},a.$removeControl=function(t){t.$name&&a[t.$name]===t&&delete a[t.$name],o(a.$pending,function(e,i){a.$setValidity(i,null,t)}),o(a.$error,function(e,i){a.$setValidity(i,null,t)}),o(a.$$success,function(e,i){a.$setValidity(i,null,t)}),O(l,t)},Gn({ctrl:this,$element:t,set:function(t,e,i){var n=t[e];if(n){var r=n.indexOf(i);-1===r&&n.push(i)}else t[e]=[i]},unset:function(t,e,i){var n=t[e];n&&(O(n,i),0===n.length&&delete t[e])},parentForm:h,$animate:r}),a.$setDirty=function(){r.removeClass(t,ms),r.addClass(t,ys),a.$dirty=!0,a.$pristine=!1,h.$setDirty()},a.$setPristine=function(){r.setClass(t,ms,ys+" "+Io),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,o(l,function(t){t.$setPristine()})},a.$setUntouched=function(){o(l,function(t){t.$setUntouched()})},a.$setSubmitted=function(){r.addClass(t,Io),a.$submitted=!0,h.$setSubmitted()}}function Nn(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function _n(t,e,i,n,r,o){jn(t,e,i,n,r,o),Nn(n)}function jn(t,e,i,n,r,o){var s=Jn(e[0].type);if(!r.android){var a=!1;e.on("compositionstart",function(){a=!0}),e.on("compositionend",function(){a=!1,l()})}var l=function(t){if(h&&(o.defer.cancel(h),h=null),!a){var r=e.val(),l=t&&t.type;"password"===s||i.ngTrim&&"false"===i.ngTrim||(r=pr(r)),(n.$viewValue!==r||""===r&&n.$$hasNativeValidators)&&n.$setViewValue(r,l)}};if(r.hasEvent("input"))e.on("input",l);else{var h,u=function(t,e,i){h||(h=o.defer(function(){h=null,e&&e.value===i||l(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||u(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",u)}e.on("change",l),n.$render=function(){e.val(n.$isEmpty(n.$viewValue)?"":n.$viewValue)}}function On(t,e){if(k(t))return t;if(x(t)){Go.lastIndex=0;var i=Go.exec(t);if(i){var n=+i[1],r=+i[2],o=0,s=0,a=0,l=0,h=bn(n),u=7*(r-1);return e&&(o=e.getHours(),s=e.getMinutes(),a=e.getSeconds(),l=e.getMilliseconds()),new Date(n,0,h.getDate()+u,o,s,a,l)}}return 0/0}function In(t,e){return function(i,n){var r,s;if(k(i))return i;if(x(i)){if('"'==i.charAt(0)&&'"'==i.charAt(i.length-1)&&(i=i.substring(1,i.length-1)),qo.test(i))return new Date(i);if(t.lastIndex=0,r=t.exec(i))return r.shift(),s=n?{yyyy:n.getFullYear(),MM:n.getMonth()+1,dd:n.getDate(),HH:n.getHours(),mm:n.getMinutes(),ss:n.getSeconds(),sss:n.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(t,i){i<e.length&&(s[e[i]]=+t)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return 0/0}}function Ln(t,e,n,r){return function(o,s,a,l,h,u,c){function f(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function d(t){return y(t)?k(t)?t:n(t):i}Fn(o,s,a,l),jn(o,s,a,l,h,u);var p,g=l&&l.$options&&l.$options.timezone;if(l.$$parserName=t,l.$parsers.push(function(t){if(l.$isEmpty(t))return null;if(e.test(t)){var r=n(t,p);return"UTC"===g&&r.setMinutes(r.getMinutes()-r.getTimezoneOffset()),r}return i}),l.$formatters.push(function(t){if(t&&!k(t))throw ks("datefmt","Expected `{0}` to be a date",t);if(f(t)){if(p=t,p&&"UTC"===g){var e=6e4*p.getTimezoneOffset();p=new Date(p.getTime()+e)}return c("date")(t,r,g)}return p=null,""}),y(a.min)||a.ngMin){var v;l.$validators.min=function(t){return!f(t)||m(v)||n(t)>=v},a.$observe("min",function(t){v=d(t),l.$validate()})}if(y(a.max)||a.ngMax){var b;l.$validators.max=function(t){return!f(t)||m(b)||n(t)<=b},a.$observe("max",function(t){b=d(t),l.$validate()})}}}function Fn(t,e,n,r){var o=e[0],s=r.$$hasNativeValidators=b(o.validity);s&&r.$parsers.push(function(t){var n=e.prop(Yn)||{};return n.badInput&&!n.typeMismatch?i:t})}function zn(t,e,n,r,o,s){if(Fn(t,e,n,r),jn(t,e,n,r,o,s),r.$$parserName="number",r.$parsers.push(function(t){return r.$isEmpty(t)?null:Bo.test(t)?parseFloat(t):i}),r.$formatters.push(function(t){if(!r.$isEmpty(t)){if(!w(t))throw ks("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),y(n.min)||n.ngMin){var a;r.$validators.min=function(t){return r.$isEmpty(t)||m(a)||t>=a},n.$observe("min",function(t){y(t)&&!w(t)&&(t=parseFloat(t,10)),a=w(t)&&!isNaN(t)?t:i,r.$validate()})}if(y(n.max)||n.ngMax){var l;r.$validators.max=function(t){return r.$isEmpty(t)||m(l)||l>=t},n.$observe("max",function(t){y(t)&&!w(t)&&(t=parseFloat(t,10)),l=w(t)&&!isNaN(t)?t:i,r.$validate()})}}function qn(t,e,i,n,r,o){jn(t,e,i,n,r,o),Nn(n),n.$$parserName="url",n.$validators.url=function(t,e){var i=t||e;return n.$isEmpty(i)||Ro.test(i)}}function Rn(t,e,i,n,r,o){jn(t,e,i,n,r,o),Nn(n),n.$$parserName="email",n.$validators.email=function(t,e){var i=t||e;return n.$isEmpty(i)||Ho.test(i)}}function Hn(t,e,i,n){m(i.name)&&e.attr("name",h());var r=function(t){e[0].checked&&n.$setViewValue(i.value,t&&t.type)};e.on("click",r),n.$render=function(){var t=i.value;e[0].checked=t==n.$viewValue},i.$observe("value",n.$render)}function Bn(t,e,i,n,r){var o;if(y(n)){if(o=t(n),!o.constant)throw ks("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",i,n);return o(e)}return r}function Vn(t,e,i,n,r,o,s,a){var l=Bn(a,t,"ngTrueValue",i.ngTrueValue,!0),h=Bn(a,t,"ngFalseValue",i.ngFalseValue,!1),u=function(t){n.$setViewValue(e[0].checked,t&&t.type)};e.on("click",u),n.$render=function(){e[0].checked=n.$viewValue},n.$isEmpty=function(t){return t===!1},n.$formatters.push(function(t){return F(t,l)}),n.$parsers.push(function(t){return t?l:h})}function Un(t,e){return t="ngClass"+t,["$animate",function(i){function n(t,e){var i=[];t:for(var n=0;n<t.length;n++){for(var r=t[n],o=0;o<e.length;o++)if(r==e[o])continue t;i.push(r)}return i}function r(t){if(dr(t))return t;if(x(t))return t.split(" ");if(b(t)){var e=[];return o(t,function(t,i){t&&(e=e.concat(i.split(" ")))}),e}return t}return{restrict:"AC",link:function(s,a,l){function h(t){var e=c(t,1);l.$addClass(e)}function u(t){var e=c(t,-1);l.$removeClass(e)}function c(t,e){var i=a.data("$classCounts")||{},n=[];return o(t,function(t){(e>0||i[t])&&(i[t]=(i[t]||0)+e,i[t]===+(e>0)&&n.push(t))}),a.data("$classCounts",i),n.join(" ")}function f(t,e){var r=n(e,t),o=n(t,e);r=c(r,1),o=c(o,-1),r&&r.length&&i.addClass(a,r),o&&o.length&&i.removeClass(a,o)}function d(t){if(e===!0||s.$index%2===e){var i=r(t||[]);if(p){if(!F(t,p)){var n=r(p);f(n,i)}}else h(i)}p=L(t)}var p;s.$watch(l[t],d,!0),l.$observe("class",function(){d(s.$eval(l[t]))}),"ngClass"!==t&&s.$watch("$index",function(i,n){var o=1&i;if(o!==(1&n)){var a=r(s.$eval(l[t]));o===e?h(a):u(a)}})}}}]}function Gn(t){function e(t,e,l){e===i?n("$pending",t,l):r("$pending",t,l),A(e)?e?(c(a.$error,t,l),u(a.$$success,t,l)):(u(a.$error,t,l),c(a.$$success,t,l)):(c(a.$error,t,l),c(a.$$success,t,l)),a.$pending?(o(ws,!0),a.$valid=a.$invalid=i,s("",null)):(o(ws,!1),a.$valid=Wn(a.$error),a.$invalid=!a.$valid,s("",a.$valid));var h;h=a.$pending&&a.$pending[t]?i:a.$error[t]?!1:a.$$success[t]?!0:null,s(t,h),f.$setValidity(t,h,a)}function n(t,e,i){a[t]||(a[t]={}),u(a[t],e,i)}function r(t,e,n){a[t]&&c(a[t],e,n),Wn(a[t])&&(a[t]=i)}function o(t,e){e&&!h[t]?(d.addClass(l,t),h[t]=!0):!e&&h[t]&&(d.removeClass(l,t),h[t]=!1)}function s(t,e){t=t?"-"+ie(t,"-"):"",o(gs+t,e===!0),o(vs+t,e===!1)}var a=t.ctrl,l=t.$element,h={},u=t.set,c=t.unset,f=t.parentForm,d=t.$animate;h[vs]=!(h[gs]=l.hasClass(gs)),a.$setValidity=e}function Wn(t){if(t)for(var e in t)return!1;return!0}var Kn=/^\/(.+)\/([a-z]*)$/,Yn="validity",Jn=function(t){return x(t)?t.toLowerCase():t},Xn=Object.prototype.hasOwnProperty,Qn=function(t){return x(t)?t.toUpperCase():t},Zn=function(t){return x(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},tr=function(t){return x(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(Jn=Zn,Qn=tr);var er,ir,nr,rr,or=[].slice,sr=[].splice,ar=[].push,lr=Object.prototype.toString,hr=n("ng"),ur=t.angular||(t.angular={}),cr=0;er=e.documentMode,p.$inject=[],g.$inject=[];var fr,dr=Array.isArray,pr=function(t){return x(t)?t.trim():t},gr=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},vr=function(){if(y(vr.isActive_))return vr.isActive_;var t=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!t)try{new Function("")}catch(i){t=!0}return vr.isActive_=t},mr=["ng-","data-ng-","ng:","x-ng-"],yr=/[A-Z]/g,br=!1,xr=1,wr=2,kr=3,Tr=8,$r=9,Cr=11,Mr={full:"1.3.20",major:1,minor:3,dot:20,codeName:"shallow-translucence"};xe.expando="ng339";var Sr=xe.cache={},Pr=1,Dr=function(t,e,i){t.addEventListener(e,i,!1)},Ar=function(t,e,i){t.removeEventListener(e,i,!1)};xe._data=function(t){return this.cache[t[this.expando]]||{}};var Er=/([\:\-\_]+(.))/g,Nr=/^moz([A-Z])/,_r={mouseleave:"mouseout",mouseenter:"mouseover"},jr=n("jqLite"),Or=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ir=/<|&#?\w+;/,Lr=/<([\w:]+)/,Fr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};zr.optgroup=zr.option,zr.tbody=zr.tfoot=zr.colgroup=zr.caption=zr.thead,zr.th=zr.td;var qr=xe.prototype={ready:function(i){function n(){r||(r=!0,i())}var r=!1;"complete"===e.readyState?setTimeout(n):(this.on("DOMContentLoaded",n),xe(t).on("load",n))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return ir(t>=0?this[t]:this[this.length+t])},length:0,push:ar,sort:[].sort,splice:[].splice},Rr={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Rr[Jn(t)]=t});var Hr={};o("input,select,option,textarea,button,form,details".split(","),function(t){Hr[t]=!0});var Br={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Me,removeData:$e},function(t,e){xe[e]=t}),o({data:Me,inheritedData:Ne,scope:function(t){return ir.data(t,"$scope")||Ne(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return ir.data(t,"$isolateScope")||ir.data(t,"$isolateScopeNoTemplate")},controller:Ee,injector:function(t){return Ne(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Se,css:function(t,e,i){return e=ge(e),y(i)?void(t.style[e]=i):t.style[e]},attr:function(t,e,n){var r=t.nodeType;if(r!==kr&&r!==wr&&r!==Tr){var o=Jn(e);if(Rr[o]){if(!y(n))return t[e]||(t.attributes.getNamedItem(e)||p).specified?o:i;n?(t[e]=!0,t.setAttribute(e,o)):(t[e]=!1,t.removeAttribute(o))}else if(y(n))t.setAttribute(e,n);else if(t.getAttribute){var s=t.getAttribute(e,2);return null===s?i:s}}},prop:function(t,e,i){return y(i)?void(t[e]=i):t[e]},text:function(){function t(t,e){if(m(e)){var i=t.nodeType;return i===xr||i===kr?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(m(e)){if(t.multiple&&"select"===j(t)){var i=[];return o(t.options,function(t){t.selected&&i.push(t.value||t.text)}),0===i.length?null:i}return t.value}t.value=e},html:function(t,e){return m(e)?t.innerHTML:(ke(t,!0),void(t.innerHTML=e))},empty:_e},function(t,e){xe.prototype[e]=function(e,n){var r,o,s=this.length;if(t!==_e&&(2==t.length&&t!==Se&&t!==Ee?e:n)===i){if(b(e)){for(r=0;s>r;r++)if(t===Me)t(this[r],e);else for(o in e)t(this[r],o,e[o]);return this}for(var a=t.$dv,l=a===i?Math.min(s,1):s,h=0;l>h;h++){var u=t(this[h],e,n);a=a?a+u:u}return a}for(r=0;s>r;r++)t(this[r],e,n);return this}}),o({removeData:$e,on:function Ys(t,e,i,n){if(y(n))throw jr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(me(t)){var r=Ce(t,!0),o=r.events,s=r.handle;s||(s=r.handle=Fe(t,o));for(var a=e.indexOf(" ")>=0?e.split(" "):[e],l=a.length;l--;){e=a[l];var h=o[e];h||(o[e]=[],"mouseenter"===e||"mouseleave"===e?Ys(t,_r[e],function(t){var i=this,n=t.relatedTarget;(!n||n!==i&&!i.contains(n))&&s(t,e)}):"$destroy"!==e&&Dr(t,e,s),h=o[e]),h.push(i)}}},off:Te,one:function(t,e,i){t=ir(t),t.on(e,function n(){t.off(e,i),t.off(e,n)}),t.on(e,i)},replaceWith:function(t,e){var i,n=t.parentNode;ke(t),o(new xe(e),function(e){i?n.insertBefore(e,i.nextSibling):n.replaceChild(e,t),i=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===xr&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var i=t.nodeType;if(i===xr||i===Cr){e=new xe(e);for(var n=0,r=e.length;r>n;n++){var o=e[n];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===xr){var i=t.firstChild;o(new xe(e),function(e){t.insertBefore(e,i)})}},wrap:function(t,e){e=ir(e).eq(0).clone()[0];var i=t.parentNode;i&&i.replaceChild(e,t),e.appendChild(t)},remove:je,detach:function(t){je(t,!0)},after:function(t,e){var i=t,n=t.parentNode;e=new xe(e);for(var r=0,o=e.length;o>r;r++){var s=e[r];n.insertBefore(s,i.nextSibling),i=s}},addClass:De,removeClass:Pe,toggleClass:function(t,e,i){e&&o(e.split(" "),function(e){var n=i;m(n)&&(n=!Se(t,e)),(n?De:Pe)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Cr?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:we,triggerHandler:function(t,e,i){var n,r,s,a=e.type||e,l=Ce(t),h=l&&l.events,u=h&&h[a];u&&(n={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:a,target:t},e.type&&(n=c(n,e)),r=L(u),s=i?[n].concat(i):[n],o(r,function(e){n.isImmediatePropagationStopped()||e.apply(t,s)}))}},function(t,e){xe.prototype[e]=function(e,i,n){for(var r,o=0,s=this.length;s>o;o++)m(r)?(r=t(this[o],e,i,n),y(r)&&(r=ir(r))):Ae(r,t(this[o],e,i,n));return y(r)?r:this},xe.prototype.bind=xe.prototype.on,xe.prototype.unbind=xe.prototype.off}),Re.prototype={put:function(t,e){this[qe(t,this.nextUid)]=e},get:function(t){return this[qe(t,this.nextUid)]},remove:function(t){var e=this[t=qe(t,this.nextUid)];return delete this[t],e}};var Vr=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Ur=/,/,Gr=/^\s*(_?)(\S+?)\1\s*$/,Wr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Kr=n("$injector");Ve.$$annotate=Be;var Yr=n("$animate"),Jr=["$provide",function(t){this.$$selectors={},this.register=function(e,i){var n=e+"-animation";if(e&&"."!=e.charAt(0))throw Yr("notcsel","Expecting class selector starting with '.' got '{0}'.",e);this.$$selectors[e.substr(1)]=n,t.factory(n,i)},this.classNameFilter=function(t){return 1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(t,e,i){function n(e){var n,r=t.defer();return r.promise.$$cancelFn=function(){n&&n()},i.$$postDigest(function(){n=e(function(){r.resolve()})}),r.promise}function r(t,e){var i=[],n=[],r=he();return o((t.attr("class")||"").split(/\s+/),function(t){r[t]=!0}),o(e,function(t,e){var o=r[e];t===!1&&o?n.push(e):t!==!0||o||i.push(e)}),i.length+n.length>0&&[i.length?i:null,n.length?n:null]}function s(t,e,i){for(var n=0,r=e.length;r>n;++n){var o=e[n];t[o]=i}}function a(){return h||(h=t.defer(),e(function(){h.resolve(),h=null})),h.promise}function l(t,e){if(ur.isObject(e)){var i=c(e.from||{},e.to||{});t.css(i)}}var h;return{animate:function(t,e,i){return l(t,{from:e,to:i}),a()},enter:function(t,e,i,n){return l(t,n),i?i.after(t):e.prepend(t),a()},leave:function(t,e){return l(t,e),t.remove(),a()},move:function(t,e,i,n){return this.enter(t,e,i,n)},addClass:function(t,e,i){return this.setClass(t,e,[],i)},$$addClassImmediately:function(t,e,i){return t=ir(t),e=x(e)?e:dr(e)?e.join(" "):"",o(t,function(t){De(t,e)}),l(t,i),a()},removeClass:function(t,e,i){return this.setClass(t,[],e,i)},$$removeClassImmediately:function(t,e,i){return t=ir(t),e=x(e)?e:dr(e)?e.join(" "):"",o(t,function(t){Pe(t,e)
}),l(t,i),a()},setClass:function(t,e,i,o){var a=this,l="$$animateClasses",h=!1;t=ir(t);var u=t.data(l);u?o&&u.options&&(u.options=ur.extend(u.options||{},o)):(u={classes:{},options:o},h=!0);var c=u.classes;return e=dr(e)?e:e.split(" "),i=dr(i)?i:i.split(" "),s(c,e,!0),s(c,i,!1),h&&(u.promise=n(function(e){var i=t.data(l);if(t.removeData(l),i){var n=r(t,i.classes);n&&a.$$setClassImmediately(t,n[0],n[1],i.options)}e()}),t.data(l,u)),u.promise},$$setClassImmediately:function(t,e,i,n){return e&&this.$$addClassImmediately(t,e),i&&this.$$removeClassImmediately(t,i),l(t,n),a()},enabled:p,cancel:p}}]}],Xr=n("$compile");Xe.$inject=["$provide","$$sanitizeUriProvider"];var Qr=/^((?:x|data)[\:\-_])/i,Zr=n("$controller"),to="application/json",eo={"Content-Type":to+";charset=utf-8"},io=/^\[|^\{(?!\{)/,no={"[":/]$/,"{":/}$/},ro=/^\)\]\}',?\n/,oo=n("$interpolate"),so=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ao={http:80,https:443,ftp:21},lo=n("$location"),ho={$$html5:!1,$$replace:!1,absUrl:Pi("$$absUrl"),url:function(t){if(m(t))return this.$$url;var e=so.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Pi("$$protocol"),host:Pi("$$host"),port:Pi("$$port"),path:Di("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(x(t)||w(t))t=t.toString(),this.$$search=W(t);else{if(!b(t))throw lo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=I(t,{}),o(t,function(e,i){null==e&&delete t[i]}),this.$$search=t}break;default:m(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Di("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([Si,Mi,Ci],function(t){t.prototype=Object.create(ho),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Ci||!this.$$html5)throw lo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=m(e)?null:e,this}});var uo=n("$parse"),co=Function.prototype.call,fo=Function.prototype.apply,po=Function.prototype.bind,go=he();o({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(t,e){t.constant=t.literal=t.sharedGetter=!0,go[e]=t}),go["this"]=function(t){return t},go["this"].sharedGetter=!0;var vo=c(he(),{"+":function(t,e,n,r){return n=n(t,e),r=r(t,e),y(n)?y(r)?n+r:n:y(r)?r:i},"-":function(t,e,i,n){return i=i(t,e),n=n(t,e),(y(i)?i:0)-(y(n)?n:0)},"*":function(t,e,i,n){return i(t,e)*n(t,e)},"/":function(t,e,i,n){return i(t,e)/n(t,e)},"%":function(t,e,i,n){return i(t,e)%n(t,e)},"===":function(t,e,i,n){return i(t,e)===n(t,e)},"!==":function(t,e,i,n){return i(t,e)!==n(t,e)},"==":function(t,e,i,n){return i(t,e)==n(t,e)},"!=":function(t,e,i,n){return i(t,e)!=n(t,e)},"<":function(t,e,i,n){return i(t,e)<n(t,e)},">":function(t,e,i,n){return i(t,e)>n(t,e)},"<=":function(t,e,i,n){return i(t,e)<=n(t,e)},">=":function(t,e,i,n){return i(t,e)>=n(t,e)},"&&":function(t,e,i,n){return i(t,e)&&n(t,e)},"||":function(t,e,i,n){return i(t,e)||n(t,e)},"!":function(t,e,i){return!i(t,e)},"=":!0,"|":!0}),mo={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},yo=function(t){this.options=t};yo.prototype={constructor:yo,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var i=e+this.peek(),n=i+this.peek(2),r=vo[e],o=vo[i],s=vo[n];if(r||o||s){var a=s?n:o?i:e;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||""===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,i){i=i||this.index;var n=y(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,i)+"]":" "+i;throw uo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,n,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var i=Jn(this.text.charAt(this.index));if("."==i||this.isNumber(i))t+=i;else{var n=this.peek();if("e"==i&&this.isExpOperator(n))t+=i;else if(this.isExpOperator(i)&&n&&this.isNumber(n)&&"e"==t.charAt(t.length-1))t+=i;else{if(!this.isExpOperator(i)||n&&this.isNumber(n)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var i="",n=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(n+=o,r){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,i+=String.fromCharCode(parseInt(s,16))}else{var a=mo[o];i+=a||o}r=!1}else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:n,constant:!0,value:i});i+=o}this.index++}this.throwError("Unterminated quote",e)}};var bo=function(t,e,i){this.lexer=t,this.$filter=e,this.options=i};bo.ZERO=c(function(){return 0},{sharedGetter:!0,constant:!0}),bo.prototype={constructor:bo,parse:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.peek().identifier&&this.peek().text in go?t=go[this.consume().text]:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e,i;e=this.expect("(","[",".");)"("===e.text?(t=this.functionCall(t,i),i=null):"["===e.text?(i=t,t=this.objectIndex(t)):"."===e.text?(i=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw uo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw uo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,i,n){return this.peekAhead(0,t,e,i,n)},peekAhead:function(t,e,i,n,r){if(this.tokens.length>t){var o=this.tokens[t],s=o.text;if(s===e||s===i||s===n||s===r||!e&&!i&&!n&&!r)return o}return!1},expect:function(t,e,i,n){var r=this.peek(t,e,i,n);return r?(this.tokens.shift(),r):!1},consume:function(t){if(0===this.tokens.length)throw uo("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},unaryFn:function(t,e){var i=vo[t];return c(function(t,n){return i(t,n,e)},{constant:e.constant,inputs:[e]})},binaryFn:function(t,e,i,n){var r=vo[e];return c(function(e,n){return r(e,n,t,i)},{constant:t.constant&&i.constant,inputs:!n&&[t,i]})},identifier:function(){for(var t=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)t+=this.consume().text+this.consume().text;return Ri(t,this.options,this.text)},constant:function(){var t=this.consume().value;return c(function(){return t},{constant:!0,literal:!0})},statements:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.filterChain()),!this.expect(";"))return 1===t.length?t[0]:function(e,i){for(var n,r=0,o=t.length;o>r;r++)n=t[r](e,i);return n}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},filter:function(t){var e,n,r=this.$filter(this.consume().text);if(this.peek(":"))for(e=[],n=[];this.expect(":");)e.push(this.expression());var o=[t].concat(e||[]);return c(function(o,s){var a=t(o,s);if(n){n[0]=a;for(var l=e.length;l--;)n[l+1]=e[l](o,s);return r.apply(i,n)}return r(a)},{constant:!r.$stateful&&o.every(Ii),inputs:!r.$stateful&&o})},expression:function(){return this.assignment()},assignment:function(){var t,e,i=this.ternary();return(e=this.expect("="))?(i.assign||this.throwError("implies assignment but ["+this.text.substring(0,e.index)+"] can not be assigned to",e),t=this.ternary(),c(function(e,n){return i.assign(e,t(e,n),n)},{inputs:[i,t]})):i},ternary:function(){var t,e,i=this.logicalOR();if((e=this.expect("?"))&&(t=this.assignment(),this.consume(":"))){var n=this.assignment();return c(function(e,r){return i(e,r)?t(e,r):n(e,r)},{constant:i.constant&&t.constant&&n.constant})}return i},logicalOR:function(){for(var t,e=this.logicalAND();t=this.expect("||");)e=this.binaryFn(e,t.text,this.logicalAND(),!0);return e},logicalAND:function(){for(var t,e=this.equality();t=this.expect("&&");)e=this.binaryFn(e,t.text,this.equality(),!0);return e},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e=this.binaryFn(e,t.text,this.relational());return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e=this.binaryFn(e,t.text,this.additive());return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.text,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.text,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(bo.ZERO,t.text,this.unary()):(t=this.expect("!"))?this.unaryFn(t.text,this.unary()):this.primary()},fieldAccess:function(t){var e=this.identifier();return c(function(n,r,o){var s=o||t(n,r);return null==s?i:e(s)},{assign:function(i,n,r){var o=t(i,r);return o||t.assign(i,o={},r),e.assign(o,n)}})},objectIndex:function(t){var e=this.text,n=this.expression();return this.consume("]"),c(function(r,o){var s,a=t(r,o),l=_i(n(r,o),e);return Ni(l,e),a?s=ji(a[l],e):i},{assign:function(i,r,o){var s=Ni(_i(n(i,o),e),e),a=ji(t(i,o),e);return a||t.assign(i,a={},o),a[s]=r}})},functionCall:function(t,e){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));this.consume(")");var r=this.text,o=n.length?[]:null;return function(s,a){var l=e?e(s,a):y(e)?i:s,h=t(s,a,l)||p;if(o)for(var u=n.length;u--;)o[u]=ji(n[u](s,a),r);ji(l,r),Oi(h,r);var c=h.apply?h.apply(l,o):h(o[0],o[1],o[2],o[3],o[4]);return o&&(o.length=0),ji(c,r)}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),c(function(e,i){for(var n=[],r=0,o=t.length;o>r;r++)n.push(t[r](e,i));return n},{literal:!0,constant:t.every(Ii),inputs:t})},object:function(){var t=[],e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var i=this.consume();i.constant?t.push(i.value):i.identifier?t.push(i.text):this.throwError("invalid key",i),this.consume(":"),e.push(this.expression())}while(this.expect(","));return this.consume("}"),c(function(i,n){for(var r={},o=0,s=e.length;s>o;o++)r[t[o]]=e[o](i,n);return r},{literal:!0,constant:e.every(Ii),inputs:e})}};var xo=he(),wo=he(),ko=Object.prototype.valueOf,To=n("$sce"),$o={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Xr=n("$compile"),Co=e.createElement("a"),Mo=on(t.location.href);ln.$inject=["$provide"],fn.$inject=["$locale"],dn.$inject=["$locale"];var So=".",Po={yyyy:vn("FullYear",4),yy:vn("FullYear",2,0,!0),y:vn("FullYear",1),MMMM:mn("Month"),MMM:mn("Month",!0),MM:vn("Month",2,1),M:vn("Month",1,1),dd:vn("Date",2),d:vn("Date",1),HH:vn("Hours",2),H:vn("Hours",1),hh:vn("Hours",2,-12),h:vn("Hours",1,-12),mm:vn("Minutes",2),m:vn("Minutes",1),ss:vn("Seconds",2),s:vn("Seconds",1),sss:vn("Milliseconds",3),EEEE:mn("Day"),EEE:mn("Day",!0),a:kn,Z:yn,ww:wn(2),w:wn(1),G:Tn,GG:Tn,GGG:Tn,GGGG:$n},Do=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Ao=/^\-?\d+$/;Cn.$inject=["$locale"];var Eo=v(Jn),No=v(Qn);Pn.$inject=["$parse"];var _o=v({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref||e.name?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var i="[object SVGAnimatedString]"===lr.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(i)||t.preventDefault()})}}}}),jo={};o(Rr,function(t,e){if("multiple"!=t){var i=Qe("ng-"+e);jo[i]=function(){return{restrict:"A",priority:100,link:function(t,n,r){t.$watch(r[i],function(t){r.$set(e,!!t)})}}}}}),o(Br,function(t,e){jo[e]=function(){return{priority:100,link:function(t,i,n){if("ngPattern"===e&&"/"==n.ngPattern.charAt(0)){var r=n.ngPattern.match(Kn);if(r)return void n.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(n[e],function(t){n.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=Qe("ng-"+t);jo[e]=function(){return{priority:99,link:function(i,n,r){var o=t,s=t;"href"===t&&"[object SVGAnimatedString]"===lr.call(n.prop("href"))&&(s="xlinkHref",r.$attr[s]="xlink:href",o=null),r.$observe(e,function(e){return e?(r.$set(s,e),void(er&&o&&n.prop(o,r[s]))):void("href"===t&&r.$set(s,null))})}}}});var Oo={$addControl:p,$$renameControl:An,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},Io="ng-submitted";En.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Lo=function(t){return["$timeout",function(e){var n={name:"form",restrict:t?"EAC":"E",controller:En,compile:function(n,r){n.addClass(ms).addClass(gs);var o=r.name?"name":t&&r.ngForm?"ngForm":!1;return{pre:function(t,n,r,s){if(!("action"in r)){var a=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};Dr(n[0],"submit",a),n.on("$destroy",function(){e(function(){Ar(n[0],"submit",a)},0,!1)})}var l=s.$$parentForm;o&&(Li(t,null,s.$name,s,s.$name),r.$observe(o,function(e){s.$name!==e&&(Li(t,null,s.$name,i,s.$name),l.$$renameControl(s,e),Li(t,null,s.$name,s,s.$name))})),n.on("$destroy",function(){l.$removeControl(s),o&&Li(t,null,r[o],i,s.$name),c(s,Oo)})}}}};return n}]},Fo=Lo(),zo=Lo(!0),qo=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Ro=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Ho=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Bo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Vo=/^(\d{4})-(\d{2})-(\d{2})$/,Uo=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Go=/^(\d{4})-W(\d\d)$/,Wo=/^(\d{4})-(\d\d)$/,Ko=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Yo={text:_n,date:Ln("date",Vo,In(Vo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Ln("datetimelocal",Uo,In(Uo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Ln("time",Ko,In(Ko,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Ln("week",Go,On,"yyyy-Www"),month:Ln("month",Wo,In(Wo,["yyyy","MM"]),"yyyy-MM"),number:zn,url:qn,email:Rn,radio:Hn,checkbox:Vn,hidden:p,button:p,submit:p,reset:p,file:p},Jo=["$browser","$sniffer","$filter","$parse",function(t,e,i,n){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,s,a){a[0]&&(Yo[Jn(s.type)]||Yo.text)(r,o,s,a[0],e,t,i,n)}}}}],Xo=/^(true|false|\d+)$/,Qo=function(){return{restrict:"A",priority:100,compile:function(t,e){return Xo.test(e.ngValue)?function(t,e,i){i.$set("value",t.$eval(i.ngValue))}:function(t,e,i){t.$watch(i.ngValue,function(t){i.$set("value",t)})}}}},Zo=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,r){t.$$addBindingInfo(n,r.ngBind),n=n[0],e.$watch(r.ngBind,function(t){n.textContent=t===i?"":t})}}}}],ts=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,r,o){var s=t(r.attr(o.$attr.ngBindTemplate));e.$$addBindingInfo(r,s.expressions),r=r[0],o.$observe("ngBindTemplate",function(t){r.textContent=t===i?"":t})}}}}],es=["$sce","$parse","$compile",function(t,e,i){return{restrict:"A",compile:function(n,r){var o=e(r.ngBindHtml),s=e(r.ngBindHtml,function(t){return(t||"").toString()});return i.$$addBindingClass(n),function(e,n,r){i.$$addBindingInfo(n,r.ngBindHtml),e.$watch(s,function(){n.html(t.getTrustedHtml(o(e))||"")})}}}}],is=v({restrict:"A",require:"ngModel",link:function(t,e,i,n){n.$viewChangeListeners.push(function(){t.$eval(i.ngChange)})}}),ns=Un("",!0),rs=Un("Odd",0),os=Un("Even",1),ss=Dn({compile:function(t,e){e.$set("ngCloak",i),t.removeClass("ng-cloak")}}),as=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ls={},hs={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Qe("ng-"+t);ls[e]=["$parse","$rootScope",function(i,n){return{restrict:"A",compile:function(r,o){var s=i(o[e],null,!0);return function(e,i){i.on(t,function(i){var r=function(){s(e,{$event:i})};hs[t]&&n.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var us=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(i,n,r,o,s){var a,l,h;i.$watch(r.ngIf,function(i){i?l||s(function(i,o){l=o,i[i.length++]=e.createComment(" end ngIf: "+r.ngIf+" "),a={clone:i},t.enter(i,n.parent(),n)}):(h&&(h.remove(),h=null),l&&(l.$destroy(),l=null),a&&(h=le(a.clone),t.leave(h).then(function(){h=null}),a=null))})}}}],cs=["$templateRequest","$anchorScroll","$animate",function(t,e,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ur.noop,compile:function(n,r){var o=r.ngInclude||r.src,s=r.onload||"",a=r.autoscroll;return function(n,r,l,h,u){var c,f,d,p=0,g=function(){f&&(f.remove(),f=null),c&&(c.$destroy(),c=null),d&&(i.leave(d).then(function(){f=null}),f=d,d=null)};n.$watch(o,function(o){var l=function(){!y(a)||a&&!n.$eval(a)||e()},f=++p;o?(t(o,!0).then(function(t){if(f===p){var e=n.$new();h.template=t;var a=u(e,function(t){g(),i.enter(t,null,r).then(l)});c=e,d=a,c.$emit("$includeContentLoaded",o),n.$eval(s)}},function(){f===p&&(g(),n.$emit("$includeContentError",o))}),n.$emit("$includeContentRequested",o)):(g(),h.template=null)})}}}}],fs=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(i,n,r,o){return/SVG/.test(n[0].toString())?(n.empty(),void t(ye(o.template,e).childNodes)(i,function(t){n.append(t)},{futureParentElement:n})):(n.html(o.template),void t(n.contents())(i))}}}],ds=Dn({priority:450,compile:function(){return{pre:function(t,e,i){t.$eval(i.ngInit)}}}}),ps=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var s=e.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,l=a?pr(s):s,h=function(t){if(!m(t)){var e=[];return t&&o(t.split(l),function(t){t&&e.push(a?pr(t):t)}),e}};r.$parsers.push(h),r.$formatters.push(function(t){return dr(t)?t.join(s):i}),r.$isEmpty=function(t){return!t||!t.length}}}},gs="ng-valid",vs="ng-invalid",ms="ng-pristine",ys="ng-dirty",bs="ng-untouched",xs="ng-touched",ws="ng-pending",ks=n("ngModel"),Ts=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,n,r,s,a,l,h,u,c){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=i,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=i,this.$name=c(n.name||"",!1)(t);var f,d=s(n.ngModel),g=d.assign,v=d,b=g,x=null,k=this;this.$$setOptions=function(t){if(k.$options=t,t&&t.getterSetter){var e=s(n.ngModel+"()"),i=s(n.ngModel+"($$$p)");v=function(t){var i=d(t);return T(i)&&(i=e(t)),i},b=function(t){T(d(t))?i(t,{$$$p:k.$modelValue}):g(t,k.$modelValue)}}else if(!d.assign)throw ks("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,U(r))},this.$render=p,this.$isEmpty=function(t){return m(t)||""===t||null===t||t!==t};var $=r.inheritedData("$formController")||Oo,C=0;Gn({ctrl:this,$element:r,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:$,$animate:a}),this.$setPristine=function(){k.$dirty=!1,k.$pristine=!0,a.removeClass(r,ys),a.addClass(r,ms)},this.$setDirty=function(){k.$dirty=!0,k.$pristine=!1,a.removeClass(r,ms),a.addClass(r,ys),$.$setDirty()},this.$setUntouched=function(){k.$touched=!1,k.$untouched=!0,a.setClass(r,bs,xs)},this.$setTouched=function(){k.$touched=!0,k.$untouched=!1,a.setClass(r,xs,bs)},this.$rollbackViewValue=function(){l.cancel(x),k.$viewValue=k.$$lastCommittedViewValue,k.$render()},this.$validate=function(){if(!w(k.$modelValue)||!isNaN(k.$modelValue)){var t=k.$$lastCommittedViewValue,e=k.$$rawModelValue,n=k.$valid,r=k.$modelValue,o=k.$options&&k.$options.allowInvalid;k.$$runValidators(e,t,function(t){o||n===t||(k.$modelValue=t?e:i,k.$modelValue!==r&&k.$$writeModelToScope())})}},this.$$runValidators=function(t,e,n){function r(){var t=k.$$parserName||"parse";return f!==i?(f||(o(k.$validators,function(t,e){l(e,null)}),o(k.$asyncValidators,function(t,e){l(e,null)})),l(t,f),f):(l(t,null),!0)}function s(){var i=!0;return o(k.$validators,function(n,r){var o=n(t,e);i=i&&o,l(r,o)}),i?!0:(o(k.$asyncValidators,function(t,e){l(e,null)}),!1)}function a(){var n=[],r=!0;o(k.$asyncValidators,function(o,s){var a=o(t,e);if(!E(a))throw ks("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",a);l(s,i),n.push(a.then(function(){l(s,!0)},function(){r=!1,l(s,!1)}))}),n.length?u.all(n).then(function(){h(r)},p):h(!0)}function l(t,e){c===C&&k.$setValidity(t,e)}function h(t){c===C&&n(t)}C++;var c=C;return r()&&s()?void a():void h(!1)},this.$commitViewValue=function(){var t=k.$viewValue;l.cancel(x),(k.$$lastCommittedViewValue!==t||""===t&&k.$$hasNativeValidators)&&(k.$$lastCommittedViewValue=t,k.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){k.$modelValue!==s&&k.$$writeModelToScope()}var n=k.$$lastCommittedViewValue,r=n;if(f=m(r)?i:!0)for(var o=0;o<k.$parsers.length;o++)if(r=k.$parsers[o](r),m(r)){f=!1;break}w(k.$modelValue)&&isNaN(k.$modelValue)&&(k.$modelValue=v(t));var s=k.$modelValue,a=k.$options&&k.$options.allowInvalid;k.$$rawModelValue=r,a&&(k.$modelValue=r,e()),k.$$runValidators(r,k.$$lastCommittedViewValue,function(t){a||(k.$modelValue=t?r:i,e())})},this.$$writeModelToScope=function(){b(t,k.$modelValue),o(k.$viewChangeListeners,function(t){try{t()}catch(i){e(i)}})},this.$setViewValue=function(t,e){k.$viewValue=t,(!k.$options||k.$options.updateOnDefault)&&k.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var i,n=0,r=k.$options;r&&y(r.debounce)&&(i=r.debounce,w(i)?n=i:w(i[e])?n=i[e]:w(i["default"])&&(n=i["default"])),l.cancel(x),n?x=l(function(){k.$commitViewValue()},n):h.$$phase?k.$commitViewValue():t.$apply(function(){k.$commitViewValue()})},t.$watch(function(){var e=v(t);if(e!==k.$modelValue&&(k.$modelValue===k.$modelValue||e===e)){k.$modelValue=k.$$rawModelValue=e,f=i;for(var n=k.$formatters,r=n.length,o=e;r--;)o=n[r](o);k.$viewValue!==o&&(k.$viewValue=k.$$lastCommittedViewValue=o,k.$render(),k.$$runValidators(e,o,p))}return e})}],$s=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ts,priority:1,compile:function(e){return e.addClass(ms).addClass(bs).addClass(gs),{pre:function(t,e,i,n){var r=n[0],o=n[1]||Oo;r.$$setOptions(n[2]&&n[2].$options),o.$addControl(r),i.$observe("name",function(t){r.$name!==t&&o.$$renameControl(r,t)}),t.$on("$destroy",function(){o.$removeControl(r)})},post:function(e,i,n,r){var o=r[0];o.$options&&o.$options.updateOn&&i.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),i.on("blur",function(){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],Cs=/(\s+|^)default(\s+|$)/,Ms=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=t.$eval(e.ngModelOptions),this.$options.updateOn!==i?(this.$options.updateOnDefault=!1,this.$options.updateOn=pr(this.$options.updateOn.replace(Cs,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Ss=Dn({terminal:!0,priority:1e3}),Ps=["$locale","$interpolate",function(t,e){var i=/{}/g,n=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(r,s,a){function l(t){s.text(t||"")}var h,u=a.count,c=a.$attr.when&&s.attr(a.$attr.when),f=a.offset||0,d=r.$eval(c)||{},p={},g=e.startSymbol(),v=e.endSymbol(),m=g+u+"-"+f+v,y=ur.noop;o(a,function(t,e){var i=n.exec(e);if(i){var r=(i[1]?"-":"")+Jn(i[2]);d[r]=s.attr(a.$attr[e])}}),o(d,function(t,n){p[n]=e(t.replace(i,m))}),r.$watch(u,function(e){var i=parseFloat(e),n=isNaN(i);n||i in d||(i=t.pluralCat(i-f)),i===h||n&&isNaN(h)||(y(),y=r.$watch(p[i],l),h=i)})}}}],Ds=["$parse","$animate",function(t,s){var a="$$NG_REMOVED",l=n("ngRepeat"),h=function(t,e,i,n,r,o,s){t[i]=n,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},u=function(t){return t.clone[0]},c=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(n,f){var d=f.ngRepeat,p=e.createComment(" end ngRepeat: "+d+" "),g=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var v=g[1],m=g[2],y=g[3],b=g[4];if(g=v.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!g)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",v);var x=g[3]||g[1],w=g[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var k,T,$,C,M={$id:qe};return b?k=t(b):($=function(t,e){return qe(e)},C=function(t){return t}),function(t,e,n,f,g){k&&(T=function(e,i,n){return w&&(M[w]=e),M[x]=i,M.$index=n,k(t,M)});var v=he();t.$watchCollection(m,function(n){var f,m,b,k,M,S,P,D,A,E,N,_,j=e[0],O=he();if(y&&(t[y]=n),r(n))A=n,D=T||$;else{D=T||C,A=[];for(var I in n)n.hasOwnProperty(I)&&"$"!=I.charAt(0)&&A.push(I);A.sort()}for(k=A.length,N=new Array(k),f=0;k>f;f++)if(M=n===A?f:A[f],S=n[M],P=D(M,S,f),v[P])E=v[P],delete v[P],O[P]=E,N[f]=E;else{if(O[P])throw o(N,function(t){t&&t.scope&&(v[t.id]=t)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,P,S);N[f]={id:P,scope:i,clone:i},O[P]=!0}for(var L in v){if(E=v[L],_=le(E.clone),s.leave(_),_[0].parentNode)for(f=0,m=_.length;m>f;f++)_[f][a]=!0;E.scope.$destroy()}for(f=0;k>f;f++)if(M=n===A?f:A[f],S=n[M],E=N[f],E.scope){b=j;do b=b.nextSibling;while(b&&b[a]);u(E)!=b&&s.move(le(E.clone),null,ir(j)),j=c(E),h(E.scope,f,x,S,w,M,k)}else g(function(t,e){E.scope=e;var i=p.cloneNode(!1);t[t.length++]=i,s.enter(t,null,ir(j)),j=i,E.clone=t,O[E.id]=E,h(E.scope,f,x,S,w,M,k)});v=O})}}}}],As="ng-hide",Es="ng-hide-animate",Ns=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,i,n){e.$watch(n.ngShow,function(e){t[e?"removeClass":"addClass"](i,As,{tempClasses:Es})})}}}],_s=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,i,n){e.$watch(n.ngHide,function(e){t[e?"addClass":"removeClass"](i,As,{tempClasses:Es})})}}}],js=Dn(function(t,e,i){t.$watch(i.ngStyle,function(t,i){i&&t!==i&&o(i,function(t,i){e.css(i,"")}),t&&e.css(t)},!0)}),Os=["$animate",function(t){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(i,n,r,s){var a=r.ngSwitch||r.on,l=[],h=[],u=[],c=[],f=function(t,e){return function(){t.splice(e,1)}};i.$watch(a,function(i){var n,r;for(n=0,r=u.length;r>n;++n)t.cancel(u[n]);for(u.length=0,n=0,r=c.length;r>n;++n){var a=le(h[n].clone);c[n].$destroy();var d=u[n]=t.leave(a);d.then(f(u,n))}h.length=0,c.length=0,(l=s.cases["!"+i]||s.cases["?"])&&o(l,function(i){i.transclude(function(n,r){c.push(r);var o=i.element;n[n.length++]=e.createComment(" end ngSwitchWhen: ");var s={clone:n};h.push(s),t.enter(n,o.parent(),o)})})})}}}],Is=Dn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,i,n,r){n.cases["!"+i.ngSwitchWhen]=n.cases["!"+i.ngSwitchWhen]||[],n.cases["!"+i.ngSwitchWhen].push({transclude:r,element:e})}}),Ls=Dn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,i,n,r){n.cases["?"]=n.cases["?"]||[],n.cases["?"].push({transclude:r,element:e})}}),Fs=Dn({restrict:"EAC",link:function(t,e,i,r,o){if(!o)throw n("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",U(e));o(function(t){e.empty(),e.append(t)})}}),zs=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,i){if("text/ng-template"==i.type){var n=i.id,r=e[0].text;t.put(n,r)}}}}],qs=n("ngOptions"),Rs=v({restrict:"A",terminal:!0}),Hs=["$compile","$parse",function(t,n){var r=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,a={$setViewValue:p};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(t,e,i){var n,r,o=this,s={},l=a;o.databound=i.ngModel,o.init=function(t,e,i){l=t,n=e,r=i},o.addOption=function(e,i){se(e,'"option value"'),s[e]=!0,l.$viewValue==e&&(t.val(e),r.parent()&&r.remove()),i&&i[0].hasAttribute("selected")&&(i[0].selected=!0)},o.removeOption=function(t){this.hasOption(t)&&(delete s[t],l.$viewValue===t&&this.renderUnknownOption(t))},o.renderUnknownOption=function(e){var i="? "+qe(e)+" ?";r.val(i),t.prepend(r),t.val(i),r.prop("selected",!0)},o.hasOption=function(t){return s.hasOwnProperty(t)},e.$on("$destroy",function(){o.renderUnknownOption=p})}],link:function(a,l,h,u){function c(t,e,i,n){i.$render=function(){var t=i.$viewValue;n.hasOption(t)?($.parent()&&$.remove(),e.val(t),""===t&&p.prop("selected",!0)):null==t&&p?e.val(""):n.renderUnknownOption(t)},e.on("change",function(){t.$apply(function(){$.parent()&&$.remove(),i.$setViewValue(e.val())})})}function f(t,e,i){var n;i.$render=function(){var t=new Re(i.$viewValue);o(e.find("option"),function(e){e.selected=y(t.get(e.value))})},t.$watch(function(){F(n,i.$viewValue)||(n=L(i.$viewValue),i.$render())}),e.on("change",function(){t.$apply(function(){var t=[];o(e.find("option"),function(e){e.selected&&t.push(e.value)}),i.$setViewValue(t)})})}function d(e,a,l){function h(t,i,n){return F[S]=n,A&&(F[A]=i),t(e,F)
}function u(){e.$apply(function(){var t,i=_(e)||[];if(m)t=[],o(a.val(),function(e){e=O?I[e]:e,t.push(c(e,i[e]))});else{var n=O?I[a.val()]:a.val();t=c(n,i[n])}l.$setViewValue(t),$()})}function c(t,e){if("?"===t)return i;if(""===t)return null;var n=D?D:N;return h(n,t,e)}function f(){var t,i=_(e);if(i&&dr(i)){t=new Array(i.length);for(var n=0,r=i.length;r>n;n++)t[n]=h(M,n,i[n]);return t}if(i){t={};for(var o in i)i.hasOwnProperty(o)&&(t[o]=h(M,o,i[o]))}return t}function d(t){var e;if(m)if(O&&dr(t)){e=new Re([]);for(var i=0;i<t.length;i++)e.put(h(O,null,t[i]),!0)}else e=new Re(t);else O&&(t=h(O,null,t));return function(i,n){var r;return r=O?O:D?D:N,m?y(e.remove(h(r,i,n))):t===h(r,i,n)}}function p(){w||(e.$$postDigest($),w=!0)}function v(t,e,i){t[e]=t[e]||0,t[e]+=i?1:-1}function $(){w=!1;var t,i,n,r,u,c,f,p,b,$,C,S,P,D,N,j,z,q={"":[]},R=[""],H=l.$viewValue,B=_(e)||[],V=A?s(B):B,U={},G=d(H),W=!1;for(I={},S=0;$=V.length,$>S;S++)f=S,A&&(f=V[S],"$"===f.charAt(0))||(p=B[f],t=h(E,f,p)||"",(i=q[t])||(i=q[t]=[],R.push(t)),P=G(f,p),W=W||P,j=h(M,f,p),j=y(j)?j:"",z=O?O(e,F):A?V[S]:S,O&&(I[z]=f),i.push({id:z,label:j,selected:P}));for(m||(x||null===H?q[""].unshift({id:"",label:"",selected:!W}):W||q[""].unshift({id:"?",label:"",selected:!0})),C=0,b=R.length;b>C;C++){for(t=R[C],i=q[t],L.length<=C?(r={element:T.clone().attr("label",t),label:i.label},u=[r],L.push(u),a.append(r.element)):(u=L[C],r=u[0],r.label!=t&&r.element.attr("label",r.label=t)),D=null,S=0,$=i.length;$>S;S++)n=i[S],(c=u[S+1])?(D=c.element,c.label!==n.label&&(v(U,c.label,!1),v(U,n.label,!0),D.text(c.label=n.label),D.prop("label",c.label)),c.id!==n.id&&D.val(c.id=n.id),D[0].selected!==n.selected&&(D.prop("selected",c.selected=n.selected),er&&D.prop("selected",c.selected))):(""===n.id&&x?N=x:(N=k.clone()).val(n.id).prop("selected",n.selected).attr("selected",n.selected).prop("label",n.label).text(n.label),u.push(c={element:N,label:n.label,id:n.id,selected:n.selected}),v(U,n.label,!0),D?D.after(N):r.element.append(N),D=N);for(S++;u.length>S;)n=u.pop(),v(U,n.label,!1),n.element.remove()}for(;L.length>C;){for(i=L.pop(),S=1;S<i.length;++S)v(U,i[S].label,!1);i[0].element.remove()}o(U,function(t,e){t>0?g.addOption(e):0>t&&g.removeOption(e)})}var C;if(!(C=b.match(r)))throw qs("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",b,U(a));var M=n(C[2]||C[1]),S=C[4]||C[6],P=/ as /.test(C[0])&&C[1],D=P?n(P):null,A=C[5],E=n(C[3]||""),N=n(C[2]?C[1]:S),_=n(C[7]),j=C[8],O=j?n(C[8]):null,I={},L=[[{element:a,label:""}]],F={};x&&(t(x)(e),x.removeClass("ng-scope"),x.remove()),a.empty(),a.on("change",u),l.$render=$,e.$watchCollection(_,p),e.$watchCollection(f,p),m&&e.$watchCollection(function(){return l.$modelValue},p)}if(u[1]){for(var p,g=u[0],v=u[1],m=h.multiple,b=h.ngOptions,x=!1,w=!1,k=ir(e.createElement("option")),T=ir(e.createElement("optgroup")),$=k.clone(),C=0,M=l.children(),S=M.length;S>C;C++)if(""===M[C].value){p=x=M.eq(C);break}g.init(v,x,$),m&&(v.$isEmpty=function(t){return!t||0===t.length}),b?d(a,l,v):m?f(a,l,v):c(a,l,v,g)}}}}],Bs=["$interpolate",function(t){var e={addOption:p,removeOption:p};return{restrict:"E",priority:100,compile:function(i,n){if(m(n.value)){var r=t(i.text(),!0);r||n.$set("value",i.text())}return function(t,i,n){var o="$selectController",s=i.parent(),a=s.data(o)||s.parent().data(o);a&&a.databound||(a=e),r?t.$watch(r,function(t,e){n.$set("value",t),e!==t&&a.removeOption(e),a.addOption(t,i)}):a.addOption(n.value,i),i.on("$destroy",function(){a.removeOption(n.value)})}}}}],Vs=v({restrict:"E",terminal:!1}),Us=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,n){n&&(i.required=!0,n.$validators.required=function(t,e){return!i.required||!n.$isEmpty(e)},i.$observe("required",function(){n.$validate()}))}}},Gs=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,r,o){if(o){var s,a=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if(x(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw n("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,U(e));s=t||i,o.$validate()}),o.$validators.pattern=function(t,e){return o.$isEmpty(e)||m(s)||s.test(e)}}}}},Ws=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,n){if(n){var r=-1;i.$observe("maxlength",function(t){var e=f(t);r=isNaN(e)?-1:e,n.$validate()}),n.$validators.maxlength=function(t,e){return 0>r||n.$isEmpty(e)||e.length<=r}}}}},Ks=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,n){if(n){var r=0;i.$observe("minlength",function(t){r=f(t)||0,n.$validate()}),n.$validators.minlength=function(t,e){return n.$isEmpty(e)||e.length>=r}}}}};return t.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ne(),de(ur),void ir(e).ready(function(){Q(e,Z)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),/**
 * @license AngularJS v1.3.20
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,i){"use strict";function n(t){return null!=t&&""!==t&&"hasOwnProperty"!==t&&a.test("."+t)}function r(t,e){if(!n(e))throw s("badmember",'Dotted member path "@{0}" is invalid.',e);for(var r=e.split("."),o=0,a=r.length;a>o&&t!==i;o++){var l=r[o];t=null!==t?t[l]:i}return t}function o(t,i){i=i||{},e.forEach(i,function(t,e){delete i[e]});for(var n in t)!t.hasOwnProperty(n)||"$"===n.charAt(0)&&"$"===n.charAt(1)||(i[n]=t[n]);return i}var s=e.$$minErr("$resource"),a=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;e.module("ngResource",["ng"]).provider("$resource",function(){var t=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(n,a){function l(t){return h(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function h(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function u(e,i){this.template=e,this.defaults=p({},t.defaults,i),this.urlParams={}}function c(l,h,m,y){function b(t,e){var i={};return e=p({},h,e),d(e,function(e,n){v(e)&&(e=e()),i[n]=e&&e.charAt&&"@"==e.charAt(0)?r(t,e.substr(1)):e}),i}function x(t){return t.resource}function w(t){o(t||{},this)}var k=new u(l,y);return m=p({},t.defaults.actions,m),w.prototype.toJSON=function(){var t=p({},this);return delete t.$promise,delete t.$resolved,t},d(m,function(t,r){var l=/^(POST|PUT|PATCH)$/i.test(t.method);w[r]=function(h,u,c,m){var y,T,$,C={};switch(arguments.length){case 4:$=m,T=c;case 3:case 2:if(!v(u)){C=h,y=u,T=c;break}if(v(h)){T=h,$=u;break}T=u,$=c;case 1:v(h)?T=h:l?y=h:C=h;break;case 0:break;default:throw s("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var M=this instanceof w,S=M?y:t.isArray?[]:new w(y),P={},D=t.interceptor&&t.interceptor.response||x,A=t.interceptor&&t.interceptor.responseError||i;d(t,function(t,e){"params"!=e&&"isArray"!=e&&"interceptor"!=e&&(P[e]=g(t))}),l&&(P.data=y),k.setUrlParams(P,p({},b(y,t.params||{}),C),t.url);var E=n(P).then(function(i){var n=i.data,a=S.$promise;if(n){if(e.isArray(n)!==!!t.isArray)throw s("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2}",r,t.isArray?"array":"object",e.isArray(n)?"array":"object");t.isArray?(S.length=0,d(n,function(t){S.push("object"==typeof t?new w(t):t)})):(o(n,S),S.$promise=a)}return S.$resolved=!0,i.resource=S,i},function(t){return S.$resolved=!0,($||f)(t),a.reject(t)});return E=E.then(function(t){var e=D(t);return(T||f)(e,t.headers),e},A),M?E:(S.$promise=E,S.$resolved=!1,S)},w.prototype["$"+r]=function(t,e,i){v(t)&&(i=e,e=t,t={});var n=w[r].call(this,t,this,e,i);return n.$promise||n}}),w.bind=function(t){return c(l,p({},h,t),m)},w}var f=e.noop,d=e.forEach,p=e.extend,g=e.copy,v=e.isFunction;return u.prototype={setUrlParams:function(t,i,n){var r,o,a=this,h=n||a.template,u=a.urlParams={};d(h.split(/\W/),function(t){if("hasOwnProperty"===t)throw s("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(h)&&(u[t]=!0)}),h=h.replace(/\\:/g,":"),i=i||{},d(a.urlParams,function(t,n){r=i.hasOwnProperty(n)?i[n]:a.defaults[n],e.isDefined(r)&&null!==r?(o=l(r),h=h.replace(new RegExp(":"+n+"(\\W|$)","g"),function(t,e){return o+e})):h=h.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(t,e,i){return"/"==i.charAt(0)?i:e+i})}),a.defaults.stripTrailingSlashes&&(h=h.replace(/\/+$/,"")||"/"),h=h.replace(/\/\.(?=\w+($|\?))/,"."),t.url=h.replace(/\/\\\./,"/."),d(i,function(e,i){a.urlParams[i]||(t.params=t.params||{},t.params[i]=e)})}},c}]})}(window,window.angular),/**
 * State-based routing for AngularJS
 * @version v0.2.18
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,i){"use strict";function n(t,e){return B(new(B(function(){},{prototype:t})),e)}function r(t){return H(arguments,function(e){e!==t&&H(e,function(e,i){t.hasOwnProperty(i)||(t[i]=e)})}),t}function o(t,e){var i=[];for(var n in t.path){if(t.path[n]!==e.path[n])break;i.push(t.path[n])}return i}function s(t){if(Object.keys)return Object.keys(t);var e=[];return H(t,function(t,i){e.push(i)}),e}function a(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var i=t.length>>>0,n=Number(arguments[2])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=i);i>n;n++)if(n in t&&t[n]===e)return n;return-1}function l(t,e,i,n){var r,l=o(i,n),h={},u=[];for(var c in l)if(l[c]&&l[c].params&&(r=s(l[c].params),r.length))for(var f in r)a(u,r[f])>=0||(u.push(r[f]),h[r[f]]=t[r[f]]);return B({},h,e)}function h(t,e,i){if(!i){i=[];for(var n in t)i.push(n)}for(var r=0;r<i.length;r++){var o=i[r];if(t[o]!=e[o])return!1}return!0}function u(t,e){var i={};return H(t,function(t){i[t]=e[t]}),i}function c(t){var e={},i=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return H(i,function(i){i in t&&(e[i]=t[i])}),e}function f(t){var e={},i=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var n in t)-1==a(i,n)&&(e[n]=t[n]);return e}function d(t,e){var i=R(t),n=i?[]:{};return H(t,function(t,r){e(t,r)&&(n[i?n.length:r]=t)}),n}function p(t,e){var i=R(t)?[]:{};return H(t,function(t,n){i[n]=e(t,n)}),i}function g(t,e){var n=1,o=2,l={},h=[],u=l,c=B(t.when(l),{$$promises:l,$$values:l});this.study=function(l){function d(t,i){if(y[i]!==o){if(m.push(i),y[i]===n)throw m.splice(0,a(m,i)),new Error("Cyclic dependency: "+m.join(" -> "));if(y[i]=n,z(t))v.push(i,[function(){return e.get(t)}],h);else{var r=e.annotate(t);H(r,function(t){t!==i&&l.hasOwnProperty(t)&&d(l[t],t)}),v.push(i,t,r)}m.pop(),y[i]=o}}function p(t){return q(t)&&t.then&&t.$$promises}if(!q(l))throw new Error("'invocables' must be an object");var g=s(l||{}),v=[],m=[],y={};return H(l,d),l=m=y=null,function(n,o,s){function a(){--x||(w||r(b,o.$$values),m.$$values=b,m.$$promises=m.$$promises||!0,delete m.$$inheritedValues,d.resolve(b))}function l(t){m.$$failure=t,d.reject(t)}function h(i,r,o){function h(t){c.reject(t),l(t)}function u(){if(!L(m.$$failure))try{c.resolve(e.invoke(r,s,b)),c.promise.then(function(t){b[i]=t,a()},h)}catch(t){h(t)}}var c=t.defer(),f=0;H(o,function(t){y.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(f++,y[t].then(function(e){b[t]=e,--f||u()},h))}),f||u(),y[i]=c.promise}if(p(n)&&s===i&&(s=o,o=n,n=null),n){if(!q(n))throw new Error("'locals' must be an object")}else n=u;if(o){if(!p(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=c;var d=t.defer(),m=d.promise,y=m.$$promises={},b=B({},n),x=1+v.length/3,w=!1;if(L(o.$$failure))return l(o.$$failure),m;o.$$inheritedValues&&r(b,f(o.$$inheritedValues,g)),B(y,o.$$promises),o.$$values?(w=r(b,f(o.$$values,g)),m.$$inheritedValues=f(o.$$values,g),a()):(o.$$inheritedValues&&(m.$$inheritedValues=f(o.$$inheritedValues,g)),o.then(a,l));for(var k=0,T=v.length;T>k;k+=3)n.hasOwnProperty(v[k])?a():h(v[k],v[k+1],v[k+2]);return m}},this.resolve=function(t,e,i,n){return this.study(t)(e,i,n)}}function v(t,e,i){this.fromConfig=function(t,e,i){return L(t.template)?this.fromString(t.template,e):L(t.templateUrl)?this.fromUrl(t.templateUrl,e):L(t.templateProvider)?this.fromProvider(t.templateProvider,e,i):null},this.fromString=function(t,e){return F(t)?t(e):t},this.fromUrl=function(i,n){return F(i)&&(i=i(n)),null==i?null:t.get(i,{cache:e,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,n){return i.invoke(t,null,n||{params:e})}}function m(t,e,r){function o(e,i,n,r){if(v.push(e),p[e])return p[e];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(g[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return g[e]=new G.Param(e,i,n,r),g[e]}function s(t,e,i,n){var r=["",""],o=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return o;switch(i){case!1:r=["(",")"+(n?"?":"")];break;case!0:o=o.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+i+"|",")?"]}return o+r[0]+e+r[1]}function a(r,o){var s,a,l,h,u;return s=r[2]||r[3],u=e.params[s],l=t.substring(f,r.index),a=o?r[4]:r[4]||("*"==r[1]?".*":null),a&&(h=G.type(a)||n(G.type("string"),{pattern:new RegExp(a,e.caseInsensitive?"i":i)})),{id:s,regexp:a,segment:l,type:h,cfg:u}}e=B({params:{}},q(e)?e:{});var l,h=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c="^",f=0,d=this.segments=[],p=r?r.params:{},g=this.params=r?r.params.$$new():new G.ParamSet,v=[];this.source=t;for(var m,y,b;(l=h.exec(t))&&(m=a(l,!1),!(m.segment.indexOf("?")>=0));)y=o(m.id,m.type,m.cfg,"path"),c+=s(m.segment,y.type.pattern.source,y.squash,y.isOptional),d.push(m.segment),f=h.lastIndex;b=t.substring(f);var x=b.indexOf("?");if(x>=0){var w=this.sourceSearch=b.substring(x);if(b=b.substring(0,x),this.sourcePath=t.substring(0,f+x),w.length>0)for(f=0;l=u.exec(w);)m=a(l,!0),y=o(m.id,m.type,m.cfg,"search"),f=h.lastIndex}else this.sourcePath=t,this.sourceSearch="";c+=s(b)+(e.strict===!1?"/?":"")+"$",d.push(b),this.regexp=new RegExp(c,e.caseInsensitive?"i":i),this.prefix=d[0],this.$$paramNames=v}function y(t){B(this,t)}function b(){function t(t){return null!=t?t.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):t}function r(t){return null!=t?t.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):t}function o(){return{strict:g,caseInsensitive:f}}function l(t){return F(t)||R(t)&&F(t[t.length-1])}function h(){for(;k.length;){var t=k.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(x[t.name],c.invoke(t.def))}}function u(t){B(this,t||{})}G=this;var c,f=!1,g=!0,v=!1,x={},w=!0,k=[],T={string:{encode:t,decode:r,is:function(t){return null==t||!L(t)||"string"==typeof t},pattern:/[^\/]*/},"int":{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return L(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return t===!0||t===!1},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):i},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):i},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^\/]*/},any:{encode:e.identity,decode:e.identity,equals:e.equals,pattern:/.*/}};b.$$getDefaultValue=function(t){if(!l(t.value))return t.value;if(!c)throw new Error("Injectable functions cannot be called at configuration time");return c.invoke(t.value)},this.caseInsensitive=function(t){return L(t)&&(f=t),f},this.strictMode=function(t){return L(t)&&(g=t),g},this.defaultSquashPolicy=function(t){if(!L(t))return v;if(t!==!0&&t!==!1&&!z(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return v=t,t},this.compile=function(t,e){return new m(t,B(o(),e))},this.isMatcher=function(t){if(!q(t))return!1;var e=!0;return H(m.prototype,function(i,n){F(i)&&(e=e&&L(t[n])&&F(t[n]))}),e},this.type=function(t,e,i){if(!L(e))return x[t];if(x.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return x[t]=new y(B({name:t},e)),i&&(k.push({name:t,def:i}),w||h()),this},H(T,function(t,e){x[e]=new y(B({name:e},t))}),x=n(x,{}),this.$get=["$injector",function(t){return c=t,w=!1,h(),H(T,function(t,e){x[e]||(x[e]=new y(t))}),this}],this.Param=function(t,n,r,o){function h(t){var e=q(t)?s(t):[],i=-1===a(e,"value")&&-1===a(e,"type")&&-1===a(e,"squash")&&-1===a(e,"array");return i&&(t={value:t}),t.$$fn=l(t.value)?t.value:function(){return t.value},t}function u(i,n,r){if(i.type&&n)throw new Error("Param '"+t+"' has two type configurations.");return n?n:i.type?e.isString(i.type)?x[i.type]:i.type instanceof y?i.type:new y(i.type):"config"===r?x.any:x.string}function f(){var e={array:"search"===o?"auto":!1},i=t.match(/\[\]$/)?{array:!0}:{};return B(e,i,r).array}function g(t,e){var i=t.squash;if(!e||i===!1)return!1;if(!L(i)||null==i)return v;if(i===!0||z(i))return i;throw new Error("Invalid squash policy: '"+i+"'. Valid policies: false, true, or arbitrary string")}function m(t,e,n,r){var o,s,l=[{from:"",to:n||e?i:""},{from:null,to:n||e?i:""}];return o=R(t.replace)?t.replace:[],z(r)&&o.push({from:r,to:i}),s=p(o,function(t){return t.from}),d(l,function(t){return-1===a(s,t.from)}).concat(o)}function b(){if(!c)throw new Error("Injectable functions cannot be called at configuration time");var t=c.invoke(r.$$fn);if(null!==t&&t!==i&&!T.type.is(t))throw new Error("Default value ("+t+") for parameter '"+T.id+"' is not an instance of Type ("+T.type.name+")");return t}function w(t){function e(t){return function(e){return e.from===t}}function i(t){var i=p(d(T.replace,e(t)),function(t){return t.to});return i.length?i[0]:t}return t=i(t),L(t)?T.type.$normalize(t):b()}function k(){return"{Param:"+t+" "+n+" squash: '"+M+"' optional: "+C+"}"}var T=this;r=h(r),n=u(r,n,o);var $=f();n=$?n.$asArray($,"search"===o):n,"string"!==n.name||$||"path"!==o||r.value!==i||(r.value="");var C=r.value!==i,M=g(r,C),S=m(r,$,C,M);B(this,{id:t,type:n,location:o,array:$,squash:M,replace:S,isOptional:C,value:w,dynamic:i,config:r,toString:k})},u.prototype={$$new:function(){return n(this,B(new u,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],i=this,n=s(u.prototype);i;)e.push(i),i=i.$$parent;return e.reverse(),H(e,function(e){H(s(e),function(e){-1===a(t,e)&&-1===a(n,e)&&t.push(e)})}),t},$$values:function(t){var e={},i=this;return H(i.$$keys(),function(n){e[n]=i[n].value(t&&t[n])}),e},$$equals:function(t,e){var i=!0,n=this;return H(n.$$keys(),function(r){var o=t&&t[r],s=e&&e[r];n[r].type.equals(o,s)||(i=!1)}),i},$$validates:function(t){var n,r,o,s,a,l=this.$$keys();for(n=0;n<l.length&&(r=this[l[n]],o=t[l[n]],o!==i&&null!==o||!r.isOptional);n++){if(s=r.type.$normalize(o),!r.type.is(s))return!1;if(a=r.type.encode(s),e.isString(a)&&!r.type.pattern.exec(a))return!1}return!0},$$parent:i},this.ParamSet=u}function x(t,n){function r(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function o(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,i){return e["$"===i?0:Number(i)]})}function s(t,e,i){if(!i)return!1;var n=t.invoke(e,e,{$match:i});return L(n)?n:!0}function a(n,r,o,s,a){function f(t,e,i){return"/"===v?t:e?v.slice(0,-1)+t:i?v.slice(1)+t:t}function d(t){function e(t){var e=t(o,n);return e?(z(e)&&n.replace().url(e),!0):!1}if(!t||!t.defaultPrevented){{g&&n.url()===g}g=i;var r,s=h.length;for(r=0;s>r;r++)if(e(h[r]))return;u&&e(u)}}function p(){return l=l||r.$on("$locationChangeSuccess",d)}var g,v=s.baseHref(),m=n.url();return c||p(),{sync:function(){d()},listen:function(){return p()},update:function(t){return t?void(m=n.url()):void(n.url()!==m&&(n.url(m),n.replace()))},push:function(t,e,r){var o=t.format(e||{});null!==o&&e&&e["#"]&&(o+="#"+e["#"]),n.url(o),g=r&&r.$$avoidResync?n.url():i,r&&r.replace&&n.replace()},href:function(i,r,o){if(!i.validates(r))return null;var s=t.html5Mode();e.isObject(s)&&(s=s.enabled),s=s&&a.history;var l=i.format(r);if(o=o||{},s||null===l||(l="#"+t.hashPrefix()+l),null!==l&&r&&r["#"]&&(l+="#"+r["#"]),l=f(l,s,o.absolute),!o.absolute||!l)return l;var h=!s&&l?"/":"",u=n.port();return u=80===u||443===u?"":":"+u,[n.protocol(),"://",n.host(),u,h,l].join("")}}}var l,h=[],u=null,c=!1;this.rule=function(t){if(!F(t))throw new Error("'rule' must be a function");return h.push(t),this},this.otherwise=function(t){if(z(t)){var e=t;t=function(){return e}}else if(!F(t))throw new Error("'rule' must be a function");return u=t,this},this.when=function(t,e){var i,a=z(e);if(z(t)&&(t=n.compile(t)),!a&&!F(e)&&!R(e))throw new Error("invalid 'handler' in when()");var l={matcher:function(t,e){return a&&(i=n.compile(e),e=["$match",function(t){return i.format(t)}]),B(function(i,n){return s(i,e,t.exec(n.path(),n.search()))},{prefix:z(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return a&&(i=e,e=["$match",function(t){return o(i,t)}]),B(function(i,n){return s(i,e,t.exec(n.path()))},{prefix:r(t)})}},h={matcher:n.isMatcher(t),regex:t instanceof RegExp};for(var u in h)if(h[u])return this.rule(l[u](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===i&&(t=!0),c=t},this.$get=a,a.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function w(t,r){function o(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function f(t,e){if(!t)return i;var n=z(t),r=n?t:t.name,s=o(r);if(s){if(!e)throw new Error("No reference point given for path '"+r+"'");e=f(e);for(var a=r.split("."),l=0,h=a.length,u=e;h>l;l++)if(""!==a[l]||0!==l){if("^"!==a[l])break;if(!u.parent)throw new Error("Path '"+r+"' not valid for state '"+e.name+"'");u=u.parent}else u=e;a=a.slice(l).join("."),r=u.name+(u.name&&a?".":"")+a}var c=C[r];return!c||!n&&(n||c!==t&&c.self!==t)?i:c}function d(t,e){M[t]||(M[t]=[]),M[t].push(e)}function g(t){for(var e=M[t]||[];e.length;)v(e.shift())}function v(e){e=n(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var i=e.name;if(!z(i)||i.indexOf("@")>=0)throw new Error("State must have a valid name");if(C.hasOwnProperty(i))throw new Error("State '"+i+"' is already defined");var r=-1!==i.indexOf(".")?i.substring(0,i.lastIndexOf(".")):z(e.parent)?e.parent:q(e.parent)&&z(e.parent.name)?e.parent.name:"";if(r&&!C[r])return d(r,e.self);for(var o in P)F(P[o])&&(e[o]=P[o](e,P.$delegates[o]));return C[i]=e,!e[S]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,i){$.$current.navigable==e&&h(t,i)||$.transitionTo(e,t,{inherit:!0,location:!1})}]),g(i),e}function m(t){return t.indexOf("*")>-1}function y(t){for(var e=t.split("."),i=$.$current.name.split("."),n=0,r=e.length;r>n;n++)"*"===e[n]&&(i[n]="*");return"**"===e[0]&&(i=i.slice(a(i,e[1])),i.unshift("**")),"**"===e[e.length-1]&&(i.splice(a(i,e[e.length-2])+1,Number.MAX_VALUE),i.push("**")),e.length!=i.length?!1:i.join("")===e.join("")}function b(t,e){return z(t)&&!L(e)?P[t]:F(e)&&z(t)?(P[t]&&!P.$delegates[t]&&(P.$delegates[t]=P[t]),P[t]=e,this):this}function x(t,e){return q(t)?e=t:e.name=t,v(e),this}function w(t,r,o,a,c,d,g){function v(e,i,n,o){var s=t.$broadcast("$stateNotFound",e,i,n);if(s.defaultPrevented)return g.update(),M;if(!s.retry)return null;if(o.$retry)return g.update(),P;var a=$.transition=r.when(s.retry);return a.then(function(){return a!==$.transition?x:(e.options.$retry=!0,$.transitionTo(e.to,e.toParams,e.options))},function(){return M}),g.update(),a}function b(t,i,n,s,l,h){function f(){var i=[];return H(t.views,function(n,r){var s=n.resolve&&n.resolve!==t.resolve?n.resolve:{};s.$template=[function(){return o.load(r,{view:n,locals:l.globals,params:d,notify:h.notify})||""}],i.push(c.resolve(s,l.globals,l.resolve,t).then(function(i){if(F(n.controllerProvider)||R(n.controllerProvider)){var o=e.extend({},s,l.globals);i.$$controller=a.invoke(n.controllerProvider,null,o)}else i.$$controller=n.controller;i.$$state=t,i.$$controllerAs=n.controllerAs,l[r]=i}))}),r.all(i).then(function(){return l.globals})}var d=n?i:u(t.params.$$keys(),i),p={$stateParams:d};l.resolve=c.resolve(t.resolve,p,l.resolve,t);var g=[l.resolve.then(function(t){l.globals=t})];return s&&g.push(s),r.all(g).then(f).then(function(){return l})}var x=r.reject(new Error("transition superseded")),w=r.reject(new Error("transition prevented")),M=r.reject(new Error("transition aborted")),P=r.reject(new Error("transition failed"));return T.locals={resolve:null,globals:{$stateParams:{}}},$={params:{},current:T.self,$current:T,transition:null},$.reload=function(t){return $.transitionTo($.current,d,{reload:t||!0,inherit:!1,notify:!0})},$.go=function(t,e,i){return $.transitionTo(t,e,B({inherit:!0,relative:$.$current},i))},$.transitionTo=function(e,i,o){i=i||{},o=B({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var s,h=$.$current,c=$.params,p=h.path,m=f(e,o.relative),y=i["#"];if(!L(m)){var C={to:e,toParams:i,options:o},M=v(C,h.self,c,o);if(M)return M;if(e=C.to,i=C.toParams,o=C.options,m=f(e,o.relative),!L(m)){if(!o.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'")}}if(m[S])throw new Error("Cannot transition to abstract state '"+e+"'");if(o.inherit&&(i=l(d,i||{},$.$current,m)),!m.params.$$validates(i))return P;i=m.params.$$values(i),e=m;var D=e.path,A=0,E=D[A],N=T.locals,_=[];if(o.reload){if(z(o.reload)||q(o.reload)){if(q(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var j=o.reload===!0?p[0]:f(o.reload);if(o.reload&&!j)throw new Error("No such reload state '"+(z(o.reload)?o.reload:o.reload.name)+"'");for(;E&&E===p[A]&&E!==j;)N=_[A]=E.locals,A++,E=D[A]}}else for(;E&&E===p[A]&&E.ownParams.$$equals(i,c);)N=_[A]=E.locals,A++,E=D[A];if(k(e,i,h,c,N,o))return y&&(i["#"]=y),$.params=i,V($.params,d),V(u(e.params.$$keys(),d),e.locals.globals.$stateParams),o.location&&e.navigable&&e.navigable.url&&(g.push(e.navigable.url,i,{$$avoidResync:!0,replace:"replace"===o.location}),g.update(!0)),$.transition=null,r.when($.current);if(i=u(e.params.$$keys(),i||{}),y&&(i["#"]=y),o.notify&&t.$broadcast("$stateChangeStart",e.self,i,h.self,c,o).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,i,h.self,c),null==$.transition&&g.update(),w;for(var O=r.when(N),I=A;I<D.length;I++,E=D[I])N=_[I]=n(N),O=b(E,i,E===e,O,N,o);var F=$.transition=O.then(function(){var n,r,s;if($.transition!==F)return x;for(n=p.length-1;n>=A;n--)s=p[n],s.self.onExit&&a.invoke(s.self.onExit,s.self,s.locals.globals),s.locals=null;for(n=A;n<D.length;n++)r=D[n],r.locals=_[n],r.self.onEnter&&a.invoke(r.self.onEnter,r.self,r.locals.globals);return $.transition!==F?x:($.$current=e,$.current=e.self,$.params=i,V($.params,d),$.transition=null,o.location&&e.navigable&&g.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,i,h.self,c),g.update(!0),$.current)},function(n){return $.transition!==F?x:($.transition=null,s=t.$broadcast("$stateChangeError",e.self,i,h.self,c,n),s.defaultPrevented||g.update(),r.reject(n))});return F},$.is=function(t,e,n){n=B({relative:$.$current},n||{});var r=f(t,n.relative);return L(r)?$.$current!==r?!1:e?h(r.params.$$values(e),d):!0:i},$.includes=function(t,e,n){if(n=B({relative:$.$current},n||{}),z(t)&&m(t)){if(!y(t))return!1;t=$.$current.name}var r=f(t,n.relative);return L(r)?L($.$current.includes[r.name])?e?h(r.params.$$values(e),d,s(e)):!0:!1:i},$.href=function(t,e,n){n=B({lossy:!0,inherit:!0,absolute:!1,relative:$.$current},n||{});var r=f(t,n.relative);if(!L(r))return null;n.inherit&&(e=l(d,e||{},$.$current,r));var o=r&&n.lossy?r.navigable:r;return o&&o.url!==i&&null!==o.url?g.href(o.url,u(r.params.$$keys().concat("#"),e||{}),{absolute:n.absolute}):null},$.get=function(t,e){if(0===arguments.length)return p(s(C),function(t){return C[t].self});var i=f(t,e||$.$current);return i&&i.self?i.self:null},$}function k(t,e,i,n,r,o){function s(t,e,i){function n(e){return"search"!=t.params[e].location}var r=t.params.$$keys().filter(n),o=c.apply({},[t.params].concat(r)),s=new G.ParamSet(o);return s.$$equals(e,i)}return!o.reload&&t===i&&(r===i.locals||t.self.reloadOnSearch===!1&&s(i,n,e))?!0:void 0}var T,$,C={},M={},S="abstract",P={parent:function(t){if(L(t.parent)&&t.parent)return f(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?f(e[1]):T},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=n(t.parent.data,t.data)),t.data},url:function(t){var e=t.url,i={params:t.params||{}};if(z(e))return"^"==e.charAt(0)?r.compile(e.substring(1),i):(t.parent.navigable||T).url.concat(e,i);if(!e||r.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new G.ParamSet;return H(t.params||{},function(t,i){e[i]||(e[i]=new G.Param(i,null,t,"config"))}),e},params:function(t){var e=c(t.ownParams,t.ownParams.$$keys());return t.parent&&t.parent.params?B(t.parent.params.$$new(),e):new G.ParamSet},views:function(t){var e={};return H(L(t.views)?t.views:{"":t},function(i,n){n.indexOf("@")<0&&(n+="@"+t.parent.name),e[n]=i}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?B({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};T=v({name:"",url:"^",views:null,"abstract":!0}),T.navigable=null,this.decorator=b,this.state=x,this.$get=w,w.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function k(){function t(t,e){return{load:function(t,i){var n,r={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return i=B(r,i),i.view&&(n=e.fromConfig(i.view,i.params,i.locals)),n}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function T(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,i){return t?e:function(t){return i(function(){t[0].scrollIntoView()},0,!1)}}]}function $(t,i,n,r){function o(){return i.has?function(t){return i.has(t)?i.get(t):null}:function(t){try{return i.get(t)}catch(e){return null}}}function s(t,i){function n(t){return 1===W&&K>=4?!!h.enabled(t):1===W&&K>=2?!!h.enabled():!!l}var r={enter:function(t,e,i){e.after(t),i()},leave:function(t,e){t.remove(),e()}};if(t.noanimation)return r;if(h)return{enter:function(t,i,o){n(t)?e.version.minor>2?h.enter(t,null,i).then(o):h.enter(t,null,i,o):r.enter(t,i,o)},leave:function(t,i){n(t)?e.version.minor>2?h.leave(t).then(i):h.leave(t,i):r.leave(t,i)}};if(l){var o=l&&l(i,t);return{enter:function(t,e,i){o.enter(t,null,e),i()},leave:function(t,e){o.leave(t),e()}}}return r}var a=o(),l=a("$animator"),h=a("$animate"),u={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(i,o,a){return function(i,o,l){function h(){function t(){e&&e.remove(),i&&i.$destroy()}var e=c,i=d;i&&(i._willBeDestroyed=!0),f?(m.leave(f,function(){t(),c=null}),c=f):(t(),c=null),f=null,d=null}function u(s){var u,c=M(i,l,o,r),y=c&&t.$current&&t.$current.locals[c];if((s||y!==p)&&!i._willBeDestroyed){u=i.$new(),p=t.$current.locals[c],u.$emit("$viewContentLoading",c);var b=a(u,function(t){m.enter(t,o,function(){d&&d.$emit("$viewContentAnimationEnded"),(e.isDefined(v)&&!v||i.$eval(v))&&n(t)}),h()});f=b,d=u,d.$emit("$viewContentLoaded",c),d.$eval(g)}}var c,f,d,p,g=l.onload||"",v=l.autoscroll,m=s(l,i);i.$on("$stateChangeSuccess",function(){u(!1)}),u(!0)}}};return u}function C(t,e,i,n){return{restrict:"ECA",priority:-400,compile:function(r){var o=r.html();return function(r,s,a){var l=i.$current,h=M(r,a,s,n),u=l&&l.locals[h];if(u){s.data("$uiView",{name:h,state:u.$$state}),s.html(u.$template?u.$template:o);var c=t(s.contents());if(u.$$controller){u.$scope=r,u.$element=s;var f=e(u.$$controller,u);u.$$controllerAs&&(r[u.$$controllerAs]=f),s.data("$ngControllerController",f),s.children().data("$ngControllerController",f)}c(r)}}}}}function M(t,e,i,n){var r=n(e.uiView||e.name||"")(t),o=i.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function S(t,e){var i,n=t.match(/^\s*({[^}]*})\s*$/);if(n&&(t=e+"("+n[1]+")"),i=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!i||4!==i.length)throw new Error("Invalid state ref '"+t+"'");return{state:i[1],paramExpr:i[3]||null}}function P(t){var e=t.parent().inheritedData("$uiView");return e&&e.state&&e.state.name?e.state:void 0}function D(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),i="FORM"===t[0].nodeName;return{attr:i?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!i}}function A(t,e,i,n,r){return function(o){var s=o.which||o.button,a=r();if(!(s>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var l=i(function(){e.go(a.state,a.params,a.options)});o.preventDefault();var h=n.isAnchor&&!a.href?1:0;o.preventDefault=function(){h--<=0&&i.cancel(l)}}}}function E(t,e){return{relative:P(t)||e.$current,inherit:!0}}function N(t,i){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,r,o,s){var a=S(o.uiSref,t.current.name),l={state:a.state,href:null,params:null},h=D(r),u=s[1]||s[0];l.options=B(E(r,t),o.uiSrefOpts?n.$eval(o.uiSrefOpts):{});var c=function(i){i&&(l.params=e.copy(i)),l.href=t.href(a.state,l.params,l.options),u&&u.$$addStateInfo(a.state,l.params),null!==l.href&&o.$set(h.attr,l.href)};a.paramExpr&&(n.$watch(a.paramExpr,function(t){t!==l.params&&c(t)},!0),l.params=e.copy(n.$eval(a.paramExpr))),c(),h.clickable&&r.bind("click",A(r,t,i,h,function(){return l}))}}}function _(t,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,n,r,o){function s(e){c.state=e[0],c.params=e[1],c.options=e[2],c.href=t.href(c.state,c.params,c.options),l&&l.$$addStateInfo(c.state,c.params),c.href&&r.$set(a.attr,c.href)}var a=D(n),l=o[1]||o[0],h=[r.uiState,r.uiStateParams||null,r.uiStateOpts||null],u="["+h.map(function(t){return t||"null"}).join(", ")+"]",c={state:null,params:null,options:null,href:null};i.$watch(u,s,!0),s(i.$eval(u)),a.clickable&&n.bind("click",A(n,t,e,a,function(){return c}))}}}function j(t,e,i){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(e,n,r,o){function s(e,i,r){var o=t.get(e,P(n)),s=a(e,i);g.push({state:o||{name:e},params:i,hash:s}),v[s]=r}function a(t,i){if(!z(t))throw new Error("state should be a string");return q(i)?t+U(i):(i=e.$eval(i),q(i)?t+U(i):t)}function l(){for(var t=0;t<g.length;t++)c(g[t].state,g[t].params)?h(n,v[g[t].hash]):u(n,v[g[t].hash]),f(g[t].state,g[t].params)?h(n,d):u(n,d)}function h(t,e){o(function(){t.addClass(e)})}function u(t,e){t.removeClass(e)}function c(e,i){return t.includes(e.name,i)}function f(e,i){return t.is(e.name,i)}var d,p,g=[],v={};d=i(r.uiSrefActiveEq||"",!1)(e);try{p=e.$eval(r.uiSrefActive)}catch(m){}p=p||i(r.uiSrefActive||"",!1)(e),q(p)&&H(p,function(i,n){if(z(i)){var r=S(i,t.current.name);s(r.state,e.$eval(r.paramExpr),n)}}),this.$$addStateInfo=function(t,e){q(p)&&g.length>0||(s(t,e,p),l())},e.$on("$stateChangeSuccess",l),l()}]}}function O(t){var e=function(e,i){return t.is(e,i)};return e.$stateful=!0,e}function I(t){var e=function(e,i,n){return t.includes(e,i,n)};return e.$stateful=!0,e}var L=e.isDefined,F=e.isFunction,z=e.isString,q=e.isObject,R=e.isArray,H=e.forEach,B=e.extend,V=e.copy,U=e.toJson;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),g.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",g),v.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",v);var G;m.prototype.concat=function(t,e){var i={caseInsensitive:G.caseInsensitive(),strict:G.strictMode(),squash:G.defaultSquashPolicy()};return new m(this.sourcePath+t+this.sourceSearch,B(i,e),this)},m.prototype.toString=function(){return this.source},m.prototype.exec=function(t,e){function i(t){function e(t){return t.split("").reverse().join("")}function i(t){return t.replace(/\\-/g,"-")}var n=e(t).split(/-(?!\\)/),r=p(n,e);return p(r,i).reverse()}var n=this.regexp.exec(t);if(!n)return null;e=e||{};var r,o,s,a=this.parameters(),l=a.length,h=this.segments.length-1,u={};if(h!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var c,f;for(r=0;h>r;r++){for(s=a[r],c=this.params[s],f=n[r+1],o=0;o<c.replace.length;o++)c.replace[o].from===f&&(f=c.replace[o].to);f&&c.array===!0&&(f=i(f)),L(f)&&(f=c.type.decode(f)),u[s]=c.value(f)}for(;l>r;r++){for(s=a[r],u[s]=this.params[s].value(e[s]),c=this.params[s],f=e[s],o=0;o<c.replace.length;o++)c.replace[o].from===f&&(f=c.replace[o].to);L(f)&&(f=c.type.decode(f)),u[s]=c.value(f)}return u},m.prototype.parameters=function(t){return L(t)?this.params[t]||null:this.$$paramNames},m.prototype.validates=function(t){return this.params.$$validates(t)},m.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var i=this.segments,n=this.parameters(),r=this.params;if(!this.validates(t))return null;var o,s=!1,a=i.length-1,l=n.length,h=i[0];for(o=0;l>o;o++){var u=a>o,c=n[o],f=r[c],d=f.value(t[c]),g=f.isOptional&&f.type.equals(f.value(),d),v=g?f.squash:!1,m=f.type.encode(d);if(u){var y=i[o+1],b=o+1===a;if(v===!1)null!=m&&(h+=R(m)?p(m,e).join("-"):encodeURIComponent(m)),h+=y;else if(v===!0){var x=h.match(/\/$/)?/\/?(.*)/:/(.*)/;h+=y.match(x)[1]}else z(v)&&(h+=v+y);b&&f.squash===!0&&"/"===h.slice(-1)&&(h=h.slice(0,-1))}else{if(null==m||g&&v!==!1)continue;if(R(m)||(m=[m]),0===m.length)continue;m=p(m,encodeURIComponent).join("&"+c+"="),h+=(s?"&":"?")+(c+"="+m),s=!0}}return h},y.prototype.is=function(){return!0},y.prototype.encode=function(t){return t},y.prototype.decode=function(t){return t},y.prototype.equals=function(t,e){return t==e},y.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},y.prototype.pattern=/.*/,y.prototype.toString=function(){return"{Type:"+this.name+"}"},y.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},y.prototype.$asArray=function(t,e){function n(t,e){function n(t,e){return function(){return t[e].apply(t,arguments)}}function r(t){return R(t)?t:L(t)?[t]:[]}function o(t){switch(t.length){case 0:return i;case 1:return"auto"===e?t[0]:t;default:return t}}function s(t){return!t}function a(t,e){return function(i){if(R(i)&&0===i.length)return i;i=r(i);var n=p(i,t);return e===!0?0===d(n,s).length:o(n)}}function l(t){return function(e,i){var n=r(e),o=r(i);if(n.length!==o.length)return!1;for(var s=0;s<n.length;s++)if(!t(n[s],o[s]))return!1;return!0}}this.encode=a(n(t,"encode")),this.decode=a(n(t,"decode")),this.is=a(n(t,"is"),!0),this.equals=l(n(t,"equals")),this.pattern=t.pattern,this.$normalize=a(n(t,"$normalize")),this.name=t.name,this.$arrayMode=e}if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new n(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",b),e.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),x.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",x),w.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",w),k.$inject=[],e.module("ui.router.state").provider("$view",k),e.module("ui.router.state").provider("$uiViewScroll",T);var W=e.version.major,K=e.version.minor;$.$inject=["$state","$injector","$uiViewScroll","$interpolate"],C.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",$),e.module("ui.router.state").directive("uiView",C),N.$inject=["$state","$timeout"],_.$inject=["$state","$timeout"],j.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",N).directive("uiSrefActive",j).directive("uiSrefActiveEq",j).directive("uiState",_),O.$inject=["$state"],I.$inject=["$state"],e.module("ui.router.state").filter("isState",O).filter("includedByState",I)
}(window,window.angular),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.3.6
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var r=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.3.6
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof e&&r[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){s.detach().trigger("closed.bs.alert").remove()}var r=t(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var s=t(o);e&&e.preventDefault(),s.length||(s=r.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.3.6
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.button"),o="object"==typeof e&&e;r||n.data("bs.button",r=new i(this,o)),"toggle"==e?r.toggle():e&&r.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.6",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,r=n.is("input")?"val":"html",o=n.data();e+="Text",null==o.resetText&&n.data("resetText",n[r]()),setTimeout(t.proxy(function(){n[r](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target);n.hasClass("btn")||(n=n.closest(".btn")),e.call(n,"toggle"),t(i.target).is('input[type="radio"]')||t(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.3.6
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.carousel"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),s="string"==typeof e?e:o.slide;r||n.data("bs.carousel",r=new i(this,o)),"number"==typeof e?r.to(e):s?r[s]():o.interval&&r.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),n="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(n&&!this.options.wrap)return e;var r="prev"==t?-1:1,o=(i+r)%this.$items.length;return this.$items.eq(o)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,n){var r=this.$element.find(".item.active"),o=n||this.getItemForDirection(e,r),s=this.interval,a="next"==e?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var h=o[0],u=t.Event("slide.bs.carousel",{relatedTarget:h,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=t(this.$indicators.children()[this.getItemIndex(o)]);c&&c.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:h,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,r.addClass(a),o.addClass(a),r.one("bsTransitionEnd",function(){o.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(f)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(f)),s&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var r=function(i){var n,r=t(this),o=t(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=t.extend({},o.data(),r.data()),a=r.attr("data-slide-to");a&&(s.interval=!1),e.call(o,s),a&&o.data("bs.carousel").to(a),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.3.6
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),r=i.data("bs.collapse"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||i.data("bs.collapse",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.6",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(i.call(r,"hide"),e||r.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[s](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION):r.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var r=t(n);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var r=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var r=t(this);r.attr("data-target")||n.preventDefault();var o=e(r),s=o.data("bs.collapse"),a=s?"toggle":r.data();i.call(o,a)})}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.6
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function i(i){i&&3===i.which||(t(r).remove(),t(o).each(function(){var n=t(this),r=e(n),o={relatedTarget:this};r.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(r[0],i.target)||(r.trigger(i=t.Event("hide.bs.dropdown",o)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))}))}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new s(this)),"string"==typeof e&&n[e].call(i)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.6",s.prototype.toggle=function(n){var r=t(this);if(!r.is(".disabled, :disabled")){var o=e(r),s=o.hasClass("open");if(i(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var a={relatedTarget:this};if(o.trigger(n=t.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},s.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var r=e(n),s=r.hasClass("open");if(!s&&27!=i.which||s&&27==i.which)return 27==i.which&&r.find(o).trigger("focus"),n.trigger("click");var a=" li:not(.disabled):visible a",l=r.find(".dropdown-menu"+a);if(l.length){var h=l.index(i.target);38==i.which&&h>0&&h--,40==i.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.3.6
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e,n){return this.each(function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},i.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new i(this,s)),"string"==typeof e?o[e](n):s.show&&o.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),r&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});r?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(o)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),r=n.attr("href"),o=t(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),n.data());n.is("a")&&i.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(o,s,this)})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.3.6
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.tooltip"),o="object"==typeof e&&e;(r||!/destroy|hide/.test(e))&&(r||n.data("bs.tooltip",r=new i(this,o)),"string"==typeof e&&r[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var r=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(a);h&&(a=a.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),c=o[0].offsetWidth,f=o[0].offsetHeight;if(h){var d=a,p=this.getPosition(this.$viewport);a="bottom"==a&&u.bottom+f>p.bottom?"top":"top"==a&&u.top-f<p.top?"bottom":"right"==a&&u.right+c>p.width?"left":"left"==a&&u.left-c<p.left?"right":a,o.removeClass(d).addClass(a)}var g=this.getCalculatedOffset(a,u,c,f);this.applyPlacement(g,a);var v=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),r=n[0].offsetWidth,o=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,h=n[0].offsetHeight;"top"==i&&h!=o&&(e.top=e.top+o-h);var u=this.getViewportAdjustedDelta(i,e,l,h);u.left?e.left+=u.left:e.top+=u.top;var c=/top|bottom/.test(i),f=c?2*u.left-r+l:2*u.top-o+h,d=c?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(f,n[0][d],c)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=r.hoverState&&o.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),e&&e()}var r=this,o=t(this.$tip),s=t.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,r=i.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=n?{top:0,left:0}:e.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,s,a,o)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,l=e.top+o-s.scroll+n;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var h=e.left-o,u=e.left+o+i;h<s.left?r.left=s.left-h:u>s.right&&(r.left=s.left+s.width-u)}return r},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.3.6
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.popover"),o="object"==typeof e&&e;(r||!/destroy|hide/.test(e))&&(r||n.data("bs.popover",r=new i(this,o)),"string"==typeof e&&r[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.6",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.6
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),r=n.data("bs.scrollspy"),o="object"==typeof i&&i;r||n.data("bs.scrollspy",r=new e(this,o)),"string"==typeof i&&r[i]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),o=/^#./.test(r)&&t(r);return o&&o.length&&o.is(":visible")&&[[o[i]().top+n,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return s!=(t=o[o.length-1])&&this.activate(t);if(s&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(void 0===r[t+1]||e<r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.3.6
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new i(this)),"string"==typeof e&&r[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=i.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),e.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=t(n);this.activate(e.closest("li"),i),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},i.prototype.activate=function(e,n,r){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var s=n.find("> .active"),a=r&&t.support.transition&&(s.length&&s.hasClass("fade")||!!n.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),s.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var r=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),/* ========================================================================
 * Bootstrap: affix.js v3.3.6
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.affix"),o="object"==typeof e&&e;r||n.data("bs.affix",r=new i(this,o)),"string"==typeof e&&r[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.6",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=i&&"top"==this.affixed)return i>r?"top":!1;if("bottom"==this.affixed)return null!=i?r+this.unpin<=o.top?!1:"bottom":t-n>=r+s?!1:"bottom";var a=null==this.affixed,l=a?r:o.top,h=a?s:e;return null!=i&&i>=r?"top":null!=n&&l+h>=t-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,r=n.top,o=n.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(o=r=n),"function"==typeof r&&(r=n.top(this.$element)),"function"==typeof o&&(o=n.bottom(this.$element));var a=this.getState(s,e,r,o);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-o})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),function(){"use strict";function t(t,e,i,n,r,o,s){function a(t){if(t)f(t.toastId);else for(var e=0;e<b.length;e++)f(b[e].toastId)}function l(t,e,i){var n=p().iconClasses.error;return d(n,t,e,i)}function h(t,e,i){var n=p().iconClasses.info;return d(n,t,e,i)}function u(t,e,i){var n=p().iconClasses.success;return d(n,t,e,i)}function c(t,e,i){var n=p().iconClasses.warning;return d(n,t,e,i)}function f(e,i){function n(t){for(var e=0;e<b.length;e++)if(b[e].toastId===t)return b[e]}function r(){return!b.length}var a=n(e);a&&!a.deleting&&(a.deleting=!0,t.leave(a.el).then(function(){a.scope.options.onHidden&&a.scope.options.onHidden(i),a.scope.$destroy();var t=b.indexOf(a);b.splice(t,1);var e=o.maxOpened;e&&b.length>=e&&b[e-1].open.resolve(),r()&&(m.remove(),m=null,x=s.defer())}))}function d(t,e,i,n){return"object"==typeof i&&(n=i,i=null),v({iconClass:t,message:e,optionsOverride:n,title:i})}function p(){return angular.extend({},o)}function g(e){if(m)return x.promise;m=angular.element("<div></div>"),m.attr("id",e.containerId),m.addClass(e.positionClass),m.css({"pointer-events":"auto"});var i=angular.element(document.querySelector(e.target));if(!i||!i.length)throw"Target for toasts doesn't exist";return t.enter(m,i).then(function(){x.resolve()}),x.promise}function v(i){function o(t,e,i){i.allowHtml?(t.scope.allowHtml=!0,t.scope.title=r.trustAsHtml(e.title),t.scope.message=r.trustAsHtml(e.message)):(t.scope.title=e.title,t.scope.message=e.message),t.scope.toastType=t.iconClass,t.scope.toastId=t.toastId,t.scope.options={extendedTimeOut:i.extendedTimeOut,messageClass:i.messageClass,onHidden:i.onHidden,onShown:i.onShown,tapToDismiss:i.tapToDismiss,timeOut:i.timeOut,titleClass:i.titleClass,toastClass:i.toastClass},i.closeButton&&(t.scope.options.closeHtml=i.closeHtml)}function a(){var t={toastId:y++,scope:n.$new(),open:s.defer()};return t.iconClass=i.iconClass,i.optionsOverride&&(u=angular.extend(u,i.optionsOverride),t.iconClass=i.optionsOverride.iconClass||t.iconClass),o(t,i,u),t.el=l(t.scope),t}function l(t){var i=angular.element("<div toast></div>"),n=e.get("$compile");return n(i)(t)}function h(){return u.maxOpened&&b.length<=u.maxOpened||!u.maxOpened}var u=p(),c=a();return b.push(c),h()&&c.open.resolve(),c.open.promise.then(function(){g(u).then(function(){u.newestOnTop?t.enter(c.el,m).then(function(){c.scope.init()}):t.enter(c.el,m,m[0].lastChild).then(function(){c.scope.init()})})}),c}var m,y=0,b=[],x=s.defer(),w={clear:a,error:l,info:h,remove:f,success:u,warning:c};return w}angular.module("toastr",[]).factory("toastr",t),t.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,closeButton:!0,closeHtml:"<button>&times;</button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,positionClass:"toast-bottom-right",tapToDismiss:!0,target:"body",timeOut:5e3,titleClass:"toast-title",toastClass:"toast",showMethod:"fadeIn",hideMethod:"fadeOut",showDuration:"300",hideDuration:"1000"})}(),function(){"use strict";function t(t,e,i){function n(n,r){function o(t){return e(function(){i.remove(n.toastId)},t,1)}function s(){return n.options.closeHtml}var a;if(n.toastClass=n.options.toastClass,n.titleClass=n.options.titleClass,n.messageClass=n.options.messageClass,s()){var l=angular.element(n.options.closeHtml),h=t.get("$compile");l.addClass("toast-close-button"),l.attr("ng-click","close()"),h(l)(n),r.prepend(l)}n.init=function(){n.options.timeOut&&(a=o(n.options.timeOut)),n.options.onShown&&n.options.onShown()},r.on("mouseenter",function(){a&&e.cancel(a)}),n.tapToast=function(){n.options.tapToDismiss&&n.close(!0)},n.close=function(t){i.remove(n.toastId,t)},r.on("mouseleave",function(){(0!==n.options.timeOut||0!==n.options.extendedTimeOut)&&(a=o(n.options.extendedTimeOut))})}return{replace:!0,templateUrl:"templates/toastr/toastr.html",link:n}}angular.module("toastr").directive("toast",t),t.$inject=["$injector","$interval","toastr"]}(),angular.module("toastr").run(["$templateCache",function(t){t.put("templates/toastr/toastr.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}">{{title}}</div>\n    <div ng-switch-default class="{{messageClass}}">{{message}}</div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"></div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"></div>\n  </div>\n</div>')}]),/**
 * @license AngularJS v1.3.20
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,i){"use strict";e.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var t="$$ngAnimateChildren";return function(i,n,r){var o=r.ngAnimateChildren;e.isString(o)&&0===o.length?n.data(t,!0):i.$watch(o,function(e){n.data(t,!!e)})}}).factory("$$animateReflow",["$$rAF","$document",function(t,e){var i=e[0].body;return function(e){return t(function(){e(i.offsetWidth)})}}]).config(["$provide","$animateProvider",function(n,r){function o(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.nodeType==v)return i}}function s(t){return t&&e.element(t)}function a(t){return e.element(o(t))}function l(t,e){return o(t)==o(e)}var h,u=e.noop,c=e.forEach,f=r.$$selectors,d=e.isArray,p=e.isString,g=e.isObject,v=1,m="$$ngAnimateState",y="$$ngAnimateChildren",b="ng-animate",x={running:!0};n.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(t,i,n,v,w,k,T,$,C,M){function S(t,e){var i=t.data(m)||{};return e&&(i.running=!0,i.structural=!0,t.data(m,i)),i.disabled||i.running&&i.structural}function P(t){var e,n=i.defer();return n.promise.$$cancelFn=function(){e&&e()},T.$$postDigest(function(){e=t(function(){n.resolve()})}),n.promise}function D(t){return g(t)?(t.tempClasses&&p(t.tempClasses)&&(t.tempClasses=t.tempClasses.split(/\s+/)),t):void 0}function A(t,e,i){i=i||{};var n={};c(i,function(t,e){c(e.split(" "),function(e){n[e]=t})});var r=Object.create(null);c((t.attr("class")||"").split(/\s+/),function(t){r[t]=!0});var o=[],s=[];return c(e&&e.classes||[],function(t,e){var i=r[e],a=n[e]||{};t===!1?(i||"addClass"==a.event)&&s.push(e):t===!0&&(i&&"removeClass"!=a.event||o.push(e))}),o.length+s.length>0&&[o.join(" "),s.join(" ")]}function E(t){if(t){var e=[],i={},r=t.substr(1).split(".");(v.transitions||v.animations)&&e.push(n.get(f[""]));for(var o=0;o<r.length;o++){var s=r[o],a=f[s];a&&!i[s]&&(e.push(n.get(a)),i[s]=!0)}return e}}function N(t,i,n,r){function o(t,e){var i=t[e],n=t["before"+e.charAt(0).toUpperCase()+e.substr(1)];return i||n?("leave"==e&&(n=i,i=null),k.push({event:e,fn:i}),b.push({event:e,fn:n}),!0):void 0}function s(e,i,o){function s(t){if(i){if((i[t]||u)(),++f<a.length)return;i=null}o()}var a=[];c(e,function(t){t.fn&&a.push(t)});var f=0;c(a,function(e,o){var a=function(){s(o)};switch(e.event){case"setClass":i.push(e.fn(t,l,h,a,r));break;case"animate":i.push(e.fn(t,n,r.from,r.to,a));break;case"addClass":i.push(e.fn(t,l||n,a,r));break;case"removeClass":i.push(e.fn(t,h||n,a,r));break;default:i.push(e.fn(t,a,r))}}),i&&0===i.length&&o()}var a=t[0];if(a){r&&(r.to=r.to||{},r.from=r.from||{});var l,h;d(n)&&(l=n[0],h=n[1],l?h?n=l+" "+h:(n=l,i="addClass"):(n=h,i="removeClass"));var f="setClass"==i,p=f||"addClass"==i||"removeClass"==i||"animate"==i,g=t.attr("class"),v=g+" "+n;if(q(v)){var m=u,y=[],b=[],x=u,w=[],k=[],T=(" "+v).replace(/\s+/g,".");return c(E(T),function(t){var e=o(t,i);!e&&f&&(o(t,"addClass"),o(t,"removeClass"))}),{node:a,event:i,className:n,isClassBased:p,isSetClassOperation:f,applyStyles:function(){r&&t.css(e.extend(r.from||{},r.to||{}))},before:function(t){m=t,s(b,y,function(){m=u,t()})},after:function(t){x=t,s(k,w,function(){x=u,t()})},cancel:function(){y&&(c(y,function(t){(t||u)(!0)}),m(!0)),w&&(c(w,function(t){(t||u)(!0)}),x(!0))}}}}}function _(t,i,n,r,o,s,a,l){function f(e){var r="$animate:"+e;T&&T[r]&&T[r].length>0&&k(function(){n.triggerHandler(r,{event:t,className:i})})}function d(){f("before")}function p(){f("after")}function g(){f("close"),l()}function v(){v.hasBeenRun||(v.hasBeenRun=!0,s())}function y(){if(!y.hasBeenRun){w&&w.applyStyles(),y.hasBeenRun=!0,a&&a.tempClasses&&c(a.tempClasses,function(t){h.removeClass(n,t)});var e=n.data(m);e&&(w&&w.isClassBased?O(n,i):(k(function(){var e=n.data(m)||{};_==e.index&&O(n,i,t)}),n.data(m,e))),g()}}var x=u,w=N(n,t,i,a);if(!w)return v(),d(),p(),y(),x;t=w.event,i=w.className;var T=e.element._data(w.node);if(T=T&&T.events,r||(r=o?o.parent():n.parent()),I(n,r))return v(),d(),p(),y(),x;var $=n.data(m)||{},C=$.active||{},M=$.totalActive||0,S=$.last,P=!1;if(M>0){var D=[];if(w.isClassBased){if("setClass"==S.event)D.push(S),O(n,i);else if(C[i]){var A=C[i];A.event==t?P=!0:(D.push(A),O(n,i))}}else if("leave"==t&&C["ng-leave"])P=!0;else{for(var E in C)D.push(C[E]);$={},O(n,!0)}D.length>0&&c(D,function(t){t.cancel()})}if(!w.isClassBased||w.isSetClassOperation||"animate"==t||P||(P="addClass"==t==n.hasClass(i)),P)return v(),d(),p(),g(),x;C=$.active||{},M=$.totalActive||0,"leave"==t&&n.one("$destroy",function(){var t=e.element(this),i=t.data(m);if(i){var n=i.active["ng-leave"];n&&(n.cancel(),O(t,"ng-leave"))}}),h.addClass(n,b),a&&a.tempClasses&&c(a.tempClasses,function(t){h.addClass(n,t)});var _=F++;return M++,C[i]=w,n.data(m,{last:w,active:C,index:_,totalActive:M}),d(),w.before(function(e){var r=n.data(m);e=e||!r||!r.active[i]||w.isClassBased&&r.active[i].event!=t,v(),e===!0?y():(p(),w.after(y))}),w.cancel}function j(t){var i=o(t);if(i){var n=e.isFunction(i.getElementsByClassName)?i.getElementsByClassName(b):i.querySelectorAll("."+b);c(n,function(t){t=e.element(t);var i=t.data(m);i&&i.active&&c(i.active,function(t){t.cancel()})})}}function O(t,e){if(l(t,w))x.disabled||(x.running=!1,x.structural=!1);else if(e){var i=t.data(m)||{},n=e===!0;!n&&i.active&&i.active[e]&&(i.totalActive--,delete i.active[e]),(n||!i.totalActive)&&(h.removeClass(t,b),t.removeData(m))}}function I(t,i){if(x.disabled)return!0;if(l(t,w))return x.running;var n,r,o;do{if(0===i.length)break;var s=l(i,w),a=s?x:i.data(m)||{};if(a.disabled)return!0;if(s&&(o=!0),n!==!1){var h=i.data(y);e.isDefined(h)&&(n=h)}r=r||a.running||a.last&&!a.last.isClassBased}while(i=i.parent());return!o||!n&&r}h=M,w.data(m,x);var L=T.$watch(function(){return C.totalPendingRequests},function(t){0===t&&(L(),T.$$postDigest(function(){T.$$postDigest(function(){x.running=!1})}))}),F=0,z=r.classNameFilter(),q=z?function(t){return z.test(t)}:function(){return!0};return{animate:function(t,e,i,n,r){return n=n||"ng-inline-animate",r=D(r)||{},r.from=i?e:null,r.to=i?i:e,P(function(e){return _("animate",n,a(t),null,null,u,r,e)})},enter:function(i,n,r,o){return o=D(o),i=e.element(i),n=s(n),r=s(r),S(i,!0),t.enter(i,n,r),P(function(t){return _("enter","ng-enter",a(i),n,r,u,o,t)})},leave:function(i,n){return n=D(n),i=e.element(i),j(i),S(i,!0),P(function(e){return _("leave","ng-leave",a(i),null,null,function(){t.leave(i)},n,e)})},move:function(i,n,r,o){return o=D(o),i=e.element(i),n=s(n),r=s(r),j(i),S(i,!0),t.move(i,n,r),P(function(t){return _("move","ng-move",a(i),n,r,u,o,t)})},addClass:function(t,e,i){return this.setClass(t,e,[],i)},removeClass:function(t,e,i){return this.setClass(t,[],e,i)},setClass:function(i,n,r,s){s=D(s);var l="$$animateClasses";if(i=e.element(i),i=a(i),S(i))return t.$$setClassImmediately(i,n,r,s);var h,u=i.data(l),f=!!u;return u||(u={},u.classes={}),h=u.classes,n=d(n)?n:n.split(" "),c(n,function(t){t&&t.length&&(h[t]=!0)}),r=d(r)?r:r.split(" "),c(r,function(t){t&&t.length&&(h[t]=!1)}),f?(s&&u.options&&(u.options=e.extend(u.options||{},s)),u.promise):(i.data(l,u={classes:h,options:s}),u.promise=P(function(e){var n,r,s,a=o(i);if(a&&(n=i.data(l),i.removeData(l),s=i.parent(),r=a.parentNode),!r||r.$$NG_REMOVED||a.$$NG_REMOVED)return void e();var h=i.data(m)||{},u=A(i,n,h.active);return u?_("setClass",u,i,s,null,function(){u[0]&&t.$$addClassImmediately(i,u[0]),u[1]&&t.$$removeClassImmediately(i,u[1])},n.options,e):e()}))},cancel:function(t){t.$$cancelFn()},enabled:function(t,e){switch(arguments.length){case 2:if(t)O(e);else{var i=e.data(m)||{};i.disabled=!0,e.data(m,i)}break;case 1:x.disabled=!t;break;default:t=!x.disabled}return!!t}}}]),r.register("",["$window","$sniffer","$timeout","$$animateReflow",function(n,r,s,a){function l(){O||(O=a(function(){K=[],O=null,G={}}))}function f(t,e){O&&O(),K.push(e),O=a(function(){c(K,function(t){t()}),K=[],O=null,G={}})}function g(t,i){var n=o(t);t=e.element(n),X.push(t);var r=Date.now()+i;J>=r||(s.cancel(Y),J=r,Y=s(function(){m(X),X=[]},i,!1))}function m(t){c(t,function(t){var e=t.data(H);e&&c(e.closeAnimationFns,function(t){t()})})}function y(t,e){var i=e?G[e]:null;if(!i){var r=0,o=0,s=0,a=0;c(t,function(t){if(t.nodeType==v){var e=n.getComputedStyle(t)||{},i=e[A+I];r=Math.max(b(i),r);var l=e[A+F];o=Math.max(b(l),o);{e[N+F]}a=Math.max(b(e[N+F]),a);var h=b(e[N+I]);h>0&&(h*=parseInt(e[N+z],10)||1),s=Math.max(h,s)}}),i={total:0,transitionDelay:o,transitionDuration:r,animationDelay:a,animationDuration:s},e&&(G[e]=i)}return i}function b(t){var e=0,i=p(t)?t.split(/\s*,\s*/):[];return c(i,function(t){e=Math.max(parseFloat(t)||0,e)}),e}function x(t){var e=t.parent(),i=e.data(R);return i||(e.data(R,++W),i=W),i+"-"+o(t).getAttribute("class")}function w(t,e,i,n){var r=["ng-enter","ng-leave","ng-move"].indexOf(i)>=0,s=x(e),a=s+" "+i,l=G[a]?++G[a].total:0,u={};if(l>0){var c=i+"-stagger",f=s+" "+c,d=!G[f];d&&h.addClass(e,c),u=y(e,f),d&&h.removeClass(e,c)}h.addClass(e,i);var p=e.data(H)||{},g=y(e,a),v=g.transitionDuration,m=g.animationDuration;if(r&&0===v&&0===m)return h.removeClass(e,i),!1;var b=n||r&&v>0,w=m>0&&u.animationDelay>0&&0===u.animationDuration,k=p.closeAnimationFns||[];e.data(H,{stagger:u,cacheKey:a,running:p.running||0,itemIndex:l,blockTransition:b,closeAnimationFns:k});var C=o(e);return b&&(T(C,!0),n&&e.css(n)),w&&$(C,!0),!0}function k(t,e,i,n,r){function a(){e.off(F,l),h.removeClass(e,d),h.removeClass(e,p),I&&s.cancel(I),P(e,i);var t=o(e);for(var n in m)t.style.removeProperty(m[n])}function l(t){t.stopPropagation();var e=t.originalEvent||t,i=e.$manualTimeStamp||e.timeStamp||Date.now(),r=parseFloat(e.elapsedTime.toFixed(B));Math.max(i-L,0)>=N&&r>=D&&n()}var u=o(e),f=e.data(H);if(-1==u.getAttribute("class").indexOf(i)||!f)return void n();var d="",p="";c(i.split(" "),function(t,e){var i=(e>0?" ":"")+t;d+=i+"-active",p+=i+"-pending"});var v="",m=[],b=f.itemIndex,x=f.stagger,w=0;if(b>0){var k=0;x.transitionDelay>0&&0===x.transitionDuration&&(k=x.transitionDelay*b);var C=0;x.animationDelay>0&&0===x.animationDuration&&(C=x.animationDelay*b,m.push(j+"animation-play-state")),w=Math.round(100*Math.max(k,C))/100}w||(h.addClass(e,d),f.blockTransition&&T(u,!1));var M=f.cacheKey+" "+d,S=y(e,M),D=Math.max(S.transitionDuration,S.animationDuration);if(0===D)return h.removeClass(e,d),P(e,i),void n();!w&&r&&Object.keys(r).length>0&&(S.transitionDuration||(e.css("transition",S.animationDuration+"s linear all"),m.push("transition")),e.css(r));var A=Math.max(S.transitionDelay,S.animationDelay),N=A*U;if(m.length>0){var O=u.getAttribute("style")||"";";"!==O.charAt(O.length-1)&&(O+=";"),u.setAttribute("style",O+" "+v)}var I,L=Date.now(),F=_+" "+E,z=(A+D)*V,q=(w+z)*U;return w>0&&(h.addClass(e,p),I=s(function(){I=null,S.transitionDuration>0&&T(u,!1),S.animationDuration>0&&$(u,!1),h.addClass(e,d),h.removeClass(e,p),r&&(0===S.transitionDuration&&e.css("transition",S.animationDuration+"s linear all"),e.css(r),m.push("transition"))},w*U,!1)),e.on(F,l),f.closeAnimationFns.push(function(){a(),n()}),f.running++,g(e,q),a}function T(t,e){t.style[A+L]=e?"none":""}function $(t,e){t.style[N+q]=e?"paused":""}function C(t,e,i,n){return w(t,e,i,n)?function(t){t&&P(e,i)}:void 0}function M(t,e,i,n,r){return e.data(H)?k(t,e,i,n,r):(P(e,i),void n())}function S(t,e,i,n,r){var o=C(t,e,i,r.from);if(!o)return l(),void n();var s=o;return f(e,function(){s=M(t,e,i,n,r.to)}),function(t){(s||u)(t)}}function P(t,e){h.removeClass(t,e);var i=t.data(H);i&&(i.running&&i.running--,i.running&&0!==i.running||t.removeData(H))}function D(t,e){var i="";return t=d(t)?t:t.split(/\s+/),c(t,function(t,n){t&&t.length>0&&(i+=(n>0?" ":"")+t+e)}),i}var A,E,N,_,j="";t.ontransitionend===i&&t.onwebkittransitionend!==i?(j="-webkit-",A="WebkitTransition",E="webkitTransitionEnd transitionend"):(A="transition",E="transitionend"),t.onanimationend===i&&t.onwebkitanimationend!==i?(j="-webkit-",N="WebkitAnimation",_="webkitAnimationEnd animationend"):(N="animation",_="animationend");var O,I="Duration",L="Property",F="Delay",z="IterationCount",q="PlayState",R="$$ngAnimateKey",H="$$ngAnimateCSS3Data",B=3,V=1.5,U=1e3,G={},W=0,K=[],Y=null,J=0,X=[];return{animate:function(t,e,i,n,r,o){return o=o||{},o.from=i,o.to=n,S("animate",t,e,r,o)},enter:function(t,e,i){return i=i||{},S("enter",t,"ng-enter",e,i)},leave:function(t,e,i){return i=i||{},S("leave",t,"ng-leave",e,i)},move:function(t,e,i){return i=i||{},S("move",t,"ng-move",e,i)},beforeSetClass:function(t,e,i,n,r){r=r||{};var o=D(i,"-remove")+" "+D(e,"-add"),s=C("setClass",t,o,r.from);return s?(f(t,n),s):(l(),void n())},beforeAddClass:function(t,e,i,n){n=n||{};var r=C("addClass",t,D(e,"-add"),n.from);return r?(f(t,i),r):(l(),void i())},beforeRemoveClass:function(t,e,i,n){n=n||{};var r=C("removeClass",t,D(e,"-remove"),n.from);return r?(f(t,i),r):(l(),void i())},setClass:function(t,e,i,n,r){r=r||{},i=D(i,"-remove"),e=D(e,"-add");var o=i+" "+e;return M("setClass",t,o,n,r.to)},addClass:function(t,e,i,n){return n=n||{},M("addClass",t,D(e,"-add"),i,n.to)},removeClass:function(t,e,i,n){return n=n||{},M("removeClass",t,D(e,"-remove"),i,n.to)}}}])}])}(window,window.angular),/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.12.1 - 2015-02-20
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(t,e,i){function n(t){for(var e in t)if(void 0!==o.style[e])return t[e]}var r=function(n,o,s){s=s||{};var a=t.defer(),l=r[s.animation?"animationEndEventName":"transitionEndEventName"],h=function(){i.$apply(function(){n.unbind(l,h),a.resolve(n)})};return l&&n.bind(l,h),e(function(){angular.isString(o)?n.addClass(o):angular.isFunction(o)?o(n):angular.isObject(o)&&n.css(o),l||a.resolve(n)}),a.promise.cancel=function(){l&&n.unbind(l,h),a.reject("Transition cancelled")},a.promise},o=document.createElement("trans"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},a={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return r.transitionEndEventName=n(s),r.animationEndEventName=n(a),r}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(t){return{link:function(e,i,n){function r(e){function n(){h===r&&(h=void 0)}var r=t(i,e);return h&&h.cancel(),h=r,r.then(n,n),r}function o(){u?(u=!1,s()):(i.removeClass("collapse").addClass("collapsing"),r({height:i[0].scrollHeight+"px"}).then(s))}function s(){i.removeClass("collapsing"),i.addClass("collapse in"),i.css({height:"auto"})}function a(){if(u)u=!1,l(),i.css({height:0});else{i.css({height:i[0].scrollHeight+"px"});{i[0].offsetWidth}i.removeClass("collapse in").addClass("collapsing"),r({height:0}).then(l)}}function l(){i.removeClass("collapsing"),i.addClass("collapse")}var h,u=!0;e.$watch(n.collapse,function(t){t?a():o()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,e,i){this.groups=[],this.closeOthers=function(n){var r=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):i.closeOthers;r&&angular.forEach(this.groups,function(t){t!==n&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,i,n){n.addGroup(t),t.$watch("isOpen",function(e){e&&n.closeOthers(t)}),t.toggleOpen=function(){t.isDisabled||(t.isOpen=!t.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(t,e,i,n,r){n.setHeading(r(t,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,i,n){t.$watch(function(){return n[i.accordionTransclude]},function(t){t&&(e.html(""),e.append(t))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable="close"in e,this.close=t.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(t){return{require:"alert",link:function(e,i,n,r){t(function(){r.close()},parseInt(n.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,i){e.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe),t.$watch(i.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(t,e,i,n){var r=n[0],o=n[1];o.$render=function(){e.toggleClass(r.activeClass,angular.equals(o.$modelValue,t.$eval(i.btnRadio)))},e.bind(r.toggleEvent,function(){var n=e.hasClass(r.activeClass);(!n||angular.isDefined(i.uncheckable))&&t.$apply(function(){o.$setViewValue(n?null:t.$eval(i.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(t,e,i,n){function r(){return s(i.btnCheckboxTrue,!0)}function o(){return s(i.btnCheckboxFalse,!1)}function s(e,i){var n=t.$eval(e);return angular.isDefined(n)?n:i}var a=n[0],l=n[1];l.$render=function(){e.toggleClass(a.activeClass,angular.equals(l.$modelValue,r()))},e.bind(a.toggleEvent,function(){t.$apply(function(){l.$setViewValue(e.hasClass(a.activeClass)?o():r()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(t,e,i,n){function r(){o();var e=+t.interval;!isNaN(e)&&e>0&&(a=i(s,e))}function o(){a&&(i.cancel(a),a=null)}function s(){var e=+t.interval;l&&!isNaN(e)&&e>0?t.next():t.pause()}var a,l,h=this,u=h.slides=t.slides=[],c=-1;h.currentSlide=null;var f=!1;h.select=t.select=function(i,o){function s(){if(!f){if(h.currentSlide&&angular.isString(o)&&!t.noTransition&&i.$element){i.$element.addClass(o);{i.$element[0].offsetWidth}angular.forEach(u,function(t){angular.extend(t,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(i,{direction:o,active:!0,entering:!0}),angular.extend(h.currentSlide||{},{direction:o,leaving:!0}),t.$currentTransition=n(i.$element,{}),function(e,i){t.$currentTransition.then(function(){a(e,i)},function(){a(e,i)})}(i,h.currentSlide)}else a(i,h.currentSlide);h.currentSlide=i,c=l,r()}}function a(e,i){angular.extend(e,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(i||{},{direction:"",active:!1,leaving:!1,entering:!1}),t.$currentTransition=null}var l=u.indexOf(i);void 0===o&&(o=l>c?"next":"prev"),i&&i!==h.currentSlide&&(t.$currentTransition?(t.$currentTransition.cancel(),e(s)):s())},t.$on("$destroy",function(){f=!0}),h.indexOfSlide=function(t){return u.indexOf(t)},t.next=function(){var e=(c+1)%u.length;return t.$currentTransition?void 0:h.select(u[e],"next")},t.prev=function(){var e=0>c-1?u.length-1:c-1;return t.$currentTransition?void 0:h.select(u[e],"prev")},t.isActive=function(t){return h.currentSlide===t},t.$watch("interval",r),t.$on("$destroy",o),t.play=function(){l||(l=!0,r())},t.pause=function(){t.noPause||(l=!1,o())},h.addSlide=function(e,i){e.$element=i,u.push(e),1===u.length||e.active?(h.select(u[u.length-1]),1==u.length&&t.play()):e.active=!1},h.removeSlide=function(t){var e=u.indexOf(t);u.splice(e,1),u.length>0&&t.active?h.select(e>=u.length?u[e-1]:u[e]):c>e&&c--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(t,e,i,n){n.addSlide(t,e),t.$on("$destroy",function(){n.removeSlide(t)}),t.$watch("active",function(e){e&&n.select(t)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(t,e){function i(t){var i=[],n=t.split("");return angular.forEach(r,function(e,r){var o=t.indexOf(r);if(o>-1){t=t.split(""),n[o]="("+e.regex+")",t[o]="$";for(var s=o+1,a=o+r.length;a>s;s++)n[s]="",t[s]="$";t=t.join(""),i.push({index:o,apply:e.apply})}}),{regex:new RegExp("^"+n.join("")+"$"),map:e(i,"index")}}function n(t,e,i){return 1===e&&i>28?29===i&&(t%4===0&&t%100!==0||t%400===0):3===e||5===e||8===e||10===e?31>i:!0}this.parsers={};var r={yyyy:{regex:"\\d{4}",apply:function(t){this.year=+t}},yy:{regex:"\\d{2}",apply:function(t){this.year=+t+2e3}},y:{regex:"\\d{1,4}",apply:function(t){this.year=+t}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1}},M:{regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(e,r){if(!angular.isString(e)||!r)return e;r=t.DATETIME_FORMATS[r]||r,this.parsers[r]||(this.parsers[r]=i(r));var o=this.parsers[r],s=o.regex,a=o.map,l=e.match(s);if(l&&l.length){for(var h,u={year:1900,month:0,date:1,hours:0},c=1,f=l.length;f>c;c++){var d=a[c-1];d.apply&&d.apply.call(u,l[c])}return n(u.year,u.month,u.date)&&(h=new Date(u.year,u.month,u.date,u.hours)),h}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function i(t,i){return t.currentStyle?t.currentStyle[i]:e.getComputedStyle?e.getComputedStyle(t)[i]:t.style[i]}function n(t){return"static"===(i(t,"position")||"static")}var r=function(e){for(var i=t[0],r=e.offsetParent||i;r&&r!==i&&n(r);)r=r.offsetParent;return r||i};return{position:function(e){var i=this.offset(e),n={top:0,left:0},o=r(e[0]);o!=t[0]&&(n=this.offset(angular.element(o)),n.top+=o.clientTop-o.scrollTop,n.left+=o.clientLeft-o.scrollLeft);var s=e[0].getBoundingClientRect();return{width:s.width||e.prop("offsetWidth"),height:s.height||e.prop("offsetHeight"),top:i.top-n.top,left:i.left-n.left}},offset:function(i){var n=i[0].getBoundingClientRect();return{width:n.width||i.prop("offsetWidth"),height:n.height||i.prop("offsetHeight"),top:n.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:n.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,i,n){var r,o,s,a,l=i.split("-"),h=l[0],u=l[1]||"center";r=n?this.offset(t):this.position(t),o=e.prop("offsetWidth"),s=e.prop("offsetHeight");var c={center:function(){return r.left+r.width/2-o/2},left:function(){return r.left},right:function(){return r.left+r.width}},f={center:function(){return r.top+r.height/2-s/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(h){case"right":a={top:f[u](),left:c[h]()};break;case"left":a={top:f[u](),left:r.left-o};break;case"bottom":a={top:f[h](),left:c[u]()};break;default:a={top:r.top-s,left:c[u]()}}return a}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(t,e,i,n,r,o,s,a){var l=this,h={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(i,r){l[i]=angular.isDefined(e[i])?8>r?n(e[i])(t.$parent):t.$parent.$eval(e[i]):a[i]}),angular.forEach(["minDate","maxDate"],function(n){e[n]?t.$parent.$watch(i(e[n]),function(t){l[n]=t?new Date(t):null,l.refreshView()}):l[n]=a[n]?new Date(a[n]):null}),t.datepickerMode=t.datepickerMode||a.datepickerMode,t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(e.initDate)?t.$parent.$eval(e.initDate):new Date,t.isActive=function(e){return 0===l.compare(e.date,l.activeDate)?(t.activeDateId=e.uid,!0):!1},this.init=function(t){h=t,h.$render=function(){l.render()}},this.render=function(){if(h.$modelValue){var t=new Date(h.$modelValue),e=!isNaN(t);e?this.activeDate=t:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),h.$setValidity("date",e)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var t=h.$modelValue?new Date(h.$modelValue):null;h.$setValidity("date-disabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var i=h.$modelValue?new Date(h.$modelValue):null;return{date:t,label:s(t,e),selected:i&&0===this.compare(t,i),disabled:this.isDisabled(t),current:0===this.compare(t,new Date)}},this.isDisabled=function(i){return this.minDate&&this.compare(i,this.minDate)<0||this.maxDate&&this.compare(i,this.maxDate)>0||e.dateDisabled&&t.dateDisabled({date:i,mode:t.datepickerMode})},this.split=function(t,e){for(var i=[];t.length>0;)i.push(t.splice(0,e));return i},t.select=function(e){if(t.datepickerMode===l.minMode){var i=h.$modelValue?new Date(h.$modelValue):new Date(0,0,0,0,0,0,0);i.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),h.$setViewValue(i),h.$render()}else l.activeDate=e,t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)-1]},t.move=function(t){var e=l.activeDate.getFullYear()+t*(l.step.years||0),i=l.activeDate.getMonth()+t*(l.step.months||0);l.activeDate.setFullYear(e,i,1),l.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===l.maxMode&&1===e||t.datepickerMode===l.minMode&&-1===e||(t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)+e])},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){r(function(){l.element[0].focus()},0,!1)};t.$on("datepicker.focus",u),t.keydown=function(e){var i=t.keys[e.which];if(i&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),e.stopPropagation(),"enter"===i||"space"===i){if(l.isDisabled(l.activeDate))return;t.select(l.activeDate),u()}else!e.ctrlKey||"up"!==i&&"down"!==i?(l.handleKeyDown(i,e),l.refreshView()):(t.toggleMode("up"===i?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(t,e,i,n){var r=n[0],o=n[1];o&&r.init(o)}}}).directive("daypicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(e,i,n,r){function o(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?l[e]:29}function s(t,e){var i=new Array(e),n=new Date(t),r=0;for(n.setHours(12);e>r;)i[r++]=new Date(n),n.setDate(n.getDate()+1);return i}function a(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var i=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((i-e)/864e5)/7)+1}e.showWeeks=r.showWeeks,r.step={months:1},r.element=i;var l=[31,28,31,30,31,30,31,31,30,31,30,31];r._refreshView=function(){var i=r.activeDate.getFullYear(),n=r.activeDate.getMonth(),o=new Date(i,n,1),l=r.startingDay-o.getDay(),h=l>0?7-l:-l,u=new Date(o);h>0&&u.setDate(-h+1);for(var c=s(u,42),f=0;42>f;f++)c[f]=angular.extend(r.createDateObject(c[f],r.formatDay),{secondary:c[f].getMonth()!==n,uid:e.uniqueId+"-"+f});e.labels=new Array(7);for(var d=0;7>d;d++)e.labels[d]={abbr:t(c[d].date,r.formatDayHeader),full:t(c[d].date,"EEEE")};if(e.title=t(r.activeDate,r.formatDayTitle),e.rows=r.split(c,7),e.showWeeks){e.weekNumbers=[];for(var p=a(e.rows[0][0].date),g=e.rows.length;e.weekNumbers.push(p++)<g;);}},r.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},r.handleKeyDown=function(t){var e=r.activeDate.getDate();if("left"===t)e-=1;else if("up"===t)e-=7;else if("right"===t)e+=1;else if("down"===t)e+=7;else if("pageup"===t||"pagedown"===t){var i=r.activeDate.getMonth()+("pageup"===t?-1:1);r.activeDate.setMonth(i,1),e=Math.min(o(r.activeDate.getFullYear(),r.activeDate.getMonth()),e)}else"home"===t?e=1:"end"===t&&(e=o(r.activeDate.getFullYear(),r.activeDate.getMonth()));r.activeDate.setDate(e)},r.refreshView()}}}]).directive("monthpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(e,i,n,r){r.step={years:1},r.element=i,r._refreshView=function(){for(var i=new Array(12),n=r.activeDate.getFullYear(),o=0;12>o;o++)i[o]=angular.extend(r.createDateObject(new Date(n,o,1),r.formatMonth),{uid:e.uniqueId+"-"+o});e.title=t(r.activeDate,r.formatMonthTitle),e.rows=r.split(i,3)},r.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},r.handleKeyDown=function(t){var e=r.activeDate.getMonth();if("left"===t)e-=1;else if("up"===t)e-=3;else if("right"===t)e+=1;else if("down"===t)e+=3;else if("pageup"===t||"pagedown"===t){var i=r.activeDate.getFullYear()+("pageup"===t?-1:1);r.activeDate.setFullYear(i)}else"home"===t?e=0:"end"===t&&(e=11);r.activeDate.setMonth(e)},r.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(t,e,i,n){function r(t){return parseInt((t-1)/o,10)*o+1}var o=n.yearRange;n.step={years:o},n.element=e,n._refreshView=function(){for(var e=new Array(o),i=0,s=r(n.activeDate.getFullYear());o>i;i++)e[i]=angular.extend(n.createDateObject(new Date(s+i,0,1),n.formatYear),{uid:t.uniqueId+"-"+i});t.title=[e[0].label,e[o-1].label].join(" - "),t.rows=n.split(e,5)},n.compare=function(t,e){return t.getFullYear()-e.getFullYear()},n.handleKeyDown=function(t){var e=n.activeDate.getFullYear();"left"===t?e-=1:"up"===t?e-=5:"right"===t?e+=1:"down"===t?e+=5:"pageup"===t||"pagedown"===t?e+=("pageup"===t?-1:1)*n.step.years:"home"===t?e=r(n.activeDate.getFullYear()):"end"===t&&(e=r(n.activeDate.getFullYear())+o-1),n.activeDate.setFullYear(e)},n.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(t,e,i,n,r,o,s){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(a,l,h,u){function c(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function f(t){if(t){if(angular.isDate(t)&&!isNaN(t))return u.$setValidity("date",!0),t;if(angular.isString(t)){var e=o.parse(t,d)||new Date(t);return isNaN(e)?void u.$setValidity("date",!1):(u.$setValidity("date",!0),e)}return void u.$setValidity("date",!1)}return u.$setValidity("date",!0),null}var d,p=angular.isDefined(h.closeOnDateSelection)?a.$parent.$eval(h.closeOnDateSelection):s.closeOnDateSelection,g=angular.isDefined(h.datepickerAppendToBody)?a.$parent.$eval(h.datepickerAppendToBody):s.appendToBody;a.showButtonBar=angular.isDefined(h.showButtonBar)?a.$parent.$eval(h.showButtonBar):s.showButtonBar,a.getText=function(t){return a[t+"Text"]||s[t+"Text"]},h.$observe("datepickerPopup",function(t){d=t||s.datepickerPopup,u.$render()});var v=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");v.attr({"ng-model":"date","ng-change":"dateSelection()"});var m=angular.element(v.children()[0]);h.datepickerOptions&&angular.forEach(a.$parent.$eval(h.datepickerOptions),function(t,e){m.attr(c(e),t)}),a.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(t){if(h[t]){var i=e(h[t]);if(a.$parent.$watch(i,function(e){a.watchData[t]=e}),m.attr(c(t),"watchData."+t),"datepickerMode"===t){var n=i.assign;a.$watch("watchData."+t,function(t,e){t!==e&&n(a.$parent,t)})}}}),h.dateDisabled&&m.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),u.$parsers.unshift(f),a.dateSelection=function(t){angular.isDefined(t)&&(a.date=t),u.$setViewValue(a.date),u.$render(),p&&(a.isOpen=!1,l[0].focus())},l.bind("input change keyup",function(){a.$apply(function(){a.date=u.$modelValue})}),u.$render=function(){var t=u.$viewValue?r(u.$viewValue,d):"";l.val(t),a.date=f(u.$modelValue)};var y=function(t){a.isOpen&&t.target!==l[0]&&a.$apply(function(){a.isOpen=!1})},b=function(t){a.keydown(t)};l.bind("keydown",b),a.keydown=function(t){27===t.which?(t.preventDefault(),t.stopPropagation(),a.close()):40!==t.which||a.isOpen||(a.isOpen=!0)},a.$watch("isOpen",function(t){t?(a.$broadcast("datepicker.focus"),a.position=g?n.offset(l):n.position(l),a.position.top=a.position.top+l.prop("offsetHeight"),i.bind("click",y)):i.unbind("click",y)}),a.select=function(t){if("today"===t){var e=new Date;angular.isDate(u.$modelValue)?(t=new Date(u.$modelValue),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate())):t=new Date(e.setHours(0,0,0,0))}a.dateSelection(t)},a.close=function(){a.isOpen=!1,l[0].focus()};var x=t(v)(a);v.remove(),g?i.find("body").append(x):l.after(x),a.$on("$destroy",function(){x.remove(),l.unbind("keydown",b),i.unbind("click",y)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(t,e){e.bind("click",function(t){t.preventDefault(),t.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(t){var e=null;this.open=function(r){e||(t.bind("click",i),t.bind("keydown",n)),e&&e!==r&&(e.isOpen=!1),e=r},this.close=function(r){e===r&&(e=null,t.unbind("click",i),t.unbind("keydown",n))};var i=function(t){if(e){var i=e.getToggleElement();t&&i&&i[0].contains(t.target)||e.$apply(function(){e.isOpen=!1})}},n=function(t){27===t.which&&(e.focusToggleElement(),i())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(t,e,i,n,r,o){var s,a=this,l=t.$new(),h=n.openClass,u=angular.noop,c=e.onToggle?i(e.onToggle):angular.noop;this.init=function(n){a.$element=n,e.isOpen&&(s=i(e.isOpen),u=s.assign,t.$watch(s,function(t){l.isOpen=!!t}))},this.toggle=function(t){return l.isOpen=arguments.length?!!t:!l.isOpen},this.isOpen=function(){return l.isOpen},l.getToggleElement=function(){return a.toggleElement},l.focusToggleElement=function(){a.toggleElement&&a.toggleElement[0].focus()},l.$watch("isOpen",function(e,i){o[e?"addClass":"removeClass"](a.$element,h),e?(l.focusToggleElement(),r.open(l)):r.close(l),u(t,e),angular.isDefined(e)&&e!==i&&c(t,{open:!!e})}),t.$on("$locationChangeSuccess",function(){l.isOpen=!1}),t.$on("$destroy",function(){l.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(t,e,i,n){n.init(e)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(t,e,i,n){if(n){n.toggleElement=e;var r=function(r){r.preventDefault(),e.hasClass("disabled")||i.disabled||t.$apply(function(){n.toggle()})};e.bind("click",r),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(n.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",r)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,i){t.push({key:e,value:i})},get:function(e){for(var i=0;i<t.length;i++)if(e==t[i].key)return t[i]},keys:function(){for(var e=[],i=0;i<t.length;i++)e.push(t[i].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var i=-1,n=0;n<t.length;n++)if(e==t[n].key){i=n;break}return t.splice(i,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}).directive("modalBackdrop",["$timeout",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(e,i,n){e.backdropClass=n.backdropClass||"",e.animate=!1,t(function(){e.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(t,e){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/modal/window.html"},link:function(i,n,r){n.addClass(r.windowClass||""),i.size=r.size,e(function(){i.animate=!0,n[0].querySelectorAll("[autofocus]").length||n[0].focus()}),i.close=function(e){var i=t.getTop();i&&i.value.backdrop&&"static"!=i.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(i.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(t,e,i,n,r){r(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(t,e,i,n,r,o){function s(){for(var t=-1,e=d.keys(),i=0;i<e.length;i++)d.get(e[i]).value.backdrop&&(t=i);return t}function a(t){var e=i.find("body").eq(0),n=d.get(t).value;d.remove(t),h(n.modalDomEl,n.modalScope,300,function(){n.modalScope.$destroy(),e.toggleClass(f,d.length()>0),l()})}function l(){if(u&&-1==s()){var t=c;h(u,c,150,function(){t.$destroy(),t=null}),u=void 0,c=void 0}}function h(i,n,r,o){function s(){s.done||(s.done=!0,i.remove(),o&&o())}n.animate=!1;var a=t.transitionEndEventName;if(a){var l=e(s,r);i.bind(a,function(){e.cancel(l),s(),n.$apply()})}else e(s)}var u,c,f="modal-open",d=o.createNew(),p={};return r.$watch(s,function(t){c&&(c.index=t)}),i.bind("keydown",function(t){var e;27===t.which&&(e=d.top(),e&&e.value.keyboard&&(t.preventDefault(),r.$apply(function(){p.dismiss(e.key,"escape key press")})))}),p.open=function(t,e){d.add(t,{deferred:e.deferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var o=i.find("body").eq(0),a=s();if(a>=0&&!u){c=r.$new(!0),c.index=a;var l=angular.element("<div modal-backdrop></div>");l.attr("backdrop-class",e.backdropClass),u=n(l)(c),o.append(u)}var h=angular.element("<div modal-window></div>");h.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:d.length()-1,animate:"animate"}).html(e.content);var p=n(h)(e.scope);d.top().value.modalDomEl=p,o.append(p),o.addClass(f)},p.close=function(t,e){var i=d.get(t);i&&(i.value.deferred.resolve(e),a(t))},p.dismiss=function(t,e){var i=d.get(t);i&&(i.value.deferred.reject(e),a(t))},p.dismissAll=function(t){for(var e=this.getTop();e;)this.dismiss(e.key,t),e=this.getTop()},p.getTop=function(){return d.top()},p}]).provider("$modal",function(){var t={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(e,i,n,r,o,s,a){function l(t){return t.template?n.when(t.template):r.get(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl,{cache:o}).then(function(t){return t.data})}function h(t){var i=[];return angular.forEach(t,function(t){(angular.isFunction(t)||angular.isArray(t))&&i.push(n.when(e.invoke(t)))}),i}var u={};return u.open=function(e){var r=n.defer(),o=n.defer(),u={result:r.promise,opened:o.promise,close:function(t){a.close(u,t)},dismiss:function(t){a.dismiss(u,t)}};if(e=angular.extend({},t.options,e),e.resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var c=n.all([l(e)].concat(h(e.resolve)));return c.then(function(t){var n=(e.scope||i).$new();n.$close=u.close,n.$dismiss=u.dismiss;var o,l={},h=1;e.controller&&(l.$scope=n,l.$modalInstance=u,angular.forEach(e.resolve,function(e,i){l[i]=t[h++]}),o=s(e.controller,l),e.controllerAs&&(n[e.controllerAs]=o)),a.open(u,{scope:n,deferred:r,content:t[0],backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size})},function(t){r.reject(t)}),c.then(function(){o.resolve(!0)},function(){o.reject(!1)}),u},u}]};return t}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(t,e,i){var n=this,r={$setViewValue:angular.noop},o=e.numPages?i(e.numPages).assign:angular.noop;this.init=function(o,s){r=o,this.config=s,r.$render=function(){n.render()},e.itemsPerPage?t.$parent.$watch(i(e.itemsPerPage),function(e){n.itemsPerPage=parseInt(e,10),t.totalPages=n.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){t.page=parseInt(r.$viewValue,10)||1},t.selectPage=function(e){t.page!==e&&e>0&&e<=t.totalPages&&(r.$setViewValue(e),r.$render())},t.getText=function(e){return t[e+"Text"]||n.config[e+"Text"]},t.noPrevious=function(){return 1===t.page},t.noNext=function(){return t.page===t.totalPages},t.$watch("totalItems",function(){t.totalPages=n.calculateTotalPages()}),t.$watch("totalPages",function(e){o(t.$parent,e),t.page>e?t.selectPage(e):r.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(i,n,r,o){function s(t,e,i){return{number:t,text:e,active:i}}function a(t,e){var i=[],n=1,r=e,o=angular.isDefined(u)&&e>u;o&&(c?(n=Math.max(t-Math.floor(u/2),1),r=n+u-1,r>e&&(r=e,n=r-u+1)):(n=(Math.ceil(t/u)-1)*u+1,r=Math.min(n+u-1,e)));for(var a=n;r>=a;a++){var l=s(a,a,a===t);i.push(l)}if(o&&!c){if(n>1){var h=s(n-1,"...",!1);i.unshift(h)}if(e>r){var f=s(r+1,"...",!1);i.push(f)}}return i}var l=o[0],h=o[1];if(h){var u=angular.isDefined(r.maxSize)?i.$parent.$eval(r.maxSize):e.maxSize,c=angular.isDefined(r.rotate)?i.$parent.$eval(r.rotate):e.rotate;i.boundaryLinks=angular.isDefined(r.boundaryLinks)?i.$parent.$eval(r.boundaryLinks):e.boundaryLinks,i.directionLinks=angular.isDefined(r.directionLinks)?i.$parent.$eval(r.directionLinks):e.directionLinks,l.init(h,e),r.maxSize&&i.$parent.$watch(t(r.maxSize),function(t){u=parseInt(t,10),l.render()
});var f=l.render;l.render=function(){f(),i.page>0&&i.page<=i.totalPages&&(i.pages=a(i.page,i.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,i,n,r){var o=r[0],s=r[1];s&&(e.align=angular.isDefined(n.align)?e.$parent.$eval(n.align):t.align,o.init(s,t))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function t(t){var e=/[A-Z]/g,i="-";return t.replace(e,function(t,e){return(e?i:"")+t.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0},i={mouseenter:"mouseleave",click:"click",focus:"blur"},n={};this.options=function(t){angular.extend(n,t)},this.setTriggers=function(t){angular.extend(i,t)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(r,o,s,a,l,h){return function(r,u,c){function f(t){var e=t||d.trigger||c,n=i[e]||e;return{show:e,hide:n}}var d=angular.extend({},e,n),p=t(r),g=h.startSymbol(),v=h.endSymbol(),m="<div "+p+'-popup title="'+g+"title"+v+'" content="'+g+"content"+v+'" placement="'+g+"placement"+v+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(){var t=o(m);return function(e,i,n){function o(){D.isOpen?c():h()}function h(){(!P||e.$eval(n[u+"Enable"]))&&(y(),D.popupDelay?C||(C=s(p,D.popupDelay,!1),C.then(function(t){t()})):p()())}function c(){e.$apply(function(){g()})}function p(){return C=null,$&&(s.cancel($),$=null),D.content?(v(),k.css({top:0,left:0,display:"block"}),D.$digest(),A(),D.isOpen=!0,D.$digest(),A):angular.noop}function g(){D.isOpen=!1,s.cancel(C),C=null,D.animation?$||($=s(m,500)):m()}function v(){k&&m(),T=D.$new(),k=t(T,function(t){M?a.find("body").append(t):i.after(t)})}function m(){$=null,k&&(k.remove(),k=null),T&&(T.$destroy(),T=null)}function y(){b(),x()}function b(){var t=n[u+"Placement"];D.placement=angular.isDefined(t)?t:d.placement}function x(){var t=n[u+"PopupDelay"],e=parseInt(t,10);D.popupDelay=isNaN(e)?d.popupDelay:e}function w(){var t=n[u+"Trigger"];E(),S=f(t),S.show===S.hide?i.bind(S.show,o):(i.bind(S.show,h),i.bind(S.hide,c))}var k,T,$,C,M=angular.isDefined(d.appendToBody)?d.appendToBody:!1,S=f(void 0),P=angular.isDefined(n[u+"Enable"]),D=e.$new(!0),A=function(){var t=l.positionElements(i,k,D.placement,M);t.top+="px",t.left+="px",k.css(t)};D.isOpen=!1,n.$observe(r,function(t){D.content=t,!t&&D.isOpen&&g()}),n.$observe(u+"Title",function(t){D.title=t});var E=function(){i.unbind(S.show,h),i.unbind(S.hide,c)};w();var N=e.$eval(n[u+"Animation"]);D.animation=angular.isDefined(N)?!!N:d.animation;var _=e.$eval(n[u+"AppendToBody"]);M=angular.isDefined(_)?_:M,M&&e.$on("$locationChangeSuccess",function(){D.isOpen&&g()}),e.$on("$destroy",function(){s.cancel($),s.cancel(C),E(),m(),D=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(t){return t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(t,e,i){var n=this,r=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):i.animate;this.bars=[],t.max=angular.isDefined(e.max)?t.$parent.$eval(e.max):i.max,this.addBar=function(e,i){r||i.css({transition:"none"}),this.bars.push(e),e.$watch("value",function(i){e.percent=+(100*i/t.max).toFixed(2)}),e.$on("$destroy",function(){i=null,n.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,i,n){n.addBar(t,e)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,i,n){n.addBar(t,angular.element(e.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(t,e,i){var n={$setViewValue:angular.noop};this.init=function(r){n=r,n.$render=this.render,this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):i.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):i.stateOff;var o=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):i.max);t.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(t){for(var e=0,i=t.length;i>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff},t[e]);return t},t.rate=function(e){!t.readonly&&e>=0&&e<=t.range.length&&(n.$setViewValue(e),n.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=n.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=n.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(t,e,i,n){var r=n[0],o=n[1];o&&r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var e=this,i=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(i,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect())}),t.active=!0,t.onSelect()},e.addTab=function(t){i.push(t),1===i.length?t.active=!0:t.active&&e.select(t)},e.removeTab=function(t){var r=i.indexOf(t);if(t.active&&i.length>1&&!n){var o=r==i.length-1?r-1:r+1;e.select(i[o])}i.splice(r,1)};var n;t.$on("$destroy",function(){n=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,i){t.vertical=angular.isDefined(i.vertical)?t.$parent.$eval(i.vertical):!1,t.justified=angular.isDefined(i.justified)?t.$parent.$eval(i.justified):!1}}}).directive("tab",["$parse",function(t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(e,i,n){return function(e,i,r,o){e.$watch("active",function(t){t&&o.select(e)}),e.disabled=!1,r.disabled&&e.$parent.$watch(t(r.disabled),function(t){e.disabled=!!t}),e.select=function(){e.disabled||(e.active=!0)},o.addTab(e),e.$on("$destroy",function(){o.removeTab(e)}),e.$transcludeFn=n}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(e,i,n){var r=e.$eval(n.tabContentTransclude);r.$transcludeFn(r.$parent,function(e){angular.forEach(e,function(e){t(e)?r.headingElement=e:i.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(t,e,i,n,r,o){function s(){var e=parseInt(t.hours,10),i=t.showMeridian?e>0&&13>e:e>=0&&24>e;return i?(t.showMeridian&&(12===e&&(e=0),t.meridian===g[1]&&(e+=12)),e):void 0}function a(){var e=parseInt(t.minutes,10);return e>=0&&60>e?e:void 0}function l(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t}function h(t){u(),p.$setViewValue(new Date(d)),c(t)}function u(){p.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1}function c(e){var i=d.getHours(),n=d.getMinutes();t.showMeridian&&(i=0===i||12===i?12:i%12),t.hours="h"===e?i:l(i),t.minutes="m"===e?n:l(n),t.meridian=d.getHours()<12?g[0]:g[1]}function f(t){var e=new Date(d.getTime()+6e4*t);d.setHours(e.getHours(),e.getMinutes()),h()}var d=new Date,p={$setViewValue:angular.noop},g=angular.isDefined(e.meridians)?t.$parent.$eval(e.meridians):o.meridians||r.DATETIME_FORMATS.AMPMS;this.init=function(i,n){p=i,p.$render=this.render;var r=n.eq(0),s=n.eq(1),a=angular.isDefined(e.mousewheel)?t.$parent.$eval(e.mousewheel):o.mousewheel;a&&this.setupMousewheelEvents(r,s),t.readonlyInput=angular.isDefined(e.readonlyInput)?t.$parent.$eval(e.readonlyInput):o.readonlyInput,this.setupInputEvents(r,s)};var v=o.hourStep;e.hourStep&&t.$parent.$watch(i(e.hourStep),function(t){v=parseInt(t,10)});var m=o.minuteStep;e.minuteStep&&t.$parent.$watch(i(e.minuteStep),function(t){m=parseInt(t,10)}),t.showMeridian=o.showMeridian,e.showMeridian&&t.$parent.$watch(i(e.showMeridian),function(e){if(t.showMeridian=!!e,p.$error.time){var i=s(),n=a();angular.isDefined(i)&&angular.isDefined(n)&&(d.setHours(i),h())}else c()}),this.setupMousewheelEvents=function(e,i){var n=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){t.$apply(n(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),i.bind("mousewheel wheel",function(e){t.$apply(n(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()})},this.setupInputEvents=function(e,i){if(t.readonlyInput)return t.updateHours=angular.noop,void(t.updateMinutes=angular.noop);var n=function(e,i){p.$setViewValue(null),p.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(i)&&(t.invalidMinutes=i)};t.updateHours=function(){var t=s();angular.isDefined(t)?(d.setHours(t),h("h")):n(!0)},e.bind("blur",function(){!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=l(t.hours)})}),t.updateMinutes=function(){var t=a();angular.isDefined(t)?(d.setMinutes(t),h("m")):n(void 0,!0)},i.bind("blur",function(){!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=l(t.minutes)})})},this.render=function(){var t=p.$modelValue?new Date(p.$modelValue):null;isNaN(t)?(p.$setValidity("time",!1),n.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(d=t),u(),c())},t.incrementHours=function(){f(60*v)},t.decrementHours=function(){f(60*-v)},t.incrementMinutes=function(){f(m)},t.decrementMinutes=function(){f(-m)},t.toggleMeridian=function(){f(720*(d.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(t,e,i,n){var r=n[0],o=n[1];o&&r.init(o,e.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(i){var n=i.match(e);if(!n)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+i+'".');return{itemName:n[3],source:t(n[4]),viewMapper:t(n[2]||n[1]),modelMapper:t(n[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(t,e,i,n,r,o,s){var a=[9,13,27,38,40];return{require:"ngModel",link:function(l,h,u,c){var f,d=l.$eval(u.typeaheadMinLength)||1,p=l.$eval(u.typeaheadWaitMs)||0,g=l.$eval(u.typeaheadEditable)!==!1,v=e(u.typeaheadLoading).assign||angular.noop,m=e(u.typeaheadOnSelect),y=u.typeaheadInputFormatter?e(u.typeaheadInputFormatter):void 0,b=u.typeaheadAppendToBody?l.$eval(u.typeaheadAppendToBody):!1,x=l.$eval(u.typeaheadFocusFirst)!==!1,w=e(u.ngModel).assign,k=s.parse(u.typeahead),T=l.$new();l.$on("$destroy",function(){T.$destroy()});var $="typeahead-"+T.$id+"-"+Math.floor(1e4*Math.random());h.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":$});var C=angular.element("<div typeahead-popup></div>");C.attr({id:$,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(u.typeaheadTemplateUrl)&&C.attr("template-url",u.typeaheadTemplateUrl);var M=function(){T.matches=[],T.activeIdx=-1,h.attr("aria-expanded",!1)},S=function(t){return $+"-option-"+t};T.$watch("activeIdx",function(t){0>t?h.removeAttr("aria-activedescendant"):h.attr("aria-activedescendant",S(t))});var P=function(t){var e={$viewValue:t};v(l,!0),i.when(k.source(l,e)).then(function(i){var n=t===c.$viewValue;if(n&&f)if(i.length>0){T.activeIdx=x?0:-1,T.matches.length=0;for(var r=0;r<i.length;r++)e[k.itemName]=i[r],T.matches.push({id:S(r),label:k.viewMapper(T,e),model:i[r]});T.query=t,T.position=b?o.offset(h):o.position(h),T.position.top=T.position.top+h.prop("offsetHeight"),h.attr("aria-expanded",!0)}else M();n&&v(l,!1)},function(){M(),v(l,!1)})};M(),T.query=void 0;var D,A=function(t){D=n(function(){P(t)},p)},E=function(){D&&n.cancel(D)};c.$parsers.unshift(function(t){return f=!0,t&&t.length>=d?p>0?(E(),A(t)):P(t):(v(l,!1),E(),M()),g?t:t?void c.$setValidity("editable",!1):(c.$setValidity("editable",!0),t)}),c.$formatters.push(function(t){var e,i,n={};return y?(n.$model=t,y(l,n)):(n[k.itemName]=t,e=k.viewMapper(l,n),n[k.itemName]=void 0,i=k.viewMapper(l,n),e!==i?e:t)}),T.select=function(t){var e,i,r={};r[k.itemName]=i=T.matches[t].model,e=k.modelMapper(l,r),w(l,e),c.$setValidity("editable",!0),m(l,{$item:i,$model:e,$label:k.viewMapper(l,r)}),M(),n(function(){h[0].focus()},0,!1)},h.bind("keydown",function(t){0!==T.matches.length&&-1!==a.indexOf(t.which)&&(-1!=T.activeIdx||13!==t.which&&9!==t.which)&&(t.preventDefault(),40===t.which?(T.activeIdx=(T.activeIdx+1)%T.matches.length,T.$digest()):38===t.which?(T.activeIdx=(T.activeIdx>0?T.activeIdx:T.matches.length)-1,T.$digest()):13===t.which||9===t.which?T.$apply(function(){T.select(T.activeIdx)}):27===t.which&&(t.stopPropagation(),M(),T.$digest()))}),h.bind("blur",function(){f=!1});var N=function(t){h[0]!==t.target&&(M(),T.$digest())};r.bind("click",N),l.$on("$destroy",function(){r.unbind("click",N),b&&_.remove()});var _=t(C)(T);b?r.find("body").append(_):h.after(_)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,i){t.templateUrl=i.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(t,e,i,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(r,o,s){var a=n(s.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";t.get(a,{cache:e}).success(function(t){o.replaceWith(i(t.trim())(r))})}}}]).filter("typeaheadHighlight",function(){function t(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,i){return i?(""+e).replace(new RegExp(t(i),"gi"),"<strong>$&</strong>"):e}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(t){t.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')
}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),/*
 * @fileOverview TouchSwipe - jQuery Plugin
 * @version 1.6.14
 *
 * @author Matt Bryson http://www.github.com/mattbryson
 * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 * @see http://labs.rampinteractive.co.uk/touchSwipe/
 * @see http://plugins.jquery.com/project/touchSwipe
 *
 * Copyright (c) 2010-2015 Matt Bryson
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
/*
 *
 * Changelog
 * $Date: 2010-12-12 (Wed, 12 Dec 2010) $
 * $version: 1.0.0
 * $version: 1.0.1 - removed multibyte comments
 *
 * $Date: 2011-21-02 (Mon, 21 Feb 2011) $
 * $version: 1.1.0 	- added allowPageScroll property to allow swiping and scrolling of page
 *					- changed handler signatures so one handler can be used for multiple events
 * $Date: 2011-23-02 (Wed, 23 Feb 2011) $
 * $version: 1.2.0 	- added click handler. This is fired if the user simply clicks and does not swipe. The event object and click target are passed to handler.
 *					- If you use the http://code.google.com/p/jquery-ui-for-ipad-and-iphone/ plugin, you can also assign jQuery mouse events to children of a touchSwipe object.
 * $version: 1.2.1 	- removed console log!
 *
 * $version: 1.2.2 	- Fixed bug where scope was not preserved in callback methods.
 *
 * $Date: 2011-28-04 (Thurs, 28 April 2011) $
 * $version: 1.2.4 	- Changed licence terms to be MIT or GPL inline with jQuery. Added check for support of touch events to stop non compatible browsers erroring.
 *
 * $Date: 2011-27-09 (Tues, 27 September 2011) $
 * $version: 1.2.5 	- Added support for testing swipes with mouse on desktop browser (thanks to https://github.com/joelhy)
 *
 * $Date: 2012-14-05 (Mon, 14 May 2012) $
 * $version: 1.2.6 	- Added timeThreshold between start and end touch, so user can ignore slow swipes (thanks to Mark Chase). Default is null, all swipes are detected
 *
 * $Date: 2012-05-06 (Tues, 05 June 2012) $
 * $version: 1.2.7 	- Changed time threshold to have null default for backwards compatibility. Added duration param passed back in events, and refactored how time is handled.
 *
 * $Date: 2012-05-06 (Tues, 05 June 2012) $
 * $version: 1.2.8 	- Added the possibility to return a value like null or false in the trigger callback. In that way we can control when the touch start/move should take effect or not (simply by returning in some cases return null; or return false;) This effects the ontouchstart/ontouchmove event.
 *
 * $Date: 2012-06-06 (Wed, 06 June 2012) $
 * $version: 1.3.0 	- Refactored whole plugin to allow for methods to be executed, as well as exposed defaults for user override. Added 'enable', 'disable', and 'destroy' methods
 *
 * $Date: 2012-05-06 (Fri, 05 June 2012) $
 * $version: 1.3.1 	- Bug fixes  - bind() with false as last argument is no longer supported in jQuery 1.6, also, if you just click, the duration is now returned correctly.
 *
 * $Date: 2012-29-07 (Sun, 29 July 2012) $
 * $version: 1.3.2	- Added fallbackToMouseEvents option to NOT capture mouse events on non touch devices.
 * 			- Added "all" fingers value to the fingers property, so any combination of fingers triggers the swipe, allowing event handlers to check the finger count
 *
 * $Date: 2012-09-08 (Thurs, 9 Aug 2012) $
 * $version: 1.3.3	- Code tidy prep for minefied version
 *
 * $Date: 2012-04-10 (wed, 4 Oct 2012) $
 * $version: 1.4.0	- Added pinch support, pinchIn and pinchOut
 *
 * $Date: 2012-11-10 (Thurs, 11 Oct 2012) $
 * $version: 1.5.0	- Added excludedElements, a jquery selector that specifies child elements that do NOT trigger swipes. By default, this is one select that removes all form, input select, button and anchor elements.
 *
 * $Date: 2012-22-10 (Mon, 22 Oct 2012) $
 * $version: 1.5.1	- Fixed bug with jQuery 1.8 and trailing comma in excludedElements
 *					- Fixed bug with IE and eventPreventDefault()
 * $Date: 2013-01-12 (Fri, 12 Jan 2013) $
 * $version: 1.6.0	- Fixed bugs with pinching, mainly when both pinch and swipe enabled, as well as adding time threshold for multifinger gestures, so releasing one finger beofre the other doesnt trigger as single finger gesture.
 *					- made the demo site all static local HTML pages so they can be run locally by a developer
 *					- added jsDoc comments and added documentation for the plugin
 *					- code tidy
 *					- added triggerOnTouchLeave property that will end the event when the user swipes off the element.
 * $Date: 2013-03-23 (Sat, 23 Mar 2013) $
 * $version: 1.6.1	- Added support for ie8 touch events
 * $version: 1.6.2	- Added support for events binding with on / off / bind in jQ for all callback names.
 *                   - Deprecated the 'click' handler in favour of tap.
 *                   - added cancelThreshold property
 *                   - added option method to update init options at runtime
 * $version 1.6.3    - added doubletap, longtap events and longTapThreshold, doubleTapThreshold property
 *
 * $Date: 2013-04-04 (Thurs, 04 April 2013) $
 * $version 1.6.4    - Fixed bug with cancelThreshold introduced in 1.6.3, where swipe status no longer fired start event, and stopped once swiping back.
 *
 * $Date: 2013-08-24 (Sat, 24 Aug 2013) $
 * $version 1.6.5    - Merged a few pull requests fixing various bugs, added AMD support.
 *
 * $Date: 2014-06-04 (Wed, 04 June 2014) $
 * $version 1.6.6 	- Merge of pull requests.
 *    				- IE10 touch support
 *    				- Only prevent default event handling on valid swipe
 *    				- Separate license/changelog comment
 *    				- Detect if the swipe is valid at the end of the touch event.
 *    				- Pass fingerdata to event handlers.
 *    				- Add 'hold' gesture
 *    				- Be more tolerant about the tap distance
 *    				- Typos and minor fixes
 *
 * $Date: 2015-22-01 (Thurs, 22 Jan 2015) $
 * $version 1.6.7    - Added patch from https://github.com/mattbryson/TouchSwipe-Jquery-Plugin/issues/206 to fix memory leak
 *
 * $Date: 2015-2-2 (Mon, 2 Feb 2015) $
 * $version 1.6.8    - Added preventDefaultEvents option to proxy events regardless.
 *					- Fixed issue with swipe and pinch not triggering at the same time
 *
 * $Date: 2015-9-6 (Tues, 9 June 2015) $
 * $version 1.6.9    - Added PR from jdalton/hybrid to fix pointer events
 *					- Added scrolling demo
 *					- Added version property to plugin
 *
 * $Date: 2015-1-10 (Wed, 1 October 2015) $
 * $version 1.6.10    - Added PR from beatspace to fix tap events
 * $version 1.6.11    - Added PRs from indri-indri ( Doc tidyup), kkirsche ( Bower tidy up ), UziTech (preventDefaultEvents fixes )
 *					 - Allowed setting multiple options via .swipe("options", options_hash) and more simply .swipe(options_hash) or exisitng instances
 * $version 1.6.12    - Fixed bug with multi finger releases above 2 not triggering events
 *
 * $Date: 2015-12-18 (Fri, 18 December 2015) $
 * $version 1.6.13    - Added PRs
 *                    - Fixed #267 allowPageScroll not working correctly
 * $version 1.6.14    - Fixed #220 / #248 doubletap not firing with swipes, #223 commonJS compatible
 * $version 1.6.15    - More bug fixes
 */
function(t){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(t){"use strict";function e(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=u),void 0!==e.click&&void 0===e.tap&&(e.tap=e.click),e||(e={}),e=t.extend({},t.fn.swipe.defaults,e),this.each(function(){var n=t(this),r=n.data(P);r||(r=new i(this,e),n.data(P,r))})}function i(e,i){function n(e){if(!(he()||t(e.target).closest(i.excludedElements,Ve).length>0)){var n,r=e.originalEvent?e.originalEvent:e,o=r.touches,s=o?o[0]:r;return Ue=w,o?Ge=o.length:i.preventDefaultEvents!==!1&&e.preventDefault(),je=0,Oe=null,Ie=null,He=null,Le=0,Fe=0,ze=0,qe=1,Re=0,Be=ve(),ae(),ce(0,s),!o||Ge===i.fingers||i.fingers===b||B()?(Ke=Ce(),2==Ge&&(ce(1,o[1]),Fe=ze=be(We[0].start,We[1].start)),(i.swipeStatus||i.pinchStatus)&&(n=O(r,Ue))):n=!1,n===!1?(Ue=$,O(r,Ue),n):(i.hold&&(ti=setTimeout(t.proxy(function(){Ve.trigger("hold",[r.target]),i.hold&&(n=i.hold.call(Ve,r,r.target))},this),i.longTapThreshold)),ue(!0),null)}}function D(t){var e=t.originalEvent?t.originalEvent:t;if(Ue!==T&&Ue!==$&&!le()){var n,r=e.touches,o=r?r[0]:e,s=fe(o);if(Ye=Ce(),r&&(Ge=r.length),i.hold&&clearTimeout(ti),Ue=k,2==Ge&&(0==Fe?(ce(1,r[1]),Fe=ze=be(We[0].start,We[1].start)):(fe(r[1]),ze=be(We[0].end,We[1].end),He=we(We[0].end,We[1].end)),qe=xe(Fe,ze),Re=Math.abs(Fe-ze)),Ge===i.fingers||i.fingers===b||!r||B()){if(Oe=$e(s.start,s.end),Ie=$e(s.last,s.end),R(t,Ie),je=ke(s.start,s.end),Le=ye(),pe(Oe,je),n=O(e,Ue),!i.triggerOnTouchEnd||i.triggerOnTouchLeave){var a=!0;if(i.triggerOnTouchLeave){var l=Me(this);a=Se(s.end,l)}!i.triggerOnTouchEnd&&a?Ue=j(k):i.triggerOnTouchLeave&&!a&&(Ue=j(T)),(Ue==$||Ue==T)&&O(e,Ue)}}else Ue=$,O(e,Ue);n===!1&&(Ue=$,O(e,Ue))}}function A(t){var e=t.originalEvent?t.originalEvent:t,n=e.touches;if(n){if(n.length&&!le())return se(e),!0;if(n.length&&le())return!0}return le()&&(Ge=Xe),Ye=Ce(),Le=ye(),F()||!L()?(Ue=$,O(e,Ue)):i.triggerOnTouchEnd||0==i.triggerOnTouchEnd&&Ue===k?(i.preventDefaultEvents!==!1&&t.preventDefault(),Ue=T,O(e,Ue)):!i.triggerOnTouchEnd&&J()?(Ue=T,I(e,Ue,p)):Ue===k&&(Ue=$,O(e,Ue)),ue(!1),null}function E(){Ge=0,Ye=0,Ke=0,Fe=0,ze=0,qe=1,ae(),ue(!1)}function N(t){var e=t.originalEvent?t.originalEvent:t;i.triggerOnTouchLeave&&(Ue=j(T),O(e,Ue))}function _(){Ve.unbind(De,n),Ve.unbind(_e,E),Ve.unbind(Ae,D),Ve.unbind(Ee,A),Ne&&Ve.unbind(Ne,N),ue(!1)}function j(t){var e=t,n=q(),r=L(),o=F();return!n||o?e=$:!r||t!=k||i.triggerOnTouchEnd&&!i.triggerOnTouchLeave?!r&&t==T&&i.triggerOnTouchLeave&&(e=$):e=T,e}function O(t,e){var i,n=t.touches;return(W()||G())&&(i=I(t,e,f)),(V()||B())&&i!==!1&&(i=I(t,e,d)),re()&&i!==!1?i=I(t,e,g):oe()&&i!==!1?i=I(t,e,v):ne()&&i!==!1&&(i=I(t,e,p)),e===$&&(G()&&(i=I(t,e,f)),B()&&(i=I(t,e,d)),E(t)),e===T&&(n?n.length||E(t):E(t)),i}function I(e,n,u){var c;if(u==f){if(Ve.trigger("swipeStatus",[n,Oe||null,je||0,Le||0,Ge,We,Ie]),i.swipeStatus&&(c=i.swipeStatus.call(Ve,e,n,Oe||null,je||0,Le||0,Ge,We,Ie),c===!1))return!1;if(n==T&&U()){if(clearTimeout(Ze),clearTimeout(ti),Ve.trigger("swipe",[Oe,je,Le,Ge,We,Ie]),i.swipe&&(c=i.swipe.call(Ve,e,Oe,je,Le,Ge,We,Ie),c===!1))return!1;switch(Oe){case r:Ve.trigger("swipeLeft",[Oe,je,Le,Ge,We,Ie]),i.swipeLeft&&(c=i.swipeLeft.call(Ve,e,Oe,je,Le,Ge,We,Ie));break;case o:Ve.trigger("swipeRight",[Oe,je,Le,Ge,We,Ie]),i.swipeRight&&(c=i.swipeRight.call(Ve,e,Oe,je,Le,Ge,We,Ie));break;case s:Ve.trigger("swipeUp",[Oe,je,Le,Ge,We,Ie]),i.swipeUp&&(c=i.swipeUp.call(Ve,e,Oe,je,Le,Ge,We,Ie));break;case a:Ve.trigger("swipeDown",[Oe,je,Le,Ge,We,Ie]),i.swipeDown&&(c=i.swipeDown.call(Ve,e,Oe,je,Le,Ge,We,Ie))}}}if(u==d){if(Ve.trigger("pinchStatus",[n,He||null,Re||0,Le||0,Ge,qe,We]),i.pinchStatus&&(c=i.pinchStatus.call(Ve,e,n,He||null,Re||0,Le||0,Ge,qe,We),c===!1))return!1;if(n==T&&H())switch(He){case l:Ve.trigger("pinchIn",[He||null,Re||0,Le||0,Ge,qe,We]),i.pinchIn&&(c=i.pinchIn.call(Ve,e,He||null,Re||0,Le||0,Ge,qe,We));break;case h:Ve.trigger("pinchOut",[He||null,Re||0,Le||0,Ge,qe,We]),i.pinchOut&&(c=i.pinchOut.call(Ve,e,He||null,Re||0,Le||0,Ge,qe,We))}}return u==p?(n===$||n===T)&&(clearTimeout(Ze),clearTimeout(ti),X()&&!te()?(Qe=Ce(),Ze=setTimeout(t.proxy(function(){Qe=null,Ve.trigger("tap",[e.target]),i.tap&&(c=i.tap.call(Ve,e,e.target))},this),i.doubleTapThreshold)):(Qe=null,Ve.trigger("tap",[e.target]),i.tap&&(c=i.tap.call(Ve,e,e.target)))):u==g?(n===$||n===T)&&(clearTimeout(Ze),clearTimeout(ti),Qe=null,Ve.trigger("doubletap",[e.target]),i.doubleTap&&(c=i.doubleTap.call(Ve,e,e.target))):u==v&&(n===$||n===T)&&(clearTimeout(Ze),Qe=null,Ve.trigger("longtap",[e.target]),i.longTap&&(c=i.longTap.call(Ve,e,e.target))),c}function L(){var t=!0;return null!==i.threshold&&(t=je>=i.threshold),t}function F(){var t=!1;return null!==i.cancelThreshold&&null!==Oe&&(t=ge(Oe)-je>=i.cancelThreshold),t}function z(){return null!==i.pinchThreshold?Re>=i.pinchThreshold:!0}function q(){var t;return t=i.maxTimeThreshold&&Le>=i.maxTimeThreshold?!1:!0}function R(t,e){if(i.preventDefaultEvents!==!1)if(i.allowPageScroll===u)t.preventDefault();else{var n=i.allowPageScroll===c;switch(e){case r:(i.swipeLeft&&n||!n&&i.allowPageScroll!=m)&&t.preventDefault();break;case o:(i.swipeRight&&n||!n&&i.allowPageScroll!=m)&&t.preventDefault();break;case s:(i.swipeUp&&n||!n&&i.allowPageScroll!=y)&&t.preventDefault();break;case a:(i.swipeDown&&n||!n&&i.allowPageScroll!=y)&&t.preventDefault()}}}function H(){var t=K(),e=Y(),i=z();return t&&e&&i}function B(){return!!(i.pinchStatus||i.pinchIn||i.pinchOut)}function V(){return!(!H()||!B())}function U(){var t=q(),e=L(),i=K(),n=Y(),r=F(),o=!r&&n&&i&&e&&t;return o}function G(){return!!(i.swipe||i.swipeStatus||i.swipeLeft||i.swipeRight||i.swipeUp||i.swipeDown)}function W(){return!(!U()||!G())}function K(){return Ge===i.fingers||i.fingers===b||!C}function Y(){return 0!==We[0].end.x}function J(){return!!i.tap}function X(){return!!i.doubleTap}function Q(){return!!i.longTap}function Z(){if(null==Qe)return!1;var t=Ce();return X()&&t-Qe<=i.doubleTapThreshold}function te(){return Z()}function ee(){return(1===Ge||!C)&&(isNaN(je)||je<i.threshold)}function ie(){return Le>i.longTapThreshold&&x>je}function ne(){return!(!ee()||!J())}function re(){return!(!Z()||!X())}function oe(){return!(!ie()||!Q())}function se(t){Je=Ce(),Xe=t.touches.length+1}function ae(){Je=0,Xe=0}function le(){var t=!1;if(Je){var e=Ce()-Je;e<=i.fingerReleaseThreshold&&(t=!0)}return t}function he(){return!(Ve.data(P+"_intouch")!==!0)}function ue(t){Ve&&(t===!0?(Ve.bind(Ae,D),Ve.bind(Ee,A),Ne&&Ve.bind(Ne,N)):(Ve.unbind(Ae,D,!1),Ve.unbind(Ee,A,!1),Ne&&Ve.unbind(Ne,N,!1)),Ve.data(P+"_intouch",t===!0))}function ce(t,e){var i={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return i.start.x=i.last.x=i.end.x=e.pageX||e.clientX,i.start.y=i.last.y=i.end.y=e.pageY||e.clientY,We[t]=i,i}function fe(t){var e=void 0!==t.identifier?t.identifier:0,i=de(e);return null===i&&(i=ce(e,t)),i.last.x=i.end.x,i.last.y=i.end.y,i.end.x=t.pageX||t.clientX,i.end.y=t.pageY||t.clientY,i}function de(t){return We[t]||null}function pe(t,e){e=Math.max(e,ge(t)),Be[t].distance=e}function ge(t){return Be[t]?Be[t].distance:void 0}function ve(){var t={};return t[r]=me(r),t[o]=me(o),t[s]=me(s),t[a]=me(a),t}function me(t){return{direction:t,distance:0}}function ye(){return Ye-Ke}function be(t,e){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return Math.round(Math.sqrt(i*i+n*n))}function xe(t,e){var i=e/t*1;return i.toFixed(2)}function we(){return 1>qe?h:l}function ke(t,e){return Math.round(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)))}function Te(t,e){var i=t.x-e.x,n=e.y-t.y,r=Math.atan2(n,i),o=Math.round(180*r/Math.PI);return 0>o&&(o=360-Math.abs(o)),o}function $e(t,e){var i=Te(t,e);return 45>=i&&i>=0?r:360>=i&&i>=315?r:i>=135&&225>=i?o:i>45&&135>i?a:s}function Ce(){var t=new Date;return t.getTime()}function Me(e){e=t(e);var i=e.offset(),n={left:i.left,right:i.left+e.outerWidth(),top:i.top,bottom:i.top+e.outerHeight()};return n}function Se(t,e){return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom}var i=t.extend({},i),Pe=C||S||!i.fallbackToMouseEvents,De=Pe?S?M?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Ae=Pe?S?M?"MSPointerMove":"pointermove":"touchmove":"mousemove",Ee=Pe?S?M?"MSPointerUp":"pointerup":"touchend":"mouseup",Ne=Pe?S?"mouseleave":null:"mouseleave",_e=S?M?"MSPointerCancel":"pointercancel":"touchcancel",je=0,Oe=null,Ie=null,Le=0,Fe=0,ze=0,qe=1,Re=0,He=0,Be=null,Ve=t(e),Ue="start",Ge=0,We={},Ke=0,Ye=0,Je=0,Xe=0,Qe=0,Ze=null,ti=null;try{Ve.bind(De,n),Ve.bind(_e,E)}catch(ei){t.error("events not supported "+De+","+_e+" on jQuery.swipe")}this.enable=function(){return Ve.bind(De,n),Ve.bind(_e,E),Ve},this.disable=function(){return _(),Ve},this.destroy=function(){_(),Ve.data(P,null),Ve=null},this.option=function(e,n){if("object"==typeof e)i=t.extend(i,e);else if(void 0!==i[e]){if(void 0===n)return i[e];i[e]=n}else{if(!e)return i;t.error("Option "+e+" does not exist on jQuery.swipe.options")}return null}}var n="1.6.15",r="left",o="right",s="up",a="down",l="in",h="out",u="none",c="auto",f="swipe",d="pinch",p="tap",g="doubletap",v="longtap",m="horizontal",y="vertical",b="all",x=10,w="start",k="move",T="end",$="cancel",C="ontouchstart"in window,M=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!C,S=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!C,P="TouchSwipe",D={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0};t.fn.swipe=function(i){var n=t(this),r=n.data(P);if(r&&"string"==typeof i){if(r[i])return r[i].apply(this,Array.prototype.slice.call(arguments,1));t.error("Method "+i+" does not exist on jQuery.swipe")}else if(r&&"object"==typeof i)r.option.apply(this,arguments);else if(!(r||"object"!=typeof i&&i))return e.apply(this,arguments);return n},t.fn.swipe.version=n,t.fn.swipe.defaults=D,t.fn.swipe.phases={PHASE_START:w,PHASE_MOVE:k,PHASE_END:T,PHASE_CANCEL:$},t.fn.swipe.directions={LEFT:r,RIGHT:o,UP:s,DOWN:a,IN:l,OUT:h},t.fn.swipe.pageScroll={NONE:u,HORIZONTAL:m,VERTICAL:y,AUTO:c},t.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:b}}),/*
 * GoJS v1.6.9 JavaScript Library for HTML Diagrams
 * Northwoods Software, https://www.nwoods.com/
 * GoJS and Northwoods Software are registered trademarks of Northwoods Software Corporation.
 * Copyright (C) 1998-2016 by Northwoods Software Corporation.  All Rights Reserved.
 * THIS SOFTWARE IS LICENSED.  THE LICENSE AGREEMENT IS AT: https://gojs.net/1.6.9/doc/license.html.
 */
function(t){function e(t,e,i){Uh.ec(this),this.wB=t,this.Pb=e,this.BG=i}function i(){this.uB=[]}function n(){}function r(t){void 0===t&&(t=42),this.seed=t,this.Rx=48271,this.uu=2147483647,this.eB=this.uu/this.Rx,this.aG=this.uu%this.Rx,this.WF=1/this.uu,this.random()}function o(){}function s(t){this.key=-1,this.value=t}function a(t,e){this.Lk=t,this.Mk=e,this.yu=!1}function l(t){this.tc=t,this.Nh=null,this.reset()}function h(t){this.tc=t,this.reset()}function u(t){Uh.ec(this),this.D=!1,this.n=[],this.F=0,this.xj=this.Xb=null,void 0===t||null===t?this.ja=null:"string"==typeof t?"object"===t||"string"===t||"number"===t||"boolean"===t||"function"===t?this.ja=t:Uh.wa(t,"the string 'object', 'number', 'string', 'boolean', or 'function'","List constructor: type"):"function"==typeof t?this.ja=t===Object?"object":t===String?"string":t===Number?"number":t===Boolean?"boolean":t===Function?"function":t:Uh.wa(t,"null, a primitive type name, or a class type","List constructor: type")}function c(t){this.Ph=t,this.reset()}function f(t){Uh.ec(this),this.D=!1,void 0===t||null===t?this.ja=null:"string"==typeof t?"object"===t||"string"===t||"number"===t?this.ja=t:Uh.wa(t,"the string 'object', 'number' or 'string'","Set constructor: type"):"function"==typeof t?this.ja=t===Object?"object":t===String?"string":t===Number?"number":t:Uh.wa(t,"null, a primitive type name, or a class type","Set constructor: type"),this.ld={},this.kd=0,this.Xb=null,this.F=0,this.Jh=this.Ea=null}function d(t){this.Ha=t,this.reset()}function p(t){Uh.ec(this),this.D=!0,this.Ha=t}function g(t){this.Ha=t,this.reset()}function v(t,e){this.key=t,this.value=e,this.uo=this.Wa=null}function m(t){this.Ha=t,this.reset()}function y(t,e){Uh.ec(this),this.D=!1,void 0===t||null===t?this.zi=null:"string"==typeof t?"object"===t||"string"===t||"number"===t?this.zi=t:Uh.wa(t,"the string 'object', 'number' or 'string'","Map constructor: keytype"):"function"==typeof t?this.zi=t===Object?"object":t===String?"string":t===Number?"number":t:Uh.wa(t,"null, a primitive type name, or a class type","Map constructor: keytype"),void 0===e||null===e?this.Os=null:"string"==typeof e?"object"===e||"string"===e||"boolean"===e||"number"===e||"function"===e?this.Os=e:Uh.wa(e,"the string 'object', 'number', 'string', 'boolean', or 'function'","Map constructor: valtype"):"function"==typeof e?this.Os=e===Object?"object":e===String?"string":e===Number?"number":e===Boolean?"boolean":e===Function?"function":e:Uh.wa(e,"null, a primitive type name, or a class type","Map constructor: valtype"),this.ld={},this.kd=0,this.yj=this.Xb=null,this.F=0,this.Jh=this.Ea=null}function b(t,e){void 0===t?this.y=this.x=0:(this.x=t,this.y=e),this.D=!1}function x(t,e){if(0===t)return e>0?90:0>e?270:0;if(0===e)return t>0?0:180;if(isNaN(t)||isNaN(e))return 0;var i=180*Math.atan(Math.abs(e/t))/Math.PI;return 0>t?i=0>e?i+180:180-i:0>e&&(i=360-i),i}function w(t,e){return e.ai(t),t}function k(t,e){void 0===t?this.height=this.width=0:(this.width=t,this.height=e),this.D=!1}function T(t,e,i,n){void 0===t?this.height=this.width=this.y=this.x=0:t instanceof b?e instanceof b?(this.x=Math.min(t.x,e.x),this.y=Math.min(t.y,e.y),this.width=Math.abs(t.x-e.x),this.height=Math.abs(t.y-e.y)):e instanceof k?(this.x=t.x,this.y=t.y,this.width=e.width,this.height=e.height):Uh.k("Incorrect arguments supplied to Rect constructor"):(this.x=t,this.y=e,this.width=i,this.height=n),this.D=!1}function $(t,e,i){t.width=e,t.height=i}function C(t,e,i,n,r){t.Eb();var o=t.width;return-o>=i+r?(t.x+=o/2,t.width=0):(t.x-=r,t.width+=i+r),i=t.height,-i>=e+n?(t.y+=i/2,t.height=0):(t.y-=e,t.height+=e+n),t}function M(t,e,i,n,r){t.Eb();var o=Math.max(t.x,e),s=Math.max(t.y,i);return e=Math.min(t.x+t.width,e+n),i=Math.min(t.y+t.height,i+r),t.x=o,t.y=s,t.width=Math.max(0,e-o),t.height=Math.max(0,i-s),t}function S(t,e){var i=t.width,n=e.width+10+10,r=t.x,o=e.x-10;return r>n+o||o>i+r?!1:(i=t.height,n=e.height+10+10,r=t.y,o=e.y-10,r>n+o||o>i+r?!1:!0)}function P(t,e,i,n,r){var o=Math.min(t.x,e),s=Math.min(t.y,i);return e=Math.max(t.x+t.width,e+n),i=Math.max(t.y+t.height,i+r),t.x=o,t.y=s,t.width=e-o,t.height=i-s,t}function D(t,e,i,n){void 0===t?this.left=this.bottom=this.right=this.top=0:void 0===e?this.left=this.bottom=this.right=this.top=t:void 0===i?(n=e,this.top=t,this.right=e,this.bottom=t,this.left=n):void 0!==n?(this.top=t,this.right=e,this.bottom=i,this.left=n):Uh.k("Invalid arguments to Margin constructor"),this.D=!1}function A(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}function E(t,e,i,n){void 0===t?this.offsetY=this.offsetX=this.y=this.x=0:(void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.offsetX=i,this.offsetY=n),this.D=!1}function N(t,e){return t.x=0/0,t.y=0/0,t.offsetX=e,t}function _(){this.hf=[1,0,0,1,0,0]}function j(t){this.type=t,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.OD=[]}function O(t,e,i){this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lx=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.strokeStyle="#000000",this.textAlign="start",this.document=e||document,this.fE=i,this.ix=null,this.path=[],this.Wi=new _,this.stack=[],this.uf=[],this.Nw=t,this.LI="http://www.w3.org/2000/svg",this.width=this.Nw.width,this.height=this.Nw.height,this.Ml=I(this,"svg",{width:this.width+"px",height:this.height+"px",IL:"0 0 "+this.Nw.width+" "+this.Nw.height}),this.Ml.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.Ml.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),H(this,1,0,0,1,0,0),t=Uh.Sl++,e=I(this,"clipPath",{id:"mainClip"+t}),e.appendChild(I(this,"rect",{x:0,y:0,width:this.width,height:this.height})),this.Ml.appendChild(e),this.uf[0].setAttributeNS(null,"clip-path","url(#mainClip"+t+")")}function I(t,e,i,n){if(t=t.document.createElementNS(t.LI,e),Uh.Va(i))for(var r in i)t.setAttributeNS("href"===r?"http://www.w3.org/1999/xlink":"",r,i[r]);return void 0!==n&&(t.textContent=n),t}function L(t,e,i,n,r){1!==t.globalAlpha&&(i.opacity=t.globalAlpha),"fill"===e?(/^rgba\(/.test(t.fillStyle)?(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),i.fill="rgb("+t[1]+","+t[2]+","+t[3]+")",i["fill-opacity"]=t[4]):i.fill=t.fillStyle instanceof j?F(t,t.fillStyle):t.fillStyle,i.stroke="none"):"stroke"===e&&(i.fill="none",/^rgba\(/.test(t.strokeStyle)?(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.strokeStyle),i.stroke="rgb("+e[1]+","+e[2]+","+e[3]+")",i["stroke-opacity"]=e[4]):i.stroke=t.strokeStyle instanceof j?F(t,t.strokeStyle):t.strokeStyle,i["stroke-width"]=t.lineWidth,i["stroke-linecap"]=t.lineCap,i["stroke-linejoin"]=t.lineJoin,i["stroke-miterlimit"]=t.miterLimit),n=n.hf,n="matrix("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+")",void 0!==r&&(n+=r),i.transform=n}function F(t,e){var i,n="GRAD"+Uh.Sl++;if("linear"===e.type)i={x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,id:n,gradientUnits:"userSpaceOnUse"},i=I(t,"linearGradient",i);else{if("radial"!==e.type)throw Error("invalid gradient");i={x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,r1:e.r1,r2:e.r2,id:n},i=I(t,"radialGradient",i)}for(var r=e.OD,o=r.length,s=[],a=0;o>a;a++){var l=r[a],h=l.color,l={offset:l.offset,"stop-color":h};/^rgba\(/.test(h)&&(h=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(h),l["stop-color"]="rgb("+h[1]+","+h[2]+","+h[3]+")",l["stop-opacity"]=h[4]),s.push(l)}for(s.sort(function(t,e){return t.offset>e.offset?1:-1}),a=0;o>a;a++)i.appendChild(I(t,"stop",s[a]));return t.Ml.appendChild(i),"url(#"+n+")"}function z(t,e,i,n){i={x:i[0],y:i[1],width:i[2],height:i[3]},L(t,e,i,n),t.addElement("rect",i)}function q(t,e,i,n){for(var r=[],o=0;o<i.length;o++){var s=Uh.il(i[o]),a=[s.shift()];if("A"===a[0])a.push(s.shift()+","+s.shift(),s.shift(),s.shift()+","+s.shift(),s.shift()+","+s.shift());else for(;s.length;)a.push(s.shift()+","+s.shift());r.push(a.join(" "))}i={d:r.join(" ")},L(t,e,i,n),"clipPath"===e?(e="CLIP"+Uh.Sl++,n=I(t,"clipPath",{id:e}),n.appendChild(I(t,"path",i)),t.Ml.appendChild(n),0<t.uf.length&&t.uf[t.uf.length-1].setAttributeNS(null,"clip-path","url(#"+e+")")):t.addElement("path",i)}function R(t,e,i,n,r,o,s){var a=Math.abs(r-o);if(r!==o){var l=e+n*Math.cos(o);o=i+n*Math.sin(o),a>=2*Math.PI?(R(t,e,i,n,r,r+Math.PI,s),R(t,e,i,n,r+Math.PI,r+2*Math.PI,s),t.path.push(["M",l,o])):(e+=n*Math.cos(r),i+=n*Math.sin(r),a=180*a/Math.PI,r=s?0:1,s=a>=180==!!s?0:1,t.path.push(0!==t.path.length?["L",e,i]:["M",e,i]),t.path.push(["A",n,n,a,s,r,l,o]))}}function H(t,e,i,n,r,o,s){var a=new _;a.hf=[e,i,n,r,o,s],e={},L(t,"g",e,a),a=t.addElement("g",e),t.uf.push(a)}function B(t,e){this.ownerDocument=void 0===e?document:e;var i=this.ownerDocument.createElement("canvas");i.tabIndex=0,this.Od=i,i.getContext&&i.getContext("2d")||Uh.k("Browser does not support HTML Canvas Element"),this.dH=i.getContext("2d"),i.U=t,Object.seal(this)}function V(t){1<arguments.length&&Uh.k("Geometry constructor can take at most one optional argument, the Geometry type."),Uh.ec(this),this.D=!1,void 0===t&&(t=Lu),this.ja=t,this.Db=this.yb=this.Bc=this.wc=0,this.nj=new u(J),this.fv=this.nj.F,this.Qu=(new T).freeze(),this.bb=!0,this.Li=eu,this.Mi=hu,this.Zn=this.ao=0/0,this.ri=ef}function U(t,e){if(t.type!==ju||e.type!==Lu)return!1;if(1===e.Wb.count){var i=e.Wb.ha(0);if(1===i.vb.count&&_u.G(t.za,i.za)&&_u.G(t.xa,i.xa)&&(i=i.vb.ha(0),i.type===Ru&&_u.G(t.I,i.I)&&_u.G(t.J,i.J)))return!0}return!1}function G(t,e){for(var i=t.length,n=Uh.M(),r=0;i>r;r++){var o=t[r];n.x=o[0],n.y=o[1],e.xb(n),o[0]=n.x,o[1]=n.y,n.x=o[2],n.y=o[3],e.xb(n),o[2]=n.x,o[3]=n.y,n.x=o[4],n.y=o[5],e.xb(n),o[4]=n.x,o[5]=n.y,n.x=o[6],n.y=o[7],e.xb(n),o[6]=n.x,o[7]=n.y}Uh.v(n)}function W(t,e,i){switch(t.type){case ju:case Ou:case Iu:i?e.m(t.wc,t.Bc,0,0):P(e,t.wc,t.Bc,0,0),P(e,t.yb,t.Db,0,0);break;case Lu:var n=t.Wb;t=n.n;for(var n=n.length,r=0;n>r;r++){var o=t[r];i&&0===r?e.m(o.za,o.xa,0,0):P(e,o.za,o.xa,0,0);for(var s=o.vb.n,a=s.length,l=o.za,h=o.xa,u=0;a>u;u++){var c=s[u];switch(c.type){case Ru:case qu:l=c.I,h=c.J,P(e,l,h,0,0);break;case Hu:_u.So(l,h,c.rc,c.Kc,c.oh,c.ph,c.I,c.J,.5,e),l=c.I,h=c.J;break;case Bu:_u.sA(l,h,c.rc,c.Kc,c.I,c.J,.5,e),l=c.I,h=c.J;break;case Vu:case Uu:var f=c.type===Vu?Q(c,o):Z(c,o,l,h),d=f.length;if(0===d){l=c.oa,h=c.va,P(e,l,h,0,0);break}for(var c=null,p=0;d>p;p++)c=f[p],_u.So(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],.5,e);null!==c&&(l=c[6],h=c[7]);break;default:Uh.k("Unknown Segment type: "+c.type)}}}break;default:Uh.k("Unknown Geometry type: "+t.type)}}function K(t,e,i,n,r,o,s,a){if(_u.Dd(r,o,s,a,.05,t,e))return 0/0;var l=(t-i)*(o-a);if(0===l)return 0;var h=((t*n-e*i)*(r-s)-(t-i)*(r*a-o*s))/l;if(e=(t*n-e*i)*(o-a)/l,h>=t)return 0;if((o>a?o-a:a-o)>(r>s?r-s:s-r)){if(r=t=0,a>o?(t=o,r=a):(t=a,r=o),t>e||e>r)return 0}else if(s>r?(t=r,r=s):t=s,t>h||h>r)return 0;return l>0?1:-1}function Y(t,e,i,n){t=t.Wb.n;for(var r=t.length,o=0;r>o;o++)if(t[o].Ga(e,i,n))return!0;return!1}function J(t,e,i,n){Uh.ec(this),this.D=!1,void 0===i&&(i=!0),this.bm=i,void 0===n&&(n=!0),this.bo=n,this.wc=void 0!==t?t:0,this.Bc=void 0!==e?e:0,this.yo=new u(X),this.fw=this.yo.F,this.bb=!0}function X(t,e,i,n,r,o,s,a){Uh.ec(this),this.D=!1,void 0===t&&(t=Ru),this.ja=t,this.yb=void 0!==e?e:0,this.Db=void 0!==i?i:0,void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=0),t===Uu?(t=o%360,0>t&&(t+=360),this.vd=t,this.Je=0,this.Vg=Math.max(n,0),this.mg=Math.max(r,0),this.io="boolean"==typeof s?!!s:!1,this.zn=!!a):(this.vd=n,this.Je=r,t===Vu&&(o=Math.max(o,0)),this.Vg=o,"number"==typeof s?(t===Vu&&(s=Math.max(s,0)),this.mg=s):this.mg=0,this.zn=this.io=!1),this.Ih=!1,this.bb=!0,this.cg=null}function Q(t,e){if(null!==t.cg&&!1===e.bb)return t.cg;var i=t.radiusX,n=t.radiusY;if(void 0===n&&(n=i),0===i||0===n)return t.cg=[],t.cg;var r=t.vd,o=t.Je,s=_u.XD(0,0,n>i?i:n,t.ye,t.ye+t.Bf,!1);if(i!==n){var a=Uh.th();a.reset(),n>i?a.scale(1,n/i):a.scale(i/n,1),G(s,a),Uh.cf(a)}for(i=s.length,n=0;i>n;n++)a=s[n],a[0]+=r,a[1]+=o,a[2]+=r,a[3]+=o,a[4]+=r,a[5]+=o,a[6]+=r,a[7]+=o;return t.cg=s,t.cg}function Z(t,e,i,n){function r(t,e,i,n){return(e*i>t*n?-1:1)*Math.acos(o(t,e,i,n))}function o(t,e,i,n){return(t*i+e*n)/(Math.sqrt(t*t+e*e)*Math.sqrt(i*i+n*n))}if(null!==t.cg&&!1===e.bb)return t.cg;e=t.Vg;var s=t.mg;if(0===e||0===s)return t.cg=[],t.cg;var a=Math.PI/180*t.vd,l=t.io,h=t.zn,u=t.yb,c=t.Db,f=Math.cos(a),d=Math.sin(a),p=f*(i-u)/2+d*(n-c)/2,a=-d*(i-u)/2+f*(n-c)/2,g=p*p/(e*e)+a*a/(s*s);return g>1&&(e*=Math.sqrt(g),s*=Math.sqrt(g)),g=(l===h?-1:1)*Math.sqrt((e*e*s*s-e*e*a*a-s*s*p*p)/(e*e*a*a+s*s*p*p)),isNaN(g)&&(g=0),l=g*e*a/s,g=g*-s*p/e,isNaN(l)&&(l=0),isNaN(g)&&(g=0),i=(i+u)/2+f*l-d*g,n=(n+c)/2+d*l+f*g,c=r(1,0,(p-l)/e,(a-g)/s),f=(p-l)/e,u=(a-g)/s,p=(-p-l)/e,l=(-a-g)/s,a=r(f,u,p,l),p=o(f,u,p,l),-1>=p?a=Math.PI:p>=1&&(a=0),!h&&a>0&&(a-=2*Math.PI),h&&0>a&&(a+=2*Math.PI),h=e>s?1:e/s,p=e>s?s/e:1,e=_u.XD(0,0,e>s?e:s,c,c+a,!0),s=Uh.th(),s.reset(),s.translate(i,n),s.rotate(t.vd,0,0),s.scale(h,p),G(e,s),Uh.cf(s),t.cg=e,t.cg}function te(){this.U=null,this.nz=new b(0,0).freeze(),this.xy=new b(0,0).freeze(),this.Mu=this.Jv=0,this.Nu=1,this.yv="",this.qw=this.cv=!1,this.Zu=this.Pu=0,this.jj=this.kv=this.uv=!1,this.Pq=null,this.ow=0,this.ng=this.nw=null}function ee(){this.U=null,this.Pb="",this.Sv=this.kw=null,this.Ou=!1}function ie(){this.mq=Wu,this.um=this.Iv="",this.Mr=this.Nr=this.Rr=this.Sr=this.Qr=this.U=this.Vd=null}function ne(t){1<arguments.length&&Uh.k("Model constructor can only take one optional argument, the Array of node data."),Uh.ec(this),this.Bq=this.Pb="",this.xi=!1,this.Wy={},this.Jf=[],this.uc=new y(null,Object),this.Gj="key",this.Dn=this.mo=null,this.tq=this.Su=!1,this.dq=null,this.pm="category",this.si=new y(null,f),this.Aj=null,this.Ki=!1,this.mz=null,this.ma=new Me,void 0!==t&&(this.Yf=t)}function re(t){return',\n  "modelData": '+ce(t,t.gk)}function oe(t,e){var i=e.modelData;Uh.Va(i)&&(t.au(i),t.gk=i)}function se(t,e,i,n){if(e===i)return!0;if(typeof e!=typeof i||"function"==typeof e||"function"==typeof i)return!1;if(Array.isArray(e)&&Array.isArray(i)){if(n.ka(e)===i)return!0;if(n.add(e,i),e.length!==i.length)return!1;for(var r=0;r<e.length;r++)if(!se(t,e[r],i[r],n))return!1;return!0}if(Uh.Va(e)&&Uh.Va(i)){if(n.ka(e)===i)return!0;n.add(e,i);for(r in e){var o=e[r];if(!he(r,o)){var s=i[r];if(void 0===s||!se(t,o,s,n))return!1}}for(var a in i)if(s=i[a],!he(a,s)&&(o=e[a],void 0===o||!se(t,o,s,n)))return!1;return!0}return!1}function ae(t,e,i){t[i]!==e[i]&&Uh.k("Model.computeJsonDifference: Model."+i+' is not the same in both models: "'+t[i]+'" and "'+e[i]+'"')}function le(t,e,n){void 0===n&&(n=!1);var r=Uh.Xa(e);if(0>=r)return"[]";var o=new i;o.add("[ "),n&&r>1&&o.add("\n");for(var s=0;r>s;s++){var a=Uh.Pa(e,s);void 0!==a&&(s>0&&(o.add(","),n&&o.add("\n")),o.add(t.tu(a)))}return n&&r>1&&o.add("\n"),o.add(" ]"),o.toString()}function he(t,e){return void 0===e||"__gohashid"===t||"_"===t[0]||"function"==typeof e?!0:!1}function ue(t){return isNaN(t)?"NaN":1/0===t?"9e9999":-1/0===t?"-9e9999":t}function ce(t,i){var n=i;if(n instanceof b){var r=n;i={"class":"go.Point",x:ue(r.x),y:ue(r.y)}}else if(n instanceof k){var o=n;i={"class":"go.Size",width:ue(o.width),height:ue(o.height)}}else if(n instanceof T)i={"class":"go.Rect",x:ue(n.x),y:ue(n.y),width:ue(n.width),height:ue(n.height)};else if(n instanceof D)i={"class":"go.Margin",top:ue(n.top),right:ue(n.right),bottom:ue(n.bottom),left:ue(n.left)};else if(n instanceof E)o=n,i=o.fd()?{"class":"go.Spot",x:ue(o.x),y:ue(o.y),offsetX:ue(o.offsetX),offsetY:ue(o.offsetY)}:{"class":"go.Spot","enum":o.toString()};else if(n instanceof Ar){if(i={"class":"go.Brush",type:n.type.name},n.type===Uc?i.color=n.color:(n.type===Gc||n.type===Wc)&&(i.start=n.start,i.end=n.end,n.type===Wc&&(0!==n.nu&&(i.startRadius=ue(n.nu)),isNaN(n.kt)||(i.endRadius=ue(n.kt)))),null!==n.gt){for(var s={},a=n.gt.i;a.next();)s[a.key]=a.value;i.colorStops=s}}else if(n instanceof V)i={"class":"go.Geometry",type:n.type.name},0!==n.za&&(i.startX=ue(n.za)),0!==n.xa&&(i.startY=ue(n.xa)),0!==n.I&&(i.endX=ue(n.I)),0!==n.J&&(i.endY=ue(n.J)),n.B.L(eu)||(i.spot1=n.B),n.C.L(hu)||(i.spot2=n.C),n.type===Lu&&(i.path=Fu(n));else if(n instanceof e)i={"class":"go.EnumValue",classType:Uh.df(n.qe),name:n.name};else if(n instanceof Er||n instanceof Qi||n instanceof Ki||n instanceof ne||n instanceof Ne||n instanceof Pe||n instanceof Fa||n instanceof qa||n instanceof Me||n instanceof Ce)return Uh.trace("ERROR: trying to convert a GraphObject or Diagram or Model or Tool or Layout or UndoManager into JSON text: "+n.toString()),"{}";s="{",n=!0;for(r in i)if(o=Uh.sb(i,r),!he(r,o))if(n?n=!1:s+=", ",s+='"'+r+'":',"points"===r&&o instanceof u&&o.ja===b){for(a=o,o="[",a=a.i;a.next();){var l=a.value;1<o.length&&(o+=","),o+=t.tu(l.x),o+=",",o+=t.tu(l.y)}o+="]",s+=o}else s+=t.tu(o);return s+"}"}function fe(t){return"number"==typeof t?t:"NaN"===t?0/0:"9e9999"===t?1/0:"-9e9999"===t?-1/0:parseFloat(t)}function de(t,e,i,n,r,o,s,a,l){void 0===a&&(a=null),void 0===l&&(l=null);var h=new ie;h.Z=t,h.xc=i,h.lf=e,h.propertyName=n,h.object=r,h.oldValue=o,h.Cg=a,h.newValue=s,h.Ag=l,t.Fw(h)}function pe(t,e,i){"string"!=typeof t&&"function"!=typeof t&&Uh.Ed(t,"string or function",e,i)}function ge(t){return"number"==typeof t||"string"==typeof t}function ve(t,e,i){if(void 0!==e){var n=t.si.ka(e);null===n&&(n=new f(Object),t.si.add(e,n)),n.add(i)}}function me(t,e,i){if(void 0!==e){var n=t.si.ka(e);n instanceof f&&(void 0===i||null===i?t.si.remove(e):(n.remove(i),0===n.count&&t.si.remove(e)))}}function ye(t,e){if(void 0===e)return null;var i=t.si.ka(e);return i instanceof f?i:null}function be(t,e,i){if(t.Ez&&Array.isArray(e)){var n=[];for(i=0;i<e.length;i++){var r=be(t,e[i],t.Dz);n.push(r)}return Uh.ec(n),n}if(i&&Uh.Va(e)){i=(i=e.constructor)?new i:{};for(n in e)if("__gohashid"!==n){var o,r=Uh.sb(e,n);o=r,o instanceof Er||o instanceof Qi||o instanceof Ki||o instanceof No||o instanceof _i||o instanceof Ne||o instanceof Pe||o instanceof Fa||o instanceof te||o instanceof ee?("_"!==n[0]&&Uh.trace('Warning: found GraphObject or Diagram reference when copying model data on property "'+n+'" of data object: '+e.toString()+"  \nModel data should not have any references to a Diagram or any part of a diagram, such as: "+o.toString()),o=!0):o=o instanceof ne||o instanceof Me||o instanceof Ce||o instanceof ie?!0:!1,o||(r=be(t,r,!1)),Uh.Ka(i,n,r)}return Uh.ec(i),i}return e instanceof b?e.copy():e instanceof k?e.copy():e instanceof T?e.copy():e instanceof E?e.copy():e instanceof D?e.copy():e}function xe(t,e){2<arguments.length&&Uh.k("GraphLinksModel constructor can only take two optional arguments, the Array of node data and the Array of link data."),ne.call(this),this.Hf=[],this.ko=new f(Object),this.Yc=new y(null,Object),this.Pk="",this.Ul=this.Cn=this.no=null,this.Kh="from",this.Lh="to",this.mm=this.lm="",this.km="category",this.ig="",this.ro="isGroup",this.Sg="group",this.uq=!1,void 0!==t&&(this.Yf=t),void 0!==e&&(this.yg=e)}function we(t,e){var i=t.ul(e),i=t.en(i);null===t.$d(i)&&ve(t,i,e),i=t.xl(e),i=t.en(i),null===t.$d(i)&&ve(t,i,e);var n=t.dk(e);if(Uh.isArray(n))for(var r=Uh.Xa(n),o=0;r>o;o++)i=Uh.Pa(n,o),null===t.$d(i)&&ve(t,i,e)}function ke(t){1<arguments.length&&Uh.k("TreeModel constructor can only take one optional argument, the Array of node data."),ne.call(this),this.Tg="parent",this.vq=!1,this.rm="parentLinkCategory",void 0!==t&&(this.Yf=t)}function Te(t,e,i){Uh.ec(this),this.D=!1,void 0===t?t="":Uh.j(t,"string",Te,"constructor:targetprop"),void 0===e?e=t:Uh.j(e,"string",Te,"constructor:sourceprop"),void 0===i?i=null:null!==i&&Uh.j(i,"function",Te,"constructor:conv"),this.cD=-1,this.ng=null,this.Ko=t,this.Jo=this.Gs=0,this.hw=null,this.hr=!1,this.Ao=e,this.sq=i,this.Er=Xu,this.lq=null}function $e(t,e,i){t=t.mn;var n=null;return n=null===t||""===t?e:"."===t?i:".."===t?i.T:e.ae(t)}function Ce(){this.fG=new u(ie).freeze(),this.Pb="",this.hC=!1}function Me(){this.Xy=new f(ne),this.Ue=!1,this.jG=new u(Ce).freeze(),this.Mg=-1,this.wC=999,this.yi=!1,this.Yu=null,this.al=0,this.vB=!1,this.Rg=new u("string").freeze(),this.qo=new u("number"),this.Fy=!0,this.Ry=!1}function Se(t,e,i){if(t.lb)return!1;t.zz&&1>t.vh&&Uh.trace("Ending transaction without having started a transaction: "+i);var n=1===t.vh;n&&e&&t.isEnabled&&t.ad("CommittingTransaction",i,t.Vi);var r=0;if(0<t.vh&&(t.al--,t.isEnabled)){var o=t.Rg.count;o>0&&(""===i&&(i=t.Rg.ha(0)),t.Rg.Oa(),t.Rg.Vc(o-1),t.Rg.freeze()),o=t.qo.count,o>0&&(r=t.qo.ha(o-1),t.qo.Vc(o-1))}if(o=t.Vi,n){if(e){if(t.Ry=!1,t.isEnabled&&null!==o){for(e=o,e.Dt=!0,e.name=i,n=t.history,n.Oa(),r=n.count-1;r>t.Zi;r--)o=n.ha(r),null!==o&&o.clear(),n.Vc(r),t.Ry=!0;r=t.RE,0===r&&(r=1),r>0&&n.count>=r&&(o=n.ha(0),null!==o&&o.clear(),n.Vc(0),t.Mg--),n.add(e),t.Mg++,n.freeze(),o=e}t.ad("CommittedTransaction",i,o)}else{t.yi=!0;try{t.isEnabled&&null!==o&&(o.Dt=!0,o.undo())}finally{t.ad("RolledBackTransaction",i,o),t.yi=!1}null!==o&&o.clear()}return t.Yu=null,!0}if(t.isEnabled&&!e&&null!==o){for(t=r,i=o.Of,e=i.count-1;e>=t;e--)n=i.ha(e),null!==n&&n.undo(),i.Oa(),i.Vc(e);i.freeze()}return!1}function Pe(){0<arguments.length&&Uh.gd(Pe),Uh.ec(this),this.U=null,this.yB=!1,this.PB=this.zB=!0,this.BB=this.CB=this.QB=this.DB=!1,this.Tk=this.oB=null,this.vD=1.05,this.NB=1,this.Sy=0/0,this.tC=null,this.qz=0/0,this.pz=_u.Yx,this.Jj=null}function De(t,e,i,n,r,o){if(void 0===o&&(o=null),!(t.contains(e)||null!==o&&!o(e)||e instanceof _s))if(t.add(e),e instanceof js){if(i&&e instanceof Na)for(var s=e.Ic;s.next();)De(t,s.value,i,n,r,o);if(r)for(s=e.ue;s.next();){var a=s.value;if(!t.contains(a)){var l=a.V,h=a.ba;null!==l&&t.contains(l)&&null!==h&&t.contains(h)?De(t,a,i,n,r,o):null!==l&&null!==h||De(t,a,i,n,r,o)}}if(n>1)for(e=e.lE();e.next();)De(t,e.value,i,n-1,r,o)}else if(e instanceof Ws)for(s=e.Sf;s.next();)De(t,s.value,i,n,r,o)}function Ae(t,e,i,n,r){if(null===e||r&&!e.canCopy())return null;if(n.contains(e))return n.ka(e);var o=null,s=e.data;if(null!==s&&null!==i){var a=i.Z;e instanceof Ws?a instanceof xe&&(s=a.Jw(s),Uh.Va(s)&&(a.Vs(s),o=i.tf(s))):(s=a.copyNodeData(s),Uh.Va(s)&&(a.cl(s),o=i.ug(s)))}else So(e),o=e.copy(),null!==o&&(null!==i?i.add(o):null!==s&&t.fH&&(a=t.g.Z,s=o instanceof Ws&&a instanceof xe?a.Jw(s):a.copyNodeData(s),Uh.Va(s)&&(o.data=s)));if(!(o instanceof fs))return null;if(o.kb=!1,o.fh=!1,n.add(e,o),e instanceof js){for(s=e.ue;s.next();){if(a=s.value,a.V===e){var l=n.ka(a);null!==l&&(l.V=o)}a.ba===e&&(l=n.ka(a),null!==l&&(l.ba=o))}if(e instanceof Na&&o instanceof Na)for(s=o,e=e.Ic;e.next();)a=Ae(t,e.value,i,n,r),a instanceof Ws||null===a||(a.Ua=s)}else if(e instanceof Ws)for(s=e.V,null!==s&&(s=n.ka(s),null!==s&&(o.V=s)),s=e.ba,null!==s&&(s=n.ka(s),null!==s&&(o.ba=s)),e=e.Sf;e.next();)s=Ae(t,e.value,i,n,r),null!==s&&(s.fe=o);return o}function Ee(t){var e=Uh.mb();for(t=t.i;t.next();){var i=t.value;i instanceof Ws||e.push(i)}t=new f(fs);for(var i=e.length,n=0;i>n;n++){for(var r=e[n],o=!0,s=0;i>s;s++)if(r.bi(e[s])){o=!1;break}o&&t.add(r)}return Uh.ta(e),t}function Ne(){0<arguments.length&&Uh.gd(Ne),Uh.ec(this),this.U=null,this.Pb="",this.Ue=!0,this.fC=!1,this.rD=null,this.tw=-1}function _e(t,e,i){var n=0;e.left?n=1===e.Ze?1:2===e.Ze?2:1:e.right&&1===e.Ze&&(n=3);var r="";if(null!==t){switch(n){case 1:r="ObjectSingleClicked";break;case 2:r="ObjectDoubleClicked";break;case 3:r="ObjectContextClicked"}0!==n&&i.Ba(r,t)}else{switch(n){case 1:r="BackgroundSingleClicked";break;case 2:r="BackgroundDoubleClicked";break;case 3:r="BackgroundContextClicked"}0!==n&&i.Ba(r)}if(null!==t)for(e.Fc=!1;null!==t;){switch(i=null,n){case 1:i=t.click;break;case 2:i=t.jt?t.jt:t.click;break;case 3:i=t.Bz}if(null!==i&&(i(e,t),e.Fc))break;t=t.T}else{switch(t=null,n){case 1:t=i.click;break;case 2:t=i.jt?i.jt:i.click;break;case 3:t=i.Bz}null!==t&&t(e)}}function je(){0<arguments.length&&Uh.gd(je),Ne.call(this),this.name="Dragging",this.AB=this.jC=!0,this.br=this.WB=!1,this.nC=!0,this.Hy=new k(0/0,0/0).freeze(),this.Iy=eu,this.Jy=new b(0/0,0/0).freeze(),this.VB=!1,this.TB=this.xB=this.UB=this.HB=this.Ii=null,this.Lq=this.lC=!1,this.Do=new b(0/0,0/0),this.iw=new b,this.lw=!1,this.iC=!0,this.On=100,this.mj=[],this.iG=new f(fs).freeze()}function Oe(t,e){if(t.Xi){var i=t.g;null!==i&&i.Hm&&(i.Z instanceof xe&&1===e.count&&e.first()instanceof Ws?(t.bd=e.first(),t.bd.canRelinkFrom()&&t.bd.canRelinkTo()&&t.bd.dt(),t.Ii=i.eb.aF,null===t.Ii&&(t.Ii=new ci,t.Ii.Mc(i))):(t.bd=null,t.Ii=null))}}function Ie(t){return new ni(void 0===t?_u.mk:t.copy())}function Le(t,e,i,n){if(!e.contains(i)&&(!n||i.canMove()||i.canCopy()))if(i instanceof js){if(e.add(i,Ie(i.location)),i instanceof Na)for(var r=i.Ic;r.next();)Le(t,e,r.value,n);for(r=i.ue;r.next();){var o=r.value;if(!e.contains(o)){var s=o.V,a=o.ba;null!==s&&e.contains(s)&&null!==a&&e.contains(a)&&Le(t,e,o,n)}}if(t.wH)for(i=i.lE();i.next();)Le(t,e,i.value,n)}else if(i instanceof Ws)for(o=i,e.add(o,Ie()),r=o.Sf;r.next();)Le(t,e,r.value,n);else i instanceof _s||e.add(i,Ie(i.location))}function Fe(t){var e=t.g;if(null!==e){var i=e.wb;e.wb=!0,Xe(t,e.P,null),e.wb=i}t.mj.length=0}function ze(){var t=nc;Ve(t),Ke(t);var e=t.g;null!==e&&t.Do.K()&&(e.position=t.Do),null!==e&&br(e)}function qe(t,e){if(null!==e){t.lw=!0;for(var i=e.i;i.next();){var n=i.key;n instanceof Ws&&(n.Sp=!0)}}}function Re(t,e){if(null!==e){for(var i=e.i;i.next();){var n=i.key;n instanceof Ws&&(n.Sp=!1,n.zl&&ra(n)&&n.jc())}t.lw=!1}}function He(t,e){for(var i=1/0,n=1/0,r=-1/0,o=-1/0,s=t.i;s.next();){var a=s.value;if(a.Pd()&&a.isVisible()){var l=a.location,a=l.x,l=l.y;isNaN(a)||isNaN(l)||(i>a&&(i=a),n>l&&(n=l),a>r&&(r=a),l>o&&(o=l))}}1/0===i?e.m(0,0,0,0):e.m(i,n,r-i,o-n)}function Be(t,e){if(null===t.hc){var i=t.g;if(!(null===i||e&&(i.cb||i.xf))&&null!==t.ac){var n=i.ma;for(n.isEnabled&&n.GE?null!==n.Vi&&0<n.Vi.Of.count&&(i.ma.Ip(),i.Rb("Drag")):Ke(t),i.wb=!e,i.bq=!e,t.jk=i.yc.da,n=t.hH?t.ac.fj():i.selection,n=i.Yo(n,i,!0),i=n.i;i.next();)i.value.location=i.key.location;i=Uh.ag(),He(n,i),Uh.ic(i);for(var i=new y(fs),r=t.ac.i;r.next();){var o=r.key;o.Pd()&&o.canCopy()&&(o=n.ka(o),null!==o&&(o.sf(),i.add(o,Ie(o.location))))}for(n=n.i;n.next();)r=n.value,r instanceof Ws&&r.canCopy()&&i.add(r,Ie());t.hc=i,Oe(t,i.fj()),null!==t.bd&&(i=t.bd,n=i.ln,i.Fl(t.jk.x-(n.x+n.width/2),t.jk.y-(n.y+n.height/2)))}}}function Ve(t){var e=t.g;if(null!==e){if(null!==t.hc&&(e.BA(t.hc.fj(),!1),t.hc=null,null!==t.ac))for(var i=t.ac.i;i.next();)i.key instanceof Ws&&(i.value.point=new b(0,0));e.wb=!1,e.bq=!1,t.jk=e.yc.da}}function Ue(t){if(null!==t.bd){if(t.Xi&&null!==t.Ii){var e=t.Ii;e.g.remove(e.Ae),e.g.remove(e.Be)}t.bd=null,t.Ii=null}}function Ge(t,e,i){var n=t.g;if(null!==n){var r=t.jk,o=Uh.M();o.assign(n.P.da),t.moveParts(e,o.ou(r),i),Uh.v(o)}}function We(t,e,i){if(e=e.Ua,null!==e){if(t=We(t,e,i),null!==t)return t;if(t=i.ka(e),null!==t)return t}return null}function Ke(t){if(null!==t.ac){for(var e=t.g,i=t.ac.i;i.next();){var n=i.key;n.Pd()&&(n.location=i.value.point)}for(i=t.ac.i;i.next();)if(n=i.key,n instanceof Ws&&n.Sp){var r=i.value.point;t.ac.add(n,Ie()),n.Fl(-r.x,-r.y)}e.Uf()}}function Ye(t,e){if(null===e)return!0;var i=e.aa;return null===i||i instanceof _s||i.layer.Gc||t.ac&&t.ac.contains(i)||t.hc&&t.hc.contains(i)?!0:!1}function Je(t,e,i,n){var r=t.g;if(null!==r){t.Xi&&(null!==t.bd&&(t.bd.V=null,t.bd.ba=null),ti(t,!1));var o=cn(r,e,null,function(e){return!Ye(t,e)}),s=r.P;s.ze=o;var a=r.wb,l=!1;try{if(r.wb=!0,l=Xe(t,s,o),!t.ra&&null===nc)return;if(null===o){var h=r.HI;null!==h&&(h(s),l=!0)}if(!t.ra&&null===nc)return;if(t.doDragOver(e,o),!t.ra&&null===nc)return}finally{r.wb=a,l&&r.Uf()}(r.ne||r.oe)&&(i||n)&&mr(r,s.mf)}}function Xe(t,e,i){var n=!1,r=t.mj.length,o=r>0?t.mj[0]:null;if(i===o)return!1;e.Fc=!1;for(var s=0;r>s;s++){var a=t.mj[s],l=a.GI;if(null!==l&&(l(e,a,i),n=!0,e.Fc))break}if(t.mj.length=0,!t.ra&&null===nc||null===i)return n;for(e.Fc=!1;null!==i;)t.mj.push(i),i=Qe(i);for(r=t.mj.length,s=0;r>s&&(a=t.mj[s],l=a.FI,null===l||(l(e,a,o),n=!0,!e.Fc));s++);return n}function Qe(t){var e=t.T;return null!==e?e:t instanceof fs&&!(t instanceof Na)&&(t=t.Ua,null!==t&&t.RH)?t:null}function Ze(t,e,i){var n=t.Ii;if(null===n)return null;var r=t.g.Um(e,n.ZE,function(t){return n.findValidLinkablePort(t,i)});t=Uh.M();for(var o=1/0,s=null,r=r.i;r.next();){var a=r.value;if(null!==a.aa){var l=a.$a(ou,t),l=e.$j(l);o>l&&(s=a,o=l)}}return Uh.v(t),s}function ti(t,e){var i=t.bd;if(null!==i&&!(2>i.pa)){var n=t.g;if(null!==n&&!n.cb&&(n=t.Ii,null!==n)){var r=null,o=null;null===i.V&&(r=Ze(t,i.l(0),!1),null!==r&&(o=r.aa));var s=null,a=null;null===i.ba&&(s=Ze(t,i.l(i.pa-1),!0),null!==s&&(a=s.aa)),n.isValidLink(o,r,a,s)?e?(i.In=i.l(0).copy(),i.Mn=i.l(i.pa-1).copy(),i.Sp=!1,i.V=o,null!==r&&(i.vg=r.Sd),i.ba=a,null!==s&&(i.uh=s.Sd)):fi(n,o,r,a,s):fi(n,null,null,null,null)}}}function ei(t,e){var i=t.g;if(null!==i){t.Xi&&ti(t,!0),Fe(t);var n=cn(i,e,null,function(e){return!Ye(t,e)}),r=i.P;if(r.ze=n,null!==n){r.Fc=!1;for(var o=n;null!==o;){var s=o.hA;if(null!==s&&(s(r,o),r.Fc))break;o=Qe(o)}}else s=i.hA,null!==s&&s(r);if((t.ra||null!==nc)&&(t.doDropOnto(e,n),t.ra||null!==nc))for(n=i.selection.i;n.next();)r=n.value,r instanceof js&&dr(i,r.Y)}}function ii(t,e,i){if(null===t.hc){var n=t.g;if(null!==n&&!n.cb&&!n.xf){n.wb=!i,n.bq=!i,t.jk=n.P.da,n=n.Yo(e,n,!0),i=Uh.ag(),He(e,i);var r=i.x+i.width/2,o=i.y+i.height/2;Uh.ic(i);var s=t.iw;i=new y(fs);var a=Uh.M();for(e=e.i;e.next();){var l=e.value;if(l.Pd()&&l.canCopy()){var h=l.location,l=n.ka(l);a.m(s.x-(r-h.x),s.y-(o-h.y)),l.location=a,l.sf(),i.add(l,Ie(a))}}for(Uh.v(a),n=n.i;n.next();)r=n.value,r instanceof Ws&&r.canCopy()&&i.add(r,Ie());t.hc=i,Oe(t,i.fj()),null!==t.bd&&(i=t.bd,n=i.ln,i.Fl(t.jk.x-(n.x+n.width/2),t.jk.y-(n.y+n.height/2)))}}}function ni(t){this.point=t,this.xF=_u.mk}function ri(t,e,i){this.Jc=t,this.info=e,this.OH=i}function oi(){0<arguments.length&&Uh.gd(oi),Ne.call(this),this.PC=100,this.rC=!1;var t=new Ws,e=new jo;e.Rf=!0,e.stroke="blue",t.add(e),e=new jo,e.Tp="Standard",e.fill="blue",e.stroke="blue",t.add(e),t.Tf="Tool",this.jD=t,t=new js,e=new jo,e.Sd="",e.Cb="Rectangle",e.fill=null,e.stroke="magenta",e.nb=2,e.ya=_u.Vx,t.add(e),t.Jl=!1,t.Tf="Tool",this.hD=t,this.iD=e,t=new js,e=new jo,e.Sd="",e.Cb="Rectangle",e.fill=null,e.stroke="magenta",e.nb=2,e.ya=_u.Vx,t.add(e),t.Jl=!1,t.Tf="Tool",this.kD=t,this.lD=e,this.MC=this.LC=this.HC=this.GC=this.IC=null,this.mC=!0,this.AG=new y(Er,"boolean"),this.QC=this.Qk=this.dD=null}function si(t,e,i,n){if(e===i)return!0;var r=e.V;return null!==r&&r.wf&&(n.add(r),si(t,r.fe,i,n))?!0:(e=e.ba,null!==e&&e.wf&&(n.add(e),si(t,e.fe,i,n))?!0:!1)}function ai(t,e,i,n,r){if(e===i)return!0;if(null===e||null===i)return!1;for(var o=e.ue;o.next();){var s=o.value;if(s!==n&&(!r||s.Hc)&&s.ba===e&&(s=s.V,s!==e&&ai(t,s,i,n,r)))return!0}return!1}function li(t,e,i,n,r){if(i===n)return!0;if(null===i||null===n||e.contains(i))return!1;e.add(i);for(var o=i.ue;o.next();){var s=o.value;if(s!==r&&s.ba===i&&(s=s.V,s!==i&&li(t,e,s,n,r)))return!0}return!1}function hi(t,e,i,n,r){if(i===n)return!0;if(null===i||null===n||e.contains(i))return!1;e.add(i);for(var o=i.ue;o.next();){var s=o.value;if(s!==r){var a=s.V,s=s.ba,a=a===i?s:a;if(a!==i&&hi(t,e,a,n,r))return!0}}return!1}function ui(){0<arguments.length&&Uh.gd(ui),oi.call(this),this.name="Linking",this.qB={},this.pB=null,this.ca=oc,this.aD=null}function ci(){0<arguments.length&&Uh.gd(ci),oi.call(this),this.name="Relinking";var t=new jo;t.Cb="Diamond",t.ya=_u.Sx,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="pointer",t.we=0,this.$B=t,t=new jo,t.Cb="Diamond",t.ya=_u.Sx,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="pointer",t.we=-1,this.mD=t,this.Ub=null,this.JC=new T}function fi(t,e,i,n,r){null!==e?(t.copyPortProperties(e,i,t.Ae,t.nn,!1),t.g.add(t.Ae)):t.g.remove(t.Ae),null!==n?(t.copyPortProperties(n,r,t.Be,t.on,!0),t.g.add(t.Be)):t.g.remove(t.Be)}function di(){0<arguments.length&&Uh.gd(di),Ne.call(this),this.name="LinkReshaping";
var t=new jo;t.Cb="Rectangle",t.ya=_u.Vp,t.fill="lightblue",t.stroke="dodgerblue",this.Gk=t,t=new jo,t.Cb="Diamond",t.ya=_u.Vp,t.fill="lightblue",t.stroke="dodgerblue",this.xC=t,this.RC=3,this.jy=this.Ub=null,this.KC=new b,this.Pv=null}function pi(t,e,i,n,r,o){return o?Math.abs(e.y-i.y)<t.qh&&Math.abs(i.y-n.y)<t.qh&&Math.abs(n.y-r.y)<t.qh:Math.abs(e.x-i.x)<t.qh&&Math.abs(i.x-n.x)<t.qh&&Math.abs(n.x-r.x)<t.qh}function gi(){0<arguments.length&&Uh.gd(gi),Ne.call(this),this.name="Resizing",this.Ej=new k(1,1).freeze(),this.Cj=new k(9999,9999).freeze(),this.kj=new k(0/0,0/0).freeze(),this.br=!1,this.Fb=null;var t=new jo;t.Wj=ou,t.Cb="Rectangle",t.ya=_u.Vp,t.fill="lightblue",t.stroke="dodgerblue",t.nb=1,t.cursor="pointer",this.Gk=t,this.Ub=null,this.Ov=new k,this.az=new b,this.Ey=new k(0,0),this.Dy=new k(1/0,1/0),this.Cy=new k(1,1),this.DC=!0}function vi(t,e,i){if(null!==e)if(e.alignment.Uc()||""===e.cursor){if(e instanceof uo)for(e=e.elements;e.next();)vi(t,e.value,i)}else t:{if(t=e.alignment,t.te()&&(t=ou),0>=t.x)i=0>=t.y?i+225:1<=t.y?i+135:i+180;else if(1<=t.x)0>=t.y?i+=315:1<=t.y&&(i+=45);else if(0>=t.y)i+=270;else{if(!(1<=t.y))break t;i+=90}0>i?i+=360:i>=360&&(i-=360),e.cursor=22.5>i?"e-resize":67.5>i?"se-resize":112.5>i?"s-resize":157.5>i?"sw-resize":202.5>i?"w-resize":247.5>i?"nw-resize":292.5>i?"n-resize":337.5>i?"ne-resize":"e-resize"}}function mi(){0<arguments.length&&Uh.gd(mi),Ne.call(this),this.name="Rotating",this.ZC=45,this.YC=2,this.Fb=null;var t=new jo;t.Cb="Ellipse",t.ya=_u.Sx,t.fill="lightblue",t.stroke="dodgerblue",t.nb=1,t.cursor="pointer",this.Gk=t,this.Ub=null,this.Nv=0,this.TC=new b}function yi(){0<arguments.length&&Uh.gd(yi),Ne.call(this),this.name="ClickSelecting"}function bi(){0<arguments.length&&Uh.gd(bi),Ne.call(this),this.name="Action",this.vn=null}function xi(){0<arguments.length&&Uh.gd(xi),Ne.call(this),this.name="ClickCreating",this.Ul=null,this.kC=!0,this.ZB=new b(0,0)}function wi(t,e,i){this.text=t,this.QD=e,this.visible=i}function ki(){0<arguments.length&&Uh.gd(ki),Ne.call(this),this.name="ContextMenu",this.Fn=this.EB=null,this.BC=new b,this.sy=this.Nn=null,Ti(this)}function Ti(e){if(e.Nn=new _s,e.nD=function(){e.stopTool()},!1===Uh.ZD){var i=Uh.createElement("div"),n=Uh.createElement("div");i.style.cssText="top: 0px;z-index:300;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",n.style.cssText="z-index:299;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;-moz-opacity: 0.8;opacity:.80;filter: alpha(opacity=80);";var r=Uh.createElement("style");t.document.getElementsByTagName("head")[0].appendChild(r),r.sheet.insertRule(".defaultCXul { list-style: none; }",0),r.sheet.insertRule(".defaultCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),r.sheet.insertRule(".defaultCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),i.addEventListener("contextmenu",function(t){return t.preventDefault(),!1},!1),i.addEventListener("selectstart",function(t){return t.preventDefault(),!1},!1),n.addEventListener("contextmenu",function(t){return t.preventDefault(),!1},!1),t.document.body&&(t.document.body.appendChild(i),t.document.body.appendChild(n)),Uh.ft=i,Uh.et=n,Uh.ZD=!0}}function $i(t){var e=t.g;if(null!==e)if(t.ra){if(null!==t.Pf){var i=e.re(e.P.da,null,null);null!==i&&i.Bl(t.Pf)&&t.standardMouseClick(null,null),t.stopTool(),t.canStart()&&(e.Za=t,t.doMouseUp())}}else t.canStart()&&Ci(t,!0)}function Ci(t,e,i){void 0===i&&(i=null),t.ra=!0,e&&t.standardMouseSelect(),t.standardMouseClick(),t.Fn=null,null===i&&(i=t.findObjectWithContextMenu()),null!==i?(e=i.contextMenu,null!==e?(t.Fn=i instanceof Er?i:null,t.showContextMenu(e,t.Fn)):t.showDefaultContextMenu()):t.showDefaultContextMenu()}function Mi(t){return null===t.g?null:(t=new u(wi),t.add(new wi("Copy",function(t){t.pb.copySelection()},function(t){return t.pb.canCopySelection()})),t.add(new wi("Cut",function(t){t.pb.cutSelection()},function(t){return t.pb.canCutSelection()})),t.add(new wi("Delete",function(t){t.pb.deleteSelection()},function(t){return t.pb.canDeleteSelection()})),t.add(new wi("Paste",function(t){t.pb.pasteSelection(t.P.da)},function(t){return t.pb.canPasteSelection()})),t.add(new wi("Select All",function(t){t.pb.selectAll()},function(t){return t.pb.canSelectAll()})),t.add(new wi("Undo",function(t){t.pb.undo()},function(t){return t.pb.canUndo()})),t.add(new wi("Redo",function(t){t.pb.redo()},function(t){return t.pb.canRedo()})),t.add(new wi("Scroll To Part",function(t){t.pb.scrollToPart()},function(t){return t.pb.canScrollToPart()})),t.add(new wi("Zoom To Fit",function(t){t.pb.zoomToFit()},function(t){return t.pb.canZoomToFit()})),t.add(new wi("Reset Zoom",function(t){t.pb.resetZoom()},function(t){return t.pb.canResetZoom()})),t.add(new wi("Group Selection",function(t){t.pb.groupSelection()},function(t){return t.pb.canGroupSelection()})),t.add(new wi("Ungroup Selection",function(t){t.pb.ungroupSelection()},function(t){return t.pb.canUngroupSelection()})),t.add(new wi("Edit Text",function(t){t.pb.editTextBlock()},function(t){return t.pb.canEditTextBlock()})),t)}function Si(){0<arguments.length&&Uh.gd(Si),Ne.call(this),this.name="DragSelecting",this.On=175,this.pC=!1;var t=new fs;t.Tf="Tool",t.Jl=!1;var e=new jo;e.name="SHAPE",e.Cb="Rectangle",e.fill=null,e.stroke="magenta",t.add(e),this.Wl=t}function Pi(){0<arguments.length&&Uh.gd(Pi),Ne.call(this),this.name="Panning",this.bz=new b,this.jj=!1;var e=this;this.bD=function(){t.document.removeEventListener("scroll",e.bD,!1),e.stopTool()}}function Di(){0<arguments.length&&Uh.gd(Di),Ne.call(this),this.name="TextEditing",this.IB=this.kz=this.fD=null,this.Eo=vc,this.Zk=null,this.hb=mc,this.Wk=null,this.yC=1,this.WC=!0;var t=Uh.createElement("textarea");t.lB=!0,this.OB=t,t.addEventListener("input",function(){var t=this.textEditingTool;if(null!==t&&void 0!==t&&null!==t.Ce){var e=t.fD;e.text=this.value;var i=this.wJ;Lr(e,t.Ce.zv,1/0),this.style.width=20+e.Ca.width*i+"px",this.style.height=10+e.Ca.height*i+"px",this.rows=e.pI}},!1),t.addEventListener("keydown",function(t){var e=t.which,i=this.textEditingTool;null!==i&&void 0!==i&&null!==i.Ce&&(13===e?(!1===i.Ce.gx&&t.preventDefault(),i.acceptText(gc)):9===e?(i.acceptText(pc),t.preventDefault()):27===e&&(i.doCancel(),null!==i.g&&i.g.focus()))},!1),t.addEventListener("focus",function(){var t=this.textEditingTool;null!==t&&void 0!==t&&(t.hb===yc?t.hb=bc:t.hb===kc?t.hb=xc:t.hb===xc&&(t.hb=bc),"function"==typeof this.select&&t.GA&&(this.select(),this.setSelectionRange(0,9999)))},!1),t.addEventListener("blur",function(){"function"==typeof this.focus&&this.focus();var t=this.textEditingTool;null!==t&&void 0!==t&&"function"==typeof this.select&&t.GA&&(this.select(),this.setSelectionRange(0,9999))},!1)}function Ai(t){if(null!==t.Ce&&null!==t.rg){var e=t.Ce,i=t.Ce.text,n=t.rg.value,r="",r="function"==typeof n?n():n;if(!t.isValidText(t.Ce,i,r))return t.hb=bc,null!==e.Kz&&e.Kz(t,i,r),null===t.Wk&&(t.Wk=t.rg.style.border,t.rg.style.border="3px solid red"),void("function"==typeof t.rg.focus&&t.rg.focus());t.Rb(t.name),t.hb=kc,i!==r&&(t.Ce.text=r),t.Cf=t.name,e=t.g,null!==e&&e.Ba("TextEdited",t.Ce,i),t.kk(),t.stopTool(),null!==e&&e.focus()}null!==t.Wk&&(t.rg.style.border=t.Wk,t.Wk=null)}function Ei(){Ne.call(this),this.name="ToolManager",this.lG=new u(Ne),this.mG=new u(Ne),this.nG=new u(Ne),this.cC=this.dC=850,this.SB=new k(2,2).Fa(),this.oD=5e3,this.CC=Tc,this.aC=Cc,this.Xu=this.qy=null,this.Dm=-1}function Ni(t,e,i,n){Uh.j(e,"string",Ei,"replaceStandardTool:name"),Uh.A(n,u,Ei,"replaceStandardTool:list"),null!==i&&(Uh.A(i,Ne,Ei,"replaceStandardTool:newtool"),i.g&&i.g!==t.g&&Uh.k("Cannot share tools between Diagrams: "+i.toString()),i.name=e,i.Mc(t.g)),t.findTool(e)?t.replaceTool(e,i):null!==i&&n.add(i)}function _i(){this.JB=ji,this.Gq=this.Hq=this.U=null,this.Iq=this.Jq=0,this.Ju=this.vc=this.co=this.uj=!1,this.vj=this.Ue=!0,this.Wu=this.Vu=this.GB=null,this.FB=0,this.Eo=null,this.Hu=new f("string"),this.zy=600,this.rG=new b(0,0),this.tB=this.sB=this.sD=!1,this.Uk=new y(Er,Wi)}function ji(t,e,i,n){return t/=n/2,1>t?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}function Oi(t){t.Ue&&(t.Hu.clear(),t.vc&&requestAnimationFrame(function(){!1===t.vc||t.uj||(t.U.Pj=1,nn(t.U),t.vc=!1,t.U.Ba("AnimationStarting"),Fi(t))}))}function Ii(t,e,i,r,o,s){if(!(!t.vc||"position"===i&&r.L(o)||e instanceof fs&&!e.AE)){void 0===s&&(s=!1);var a=t.Uk;if(a.contains(e)){t=a.ka(e);var l=t.start,h=t.end;void 0===l[i]&&(l[i]=Li(r)),t.Gz&&void 0!==h[i]?t.Lz[i]=Li(o):(s||(t.Lz[i]=Li(o)),h[i]=Li(o))}else l=new n,h=new n,l[i]=Li(r),h[i]=Li(o),i=h,r=l.position,r instanceof b&&!r.K()&&t.Hu.contains("Expand SubGraph")&&r.assign(i.position),a.add(e,new Wi(l,h,s))}}function Li(t){return t instanceof b?t.copy():t instanceof k?t.copy():t}function Fi(t){var e;void 0===e&&(e=new n);var i=t.U;if(null!==i){t.uj=!0;var r=e.BK||t.JB,o=e.eL||null,s=e.fL||null,a=e.duration||t.zy,l=t.rG;for(e=t.Uk.i;e.next();){var h=e.value.start.position;h instanceof b&&(h.K()||h.assign(l))}t.GB=r,t.Vu=o,t.Wu=s,t.FB=a;var u=t.Uk;for(e=u.i;e.next();)o=e.value.end,o["position:placeholder"]&&(s=o["position:placeholder"],l=s.$a(eu),l.x+=s.padding.left,l.y+=s.padding.top,o["position:placeholder"]=l);zi(t),Ri(t,i,u,r,0,a),bn(t.U),qi(t),requestAnimationFrame(function(e){var n=e||+new Date,o=n+a;!function s(e){if(!1!==t.uj){e=e||+new Date;var l=e>o?a:e-n;zi(t),Ri(t,i,u,r,l,a),t.Vu&&t.Vu(),bn(i),qi(t),e>o?Hi(t):requestAnimationFrame(s)}}(n)})}}function zi(t){if(!t.co){var e=t.U;t.sD=e.wb,t.sB=e.xe,t.tB=e.mu,e.wb=!0,e.xe=!0,e.mu=!0,t.co=!0}}function qi(t){var e=t.U;e.wb=t.sD,e.xe=t.sB,e.mu=t.tB,t.co=!1}function Ri(t,e,i,n,r,o){for(i=i.i;i.next();){var s,a=i.key,l=i.value,h=l.start,l=l.end;for(s in l)"position"===s&&(l["position:placeholder"]||l["position:node"])||void 0===Pc[s]||Pc[s](a,h[s],l[s],n,r,o)}n=e.Wz,e.Wz=!0,s=t.JB,0!==t.Jq&&0!==t.Iq&&(i=t.Jq,e.Vb=s(r,i,t.Iq-i,o)),null!==t.Hq&&null!==t.Gq&&(i=t.Hq,t=t.Gq,e.Ya=new b(s(r,i.x,t.x-i.x,o),s(r,i.y,t.y-i.y,o))),e.Wz=n}function Hi(t){t.uj=!1,t.Hq=null,t.Gq=null,t.Jq=0,t.Iq=0,zi(t);for(var e=t.U,i=t.GB,n=t.FB,r=t.Uk.i;r.next();){var o,s=r.key,a=r.value,l=a.start,h=a.end,u=a.Lz;for(o in h)if(void 0!==Pc[o]){var c=o;!a.Gz||"position:node"!==c&&"position:placeholder"!==c||(c="position"),Pc[c](s,l[o],a.Gz?void 0!==u[o]?u[o]:l[o]:h[o],i,n,n)}a.yx&&s.rd(!1)}for(i=t.U.links;i.next();)n=i.value,null!==n.xo&&(n.points=n.xo,n.xo=null);e.nx.clear(),e.Pj=null,e.pc(),e.Uf(),mn(e),qi(t),t.Uk=new y(Er,Wi),t.Wu&&t.Wu(),t.Wu=null,t.Vu=null,e.Ba("AnimationFinished"),e.ve()}function Bi(t,e,i){var n=e.Y,r=i.Y,o=null;if(i instanceof Na&&(o=i.placeholder),null!==o?(n=o.$a(eu),n.x+=o.padding.left,n.y+=o.padding.top,Ii(t,e,"position",n,e.position,!1)):Ii(t,e,"position",new b(r.x+r.width/2-n.width/2,r.y+r.height/2-n.height/2),e.position,!1),Ii(t,e,"scale",.01,e.scale,!1),e instanceof Na)for(e=e.Ic;e.next();)o=e.value,o instanceof js&&Bi(t,o,i)}function Vi(t,e,i){if(e.isVisible()){var n=null;if(i instanceof Na&&(n=i.placeholder),null!==n?Ii(t,e,"position:placeholder",e.position,n,!0):Ii(t,e,"position:node",e.position,i,!0),Ii(t,e,"scale",e.scale,.01,!0),t.vc&&(n=t.Uk,n.contains(e)&&(n.ka(e).yx=!0)),e instanceof Na)for(e=e.Ic;e.next();)n=e.value,n instanceof js&&Vi(t,n,i)}}function Ui(t,e,i){t.vc&&(null===t.Hq&&e.K()&&null===t.Gq&&(t.Hq=e.copy()),t.Gq=i.copy(),t.Ju=!0)}function Gi(t,e,i){t.vc&&t.U.bn&&(0===t.Jq&&0===t.Iq&&(t.Jq=e),t.Iq=i,t.Ju=!0)}function Wi(t,e,i){this.start=t,this.end=e,this.Lz=new n,this.Gz=i,this.yx=!1}function Ki(){0<arguments.length&&Uh.gd(Ki),Uh.ec(this),this.U=null,this.zb=new u(fs),this.Pb="",this.Rc=1,this.Qy=!1,this.Yk=this.oz=this.wk=this.vk=this.uk=this.tk=this.rk=this.sk=this.qk=this.yk=this.pk=this.xk=this.ok=this.nk=!0,this.Ly=!1,this.Qv=[]}function Yi(t,e,i,n){if(t.visible&&0!==t.Rc){1!==t.Rc&&(e.globalAlpha=t.Rc);var r=t.Qv;r.length=0;var o=i.scale;t=t.zb.n;for(var s=t.length,a=n.length,l=0;s>l;l++){var h=t[l];if(Ss(h)){if(h instanceof Ws){var u=h;if(u.kc&&r.push(u),!1===u.Mf)continue}var c,u=ys(h,h.Y);t:{c=u;for(var f=n,d=a,p=2/o,g=4/o,v=0;d>v;v++){var m=f[v];if(0!==m.width&&0!==m.height&&c.yE(m.x-p,m.y-p,m.width+g,m.height+g)){c=!0;break t}}c=!1}c&&(1<u.width*o||1<u.height*o?h.$e(e,i):ks(h,e))}}e.globalAlpha=1}}function Ji(t,e,i){if(e=Xi(t,e,i),i instanceof Na&&null!==i&&isNaN(i.sn)){if(0!==i.Ic.count){for(var n=-1,r=t.zb.n,o=r.length,s=0;o>s;s++){var a=r[s];if(a===i&&(e=s,n>=0))break;if(0>n&&a.Ua===i&&(n=s,e>=0))break}!(0>n)&&e>n&&(r=t.zb,r.Vc(e),r.Cd(n,i))}i=i.Ua,null!==i&&Ji(t,-1,i)}}function Xi(t,e,i){var n=i.sn;if(isNaN(n))return e;t=t.zb;var r=t.count;if(1>=r)return e;if(0>e&&(e=t.indexOf(i)),0>e)return-1;for(var o=e-1,s=0/0;o>=0&&(s=t.ha(o).sn,isNaN(s));)o--;for(var a=e+1,l=0/0;r>a&&(l=t.ha(a).sn,isNaN(l));)a++;if(!isNaN(s)&&s>n)for(;;){if(-1===o||n>=s){if(o++,o===e)break;return t.Vc(e),t.Cd(o,i),o}for(s=0/0;0<=--o&&(s=t.ha(o).sn,isNaN(s)););}else if(!isNaN(l)&&n>l)for(;;){if(a===r||l>=n){if(a--,a===e)break;return t.Vc(e),t.Cd(a,i),a}for(l=0/0;++a<r&&(l=t.ha(a).sn,isNaN(l)););}return e}function Qi(e){function i(){t.document.removeEventListener("DOMContentLoaded",i,!1),tn(n)}1<arguments.length&&Uh.k("Diagram constructor can only take one optional argument, the DIV HTML element or its id."),Uh.ec(this),Ff=[],this.Pc=!0,this.nB=new _i,this.nB.Mc(this),this.yd=17;var n=this;null!==t.document.body?tn(this):t.document.addEventListener("DOMContentLoaded",i,!1),this.qC=!1,this.Yb=new u(Ki),this.Lb=this.Gb=0,this.Ij=this.Nb=this.Ah=this.ub=null,this.hF(),this.$n=null,this.gF(),this.Ya=new b(0/0,0/0).freeze(),this.Vb=1,this.qv=new b(0/0,0/0).freeze(),this.rv=0/0,this.Hv=1e-4,this.Fv=100,this.me=new A,this.uw=new b(0/0,0/0).freeze(),this.hv=new T(0/0,0/0,0/0,0/0).freeze(),this.bw=new D(0,0,0,0).freeze(),this.cw=Fc,this.Zv=this.Vv=null,this.Vl=Dc,this.Bn=tu,this.Jk=Dc,this.Xn=tu,this.sv=this.pv=eu,this.ke=!0,this.Zq=!1,this.eg=new f(Er),this.Dk=new y(Ws,T),this.Pn=!0,this.rB=250,this.xn=-1,this.Lu=new D(16,16,16,16).freeze(),this.$u=this.Lf=!1,this.Tn=!0,this.vi=new te,this.Sc=new te,this.Ob=new te,this.Pg=this.ji=null,this.mw=!1,this.vy=this.wy=null,ur(this),this.so=new f(js),this.$k=new f(Na),this.lo=new f(Ws),this.zb=new f(fs),this.xv=!0,this.pw=qc,this.gC=!1,this.rw=Nc,this.py=this.ty=this.lz=null,this.Uu="",this.Fq="auto",this.oi=this.Ni=this.Ci=this.Kv=this.Di=this.Ei=this.Fi=this.ni=this.ti=this.ki=null,this.Yy=!1,this.OC={},this.Uv=0,this.Kf=[null,null],this.ly=null,this.bq=this.uy=this.fz=this.XC=this.Ki=!1,this.sC=!0,this.Ny=this.Kd=!1,this.ez=this.dz=0,this.Wg="gray",this.Sh=0,this.Vd=null;var r=this;this.zC=function(t){if(t.Z===r.Z&&r.Ra){r.Ra=!1;try{var e=t.xc;""===t.lf&&e===Wu&&zn(r,t.object,t.propertyName)}finally{r.Ra=!0}}},this.AC=function(t){Fn(r,t)},this.uD=!0,this.Mg=-2,this.pi=new y(Object,fs),this.Ck=new y(Object,Ws),this.fm=new y(Object,Array),this.to=new y("string",Array),this.NC=new u(Qo),this.xi=!1,this.ok=this.nk=this.zu=this.Ue=!0,this.Bu=this.Au=!1,this.Gu=this.Eu=this.wk=this.vk=this.uk=this.tk=this.rk=this.sk=this.qk=this.Du=this.yk=this.pk=this.xk=!0,this.cm=this.oC=!1,this.Fu=this.Cu=this.nv=this.mv=!0,this.ew=this.aw=16,this.cz=this.$v=!1,this.ns=this.dw=null,this.UC=this.VC=0,this.We=new D(5).freeze(),this.gw=new f(fs).freeze(),this.Gv=999999999,this.ov=new f(fs).freeze(),this.Kk=this.am=this.tj=!0,this.Hk=this.sj=!1,this.Ud=null,this.Iu=!0,this.Og=!1,this.kG=new f(Ws),this.eC=new f(ya),this.wd=null,this.FC=1,this.Gy=!1,this.$C=0,this.tD=new T(0/0,0/0,0/0,0/0).freeze(),this.av=new T(0/0,0/0,0/0,0/0).freeze(),this.Rv=new f(Cr),on(this),this.Cv=this.jv=this.Lv=this.LB=this.KB=this.MB=this.zj=this.Fk=this.Gi=null,Zi(this),this.md=null,this.iv=!1,this.En=null,this.eb=new Ei,this.eb.initializeStandardTools(),this.Za=this.it=this.eb,this.pb=new Pe,this.Z=new xe,this.Ki=!0,this.Qb=new Fa,this.Ki=!1,this.XB=this.yy=null,this.Ie=1,this.Pj=null,this.Ik=new kr,void 0!==e&&Tr(this,e),this.hm=1,this.im=0,this.uC=new b,this.qD=500,this.Ku=new b,this.ys=null,this.Pc=this.wv=!1}function Zi(t){t.Gi=new y("string",fs);var e=new js,i=new Bo;i.bind(new Te("text","",Zu)),e.add(i),t.MB=e,t.Gi.add("",e),e=new js,i=new Bo,i.stroke="brown",i.bind(new Te("text","",Zu)),e.add(i),t.Gi.add("Comment",e),e=new js,e.Jl=!1,e.KD=!1,i=new jo,i.Cb="Ellipse",i.fill="black",i.stroke=null,i.ya=new k(3,3).Fa(),e.add(i),t.Gi.add("LinkLabel",e),t.Fk=new y("string",Na),e=new Na,e.FA="GROUPPANEL",e.type=uf,i=new Bo,i.font="bold 12pt sans-serif",i.bind(new Te("text","",Zu)),e.add(i),i=new uo(ff),i.name="GROUPPANEL";var n=new jo;n.Cb="Rectangle",n.fill="rgba(128,128,128,0.2)",n.stroke="black",i.add(n),n=new La,n.padding=new D(5,5,5,5).Fa(),i.add(n),e.add(i),t.KB=e,t.Fk.add("",e),t.zj=new y("string",Ws),e=new Ws,i=new jo,i.Rf=!0,e.add(i),i=new jo,i.Tp="Standard",i.fill="black",i.stroke=null,i.nb=0,e.add(i),t.LB=e,t.zj.add("",e),e=new Ws,i=new jo,i.Rf=!0,i.stroke="brown",e.add(i),t.zj.add("Comment",e),e=new _s,e.type=ff,i=new jo,i.fill=null,i.stroke="dodgerblue",i.nb=3,e.add(i),i=new La,i.margin=new D(1.5,1.5,1.5,1.5).Fa(),e.add(i),t.Lv=e,t.jv=e,e=new _s,e.type=vf,i=new jo,i.Rf=!0,i.fill=null,i.stroke="dodgerblue",i.nb=3,e.add(i),t.Cv=e}function tn(e){var i=Uh.createElement("p");i.style.width="100%",i.style.height="200px",i.style.boxSizing="content-box";var n=Uh.createElement("div");n.style.position="absolute",n.style.visibility="hidden",n.style.width="200px",n.style.height="150px",n.style.overflow="hidden",n.style.boxSizing="content-box",n.appendChild(i),t.document.body.appendChild(n);var r=i.offsetWidth;n.style.overflow="scroll",i=i.offsetWidth,r===i&&(i=n.clientWidth),t.document.body.removeChild(n),n=r-i,0!==n||Uh.FE||(n=11),e.yd=n}function en(e){var i=e.ub;i.addEventListener("touchstart",e.JF,!1),i.addEventListener("touchmove",e.IF,!1),i.addEventListener("touchend",e.HF,!1),i.addEventListener("mousemove",e.xp,!1),i.addEventListener("mousedown",e.wp,!1),i.addEventListener("mouseup",e.zp,!1),i.addEventListener("mousewheel",e.ih,!1),i.addEventListener("DOMMouseScroll",e.ih,!1),i.addEventListener("mouseout",e.yp,!1),i.addEventListener("keydown",e.lI,!1),i.addEventListener("keyup",e.mI,!1),i.addEventListener("selectstart",function(t){return t.preventDefault(),!1},!1),i.addEventListener("contextmenu",function(t){return t.preventDefault(),!1},!1),i.addEventListener("gesturechange",function(t){e.eb.gp===Mc&&t.preventDefault()},!1),i.addEventListener("pointerdown",e.NI,!1),i.addEventListener("pointermove",e.QI,!1),i.addEventListener("pointerleave",e.OI,!1),t.addEventListener("resize",e.TF,!1)}function nn(t){if(null!==t.ub){var e=t.Nb;if(0!==e.clientWidth&&0!==e.clientHeight){var i=t.Hk?t.yd:0,n=t.sj?t.yd:0,r=t.Ie;t.Ie=t.computePixelRatio(),t.Ie!==r&&(t.Zq=!0,t.ve()),(e.clientWidth!==t.Gb+i||e.clientHeight!==t.Lb+n)&&(t.am=!0,t.ke=!0,e=t.Qb,null!==e&&e.hx&&t.gl===Dc&&e.H(),t.Kd||t.ve())}}}function rn(t,e,i){void 0===e&&(e=t.Ah),void 0===i&&(i=!0),i&&(e.wu=""),e.un="",e.tn=""}function on(t){var e=new Ki;e.name="Background",t.Us(e),e=new Ki,e.name="",t.Us(e),e=new Ki,e.name="Foreground",t.Us(e),e=new Ki,e.name="Adornment",e.Gc=!0,t.Us(e),e=new Ki,e.name="Tool",e.Gc=!0,e.BE=!0,t.Us(e),e=new Ki,e.name="Grid",e.qf=!1,e.Dg=!1,e.Gc=!0,t.IG(e,t.mt("Background"))}function sn(t){t.md=new uo(mf),t.md.name="GRID";var e=new jo;e.Cb="LineH",e.stroke="lightgray",e.nb=.5,e.interval=1,t.md.add(e),e=new jo,e.Cb="LineH",e.stroke="gray",e.nb=.5,e.interval=5,t.md.add(e),e=new jo,e.Cb="LineH",e.stroke="gray",e.nb=1,e.interval=10,t.md.add(e),e=new jo,e.Cb="LineV",e.stroke="lightgray",e.nb=.5,e.interval=1,t.md.add(e),e=new jo,e.Cb="LineV",e.stroke="gray",e.nb=.5,e.interval=5,t.md.add(e),e=new jo,e.Cb="LineV",e.stroke="gray",e.nb=1,e.interval=10,t.md.add(e),e=new fs,e.add(t.md),e.Tf="Grid",e.sn=0,e.Yz=!1,e.AE=!1,e.Dg=!1,e.cA="GRID",t.add(e),t.zb.remove(e),t.md.visible=!1}function an(t){if(t.mE.K()){var e=t.mE.copy();return e.vw(t.padding),e}for(var i=!0,n=t.Yb.n,r=n.length,o=0;r>o;o++){var s=n[o];if(s.visible&&(!s.Gc||s.BE))for(var s=s.zb.n,a=s.length,l=0;a>l;l++){var h=s[l];h.Yz&&h.isVisible()&&(h=h.Y,h.K()&&(i?(i=!1,e=h.copy()):e.fi(h)))}}return i&&(e=new T(0,0,0,0)),e.vw(t.padding),e}function ln(t,e){if((e||t.Og)&&!t.Pc&&null!==t.ub&&!t.Sa.vf&&t.Bd.K()){t.Pc=!0;var i=t.Vl;e&&t.Jk!==Dc&&(i=t.Jk);var n=i!==Dc?hn(t,i):t.scale,i=t.tb.copy(),r=t.Gb/n,o=t.Lb/n,s=null,a=t.Sa;a.vc&&(s=t.Ya.copy()),t.position.Oa();var l=t.Bn;e&&!l.fd()&&t.Xn.fd()&&(l=t.Xn),un(t,t.Ya,t.Bd,r,o,l,e),t.position.freeze(),null!==s&&Ui(a,s,t.Ya),t.scale=n,t.Pc=!1,n=t.tb,n.od(i)||t.Wt(i,n)}}function hn(t,e){var i=t.pb.Lw;if(null===t.ub)return i;t.tj&&or(t,t.ah());var n=t.Bd;if(!n.K())return i;var r=n.width,n=n.height,o=t.Gb,s=t.Lb,a=o/r,l=s/n;return e===Ac?(r=Math.min(l,a),r>i&&(r=i),r<t.hh&&(r=t.hh),r>t.gh&&(r=t.gh),r):e===Ec?(r=l>a?(s-t.yd)/n:(o-t.yd)/r,r>i&&(r=i),r<t.hh&&(r=t.hh),r>t.gh&&(r=t.gh),r):t.scale}function un(t,e,i,n,r,o,s){var a=e.x,l=e.y;(s||t.EA===Fc)&&(o.fd()&&(n>i.width&&(a=i.x+(o.x*i.width+o.offsetX)-(o.x*n-o.offsetX)),r>i.height&&(l=i.y+(o.y*i.height+o.offsetY)-(o.y*r-o.offsetY))),o=t.oF,s=n-i.width,n<i.width+o.left+o.right?(a=Math.min(a+n/2,i.right+Math.max(s,o.right)-n/2),a=Math.max(a,i.left-Math.max(s,o.left)+n/2),a-=n/2):a>i.left?a=i.left:a<i.right-n&&(a=i.right-n),n=r-i.height,r<i.height+o.top+o.bottom?(l=Math.min(l+r/2,i.bottom+Math.max(n,o.bottom)-r/2),l=Math.max(l,i.top-Math.max(n,o.top)+r/2),l-=r/2):l>i.top?l=i.top:l<i.bottom-r&&(l=i.bottom-r)),e.x=isFinite(a)?a:-t.padding.left,e.y=isFinite(l)?l:-t.padding.top,null!==t.$E&&(t=t.$E(t,e),e.x=t.x,e.y=t.y)}function cn(t,e,i,n){for(void 0===i&&(i=null),void 0===n&&(n=null),wn(t),t=t.Yb.cn;t.next();){var r=t.value;if(r.visible&&!r.Gc&&(r=r.re(e,i,n),null!==r))return r}return null}function fn(t,e,i,n,r){n.g=e,n.event=i,r?vn(t,i,n):(n.mf=e.Ob.mf,n.da=e.Ob.da),t=0,i.ctrlKey&&(t+=1),i.altKey&&(t+=2),i.shiftKey&&(t+=4),i.metaKey&&(t+=8),n.sd=t,n.button=i.button,void 0!==i.buttons&&(n.buttons=i.buttons),Uh.fk&&0===i.button&&i.ctrlKey&&(n.button=2),n.pl=!1,n.up=!1,n.Ze=1,n.nl=0,n.Fc=!1,n.bubbles=!1,n.timestamp=Date.now(),n.Gt=!1,n.Fg=i.target.U?i.target.U:null,n.ze=null}function dn(t,e,i,n,r){n.g=t,vn(t,i,n),n.sd=0,n.button=0,n.buttons=1,n.pl=!0,n.up=!1,n.Ze=1,n.nl=0,n.Fc=!1,n.bubbles=!0,n.event=e,n.timestamp=Date.now(),n.Gt=r,n.Fg=e.target.U?e.target.U:null,n.ze=null,t.vi=n.copy(),nc=null}function pn(e,i,n,r,o){var s=null;r.g=e,null!==n?((s=t.document.elementFromPoint(n.clientX,n.clientY))&&s.U?s=s.U:(n=i.changedTouches[0],s=e),r.Fg=s,vn(e,n,r)):null!==e.Sc?(r.da=e.Sc.da,r.mf=e.Sc.mf,r.Fg=e.Sc.Fg):null!==e.vi&&(r.da=e.vi.da,r.mf=e.vi.mf,r.Fg=e.vi.Fg),r.sd=0,r.button=0,r.buttons=1,r.pl=!1,r.up=!1,r.Ze=1,r.nl=0,r.Fc=!1,r.bubbles=!1,r.event=i,r.timestamp=Date.now(),r.Gt=o,r.ze=null}function gn(t,e){return t.bubbles?!0:(void 0!==e.stopPropagation&&e.stopPropagation(),(void 0===e.touches||2>e.touches.length)&&e.preventDefault(),e.cancelBubble=!0,!1)}function vn(t,e,i){var n=t.ub,r=t.Gb,o=t.Lb,s=0,a=0;null!==n&&(n=n.getBoundingClientRect(),s=e.clientX-r/n.width*n.left,a=e.clientY-o/n.height*n.top),i.mf.m(s,a),null!==t.me?(e=Uh.Sb(s,a),t.me.ai(e),i.da.assign(e),Uh.v(e)):i.da.m(s,a)}function mn(t){t.Kd||wn(t),t.tj&&or(t,t.ah())}function yn(t,e){t.Sa.vf||t.Pc||!t.am||Nn(t)||(e&&wn(t),ln(t,!1))}function bn(t){if(!t.Kd&&(t.Lf=!1,null!==t.Nb)){t.Kd=!0;var e=t.Sa,i=t.NC;if(!e.co&&0!==i.length){for(var n=i.n,r=n.length,o=0;r>o;o++){var s=n[o];io(s,!1),s.Q()}i.clear()}i=t.eC,0<i.count&&(i.each(function(t){t.UA()}),i.clear()),n=i=!1,e.vf&&(n=!0,i=t.wb,t.wb=!0),e.vc||nn(t),yn(t,!1),null!==t.md&&(t.md.visible&&!t.iv&&(On(t),t.iv=!0),!t.md.visible&&t.iv&&(t.iv=!1)),wn(t),r=!1,(!t.Og||t.Iu)&&(t.Og?lr(t,!t.$u):(t.Rb("Initial Layout"),!1===e.isEnabled&&e.di(),lr(t,!1)),r=!0),t.$u=!1,wn(t),t.fz||e.vf||mn(t),yn(t,!0),r&&(t.Og||xn(t),t.Ba("LayoutCompleted")),wn(t),r&&!t.Og&&(t.Og=!0,t.Ad("Initial Layout"),t.wb||t.ma.clear(),Uh.setTimeout(function(){t.ci=!1},1)),Mn(t),Oi(e),t.$e(),n&&(t.wb=i),t.Kd=!1}}function xn(t){var e=t.Yb.n;if(t.zf(e,e.length,t),t.Jk!==Dc?t.scale=hn(t,t.Jk):t.Vl!==Dc?t.scale=hn(t,t.Vl):(e=t.XH,isFinite(e)&&e>0&&(t.scale=e)),e=t.WH,e.K())t.position=e;else{e=Uh.M(),e.iu(t.Bd,t.VH);var i=t.tb,i=Uh.lk(0,0,i.width,i.height),n=Uh.M();n.iu(i,t.YH),n.m(e.x-n.x,e.y-n.y),t.position=n,Uh.ic(i),Uh.v(n),Uh.v(e),yn(t,!0),ln(t,!0)}t.Ba("InitialLayoutCompleted"),On(t)}function wn(t){if((t.Kd||!t.Sa.vf)&&0!==t.eg.count)for(var e=0;23>e;e++){var i=t.eg.i;if(null===i||0===t.eg.count)break;t.eg=new f(Er),t.UA(i,t.eg)}}function kn(t,e){for(var i=Uh.mb(),n=Uh.mb(),r=e.Ic;r.next();){var o=r.value;o.isVisible()&&(o instanceof Na?(eo(o)||no(o)||$s(o))&&kn(t,o):o instanceof Ws?o.V===e||o.ba===e?n.push(o):i.push(o):(Lr(o,1/0,1/0),o.Dc()))}for(var r=i.length,s=0;r>s;s++)o=i[s],Lr(o,1/0,1/0),o.Dc();for(Uh.ta(i),Lr(e,1/0,1/0),e.Dc(),r=n.length,s=0;r>s;s++)o=n[s],Lr(o,1/0,1/0),o.Dc();Uh.ta(n)}function Tn(t,e,i,n,r){null===t.Nb&&Uh.k("No div specified");var o=t.ub;if(null===o&&Uh.k("No canvas specified"),!t.Sa.vc){var s=t.Ah;if(t.ke){Dn(t);var a=t.Ie;Uh.an?(o.width=o.width,rn(t,s)):(s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,t.Gb*a,t.Lb*a)),s.xE=!1,s.drawImage(t.yy.Od,n>0?0:Math.round(-n),r>0?0:Math.round(-r)),r=t.Ya;var o=t.Vb,l=Math.round(r.x*o)/o,h=Math.round(r.y*o)/o;for(n=t.me,n.reset(),1!==o&&n.scale(o),0===r.x&&0===r.y||n.translate(-l,-h),s.save(),s.beginPath(),r=i.length,o=0;r>o;o++)l=i[o],0!==l.width&&0!==l.height&&s.rect(Math.floor(l.x),Math.floor(l.y),Math.ceil(l.width),Math.ceil(l.height));for(s.clip(),s.setTransform(a,0,0,a,0,0),s.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),i=t.Yb.n,r=i.length,t.zf(i,r,t),Cn(t,s),o=0;r>o;o++)Yi(i[o],s,t,e);s.restore(),rn(t),t.Ik?t.Ik.Ql(t)&&t.iy():t.Uq=function(){return new b(0,0)},t.Kk=!1,t.ke=!1,t.zA()}}}function $n(t,e,i,n,r,o,s,a,l,h){null===t.Nb&&Uh.k("No div specified"),null===t.ub&&Uh.k("No canvas specified"),void 0===s&&(s=null),void 0===a&&(a=null),void 0===l&&(l=!1),void 0===h&&(h=!1),Dn(t),rn(t),Pn(t),t.Ny=!0;var u=new T(o.x,o.y,n.width/r,n.height/r),c=u.copy();c.vw(i),On(t,c),wn(t);var c=t.Yb.n,d=c.length;if(t.zf(c,d,t,u),u=t.Ie,e.setTransform(u,0,0,u,0,0),e.clearRect(0,0,n.width,n.height),null!==a&&""!==a&&(e.fillStyle=a,e.fillRect(0,0,n.width,n.height)),n=Uh.th(),n.reset(),n.translate(i.left,i.top),n.scale(r),0===o.x&&0===o.y||n.translate(-o.x,-o.y),e.setTransform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),Uh.cf(n),Cn(t,e),null!==s){var p=new f(Er);for(i=s.i,i.reset();i.next();)r=i.value,!1===h&&"Grid"===r.layer.name||null===r||p.add(r);i=function(i){var n=l;if(i.visible&&0!==i.Rc&&(void 0===n&&(n=!0),n||!i.Gc)){var n=i.zb.n,r=n.length;if(0!==r){1!==i.Rc&&(e.globalAlpha=i.Rc),i=i.Qv,i.length=0;for(var o=t.scale,s=0;r>s;s++){var a=n[s];if(Ss(a)&&p.contains(a)){if(a instanceof Ws){var h=a;if(h.kc&&i.push(h),!1===h.Mf)continue}h=a.Y,1<h.width*o||1<h.height*o?a.$e(e,t):ks(a,e)}}e.globalAlpha=1}}}}else if(!l&&h){var g=t.xt.aa,v=g.layer;i=function(i){i===v?g.$e(e,t):i.$e(e,t,l,h)}}else i=function(i){i.$e(e,t,l,h)};for(r=0;d>r;r++)i(c[r]);t.Ny=!1,t.Ik?t.Ik.Ql(t)&&t.iy():t.Uq=function(){return new b(0,0)},rn(t),Pn(t),t.zf(c,d,t),On(t)}function Cn(t,e){var i=t.Ij;if(null!==i){if(void 0!==i.imageSmoothingEnabled){var n=!!i.imageSmoothingEnabled;e.xE=n,e.cL=n}i=i.defaultFont,void 0!==i&&null!==i&&(e.font=i,e.wu=i)}}function Mn(t){if(0===t.ma.vh&&0!==t.Dk.count){for(;0<t.Dk.count;){var e=t.Dk;for(t.Dk=new y(Ws,T),e=e.i;e.next();){var i=e.key;pa(i,e.value),i.se()}}t.qa()}}function Sn(t){!1===t.am&&(t.am=!0)}function Pn(t){!1===t.Kk&&(t.Kk=!0)}function Dn(t){!1!==t.Zq&&(t.Zq=!1,An(t,t.Gb,t.Lb))}function An(t,e,i){var n=t.ub,r=t.Ie,o=e*r,r=i*r;(n.width!==o||n.height!==r)&&(n.width=o,n.height=r,n.style.width=e+"px",n.style.height=i+"px",t.ke=!0,rn(t))}function En(t){var e=t.Gb,i=t.Lb;return t=t.ub.getBoundingClientRect(),Uh.Sb(e/t.width*t.left,i/t.height*t.top)}function Nn(t){var e=t.ub;if(null===e)return!0;var i=t.Nb,n=t.Gb,r=t.Lb,o=t.tD.copy();if(!o.K())return!0;var s=!1,a=t.Hk?t.yd:0,l=t.sj?t.yd:0,h=i.clientWidth||n+a,i=i.clientHeight||r+l;(h!==n+a||i!==r+l)&&(t.Hk=!1,t.sj=!1,l=a=0,t.Gb=h,t.Lb=i,s=t.Zq=!0),t.am=!1;var u=t.tb,c=t.Bd,h=c.width,i=c.height,f=u.width,d=u.height,p=c.x,g=u.x,v=c.right,m=u.right+a,y=c.y,b=u.y,c=c.bottom,u=u.bottom+l,x="1px",w="1px",k=t.scale;return t.EA===Fc&&f+a>h&&d+l>i||(t.Sz&&t.ne&&(x=1,g>p+1&&(x=Math.max((g-p)*k+t.Gb,x)),v>m+1&&(x=Math.max((v-m)*k+t.Gb,x)),h>f+a+1&&(x=Math.max((h-f+a)*k+t.Gb,x)),x+="px"),t.Tz&&t.oe&&(w=1,b>y+1&&(w=Math.max((b-y)*k+t.Lb,w)),c>u+1&&(w=Math.max((c-u)*k+t.Lb,w)),i>d+l+1&&(w=Math.max((i-d+l)*k+t.Lb,w)),w+="px")),a="1px"!==x,l="1px"!==w,((!a||!l)&&a||l)&&(l&&(m-=t.yd),a&&(u-=t.yd),t.Sz&&t.ne&&(x=1,g>p+1&&(x=Math.max((g-p)*k+t.Gb,x)),v>m+1&&(x=Math.max((v-m)*k+t.Gb,x)),h>f+1&&(x=Math.max((h-f)*k+t.Gb,x)),x+="px"),a="1px"!==x,l=a!==t.sj?t.Lb-t.yd:t.Lb,t.Tz&&t.oe&&(w=1,b>y+1&&(w=Math.max((b-y)*k+l,w)),c>u+1&&(w=Math.max((c-u)*k+l,w)),i>d+1&&(w=Math.max((i-d)*k+l,w)),w+="px"),l="1px"!==w),t.$v&&a===t.sj&&l===t.Hk?(n===t.Gb&&r===t.Lb||t.Uf(),!1):(a!==t.sj&&(t.Lb="1px"===x?t.Lb+t.yd:Math.max(t.Lb-t.yd,1),s=!0),t.sj=a,t.ns.style.width=x,l!==t.Hk&&(t.Gb="1px"===w?t.Gb+t.yd:Math.max(t.Gb-t.yd,1),s=!0,t.qC&&(a=Uh.M(),l?(e.style.left=t.yd+"px",t.position=a.m(t.Ya.x+t.yd/t.scale,t.Ya.y)):(e.style.left="0px",t.position=a.m(t.Ya.x-t.yd/t.scale,t.Ya.y)),Uh.v(a))),t.Hk=l,t.ns.style.height=w,e=t.dw,t.Sz&&t.ne&&(h>f+1?e.scrollLeft=(t.position.x-p)*k:g>p+1?e.scrollLeft=e.scrollWidth-e.clientWidth:v>m+1&&(e.scrollLeft=t.position.x*k)),t.Tz&&t.oe&&(i>d+1?e.scrollTop=(t.position.y-y)*k:b>y+1?e.scrollTop=e.scrollHeight-e.clientHeight:c>u+1&&(e.scrollTop=t.position.y*k)),s&&(t.Zq=!0),h=t.Gb,i=t.Lb,e.style.width=h+(t.Hk?t.yd:0)+"px",e.style.height=i+(t.sj?t.yd:0)+"px",t.cz=!1,n!==h||r!==i||t.Sa.vc?(u=t.tb,t.Wt(o,u,s),!1):!0)}function _n(t,e,i){if(Uh.A(e,Ki,Qi,"addLayer:layer"),null!==e.g&&e.g!==t&&Uh.k("Cannot share a Layer with another Diagram: "+e+" of "+e.g),null===i?null!==e.g&&Uh.k("Cannot add an existing Layer to this Diagram again: "+e):(Uh.A(i,Ki,Qi,"addLayer:existingLayer"),i.g!==t&&Uh.k("Existing Layer must be in this Diagram: "+i+" not in "+i.g),e===i&&Uh.k("Cannot move a Layer before or after itself: "+e)),e.g!==t){e=e.name,t=t.Yb,i=t.count;for(var n=0;i>n;n++)t.ha(n).name===e&&Uh.k("Cannot add Layer with the name '"+e+"'; a Layer with the same name is already present in this Diagram.")}}function jn(t,e,i){if(t.Pc||t.Kd)t.Vb=i,i=t.Sa,i.vc&&Gi(i,e,t.Vb);else if(t.Pc=!0,null===t.ub)t.Vb=i;else{var n=t.tb.copy(),r=t.Gb,o=t.Lb;n.width=t.Gb/e,n.height=t.Lb/e;var s=t.Rl.x,a=t.Rl.y,l=t.UD;isNaN(s)&&(l.$i()?l.jp(bu)?s=0:l.jp(xu)&&(s=r-1):s=l.fd()?l.x*(r-1):r/2),isNaN(a)&&(l.$i()?l.jp(yu)?a=0:l.jp(wu)&&(a=o-1):a=l.fd()?l.y*(o-1):o/2),null!==t.nF&&(i=t.nF(t,i)),i<t.hh&&(i=t.hh),i>t.gh&&(i=t.gh),r=Uh.Sb(t.Ya.x+s/e-s/i,t.Ya.y+a/e-a/i),t.position=r,Uh.v(r),t.Vb=i,t.Wt(n,t.tb),t.Pc=!1,ln(t,!1),i=t.Sa,i.vc&&Gi(i,e,t.Vb),t.qa(),Sn(t)}}function On(t,e){void 0===e&&(e=null);var i=t.md;if(null!==i&&i.visible){for(var n=Uh.Ol(),r=1,o=1,s=i.Aa.n,a=s.length,l=0;a>l;l++){var h=s[l],u=h.interval;2>u||(vo(h.Cb)?o=o*u/_u.pE(o,u):r=r*u/_u.pE(r,u))}if(s=i.Ww,n.m(o*s.width,r*s.height),s=o=l=a=0,null!==e)a=e.width,l=e.height,o=e.x,s=e.y;else{for(r=Uh.ag(),o=t.tb,r.m(o.x,o.y,o.width,o.height),s=t.Rv.i;s.next();)o=s.value.tb,o.K()&&P(r,o.x,o.y,o.width,o.height);if(a=r.width,l=r.height,o=r.x,s=r.y,!r.K())return}i.width=a+2*n.width,i.height=l+2*n.height,r=Uh.M(),_u.ot(o,s,0,0,n.width,n.height,r),r.offset(-n.width,-n.height),Uh.ck(n),i.aa.location=r,Uh.v(r)}}function In(t){if(t=t.selection,0<t.count){for(var e=t.dc(),i=e.length,n=0;i>n;n++)e[n].kb=!1;t.Oa(),t.clear(),t.freeze()}}function Ln(t){var e=t.ci;t.uD!==e&&(t.uD=e,t.Ba("Modified"))}function Fn(t,e){if(e.Z===t.Z){var i=e.xc,n=e.propertyName;if(i===Gu&&"S"===n[0])if("StartingFirstTransaction"===n)i=t.eb,i.Re.each(function(e){e.Mc(t)
}),i.Vf.each(function(e){e.Mc(t)}),i.Wf.each(function(e){e.Mc(t)}),t.Kd||t.Og||(t.$u=!0,t.Tn&&(t.Lf=!0));else if("StartingUndo"===n||"StartingRedo"===n){var r=t.Sa;r.vf&&!t.wb&&r.di(),t.Ba("ChangingSelection")}else"StartedTransaction"===n&&(r=t.Sa,r.vf&&!t.wb&&r.di());else if(t.Ra){t.Ra=!1;try{var o=e.lf;if(""!==o)if(i===Wu){if("linkFromKey"===o){var s=e.object,a=t.tf(s);if(null!==a){var l=e.newValue,h=t.bf(l);a.V=h}}else if("linkToKey"===o)s=e.object,a=t.tf(s),null!==a&&(l=e.newValue,h=t.bf(l),a.ba=h);else if("linkFromPortId"===o){if(s=e.object,a=t.tf(s),null!==a){var u=e.newValue;"string"==typeof u&&(a.vg=u)}}else if("linkToPortId"===o)s=e.object,a=t.tf(s),null!==a&&(u=e.newValue,"string"==typeof u&&(a.uh=u));else if("nodeGroupKey"===o){var s=e.object,c=t.ug(s);if(null!==c){var f=e.newValue;if(void 0!==f){var d=t.bf(f);c.Ua=d instanceof Na?d:null}else c.Ua=null}}else if("linkLabelKeys"===o){if(s=e.object,a=t.tf(s),null!==a){var p=e.oldValue,g=e.newValue;if(Uh.isArray(p))for(var v=Uh.Xa(p),m=0;v>m;m++){var y=Uh.Pa(p,m),h=t.bf(y);null!==h&&(h.fe=null)}if(Uh.isArray(g))for(v=Uh.Xa(g),m=0;v>m;m++)y=Uh.Pa(g,m),h=t.bf(y),null!==h&&(h.fe=a)}}else if("nodeParentKey"===o){var b=e.object,x=t.bf(e.newValue),w=t.Tw(b);if(null!==w){var k=w.rt();null!==k?null===x?t.remove(k):t.Qd?k.V=x:k.ba=x:Xn(t,x,w)}}else if("parentLinkCategory"===o){var b=e.object,w=t.Tw(b),T=e.newValue;null!==w&&"string"==typeof T&&(k=w.rt(),null!==k&&(k.Ec=T))}else if("nodeCategory"===o){var s=e.object,$=t.ug(s),T=e.newValue;null!==$&&"string"==typeof T&&($.Ec=T)}else if("linkCategory"===o){var s=e.object,C=t.tf(s),T=e.newValue;null!==C&&"string"==typeof T&&(C.Ec=T)}else if("nodeDataArray"===o){var M=e.oldValue;er(t,M);var S=e.newValue;Wn(t,S)}else"linkDataArray"===o&&(M=e.oldValue,er(t,M),S=e.newValue,Qn(t,S));t.ci=!0}else i===Ku?(S=e.newValue,"nodeDataArray"===o&&Uh.Va(S)?Kn(t,S):"linkDataArray"===o&&Uh.Va(S)?Zn(t,S):"linkLabelKeys"===o&&ge(S)&&(a=t.tf(e.object),h=t.bf(S),null!==a&&null!==h&&(h.fe=a)),t.ci=!0):i===Yu?(M=e.oldValue,"nodeDataArray"===o&&Uh.Va(M)?ir(t,M):"linkDataArray"===o&&Uh.Va(M)?ir(t,M):"linkLabelKeys"===o&&ge(M)&&(h=t.bf(M),null!==h&&(h.fe=null)),t.ci=!0):i===Gu&&("SourceChanged"===o?null!==e.object?zn(t,e.object,e.propertyName):(t.FJ(),t.QF()):"ModelDisplaced"===o&&t.Hl());else if(i===Wu){var P=e.propertyName,s=e.object;s===t.Z?("nodeKeyProperty"===P||"nodeCategoryProperty"===P||"linkFromKeyProperty"===P||"linkToKeyProperty"===P||"linkFromPortIdProperty"===P||"linkToPortIdProperty"===P||"linkLabelKeysProperty"===P||"nodeIsGroupProperty"===P||"nodeGroupKeyProperty"===P||"nodeParentKeyProperty"===P||"linkCategoryProperty"===P)&&(t.ma.lb||t.Hl()):zn(t,s,P),t.ci=!0}else if(i===Ku||i===Yu)qn(t,e),t.ci=!0;else if(i===Gu){("FinishedUndo"===n||"FinishedRedo"===n)&&(t.ma.yi=!0,t.Ba("ChangedSelection"),wn(t),t.ma.yi=!1),r=t.Sa,"RolledBackTransaction"===n&&r.di(),t.$u=!0,t.Uf(),0===t.ma.vh&&Oi(r),"CommittedTransaction"===n&&t.ma.Ry&&(t.Mg=Math.min(t.Mg,t.ma.Zi-1));var D=e.KE;D&&(Ln(t),t.nx.clear()),!t.Yy&&D&&(t.Yy=!0,Uh.setTimeout(function(){t.Za.standardMouseOver(),t.Yy=!1},10))}}finally{t.Ra=!0}}}}function zn(t,e,i){if("string"==typeof i){var n=t.ug(e);if(null!==n)n.Jb(i),t.Z instanceof ke&&(n=t.tf(e),null!==n&&n.Jb(i));else{for(var n=null,r=t.fm.i;r.next();){for(var o=r.value,s=0;s<o.length;s++){var a=o[s].zH(e);null!==a&&(null===n&&(n=Uh.mb()),n.push(a))}if(null!==n)break}if(null!==n){for(r=0;r<n.length;r++)n[r].Jb(i);Uh.ta(n)}}e===t.Z.gk&&t.QF(i)}}function qn(t,e){var i=e.xc===Ku,n=i?e.Ag:e.Cg,r=i?e.newValue:e.oldValue,o=t.fm.ka(e.object);if(Array.isArray(o))for(var s=0;s<o.length;s++){var a=o[s];if(i)Do(a,r,n);else{var l=n;if(!(0>l)){var h=l;Po(a)&&h++,a.Pe(h),Ao(a,h,l)}}}}function Rn(t,e){var i=e.wj;if(Uh.isArray(i)){var n=t.fm.ka(i);if(null===n)n=[],n.push(e),t.fm.add(i,n);else{for(i=0;i<n.length;i++)if(n[i]===e)return;n.push(e)}}}function Hn(t,e){var i=e.wj;if(Uh.isArray(i)){var n=t.fm.ka(i);if(null!==n)for(var r=0;r<n.length;r++)if(n[r]===e){n.splice(r,1),0===n.length&&t.fm.remove(i);break}}}function Bn(t,e){for(var i=e.Aa.n,n=i.length,r=0;n>r;r++){var o=i[r];o instanceof Qo&&Vn(t,o)}}function Vn(t,e){var i=e.element;if(null!==i&&i instanceof HTMLImageElement){var i=i.src,n=t.to.ka(i);if(null===n)n=[],n.push(e),t.to.add(i,n);else{for(i=0;i<n.length;i++)if(n[i]===e)return;n.push(e)}}}function Un(t,e){for(var i=e.Aa.n,n=i.length,r=0;n>r;r++){var o=i[r];o instanceof Qo&&Gn(t,o)}}function Gn(t,e){var i=e.element;if(null!==i&&i instanceof HTMLImageElement){var i=i.src,n=t.to.ka(i);if(null!==n)for(var r=0;r<n.length;r++)if(n[r]===e){n.splice(r,1),0===n.length&&t.to.remove(i);break}}}function Wn(t,e){if(null!==e){for(var i=t.Z,n=Uh.Xa(e),r=0;n>r;r++){var o=Uh.Pa(e,r);i.Le(o)?Kn(t,o,!1):i instanceof xe&&Zn(t,o)}if(i instanceof xe||i instanceof ke){for(r=0;n>r;r++)o=Uh.Pa(e,r),i.Le(o)&&Jn(t,o);if(i instanceof xe)for(i=t.links;i.next();)Ks(i.value)}sr(t,!1)}}function Kn(t,e,i){if(void 0!==e&&null!==e&&!t.ma.lb&&!t.pi.contains(e)){void 0===i&&(i=!0);var n=t.Pz(e),r=Yn(t,e,n);if(null!==r&&(So(r),r=r.copy(),null!==r)){var o=t.xe;t.xe=!0,r.ii=n,r.je=e,t.add(r),r.je=null,r.data=e,i&&Jn(t,e),t.xe=o}}}function Yn(t,e,i){var n=!1,r=t.Z;return r instanceof xe&&(n=r.Xz(e)),n?(e=t.Rz.ka(i),null===e&&(e=t.Rz.ka(""),null===e&&(Hc||(Hc=!0,Uh.trace('No Group template found for category "'+i+'"'),Uh.trace("  Using default group template")),e=t.KB))):(e=t.oA.ka(i),null===e&&(e=t.oA.ka(""),null===e&&(Rc||(Rc=!0,Uh.trace('No Node template found for category "'+i+'"'),Uh.trace("  Using default node template")),e=t.MB))),e}function Jn(t,e){var i=t.Z;if(i instanceof xe||i instanceof ke){var n=i.jb(e);if(void 0!==n){var r=ye(i,n),o=t.ug(e);if(null!==r&&null!==o){for(r=r.i;r.next();){var s=r.value;if(i instanceof xe){var a=i;if(a.Le(s)){if(o instanceof Na&&a.Xm(s)===n){var l=o,s=t.ug(s);null!==s&&(s.Ua=l)}}else{var h=t.tf(s);if(null!==h&&o instanceof js&&(l=o,a.ul(s)===n&&(h.V=l),a.xl(s)===n&&(h.ba=l),s=a.dk(s),Uh.isArray(s)))for(a=0;a<Uh.Xa(s);a++)if(Uh.Pa(s,a)===n){l.fe=h;break}}}else i instanceof ke&&(h=i,h.Le(s)&&o instanceof js&&(l=o,h.Ym(s)===n&&(s=t.Tw(s),Xn(t,l,s))))}me(i,n)}i instanceof xe?(i=i.Xm(e),void 0!==i&&(i=t.bf(i),i instanceof Na&&(o.Ua=i))):i instanceof ke&&(i=i.Ym(e),void 0!==i&&o instanceof js&&(l=o,o=t.bf(i),Xn(t,o,l)))}}}function Xn(t,e,i){if(null!==e&&null!==i){var n=t.eb.QE,r=e,o=i;if(t.Qd){for(e=o.ue;e.next();)if(e.value.ba===o)return}else for(r=i,o=e,e=r.ue;e.next();)if(e.value.V===r)return;if((null===n||!ai(n,r,o,null,!0))&&(n=t.Vw(i.data),e=tr(t,n),null!==e&&(So(e),e=e.copy(),null!==e))){var s=t.xe;t.xe=!0,e.ii=n,e.je=i.data,e.V=r,e.ba=o,t.add(e),e.je=null,e.data=i.data,t.xe=s}}}function Qn(t,e){if(null!==e){for(var i=Uh.Xa(e),n=0;i>n;n++){var r=Uh.Pa(e,n);Zn(t,r)}sr(t,!1)}}function Zn(t,e){if(void 0!==e&&null!==e&&!t.ma.lb&&!t.Ck.contains(e)){var i=t.Vw(e),n=tr(t,i);if(null!==n&&(So(n),n=n.copy(),null!==n)){var r=t.xe;t.xe=!0,n.ii=i,n.je=e;var i=t.Z,o=i.IH(e);if(""!==o&&(n.vg=o),o=i.ul(e),void 0!==o&&(o=t.bf(o),o instanceof js&&(n.V=o)),o=i.LH(e),""!==o&&(n.uh=o),o=i.xl(e),void 0!==o&&(o=t.bf(o),o instanceof js&&(n.ba=o)),i=i.dk(e),Uh.isArray(i))for(var o=Uh.Xa(i),s=0;o>s;s++){var a=Uh.Pa(i,s),a=t.bf(a);null!==a&&(a.fe=n)}t.add(n),n.je=null,n.data=e,t.xe=r}}}function tr(t,e){var i=t.aA.ka(e);return null===i&&(i=t.aA.ka(""),null===i&&(Bc||(Bc=!0,Uh.trace('No Link template found for category "'+e+'"'),Uh.trace("  Using default link template")),i=t.LB)),i}function er(t,e){for(var i=Uh.Xa(e),n=0;i>n;n++){var r=Uh.Pa(e,n);ir(t,r)}}function ir(t,e){if(void 0!==e&&null!==e){var i=t.ug(e);if(null!==i){i.kb=!1,i.fh=!1;var n=i.layer;if(null!==n&&n.g===t){var r=t.Z;if(r instanceof xe&&i instanceof js){var o=i,s=r.jb(o.data);if(void 0!==s){for(var a=o.ue;a.next();)ve(r,s,a.value.data);if(o.wf&&(a=o.fe,null!==a&&ve(r,s,a.data)),o instanceof Na)for(o=o.Ic;o.next();)a=o.value.data,r.Le(a)&&ve(r,s,a)}}else if(r instanceof ke&&i instanceof js){if(o=i,a=t.tf(o.data),null!==a){a.kb=!1,a.fh=!1;var l=a.layer;if(null!==l){var h=l.Pe(-1,a,!1);h>=0&&t.Lc(Yu,"parts",l,a,null,h,null),h=a.Jt,null!==h&&h(a,l,null)}}for(a=t.Qd,o=o.ue;o.next();)l=o.value,l=(a?l.ba:l.V).data,r.Le(l)&&ve(r,s,l)}r=n.Pe(-1,i,!1),r>=0&&t.Lc(Yu,"parts",n,i,null,r,null),r=i.Jt,null!==r&&r(i,n,null)}}}}function nr(t,e,i){for(var n in i){var r=e[n],o=i[n];if(Uh.isArray(o)){if(!Uh.isArray(r)||r.length<o.length)return!1;for(var s=0;s<r.length;s++){var a=r[s],l=o[s];if(void 0!==l&&!rr(t,a,l))return!1}}else if(!rr(t,r,o))return!1}return!0}function rr(t,e,i){if("function"==typeof i){if(!i(e))return!1}else if(i instanceof RegExp){if(!e||!i.test(e.toString()))return!1}else if(Uh.Va(e)&&Uh.Va(i)){if(!nr(t,e,i))return!1}else if(e!==i)return!1;return!0}function or(t,e){t.tj=!1;var i=t.av;i.L(e)||(e=e.S(),t.av=e,ln(t,!1),t.Ba("DocumentBoundsChanged",null,i.copy()),Sn(t))}function sr(t,e){for(var i=t.$k.i;i.next();)ar(t,i.value,e);null!==t.Qb&&(e?t.Qb.yf=!1:t.Qb.H())}function ar(t,e,i){if(null!==e){for(var n=e.po.i;n.next();)ar(t,n.value,i);null!==e.Qb&&(i?e.Qb.yf=!1:e.Qb.H())}}function lr(t,e){if(!t.uy){var i=t.Qb,n=t.Ra;t.Ra=!0;try{t.Rb("Layout");var r=t.Sa;1!==t.ma.vh||r.vf||r.vc||r.jn("Layout");for(var o=t.$k.i;o.next();)hr(t,o.value,e);i.yf||e&&!i.JE&&1!==t.ma.vh||(i.doLayout(t),wn(t),i.yf=!0)}finally{t.Ad("Layout"),t.Iu=!i.yf,t.Ra=n}}}function hr(t,e,i){if(null!==e){for(var n=e.po.i;n.next();)hr(t,n.value,i);n=e.Qb,null===n||n.yf||i&&!n.JE||(e.Zy=!e.location.K(),n.doLayout(e),e.H(Hf),n.yf=!0,kn(t,e))}}function ur(t){function e(t){var e=t.toLowerCase(),r=new u("function");i.add(t,r),i.add(e,r),n.add(t,t),n.add(e,t)}var i=new y("string",u),n=new y("string","string");e("AnimationStarting"),e("AnimationFinished"),e("BackgroundSingleClicked"),e("BackgroundDoubleClicked"),e("BackgroundContextClicked"),e("ClipboardChanged"),e("ClipboardPasted"),e("DocumentBoundsChanged"),e("ExternalObjectsDropped"),e("InitialLayoutCompleted"),e("LayoutCompleted"),e("LinkDrawn"),e("LinkRelinked"),e("LinkReshaped"),e("Modified"),e("ObjectSingleClicked"),e("ObjectDoubleClicked"),e("ObjectContextClicked"),e("PartCreated"),e("PartResized"),e("PartRotated"),e("SelectionMoved"),e("SelectionCopied"),e("SelectionDeleting"),e("SelectionDeleted"),e("SelectionGrouped"),e("SelectionUngrouped"),e("ChangingSelection"),e("ChangedSelection"),e("SubGraphCollapsed"),e("SubGraphExpanded"),e("TextEdited"),e("TreeCollapsed"),e("TreeExpanded"),e("ViewportBoundsChanged"),t.wy=i,t.vy=n}function cr(t,e){var i=t.vy.ka(e);return null!==i?i:t.vy.ka(e.toLowerCase())}function fr(t,e){var i=t.wy.ka(e);return null!==i?i:(i=t.wy.ka(e.toLowerCase()),null!==i?i:(Uh.k("Unknown DiagramEvent name: "+e),null))}function dr(t,e){var i=!1;if(t.tb.Zj(e)&&(i=!0),i=t.Mz(e,function(t){return t.aa},function(t){return t instanceof Ws},!0,function(t){return t instanceof Ws},i),0!==i.count)for(i=i.i;i.next();){var n=i.value;n.zl&&n.jc()}}function pr(t,e,i,n){if(null===t.wd&&(t.wd=new ba),t.wd.Ct||t.wd.group!==i||t.wd.LA!==n){if(null===i){e=t.tj?an(t):t.Bd.copy(),e.Qf(100,100),t.wd.initialize(e),e=Uh.ag();for(var r=t.Bg;r.next();){var o=r.value,s=o.layer;null!==s&&s.visible&&!s.Gc&&gr(t,o,n,e)}}else for(i.Y.K()||i.sf(),e=i.Y.copy(),e.Qf(20,20),t.wd.initialize(e),e=Uh.ag(),r=i.Ic;r.next();)o=r.value,o instanceof js&&gr(t,o,n,e);Uh.ic(e),t.wd.group=i,t.wd.LA=n,t.wd.Ct=!1}else e&&Ta(t.wd);return t.wd}function gr(t,e,i,n){if(e!==i)if(e.isVisible()&&e.canAvoid()){i=e.getAvoidableRect(n),n=t.wd.Vo,e=t.wd.To;for(var r=i.x+i.width,o=i.y+i.height,s=i.x;r>s;s+=n){for(var a=i.y;o>a;a+=e)ka(t.wd,s,a);ka(t.wd,s,o)}for(a=i.y;o>a;a+=e)ka(t.wd,r,a);ka(t.wd,r,o)}else if(e instanceof Na)for(e=e.Ic;e.next();)r=e.value,r instanceof js&&gr(t,r,i,n)}function vr(t,e){null===t.wd||t.wd.Ct||null!==e&&!e.canAvoid()||(t.wd.Ct=!0)}function mr(t,e){t.Ku.assign(e),xr(t,t.Ku).od(t.position)?br(t):yr(t)}function yr(t){-1===t.xn&&(t.xn=Uh.setTimeout(function(){if(-1!==t.xn){br(t);var e=t.P.event;if(null!==e){var i=xr(t,t.Ku);i.od(t.position)||(t.position=i,t.P.da=t.OF(t.Ku),t.Lx(e,null,e.target.U)||t.doMouseMove(),t.tj=!0,or(t,t.ah()),t.ke=!0,t.Uf(),yr(t))}}},t.rB))}function br(t){-1!==t.xn&&(Uh.clearTimeout(t.xn),t.xn=-1)}function xr(t,e){var i=t.position,n=t.JD;if(0>=n.top&&0>=n.left&&0>=n.right&&0>=n.bottom)return i;var r=t.tb,o=t.scale,r=Uh.lk(0,0,r.width*o,r.height*o),s=Uh.Sb(0,0);if(e.x>=r.x&&e.x<r.x+n.left){var a=Math.max(t.du,1),a=0|a;s.x-=a,e.x<r.x+n.left/2&&(s.x-=a),e.x<r.x+n.left/4&&(s.x-=4*a)}else e.x<=r.x+r.width&&e.x>r.x+r.width-n.right&&(a=Math.max(t.du,1),a|=0,s.x+=a,e.x>r.x+r.width-n.right/2&&(s.x+=a),e.x>r.x+r.width-n.right/4&&(s.x+=4*a));return e.y>=r.y&&e.y<r.y+n.top?(a=Math.max(t.eu,1),a|=0,s.y-=a,e.y<r.y+n.top/2&&(s.y-=a),e.y<r.y+n.top/4&&(s.y-=4*a)):e.y<=r.y+r.height&&e.y>r.y+r.height-n.bottom&&(a=Math.max(t.eu,1),a|=0,s.y+=a,e.y>r.y+r.height-n.bottom/2&&(s.y+=a),e.y>r.y+r.height-n.bottom/4&&(s.y+=4*a)),s.od(_u.mk)||(i=new b(i.x+s.x/o,i.y+s.y/o)),Uh.ic(r),Uh.v(s),i}function wr(t,e){if(t.Sa.di(),t.Uf(),null===t.ub)return null;"object"!=typeof e&&Uh.k("properties argument must be an Object.");var i=!1,n=e.size||null,r=e.scale||null;void 0!==e.scale&&isNaN(e.scale)&&(r="NaN");var o=e.maxSize;void 0===e.maxSize&&(i=!0,o="svg"===e.context?new k(1/0,1/0):new k(2e3,2e3));var s=e.position||null,a=e.parts||null,l=void 0===e.padding?1:e.padding,h=e.background||null,u=e.omitTemporary;void 0===u&&(u=!0);var c=e.document||document,f=e.elementFinished||null,d=e.showTemporary;void 0===d&&(d=!u),u=e.showGrid,void 0===u&&(u=d),null!==n&&isNaN(n.width)&&isNaN(n.height)&&(n=null),"number"==typeof l?l=new D(l):l instanceof D||(l=new D(0)),l.left=Math.max(l.left,0),l.right=Math.max(l.right,0),l.top=Math.max(l.top,0),l.bottom=Math.max(l.bottom,0),t.Pn=!1,rn(t);var p=new B(null,c),g=p.getContext("2d"),v=p;if(!(n||r||a||s))return p.width=t.Gb+Math.ceil(l.left+l.right),p.height=t.Lb+Math.ceil(l.top+l.bottom),"svg"===e.context&&(g=v=new O(p.Od,c,f),g instanceof O&&(t.Pn=!0)),$n(t,g,l,new k(p.width,p.height),t.Vb,t.Ya,a,h,d,u),t.Pn=!0,v;var m=t.pb.Lw,y=new b(0,0),x=t.Bd.copy();if(x.uJ(t.padding),d)for(var w=!0,w=t.Yb.n,$=w.length,C=0;$>C;C++){var M=w[C];if(M.visible&&M.Gc)for(var S=M.zb.n,M=S.length,P=0;M>P;P++){var A=S[P];A.Yz&&A.isVisible()&&(A=A.Y,A.K()&&x.fi(A))}}if(y.x=x.x,y.y=x.y,null!==a){var E,w=!0,S=a.i;for(S.reset();S.next();)$=S.value,$ instanceof fs&&(A=$,M=A.layer,null!==M&&!M.visible||null!==M&&!d&&M.Gc||!A.isVisible()||(A=A.Y,A.K()&&(w?(w=!1,E=A.copy()):E.fi(A))));w&&(E=new T(0,0,0,0)),x.width=E.width,x.height=E.height,y.x=E.x,y.y=E.y}return null!==s&&s.K()&&(y=s,r||(r=m)),w=S=0,null!==l&&(S=l.left+l.right,w=l.top+l.bottom),C=$=0,null!==n&&($=n.width,C=n.height,isFinite($)&&($=Math.max(0,$-S)),isFinite(C)&&(C=Math.max(0,C-w))),E=s=0,null!==n&&null!==r?("NaN"===r&&(r=m),n.K()?(s=$,E=C):isNaN(C)?(s=$,E=x.height*r):(s=x.width*r,E=C)):null!==n?n.K()?(r=Math.min($/x.width,C/x.height),s=$,E=C):isNaN(C)?(r=$/x.width,s=$,E=x.height*r):(r=C/x.height,s=x.width*r,E=C):null!==r?"NaN"===r&&o.K()?(r=Math.min((o.width-S)/x.width,(o.height-w)/x.height),r>m?(r=m,s=x.width,E=x.height):(s=o.width,E=o.height)):(s=x.width*r,E=x.height*r):(r=m,s=x.width,E=x.height),null!==l?(s+=S,E+=w):l=new D(0),null!==o&&(n=o.width,o=o.height,"svg"!==e.context&&i&&!Vc&&(s>n||E>o)&&(Uh.trace("Diagram.makeImage(data): Diagram width or height is larger than the default max size. ("+Math.ceil(s)+"x"+Math.ceil(E)+" vs 2000x2000) Consider increasing the max size."),Vc=!0),isNaN(n)&&(n=2e3),isNaN(o)&&(o=2e3),isFinite(n)&&(s=Math.min(s,n)),isFinite(o)&&(E=Math.min(E,o))),p.width=Math.ceil(s),p.height=Math.ceil(E),"svg"===e.context&&(g=v=new O(p.Od,c,f),g instanceof O&&(t.Pn=!0)),$n(t,g,l,new k(Math.ceil(s),Math.ceil(E)),r,y,a,h,d,u),t.Pn=!0,v}function kr(){this.zG="63ad05bbe23a1786468a4c741b6d2",this.Eh=this.zG===this._tk?!0:null}function Tr(e,i){void 0!==i&&null!==i||Uh.k("Diagram setup requires an argument DIV."),null!==e.Nb&&Uh.k("Diagram has already completed setup."),"string"==typeof i?e.Nb=t.document.getElementById(i):i instanceof HTMLDivElement?e.Nb=i:Uh.k("No DIV or DIV id supplied: "+i),null===e.Nb&&Uh.k("Invalid DIV id; could not get element with id: "+i),void 0!==e.Nb.U&&Uh.k("Invalid div id; div already has a Diagram associated with it."),"static"===t.getComputedStyle(e.Nb,null).position&&(e.Nb.style.position="relative"),e.Nb.style["-webkit-tap-highlight-color"]="rgba(255, 255, 255, 0)",e.Nb.style["-ms-touch-action"]="none",e.Nb.innerHTML="",e.Nb.U=e;var n=new B(e);n.Od.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.",void 0!==n.style&&(n.style.position="absolute",n.style.top="0px",n.style.left="0px","rtl"===t.getComputedStyle(e.Nb,null).getPropertyValue("direction")&&(e.qC=!0),n.style.zIndex="2",n.style.HL="none",n.style.webkitUserSelect="none",n.style.MozUserSelect="none"),e.Gb=e.Nb.clientWidth||1,e.Lb=e.Nb.clientHeight||1,e.ub=n,e.Ah=n.getContext("2d");var r=e.Ah;e.oG=(t.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),e.Ie=e.computePixelRatio(),An(e,e.Gb,e.Lb),e.iy=r[Uh.sg("7eba17a4ca3b1a8346")][Uh.sg("78a118b7")](r,Uh.Ql,4,4),e.Nb.insertBefore(n.Od,e.Nb.firstChild),n=new B(null),n.width=1,n.height=1,e.yy=n,e.XB=n.getContext("2d"),n=Uh.createElement("div"),r=Uh.createElement("div"),n.style.position="absolute",n.style.overflow="auto",n.style.width=e.Gb+"px",n.style.height=e.Lb+"px",n.style.zIndex="1",r.style.position="absolute",r.style.width="1px",r.style.height="1px",e.Nb.appendChild(n),n.appendChild(r),n.onscroll=e.qG,n.onmousedown=e.EC,n.ontouchstart=e.EC,n.U=e,n.uG=!0,n.vG=!0,e.dw=n,e.ns=r,e.zA=Uh.YD(function(){e.Pj=null,e.qa()},300,!1),e.TF=Uh.YD(function(){nn(e)},250,!1),e.preventDefault=function(t){return t.preventDefault(),!1},e.xp=function(t){if(e.isEnabled){e.cm=!0;var i=e.Sc;Uh.an&&i.aj?(t.preventDefault(),t.simulated=!0,e.ys=t):(e.Sc=e.Ob,e.Ob=i,fn(e,e,t,i,!0),e.Lx(t,null,t.target.U)||(e.doMouseMove(),e.Za.isBeyondDragSize()&&(e.hm=0),gn(i,t)))}},e.wp=function(t){if(e.isEnabled){e.cm=!0;var i=e.Sc;Uh.an&&null!==e.ys?(e.ys=t,t.preventDefault()):Uh.an&&400>t.timeStamp-e.im?t.preventDefault():e.wv&&2===t.button?t.preventDefault():(e.Sc=e.Ob,e.Ob=i,fn(e,e,t,i,!0),i.pl=!0,i.Ze=t.detail,e.vi=i,e.focus(),!0===i.Pq.simulated?(t.preventDefault(),t.simulated=!0):(nc=null,e.doMouseDown(),e.vi=e.vi.copy(),1===t.button?t.preventDefault():gn(i,t)))}},e.zp=function(t){if(e.isEnabled){e.cm=!0;var i=e.Sc;if(Uh.an){if(400>t.timeStamp-e.im)return void t.preventDefault();e.im=t.timeStamp}Uh.an&&null!==e.ys?(e.ys=null,t.preventDefault()):(e.Sc=e.Ob,e.Ob=i,fn(e,e,t,i,!0),i.up=!0,i.Ze=t.detail,(Uh.dI||Uh.eI)&&(t.timeStamp-e.im<e.qD&&!e.Za.isBeyondDragSize()?e.hm++:e.hm=1,e.im=t.timeStamp,i.Ze=e.hm),i.bubbles=t.bubbles,t.target.U&&(i.Fg=t.target.U),e.yF(t,null,new b,i.Fg)||(e.doMouseUp(),br(e),gn(i,t)))}},e.ih=function(t){if(e.isEnabled){var i=e.Sc;e.Sc=e.Ob,e.Ob=i,fn(e,e,t,i,!0),i.bubbles=!0,i.nl=void 0!==t.wheelDelta?t.wheelDelta:-40*t.detail,e.doMouseWheel(),gn(i,t)}},e.yp=function(){if(e.isEnabled){e.cm=!1;var t=e.Za;t.cancelWaitAfter(),t instanceof Ei&&t.hideToolTip()}},e.JF=function(t){if(e.isEnabled){e.mw=!1,e.wv=!0;var i=e.Sc;e.Sc=e.Ob,e.Ob=i,dn(e,t,t.targetTouches[0],i,1<t.touches.length),e.doMouseDown(),gn(i,t)}},e.IF=function(t){if(e.isEnabled){var i=e.Sc;e.Sc=e.Ob,e.Ob=i;var n=null;0<t.changedTouches.length?n=t.changedTouches[0]:0<t.targetTouches.length&&(n=t.targetTouches[0]),pn(e,t,n,i,1<t.touches.length),e.Lx(n?n:t,null,i.Fg)||e.doMouseMove(),gn(i,t)}},e.HF=function(i){if(e.isEnabled)if(e.mw)i.preventDefault();else{var n=e.Sc;if(e.Sc=e.Ob,e.Ob=n,1<i.touches.length)e.hp("hasGestureZoom")&&(e.Gy=!1);else{var r=null,o=null;if(0<i.changedTouches.length?o=i.changedTouches[0]:0<i.targetTouches.length&&(o=i.targetTouches[0]),n.g=e,n.Ze=1,null!==o){r=t.document.elementFromPoint(o.clientX,o.clientY),null!==r&&r.U instanceof Qi&&r.U!==e&&vn(r.U,o,n),vn(e,i.changedTouches[0],n);var s=o.screenX,a=o.screenY,l=e.uC;i.timeStamp-e.im<e.qD&&!(25<Math.abs(l.x-s)||25<Math.abs(l.y-a))?e.hm++:e.hm=1,n.Ze=e.hm,e.im=i.timeStamp,e.uC.m(s,a)}n.sd=0,n.button=0,n.buttons=1,n.pl=!1,n.up=!0,n.nl=0,n.Fc=!1,n.bubbles=!1,n.event=i,n.timestamp=Date.now(),n.Fg=null===r?i.target.U:r.U?r.U:null,n.ze=null,e.yF(o?o:i,null,new b,n.Fg)||e.doMouseUp(),gn(n,i),e.wv=!1}}},e.NI=function(t){if("touch"===t.pointerType){var i=e.OC;void 0===i[t.pointerId]&&(e.Uv++,i[t.pointerId]=t),e.Kf[0]=null,e.Kf[1]=null;for(var n in i)if(null===e.Kf[0])e.Kf[0]=i[n];else if(null===e.Kf[1]){e.Kf[1]=i[n];break}e.isEnabled&&(e.mw=!1,i=e.Sc,e.Sc=e.Ob,e.Ob=i,dn(e,t,t,i,1<e.Uv),e.doMouseDown(),gn(i,t))}},e.QI=function(t){if("touch"===t.pointerType&&!(2>e.Uv)){var i=e.Kf;i[0].pointerId===t.pointerId&&(i[0]=t),i[1].pointerId===t.pointerId&&(i[1]=t),e.isEnabled&&(i=e.Sc,e.Sc=e.Ob,e.Ob=i,pn(e,t,t,i,!0),e.Lx(t,null,i.Fg)||(e.doMouseMove(),gn(i,t)))}},e.OI=function(t){if("touch"===t.pointerType){var i=e.OC;void 0!==i[t.pointerId]&&(e.Uv--,delete i[t.pointerId],i=e.Kf,null!==i[0]&&i[0].pointerId===t.pointerId&&(i[0]=null),null!==i[1]&&i[1].pointerId===t.pointerId&&(i[1]=null))}},rn(e),en(e)}function $r(t){1<arguments.length&&Uh.k("Palette constructor can only take one optional argument, the DIV HTML element or its id."),Qi.call(this,t),this.Zs=!0,this.fl=!1,this.cb=!0,this.UD=iu,this.Qb=new Wa}function Cr(t){1<arguments.length&&Uh.k("Overview constructor can only take one optional argument, the DIV HTML element or its id."),Qi.call(this,t),this.Sa.isEnabled=!1,this.Pc=!0,this.Hj=null,this.dv=!0,this.mJ("drawShadows",!1);var e=new fs,i=new jo;i.stroke="magenta",i.nb=2,i.fill="transparent",i.name="BOXSHAPE",e.Jl=!0,e.FA="BOXSHAPE",e.cA="BOXSHAPE",e.kF="BOXSHAPE",e.cursor="move",e.add(i),this.Wl=e,i=new _s,i.type=cf,i.gf=ou;var n=new La;n.Rf=!0,i.add(n),n=new jo,n.Wj=ou,n.Cb="Rectangle",n.ya=new k(64,64),n.cursor="se-resize",n.alignment=hu,i.add(n),e.iF=i,this.Gm=this.Xj=!1,this.qf=this.at=!0,this.JD=0,this.iz=Uh.createElement("canvas"),this.yG=this.iz.getContext("2d"),this.eb.Zd=new Pr,this.eb.lF=new Dr;var r=this;this.click=function(){var t=r.Hj;if(null!==t){var e=t.tb,i=r.P.da;t.position=new b(i.x-e.width/2,i.y-e.height/2)}},this.YE=function(){Sr(r)},this.XE=function(){null!==r.Hj&&(r.pc(),r.qa())},this.gl=Ac,this.Pc=!1}function Mr(t){t.Pc||t.Kd||!1!==t.Lf||(t.Lf=!0,requestAnimationFrame(function(){if(t.Lf&&!t.Kd&&(t.Lf=!1,null!==t.Nb)){if(t.Kd=!0,wn(t),t.Bd.K()||or(t,t.ah()),null===t.Nb&&Uh.k("No div specified"),null===t.ub&&Uh.k("No canvas specified"),t.ke){var e=t.Hj;if(null!==e&&!e.Sa.vf&&!e.Sa.vc){var e=t.Ah,i=t.iz;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.ub.width,t.ub.height),e.drawImage(i,0,0),i=t.me,i.reset(),1!==t.scale&&i.scale(t.scale),0===t.position.x&&0===t.position.y||i.translate(-t.position.x,-t.position.y),e.setTransform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy);for(var i=t.Yb.n,n=i.length,r=0;n>r;r++)i[r].$e(e,t);t.Kk=!1,t.ke=!1}}t.Kd=!1}}))}function Sr(t){var e=t.$g;if(null!==e){var i=t.Hj;if(null!==i){t.ke=!0;var i=i.tb,n=e.gu,r=Uh.Ol();r.m(i.width,i.height),n.ya=r,Uh.ck(r),t=2/t.scale,n instanceof jo&&(n.nb=t),e.location=new b(i.x-t/2,i.y-t/2)}}}function Pr(){je.call(this),this.Vk=null}function Dr(){gi.call(this)}function Ar(t){1<arguments.length&&Uh.k("Brush constructor can take at most one optional argument, the Brush type."),Uh.ec(this),this.D=!1,void 0===t?(this.ja=Uc,this.An="black"):"string"==typeof t?(this.ja=Uc,this.An=t):(this.ja=t,this.An="black");var e=this.ja;e===Gc?(this.Co=iu,this.Rn=lu):this.Rn=this.Co=e===Wc?ou:Zh,this.jw=0,this.ev=0/0,this.Kg=this.Tv=this.Jg=null,this.ny=this.oy=0}function Er(){Uh.ec(this),this.fa=30723,this.Rc=1,this.Ug=null,this.Pb="",this.nc=this.Kb=null,this.Ya=new b(0/0,0/0).freeze(),this.of=_u.dB,this.Ej=_u.Xp,this.Cj=_u.eG,this.me=new A,this.fq=new A,this.Rk=new A,this.Vb=this.bv=1,this.Tl=0,this.Vh=Qc,this.vr=_u.Wp,this.Zc=new T(0/0,0/0,0/0,0/0).freeze(),this.mc=new T(0/0,0/0,0/0,0/0).freeze(),this.Qc=new T(0,0,0/0,0/0).freeze(),this.Is=this.Qq=this.ga=this.Xr=this.tm=null,this.Js=this.Rq=1/0,this.eq=this.De=tu,this.ks=0,this.Ji=1,this.nq=0,this.mi=1,this.Cs=null,this.ps=-1/0,this.os=0,this.qs=_u.mk,this.rs=Qf,this.yq="",this.sc=this.ia=null,this.yn=-1,this.sm=this.xs=this.li=this.Bk=this.Bo=null}function Nr(t){null===t.ia&&(t.ia=new ho)}function _r(t,e,i,n,r,o,s){var a=.001,l=o.length;t.moveTo(e,i),n-=e,a=r-i,0===n&&(n=.001),r=a/n;for(var h=Math.sqrt(n*n+a*a),u=0,c=!0,f=0===s?!1:!0;h>=.1;){if(f){for(a=o[u++%l],a-=s;0>a;)a+=o[u++%l],c=!c;f=!1}else a=o[u++%l];a>h&&(a=h);var d=Math.sqrt(a*a/(1+r*r));0>n&&(d=-d),e+=d,i+=r*d,c?t.lineTo(e,i):t.moveTo(e,i),h-=a,c=!c}}function jr(t,e,i){var n=t.ep();if(null!==n)for(var r=t.sc.i;r.next();){var o=r.value,s=null;if(null!==o.mn){if(s=$e(o,n,t),null===s)continue;o.Ox(t,s,i,null)}else if(o.It){var a=e.g;null===a||a.xe||o.Ox(t,a.Z.gk,i,a)}else{var l=n.data;if(null===l)continue;a=e.g,null===a||a.xe||o.Ox(t,l,i,a)}null!==s&&(a=n.Rw(o.Nl),null!==a&&o.RF(a,s,i))}}function Or(t,e,i,n,r){var o=t.Zc,s=t.Rk;s.reset(),Gr(t,s,e,i,n,r),t.Rk=s,o.x=e,o.y=i,o.width=n,o.height=r,s.Ft()||s.NF(o)}function Ir(t,e,i,n){return!1===t.Dg?!1:(n.multiply(t.transform),i?t.xg(e,n):t.Nm(e,n))}function Lr(t,e,i,n,r){if(!1!==eo(t)){var o=t.margin,s=o.right+o.left,o=o.top+o.bottom;e=Math.max(e-s,0),i=Math.max(i-o,0),r=r||0,n=Math.max((n||0)-s,0),r=Math.max(r-o,0);var s=t.angle,o=0,o=t.ya,a=0;t.nb&&(a=t.nb),90===s||270===s?(e=isFinite(o.height)?o.height+a:e,i=isFinite(o.width)?o.width+a:i):(e=isFinite(o.width)?o.width+a:e,i=isFinite(o.height)?o.height+a:i);var o=n||0,a=r||0,l=t instanceof uo;switch(Kr(t,!0)){case Xc:a=o=0,l&&(i=e=1/0);break;case ef:isFinite(e)&&e>n&&(o=e),isFinite(i)&&i>r&&(a=i);break;case tf:isFinite(e)&&e>n&&(o=e),a=0,l&&(i=1/0);break;case Zc:isFinite(i)&&i>r&&(a=i),o=0,l&&(e=1/0)}var l=t.jf,h=t.zg;o>l.width&&h.width<l.width&&(o=l.width),a>l.height&&h.height<l.height&&(a=l.height),n=Math.max(o/t.scale,h.width),r=Math.max(a/t.scale,h.height),l.width<n&&(n=Math.min(h.width,n)),l.height<r&&(r=Math.min(h.height,r)),e=Math.min(l.width,e),i=Math.min(l.height,i),e=Math.max(n,e),i=Math.max(r,i),(90===s||270===s)&&(o=e,e=i,i=o,o=n,n=r,r=o),t.Zc.Oa(),t.vp(e,i,n,r),t.Zc.freeze(),t.Zc.K()||Uh.k("Non-real measuredBounds has been set. Object "+t+", measuredBounds: "+t.Zc.toString()),io(t,!1)}}function Fr(t,e,i,n,r){var o=t.Y;if(o.x=e,o.y=i,o.width=n,o.height=r,!t.ya.K()){o=t.Zc,i=t.margin,e=i.right+i.left;var s=i.top+i.bottom;switch(i=o.width+e,o=o.height+s,n+=e,r+=s,e=Kr(t,!0),i===n&&o===r&&(e=Xc),e){case Xc:(i>n||o>r)&&(io(t,!0),Lr(t,i>n?n:i,o>r?r:o));break;case ef:io(t,!0),Lr(t,n,r,0,0);break;case tf:io(t,!0),Lr(t,n,o,0,0);break;case Zc:io(t,!0),Lr(t,i,r,0,0)}}}function zr(t){t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0}function qr(t,e){e.shadowOffsetX=t.dz,e.shadowOffsetY=t.ez,e.shadowBlur=t.Sh}function Rr(t,e,i){var n=t.mc;0===n.width||0===n.height||isNaN(n.x)||isNaN(n.y)||(null!==t.nc&&(Vr(t,e,t.nc,!0,!0),t.nc instanceof Ar&&t.nc.type===Wc?(e.beginPath(),e.rect(n.x,n.y,n.width,n.height),Hr(e,t.nc)):e.fillRect(n.x,n.y,n.width,n.height)),null!==t.Kb&&(Vr(t,e,t.Kb,!0,!1),t.Kb instanceof Ar&&t.Kb.type===Wc?(e.beginPath(),e.rect(n.x,n.y,n.width,n.height),Hr(e,t.Kb)):e.fillRect(n.x,n.y,n.width,n.height)),t.ak(e,i))}function Hr(t,e){if(e instanceof Ar&&e.type===Wc&&!(t instanceof O)){var i=e.oy,n=e.ny;n>i?(t.scale(i/n,1),t.translate((n-i)/2,0)):i>n&&(t.scale(1,n/i),t.translate(0,(i-n)/2)),t.xu?t.clip():t.fill(),n>i?(t.translate(-(n-i)/2,0),t.scale(1/(i/n),1)):i>n&&(t.translate(0,-(i-n)/2),t.scale(1,1/(n/i)))}else t.xu?t.clip():t.fill()}function Br(t){t.xu||t.stroke()}function Vr(t,e,i,n,r){if(null!==i){var o=1,s=1;if("string"==typeof i)n?e.tn!==i&&(e.fillStyle=i,e.tn=i):e.un!==i&&(e.strokeStyle=i,e.un=i);else if(i.type===Uc)i=i.color,n?e.tn!==i&&(e.fillStyle=i,e.tn=i):e.un!==i&&(e.strokeStyle=i,e.un=i);else{var a,s=t.Ia,o=s.width,s=s.height;if(r)var l=t.Y,o=l.width,s=l.height;var h=e instanceof CanvasRenderingContext2D;if(h&&(i.Kg&&i.type===Kc||i.oy===o&&i.ny===s))a=i.Kg;else{var u=l=0,c=0,f=0,d=0,p=0,p=d=0;if(r&&(l=t.Y,o=l.width,s=l.height,d=l.x,p=l.y),l=i.start.x*o+i.start.offsetX,u=i.start.y*s+i.start.offsetY,c=i.end.x*o+i.end.offsetX,f=i.end.y*s+i.end.offsetY,l+=d,c+=d,u+=p,f+=p,i.type===Gc?a=e.createLinearGradient(l,u,c,f):i.type===Wc?(p=isNaN(i.kt)?Math.max(o,s)/2:i.kt,isNaN(i.nu)?(d=0,p=Math.max(o,s)/2):d=i.nu,a=e.createRadialGradient(l,u,d,c,f,p)):i.type===Kc?a=e.createPattern(i.pattern,"repeat"):Uh.Ed(i.type,"Brush type"),i.type!==Kc&&(t=i.gt,null!==t))for(t=t.i;t.next();)a.addColorStop(t.key,t.value);h&&(i.Kg=a,i.oy=o,i.ny=s)}n?e.tn!==a&&(e.fillStyle=a,e.tn=a):e.un!==a&&(e.strokeStyle=a,e.un=a)}}}function Ur(t){if(0!==(2048&t.fa)==!0){var e=t.me;if(e.reset(),!t.mc.K()||!t.Zc.K())return void Zr(t,!1);e.translate(t.mc.x,t.mc.y),e.translate(-t.Ca.x,-t.Ca.y);var i=t.Ia;Gr(t,e,i.x,i.y,i.width,i.height),Zr(t,!1),to(t,!0)}0!==(4096&t.fa)==!0&&(e=t.T,null===e?(t.fq.set(t.me),t.bv=t.scale,to(t,!1)):null!==e.Zg&&(i=t.fq,i.reset(),e.Hg()?i.multiply(e.fq):null!==e.T&&i.multiply(e.T.fq),i.multiply(t.me),t.bv=t.scale*e.bv,to(t,!1)))}function Gr(t,e,i,n,r,o){if(1!==t.scale&&e.scale(t.scale),0!==t.angle){var s=ou;t.gf&&t.gf.fd()&&(s=t.gf);var a=Uh.M();if(t instanceof fs&&t.bc!==t)for(i=t.bc,n=i.Ia,a.ku(n.x,n.y,n.width,n.height,s),i.Rk.xb(a),a.offset(-i.Ca.x,-i.Ca.y),s=i.T;null!==s&&s!==t;)s.Rk.xb(a),a.offset(-s.Ca.x,-s.Ca.y),s=s.T;else a.ku(i,n,r,o,s);e.rotate(t.angle,a.x,a.y),Uh.v(a)}}function Wr(t){if(!1===no(t)){if(null!==t.T)t.T.Q();else{var e=t.g;null!==e&&(e.eg.add(t),t instanceof js&&t.ff(),e.ve())}ro(t,!0)}}function Kr(t,e){var i=t.stretch,n=t.T;return null!==n&&n.ja===df?Yr(t,n.ed(t.cc),n.dd(t.column),e):null!==n&&n.ja===ff&&n.af()===t?Jr(t,ef,e):i===Qc?null!==n?n.ja===cf&&n.af()===t?Jr(t,ef,e):(i=n.Md,i===Qc?Jr(t,Xc,e):Jr(t,i,e)):Jr(t,Xc,e):Jr(t,i,e)}function Yr(t,e,i,n){var r=t.stretch;if(r!==Qc)return Jr(t,r,n);var o=r=null;switch(e.stretch){case Zc:o=!0;break;case ef:o=!0}switch(i.stretch){case tf:r=!0;break;case ef:r=!0}return e=t.T.Md,null===r&&(r=e===tf||e===ef),null===o&&(o=e===Zc||e===ef),!0===r&&!0===o?Jr(t,ef,n):!0===r?Jr(t,tf,n):!0===o?Jr(t,Zc,n):Jr(t,Xc,n)}function Jr(t,e,i){if(i)return e;if(e===Xc)return Xc;if(i=t.ya,i.K())return Xc;if(t=t.angle,!isNaN(i.width))if(90!==t&&270!==t){if(e===tf)return Xc;if(e===ef)return Zc}else{if(e===Zc)return Xc;if(e===ef)return tf}if(!isNaN(i.height))if(90!==t&&270!==t){if(e===Zc)return Xc;if(e===ef)return tf}else{if(e===tf)return Xc;if(e===ef)return Zc}return e}function Xr(t,e){t.fa=e?512|t.fa:-513&t.fa}function Qr(t,e){t.fa=e?1024|t.fa:-1025&t.fa}function Zr(t,e){t.fa=e?2048|t.fa:-2049&t.fa}function to(t,e){t.fa=e?4096|t.fa:-4097&t.fa}function eo(t){return 0!==(8192&t.fa)}function io(t,e){t.fa=e?8192|t.fa:-8193&t.fa}function no(t){return 0!==(16384&t.fa)}function ro(t,e){t.fa=e?16384|t.fa:-16385&t.fa}function oo(t){var e={value:null};return so(t,e),e.value}function so(t,e){var i=t.T;return null===i||!so(i,e)&&t.visible?(e.value=t,!1):!0}function ao(t){var e=t.aa;e instanceof js&&(t=t.g,null===t||t.ma.lb||e.ff())}function lo(t,i){if("string"==typeof i)if(t instanceof Bo)t.text=i;else if(t instanceof jo)t.Cb=i;else if(t instanceof Qo)t.source=i;else if(t instanceof uo){var r=Gh(uo,i);null!==r?t.type=r:Uh.k("Unknown Panel type as an argument to GraphObject.make: "+i)}else t instanceof Ar?(r=Gh(Ar,i),null!==r?t.type=r:Uh.k("Unknown Brush type as an argument to GraphObject.make: "+i)):t instanceof V?(r=Gh(V,i),null!==r?t.type=r:Uh.k("Unknown Geometry type as an argument to GraphObject.make: "+i)):t instanceof X?(r=Gh(X,i),null!==r?t.type=r:Uh.k("Unknown PathSegment type as an argument to GraphObject.make: "+i)):Uh.k("Unable to use a string as an argument to GraphObject.make: "+i);else if(i instanceof Er)r=i,t instanceof uo||Uh.k("A GraphObject can only be added to a Panel, not to: "+t),t.add(r);else if(i instanceof No){var o,s=i,r=t;s.de&&r.ed?o=r.ed(s.index):!s.de&&r.dd?o=r.dd(s.index):Uh.k("A RowColumnDefinition can only be added to a Panel, not to: "+t),o.ht(s)
}else if(i instanceof e)t instanceof Ws&&i.qe===Ws?2===(2&i.value)?t.Cx=i:i===Zf||i===td||i===ed?t.Me=i:i===id||i===nd||i===rd?t.Xs=i:i!==Jf&&i!==Qf&&Uh.k("Unknown Link enum value for a Link property: "+i):t instanceof uo&&i.qe===uo?t.type=i:t instanceof Bo&&i.qe===Bo?t.UF=i:t instanceof jo&&(i===Xc||i===nf||i===rf||i===Qc)?t.Oz=i:t instanceof Qo&&(i===Xc||i===nf||i===rf)?t.UH=i:t instanceof Er&&i.qe===Ws?(r=t,0===i.name.indexOf("Orient")?r.fu=i:Uh.k("Unknown Link enum value for GraphObject.segmentOrientation property: "+i)):t instanceof Er&&i.qe===Er?t.stretch=i:t instanceof No&&i.qe===No?t.lu=i:t instanceof Qi&&i.qe===Qi?t.gl=i:t instanceof Ar&&i.qe===Ar?t.type=i:t instanceof V&&i.qe===V?t.type=i:t instanceof X&&i.qe===X?t.type=i:t instanceof Te&&i.qe===Te?t.mode=i:t instanceof ie&&i.qe===ie?t.xc=i:t instanceof lh&&i.qe===lh?0===i.name.indexOf("Alignment")?t.alignment=i:0===i.name.indexOf("Arrangement")?t.Nf=i:0===i.name.indexOf("Compaction")?t.compaction=i:0===i.name.indexOf("Path")?t.path=i:0===i.name.indexOf("Sorting")?t.sorting=i:0===i.name.indexOf("Style")?t.DJ=i:Uh.k("Unknown enum value: "+i):t instanceof Cl&&i.qe===Cl?0===i.name.indexOf("Aggressive")?t.MG=i:0===i.name.indexOf("Cycle")?t.lH=i:0===i.name.indexOf("Init")?t.ZH=i:0===i.name.indexOf("Layer")?t.nI=i:Uh.k("Unknown enum value: "+i):t instanceof Wa&&i.qe===Wa?i===wd||i===kd||i===bd||i===xd?t.sorting=i:i===md||i===yd?t.Nf=i:i===vd||i===gd?t.alignment=i:Uh.k("Unknown enum value: "+i):t instanceof Ka&&i.qe===Ka?i===_d||i===jd||i===Ed||i===Nd||i===Od?t.sorting=i:i===Dd||i===Ad||i===Sd||i===Pd?t.direction=i:i===Cd||i===$d||i===Td||i===Md?t.Nf=i:i===Ld||i===Id?t.ox=i:Uh.k("Unknown enum value: "+i):Uh.k("No property to set for this enum value: "+i);else if(i instanceof Te)t instanceof Er?t.bind(i):t instanceof No?t.bind(i):Uh.k("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(i instanceof J)t instanceof V?t.Wb.add(i):Uh.k("A PathFigure can only be added to a Geometry, not to: "+t);else if(i instanceof X)t instanceof J?t.vb.add(i):Uh.k("A PathSegment can only be added to a PathFigure, not to: "+t);else if(i instanceof Fa)t instanceof Qi?t.Qb=i:t instanceof Na?t.Qb=i:Uh.k("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(i))for(r=0;r<i.length;r++)lo(t,i[r]);else if("object"==typeof i&&null!==i)if(t instanceof Ar){o=new n;for(r in i)s=parseFloat(r),isNaN(s)?o[r]=i[r]:t.addColorStop(s,i[r]);Uh.hu(t,o)}else if(t instanceof No){void 0!==i.row?(o=i.row,(void 0===o||null===o||1/0===o||isNaN(o)||0>o)&&Uh.k("Must specify non-negative integer row for RowColumnDefinition "+i+", not: "+o),t.de=!0,t.index=o):void 0!==i.column&&(o=i.column,(void 0===o||null===o||1/0===o||isNaN(o)||0>o)&&Uh.k("Must specify non-negative integer column for RowColumnDefinition "+i+", not: "+o),t.de=!1,t.index=o),o=new n;for(r in i)"row"!==r&&"column"!==r&&(o[r]=i[r]);Uh.hu(t,o)}else Uh.hu(t,i);else Uh.k('Unknown initializer "'+i+'" for object being constructed by GraphObject.make: '+t)}function ho(){this.oi=this.Ni=this.Yp=this.aq=this.$p=this.Zp=this.Ci=this.Gr=this.Fr=this.Di=this.Ei=this.Fi=this.Ir=this.Hr=this.ni=this.ti=this.ki=null}function uo(t){Er.call(this),void 0===t?0===arguments.length?this.ja=hf:Uh.k("invalid argument to Panel constructor: undefined"):(Uh.rb(t,uo,uo,"type"),this.ja=t),this.Aa=new u(Er),this.We=_u.Wp,this.Ng=!1,this.ja===mf&&(this.Ng=!0),this.$q=!1,this.Cq=tu,this.ri=Qc,this.ja===df&&co(this),this.Oo=nf,this.Vq=_u.cG,this.Wq=_u.mk,this.zk=this.je=null,this.mr=0/0,this.gg=this.wj=null,this.fo="category",this.fg=null,this.Pi=new T(0/0,0/0,0/0,0/0),this.Cm=null,this.Gh=!1,this.ls=null}function co(t){t.lj=_u.Wp,t.Dh=1,t.qi=null,t.$l=null,t.Ch=1,t.Bh=null,t.Zl=null,t.Ld=[],t.Gd=[],t.ym=kf,t.Xl=kf,t.Oi=0,t.Ai=0}function fo(t,e,i,n){for(var r=n.length,o=t.Y,s=i?t.ed(0):t.dd(0),a=0;r>a;a++){var l=n[a];if(void 0!==l&&l!==s&&0!==l.Na){if(i){if(l.position>o.height)continue}else if(l.position>o.width)continue;var h=l.Np;isNaN(h)&&(h=i?t.Dh:t.Ch);var u=l.Mp;if(null===u&&(u=i?t.qi:t.Bh),0!==h&&null!==u){Vr(t,e,u,!1,!1);var u=!1,c=!0,f=l.kJ;null!==f&&(u=!0,void 0!==e.setLineDash?(e.setLineDash(f),e.lineDashOffset=t.nd):void 0!==e.webkitLineDash?(e.webkitLineDash=f,e.webkitLineDashOffset=t.nd):void 0!==e.mozDash?(e.mozDash=f,e.mozDashOffset=t.nd):c=!1),e.beginPath();var d=l.position+h;i?d>o.height&&(h-=d-o.height):d>o.width&&(h-=d-o.width),l=l.position+h/2,e.lineWidth=h,d=t.padding,i?(l+=d.top,h=d.left,d=o.width-d.right,u&&!c?_r(e,h,l,d,l,f,0):(e.moveTo(h,l),e.lineTo(d,l))):(l+=d.left,h=d.top,d=o.height-d.bottom,u&&!c?_r(e,l,h,l,d,f,0):(e.moveTo(l,h),e.lineTo(l,d))),e.stroke(),u&&(void 0!==e.setLineDash?(e.setLineDash(Uh.wh),e.lineDashOffset=0):void 0!==e.webkitLineDash?(e.webkitLineDash=Uh.wh,e.webkitLineDashOffset=0):void 0!==e.mozDash&&(e.mozDash=null,e.mozDashOffset=0))}}}}function po(t,e,i,n,r){for(var o=n.length,s=t.Y,a=0;o>a;a++){var l=n[a];if(void 0!==l&&null!==l.background&&l.Hz!==r&&0!==l.Na){var h=i?s.height:s.width;if(!(l.position>h)){var u=l.rf(),c=l.Np;isNaN(c)&&(c=i?t.Dh:t.Ch);var f=l.Mp;null===f&&(f=i?t.qi:t.Bh),null===f&&(c=0),u-=c,c=l.position+c,u+=l.Na,c+u>h&&(u=h-c),0>=u||(h=t.padding,Vr(t,e,l.background,!0,!1),i?e.fillRect(h.left,c+h.top,s.width-(h.left+h.right),u):e.fillRect(c+h.left,h.top,u,s.height-(h.top+h.bottom)))}}}}function go(t,e,i){if(0!==t%e)return!1;e=i.length;for(var n=0;e>n;n++)if(0===t%i[n])return!1;return!0}function vo(t){return"LineV"===t||"BarV"===t}function mo(t,e,i){if(i(t,e),e instanceof uo){e=e.Aa.n;for(var n=e.length,r=0;n>r;r++)mo(t,e[r],i)}}function yo(t,e){bo(t,t,e)}function bo(t,e,i){i(e),e=e.Aa.n;for(var n=e.length,r=0;n>r;r++){var o=e[r];o instanceof uo&&bo(t,o,i)}}function xo(t,e,i){if(i(e),e instanceof uo){e=e.Aa.n;for(var n=e.length,r=0;n>r;r++)xo(t,e[r],i)}}function wo(t,e,i){if(i(e))return e;if(e instanceof uo){e=e.Aa.n;for(var n=e.length,r=0;n>r;r++){var o=wo(t,e[r],i);if(null!==o)return o}}return null}function ko(t){t=t.Aa.n;for(var e=t.length,i=0,n=0;e>n;n++){var r=t[n];if(r instanceof uo)i=Math.max(i,ko(r));else if(r instanceof jo){t:{if(!r.Qh)switch(r.Sn){case"None":case"Square":case"Ellipse":case"Circle":case"LineH":case"LineV":case"FramedRectangle":case"RoundedRectangle":case"Line1":case"Line2":case"Border":case"Cube1":case"Cube2":case"Junction":case"Cylinder1":case"Cylinder2":case"Cylinder3":case"Cylinder4":case"PlusLine":case"XLine":case"ThinCross":case"ThickCross":r=0;break t}r=r.Xg/2*r.Bm*r.Yi()}i=Math.max(i,r)}}return i}function To(t,e,i,n){for(var r=t.Aa.n,o=r.length;o--;){var s=r[o];if(s.visible){var a=s.Y,l=t.Ia;a.x>l.width||a.y>l.height||0>a.x+a.width||0>a.y+a.height||(s instanceof uo&&To(s,e,i,n),null!==e&&(s=e(s)),null===s||null!==i&&!i(s)||n.add(s))}}}function $o(t){var e=t.B;return(void 0===e||e===tu)&&(e=null),null===e&&t instanceof jo&&(t=t.Ta,null!==t&&(e=t.B)),null===e&&(e=eu),e}function Co(t){var e=t.C;return(void 0===e||e===tu)&&(e=null),null===e&&t instanceof jo&&(t=t.Ta,null!==t&&(e=t.C)),null===e&&(e=hu),e}function Mo(t){return t=t.zk,null!==t&&t.D}function So(t){var e=t.zk;if(null===e)null!==t.data&&Uh.k("Template cannot have .data be non-null: "+t),t.zk=e=new u(Te);else if(e.D)return;var i=new u(Er);mo(t,t,function(t,n){var r=n.sc;if(null!==r)for(Qr(n,!1),r=r.i;r.next();){var o=r.value;if(o.mode===Qu&&Qr(n,!0),null!==o.mn){var s=$e(o,t,n);null!==s&&(i.add(s),null===s.Bo&&(s.Bo=new u(Te)),s.Bo.add(o))}e.add(o)}if(n instanceof uo&&n.type===df){if(0<n.Ld.length)for(r=n.Ld,o=r.length,s=0;o>s;s++){var a=r[s];if(void 0!==a&&null!==a.sc)for(var l=a.sc.i;l.next();){var h=l.value;h.ng=a,h.Gs=2,h.Jo=a.index,e.add(h)}}if(0<n.Gd.length)for(r=n.Gd,o=r.length,s=0;o>s;s++)if(a=r[s],void 0!==a&&null!==a.sc)for(l=a.sc.i;l.next();)h=l.value,h.ng=a,h.Gs=1,h.Jo=a.index,e.add(h)}});for(var n=i.i;n.next();){var r=n.value;if(null!==r.Bo){Qr(r,!0);for(var o=r.Bo.i;o.next();){var s=o.value;null===r.sc&&(r.sc=new u(Te)),r.sc.add(s)}}r.Bo=null}for(n=e.i;n.next();)if(r=n.value,o=r.ng,null!==o){r.ng=null;var a=r.Nx,l=a.indexOf(".");l>0&&o instanceof uo&&(s=a.substring(0,l),a=a.substr(l+1),l=o.ae(s),null!==l?(o=l,r.Nx=a):Uh.trace('Warning: unable to find GraphObject named "'+s+'" for Binding: '+r.toString())),o instanceof No?(r.Nl=Uh.pd(o.T),o.T.yn=r.Nl):(r.Nl=Uh.pd(o),o.yn=r.Nl)}e.freeze(),t instanceof fs&&t.Pd()&&(Lr(t,1/0,1/0),t.Dc())}function Po(t){return t.type===cf||t.type===ff||t.type===vf||t.type===df&&0<t.Aa.length&&(t=t.Aa.ha(0),t.Rf&&t instanceof uo&&(t.type===pf||t.type===gf))?!0:!1}function Do(t,e,i){if(!(void 0===e||null===e||0>i)){var n;n=Eo(t,e);var r=t.kI,o=null;null!==r&&(o=r.ka(n)),null===o&&(yf||(yf=!0,Uh.trace('No item template Panel found for category "'+n+'" on '+t),Uh.trace("  Using default item template."),n=new uo,r=new Bo,r.bind(new Te("text","",Zu)),n.add(r),bf=n),o=bf),n=o,null!==n&&(So(n),n=n.copy(),"object"==typeof e&&(null===t.fg&&(t.fg=new y(Object,uo)),t.fg.add(e,n)),r=i,Po(t)&&r++,t.Cd(r,n),Ao(t,r,i),n.je=null,n.data=e)}}function Ao(t,e,i){for(t=t.Aa;e<t.length;){var n=t.ha(e);if(n instanceof uo){var r=e,o=i;n.type===pf?n.cc=r:n.type===gf&&(n.column=r),n.jI=o}e++,i++}}function Eo(t,e){if(null===e)return"";var i=t.fo,n="";if("function"==typeof i)n=i(e);else{if("string"!=typeof i||"object"!=typeof e)return"";if(""===i)return"";n=Uh.sb(e,i)}return void 0===n?"":"string"==typeof n?n:(Uh.k("Panel.getCategoryForItemData found a non-string category for "+e+": "+n),"")}function No(){Uh.ec(this),this.Ug=null,this.vv=!0,this.Oc=0,this.Xe=0/0,this.Fj=0,this.Dj=1/0,this.De=tu,this.Ya=this.fb=0,this.sc=null,this.zs=xf,this.Vh=Qc,this.vs=this.Kj=null,this.ws=0/0,this.Kb=this.Oh=null,this.xq=!1}function _o(t){if(t.lu===xf){var e=t.Ug;return t.de?e.fJ:e.$G}return t.lu}function jo(){Er.call(this),this.Ta=null,this.Sn="None",this.Qh=!1,this.Tq=Qc,this.Yl=null,this.Cc=this.td="black",this.Xg=1,this.Fo="butt",this.Ho="miter",this.Bm=10,this.Go=null,this.nd=0,this.Mi=this.Li=tu,this.Ur=this.Tr=0/0,this.ar=!1,this.Wr=null,this.Vn=this.Lo="None",this.Yq=1}function Oo(t,e,i,n){var r=n.Ca,o=Math.max(1,r.width),r=r.height,s=0,a=0,l=0,h=0,u=i.length;if(!(4>u)){for(var s=i[0],a=i[1],c=0,f=0,d=0,p=l=0,g=f=0,v=Uh.mb(),m=2;u>m;m+=2)l=i[m],h=i[m+1],c=l-s,f=h-a,0===c&&(c=.001),d=f/c,p=Math.atan2(f,c),f=Math.sqrt(c*c+f*f),s=[],s[0]=c,s[1]=p,s[2]=d,s[3]=f,v.push(s),g+=f,s=l,a=h;s=i[0],a=i[1],c=n.Ca.width,n instanceof jo&&(c-=n.nb),1>c&&(c=1),i=c;for(var u=0,h=i,m=o/2,f=0===m?!1:!0,y=0,l=v[y],c=l[0],p=l[1],d=l[2],l=l[3],b=0;g>=.1;){if(0===b&&(f?(h=i,u++,h-=m,g-=m,f=!1):(h=i,u++),0===h&&(h=1)),h>g)return void Uh.ta(v);h>l?(b=h-l,h=l):b=0;var x=Math.sqrt(h*h/(1+d*d));if(0>c&&(x=-x),s+=x,a+=d*x,t.translate(s,a),t.rotate(p),t.translate(-(o/2),-(r/2)),0===b&&n.ak(t,e),t.translate(o/2,r/2),t.rotate(-p),t.translate(-s,-a),g-=h,l-=h,0!==b){if(y++,y===v.length)return void Uh.ta(v);l=v[y],c=l[0],p=l[1],d=l[2],l=l[3],h=b}}Uh.ta(v)}}function Io(t,e,i,n){var r=.001,o=i.length,s=0,a=0,l=0,h=0,r=e.length;if(!(4>r))if(s=e[0],a=e[1],4===r)_r(t,s,a,e[2],e[3],i,n);else{t.moveTo(s,a);for(var u=0,c=0,f=0,d=c=l=0,p=Uh.mb(),g=2;r>g;g+=2)l=e[g],h=e[g+1],u=l-s,c=h-a,0===u&&(u=.001),f=c/u,c=Math.sqrt(u*u+c*c),s=[],s[0]=u,s[1]=f,s[2]=c,p.push(s),d+=c,s=l,a=h;s=e[0],a=e[1],e=0;for(var h=!0,r=i[e%o],g=0!==n,c=0,l=p[c],u=l[0],f=l[1],l=l[2],v=0;d>=.1;){0===v&&(r=i[e%o],e++,g&&(n%=r,r-=n,g=!1)),r>d&&(r=d),r>l?(v=r-l,r=l):v=0;var m=Math.sqrt(r*r/(1+f*f));if(0>u&&(m=-m),s+=m,a+=f*m,h?t.lineTo(s,a):t.moveTo(s,a),d-=r,l-=r,0!==v){if(c++,c===p.length)return void Uh.ta(p);l=p[c],u=l[0],f=l[1],l=l[2],r=v}else h=!h}Uh.ta(p)}}function Lo(t,e,i,n){if(!1!==eo(t)){t.Zc.Oa();var r=t.Xg;0===r&&n instanceof _s&&n.type===vf&&n.gc instanceof jo&&(r=n.gc.nb),r*=t.Vb,n instanceof Ws&&null!==n.Ta?(e=n.Ta.ob,Or(t,e.x-r/2,e.y-r/2,e.width+r,e.height+r)):Or(t,-(r/2),-(r/2),e+r,i+r),e=t.Zc,i=t.jf,n=t.zg,e.width=Math.min(i.width,e.width),e.height=Math.min(i.height,e.height),e.width=Math.max(n.width,e.width),e.height=Math.max(n.height,e.height),t.Zc.freeze(),t.Zc.K()||Uh.k("Non-real measuredBounds has been set. Object "+t+", measuredBounds: "+t.Zc.toString()),io(t,!1)}}function Fo(t){var e=t.Oz;return t.Qh?e===Qc?ef:e:e===Qc?_u.Wx[t.Cb].Md:e}function zo(t,e,i,n,r){return t=i.x-t,e=i.y-e,e=t*t+e*e,n>e?(r.x=i.x,r.y=i.y,e):n}function qo(t,e,i,n,r,o,s,a,l){var h=!1,u=(r-s)*(e-n)-(o-a)*(t-i);return 0===u?!1:(l.x=((r*a-o*s)*(t-i)-(r-s)*(t*n-e*i))/u,l.y=((r*a-o*s)*(e-n)-(o-a)*(t*n-e*i))/u,(e>n?e-n:n-e)>(t>i?t-i:i-t)?(r=n>e?e:n,t=n>e?n:e,(l.y>r||_u.Qa(l.y,r))&&(l.y<t||_u.Qa(l.y,t))&&(h=!0)):(r=i>t?t:i,t=i>t?i:t,(l.x>r||_u.Qa(l.x,r))&&(l.x<t||_u.Qa(l.x,t))&&(h=!0)),h)}function Ro(t,e,i,n){if(!t.wl(e,i,n))return!1;t=e.x,e=e.y;var r=i.x;i=i.y;var o=n.x;if(n=n.y,t===r){var s=0;return t=0,i>e?(s=e,t=i):(s=i,t=e),n>=s&&t>=n}return r>t?(s=t,t=r):s=r,o>=s&&t>=o}function Ho(t){var e=t.g;null!==e&&e.ma.lb||(t.fu=od,"None"!==t.Lo?(t.we=-1,t.Wj=fu):"None"!==t.Vn&&(t.we=0,t.Wj=new E(1-fu.x,fu.y)))}function Bo(){Er.call(this),this.le="",this.Cc="black",this.Lg="13px sans-serif",this.zd="start",this.cr=!0,this.dm=this.em=!1,this.Xk=_f,this.Em=Nf,this.Ev=this.Ge=0,this.Un=this.Uy=this.Vy=null,this.Ok=new Xo,this.Nq=!1,this.pf=this.Zk=this.Hs=null,this.Nj=this.Mj=0,this.Bi=1/0,this.zv=0}function Vo(t,e){var i=t.Lg;null!==i&&e.wu!==i&&(e.font=i,e.wu=i)}function Uo(t,e,i,n){e=e.replace(/^\s+|\s+$/g,"");var r=0,o=0,s=0,a=t.Lg,o=t.Mj+t.Nj,l=Math.max(0,Ko(t)+o),s=t.Xk===jf?Yo(a):0;if(t.Ge>=t.Bi)return new k(0,l);if(t.Em===Af){if(i.Qi=1,o=Wo(e,a),0===s||n>=o)return i.Ve=o,i.nf.push(i.Ve),i.Ee.push(e),new k(o,l);var h=Go(e);e=e.substr(h.length);for(var u=Go(e),o=Wo(h+u,a);0<u.length&&n>=o;)h+=u,e=e.substr(u.length),u=Go(e),o=Wo((h+u).replace(/^\s+|\s+$/g,""),a);for(h+=u.replace(/^\s+|\s+$/g,""),n=Math.max(1,n-s);Wo(h,a)>n&&1<h.length;)h=h.substr(0,h.length-1);return h+=Sf,s=Wo(h,a),i.nf.push(s),i.Ve=s,i.Ee.push(h),new k(s,l)}var c=0;for(0===e.length&&(c=1,i.nf.push(0),i.Ee.push(e));0<e.length;){for(h=Go(e),e=e.substr(h.length);Wo(h,a)>n;){for(u=1,o=Wo(h.substr(0,u),a),s=0;n>=o;)u++,s=o,o=Wo(h.substr(0,u),a);if(1===u?(i.nf[t.Ge+c]=o,r=Math.max(r,o)):(i.nf[t.Ge+c]=s,r=Math.max(r,s)),u--,1>u&&(u=1),i.Ee[t.Ge+c]=h.substr(0,u),c++,h=h.substr(u),t.Ge+c>t.Bi)break}for(u=Go(e),o=Wo(h+u,a);0<u.length&&n>=o;)h+=u,e=e.substr(u.length),u=Go(e),o=Wo((h+u).replace(/^\s+|\s+$/g,""),a);if(h=h.replace(/^\s+|\s+$/g,""),""!==h&&(0===u.length?(i.nf.push(o),r=Math.max(r,o)):(s=Wo(h,a),i.nf.push(s),r=Math.max(r,s)),i.Ee.push(h),c++,t.Ge+c>t.Bi))break}return i.Qi=Math.min(t.Bi,c),i.Ve=Math.max(i.Ve,r),new k(i.Ve,l*i.Qi)}function Go(t){for(var e=t.length,i=0;e>i&&" "!==t.charAt(i);)i++;for(;e>i&&" "===t.charAt(i);)i++;return i>=e?t:t.substr(0,i)}function Wo(t,e){return Pf!==e&&(Pf=Df.font=e),Df.measureText(t).width}function Ko(t){if(null!==t.Un)return t.Un;var e=t.Lg;Pf!==e&&(Pf=Df.font=e);var i=0;return void 0!==Tf[e]&&5e3>$f?i=Tf[e]:(i=1.3*Df.measureText("M").width,Tf[e]=i,$f++),t.Un=i}function Yo(t){Pf!==t&&(Pf=Df.font=t);var e=0;return void 0!==Cf[t]&&5e3>Mf?e=Cf[t]:(e=Df.measureText(Sf).width,Cf[t]=e,Mf++),e}function Jo(t,e,i){var n=t.le.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),r=t.Mj+t.Nj,r=Math.max(0,Ko(t)+r);if(0===n.length)return i.Ve=0,t.Ge=1,r;if(!t.gx){var o=n.indexOf("\n",0);o>=0&&(n=n.substr(0,o))}for(var o=0,s=t.Ge=0,a=-1,l=!1;!l;)a=n.indexOf("\n",s),-1===a&&(a=n.length,l=!0),a>=s&&(s=n.substr(s,a-s),t.Em!==Af?(i.Qi=0,s=Uo(t,s,i,e),o+=s.height,t.Ge+=i.Qi):(Uo(t,s,i,e),o+=r,t.Ge++),t.Ge===t.Bi&&(l=!0)),s=a+1;return t.Ev=o}function Xo(){this.Ve=this.Qi=0,this.nf=[],this.Ee=[]}function Qo(){Er.call(this),this.Te=null,this.Bs="",this.Lj=_u.$F,this.Wn=ef,this.Io=this.Oj=this.pf=null,this.My=!1,this.gv=!0,this.zo=null}function Zo(){var e=Ff;if(0===e.length)for(var i=t.document.getElementsByTagName("canvas"),n=i.length,r=0;n>r;r++){var o=i[r];o.parentElement&&o.parentElement.U&&e.push(o.parentElement.U)}return e}function ts(t,e){t.Oy=!0,t.lv=!1;for(var i=null,n=Zo(),r=n.length,o=0;r>o;o++){var s=n[o],a=s.to.ka(t.src);if(null!==a){for(r=a.length,o=0;r>o;o++)i=a[o],i.ya.K()||(s.NC.add(i),s.ve()),null!==i.Oj&&i.Oj(i,e);s.qa()}}}function es(t,e){t.lv=e;for(var i=null,n=Zo(),r=n.length,o=0;r>o;o++)if(i=n[o].to.ka(t.src),null!==i){for(var r=i.length,s=Uh.mb(),o=0;r>o;o++)s.push(i[o]);for(o=0;r>o;o++)i=s[o],null!==i.pf&&i.pf(i,e);Uh.ta(s)}}function is(t){this.Ro=[new rs(t,1)]}function ns(t,e,i,n){var r=new B(null),o=r.getContext("2d"),s=1/e;r.width=i/e,r.height=n/e,e=new rs(r.Od,e),i=t.Ro[t.Ro.length-1],o.setTransform(s*i.Fp,0,0,s*i.Fp,0,0),o.drawImage(i.source,0,0),t.Ro.push(e)}function rs(t,e){this.source=t,this.Fp=e}function os(){this.o=new V,this.Tb=null}function ss(t,e,i,n,r,o){null===t.o&&Uh.k("StreamGeometryContext has been closed"),void 0!==r&&!0===r?(null===t.Tb&&Uh.k("Need to call beginFigure first"),n=new X(qu),n.I=e,n.J=i,t.Tb.vb.add(n)):(t.Tb=new J,t.Tb.za=e,t.Tb.xa=i,t.Tb.Et=n,t.o.Wb.add(t.Tb)),void 0!==o&&(t.Tb.bo=o)}function as(t){null===t.o&&Uh.k("StreamGeometryContext has been closed"),null===t.Tb&&Uh.k("Need to call beginFigure first");var e=t.Tb.vb.length;e>0&&t.Tb.vb.ha(e-1).close()}function ls(t){null===t.o&&Uh.k("StreamGeometryContext has been closed"),null===t.Tb&&Uh.k("Need to call beginFigure first"),0<t.Tb.vb.length&&(t.Tb.Et=!0)}function hs(t,e,i,n,r,o,s,a){void 0===a&&(a=!1),null===t.o&&Uh.k("StreamGeometryContext has been closed"),null===t.Tb&&Uh.k("Need to call beginFigure first");var l=new X(Hu);l.rc=e,l.Kc=i,l.oh=n,l.ph=r,l.I=o,l.J=s,a&&l.close(),t.Tb.vb.add(l)}function us(t,e,i,n,r){var o;void 0===o&&(o=!1),null===t.o&&Uh.k("StreamGeometryContext has been closed"),null===t.Tb&&Uh.k("Need to call beginFigure first");var s=new X(Bu);s.rc=e,s.Kc=i,s.I=n,s.J=r,o&&s.close(),t.Tb.vb.add(s)}function cs(t,e,i,n,r,o,s,a){var l;void 0===l&&(l=!1),null===t.o&&Uh.k("StreamGeometryContext has been closed"),null===t.Tb&&Uh.k("Need to call beginFigure first"),e=new X(Uu,s,a,e,i,n,r,o),l&&e.close(),t.Tb.vb.add(e)}function fs(t){0===arguments.length?uo.call(this):uo.call(this,t),this.R=311807,this.Nk=this.ii="",this.hs=this.es=this.ss=this.or=null,this.us="",this.gi=this.ts=this.zm=null,this.gs="",this.vo=null,this.fs=_u.dB,this.js="",this.wo=null,this.le="",this.Av=this.rq=this.Ak=null,this.Mh=new b(0/0,0/0).freeze(),this.tr="",this.Sk=null,this.ur=eu,this.Dr=_u.YF,this.wr=_u.XF,this.Kq=null,this.pr=Bf,this.Am=_u.bG,this.Wg="gray",this.Sh=4,this.vC=-1,this.Ts=0/0,this.hG=new T,this.om=null,this.Bj=0/0}function ds(t,e){e.eb.Re.each(function(e){e.isEnabled&&e.updateAdornments(t)})}function ps(t){0!==(16384&t.R)!=!1&&(t.updateAdornments(),t.R&=-16385)}function gs(t,e){if(!1===$s(t)){var i=t.g;null!==i&&(i.eg.add(t),t instanceof js&&!i.ma.lb&&t.ff(),e||i.ve()),Cs(t,!0),t.wi()}}function vs(t){if(!1!==$s(t)){var e=t.position,i=t.location;i.K()&&e.K()||xs(t,e,i);var e=t.Ya,i=t.mc,n=i.copy();i.Oa(),i.x=e.x,i.y=e.y,i.freeze(),t.qx(n,i),Cs(t,!1)}}function ms(t,e,i,n){void 0===n&&(n=new b),i.te()&&(i=ou);var r=e.Ia;if(n.m(r.width*i.x+i.offsetX,r.height*i.y+i.offsetY),null===e||e===t)return n;for(e.transform.xb(n),e=e.T;null!==e&&e!==t;)e.transform.xb(n),e=e.T;return t.Rk.xb(n),n.offset(-t.Zc.x,-t.Zc.y),n}function ys(t,e){var i;i=t.hG;var n;isNaN(t.Bj)&&(t.Bj=ko(t)),n=t.Bj;var r=2*n;if(!t.Dl)return i.m(e.x-1-n,e.y-1-n,e.width+2+r,e.height+2+r),i;n=e.x;var r=e.y,o=e.width,s=e.height,a=t.shadowBlur,l=t.oJ,o=o+a,s=s+a;return n-=a/2,r-=a/2,0<l.x?o+=l.x:(n+=l.x,o-=l.x),0<l.y?s+=l.y:(r+=l.y,s-=l.y),i.m(n-1,r-1,o+2,s+2),i}function bs(t,e,i,n){null===e||t instanceof _s||(e=t.g.Sa,e.vc&&i.K()&&Ii(e,t,"position",n.copy(),i.copy(),!1))}function xs(t,e,i){var n=0/0,r=0/0,o=Uh.M(),s=t.gf,a=t.bc;s.te()&&Uh.k("determineOffset: Part's locationSpot must be real: "+s.toString());var l=a.Ia,n=0;if(a.nb&&(n=a.Xg),o.ku(0,0,l.width+n,l.height+n,s),a!==t)for(a.nb&&o.offset(-n/2,-n/2),a.transform.xb(o),s=a.T;null!==s&&s!==t;)s.transform.xb(o),s=s.T;t.Rk.xb(o),o.offset(-t.Zc.x,-t.Zc.y),s=t.g,i.K()?(a=e.x,l=e.y,n=i.x-o.x,r=i.y-o.y,e.m(n,r),i=!1,null!==s&&(n=s.Sa,n.uj?i=!0:!n.vc||t instanceof _s||Ii(n,t,"position",new b(a,l),e,!1),i||e.x===a&&e.y===l||(n=s.wb,s.wb=!0,t.h("position",new b(a,l),e),s.wb=n))):e.K()&&(n=e.x,r=e.y,e=i.copy(),i.m(n+o.x,r+o.y),i.L(e)||null===s||(n=s.wb,s.wb=!0,t.h("location",e,i),s.wb=n)),Uh.v(o),t.wi()}function ws(t,e,i){Ms(t,!1),t instanceof js&&vr(i,t),t.layer.Gc||e||i.pc(),e=t.mc;var n=i.tb;n.K()?(Ss(t)?S(e,n)||t.zf(!1):e.xg(n)&&t.zf(!0),t.updateAdornments()):i.Kk=!0}function ks(t,e){var i=t.mc;if(0!==i.width&&0!==i.height&&!isNaN(i.x)&&!isNaN(i.y)&&t.isVisible()){var n=t.transform;null!==t.nc&&(Vr(t,e,t.nc,!0,!0),e.fillRect(i.x,i.y,i.width,i.height)),null===t.nc&&null===t.Kb&&(Vr(t,e,"rgba(0,0,0,0.4)",!0,!1),e.fillRect(i.x,i.y,i.width,i.height)),null!==t.Kb&&(n.Ft()||e.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),i=t.Ia,Vr(t,e,t.Kb,!0,!1),e.fillRect(0,0,i.width,i.height),n.Ft()||(i=1/(n.m11*n.m22-n.m12*n.m21),e.transform(n.m22*i,-n.m12*i,-n.m21*i,n.m11*i,i*(n.m21*n.dy-n.m22*n.dx),i*(n.m12*n.dx-n.m11*n.dy))))}}function Ts(t,e,i,n){e.constructor===t.constructor||Vf||(Vf=!0,Uh.trace('Should not change the class of the Part when changing category from "'+i+'" to "'+n+'"'),Uh.trace("  Old class: "+Uh.df(t)+", new class: "+Uh.df(e)+", part: "+t.toString())),t.dt();var r=t.data;i=t.Tf;var o=t.kb,s=t.fh,a=!0,l=!0,h=!1;if(t instanceof js)var u=t,a=u.bj,l=u.qd,h=u.su;e.$h(t),e.cloneProtected(t),t.ii=n,t.Q(),t.qa(),e=t.g,n=!0,null!==e&&(n=e.wb,e.wb=!0),t.je=r,null!==r&&t.Jb(),null!==e&&(e.wb=n),r=t.Tf,r!==i&&(t.Nk=i,t.Tf=r),t instanceof js&&(u=t,u.bj=a,u.qd=l,u.su=h,u.Pd()&&u.H(64)),t.kb=o,t.fh=s}function $s(t){return 0!==(32768&t.R)}function Cs(t,e){t.R=e?32768|t.R:-32769&t.R}function Ms(t,e){t.R=e?65536|t.R:-65537&t.R}function Ss(t){return 0!==(131072&t.R)}function Ps(t,e){t.R=e?1048576|t.R:-1048577&t.R}function Ds(t,e){var i=e.Ua;return null!==i?1+Ds(t,i):e instanceof js&&(i=e.fe,null!==i)?Ds(t,i):0}function As(t,e){var i=e.Ua;return null!==i?As(t,i):e instanceof js&&(i=e.fe,null!==i)?As(t,i):e}function Es(t,e,i){if(e===i||null===i)return!1;var n=e.Ua;return null===n||n!==i&&!Es(t,n,i)?e instanceof js&&(e=e.fe,null!==e)?Es(t,e,i):!1:!0}function Ns(t){return t.isVisible()?(t=t.layer,null!==t&&t.Gc?!1:!0):!1}function _s(t){0===arguments.length?fs.call(this,hf):fs.call(this,t),this.R&=-257,this.Nk="Adornment",this.Ib=this.Ig=this.Fb=null}function js(t){0===arguments.length?fs.call(this,hf):fs.call(this,t),this.fc=new u(Ws),this.ho=this.Qk=this.rr=this.qr=null,this.ir=!0,this.Qs=!1,this.Ls=null,this.jq=this.jr=!0,this.kq=_u.dG,this.Wd=this.xh=null,this.Yr=Kf,this.Uj=!1}function Os(t,e){null!==e&&(null===t.xh&&(t.xh=new f(ya)),t.xh.add(e))}function Is(t,e,i,n){if(null===e||null===t.xh)return null;for(var r=t.xh.i;r.next();){var o=r.value;if(o.Bp===t&&o.Tt===e&&o.ux===i&&o.vx===n||o.Bp===e&&o.Tt===t&&o.ux===n&&o.vx===i)return o}return null}function Ls(t,e){if(null!==e){e.tm=null;var i=t.Ua;null===i||i.ee||Ls(i,i.ql(""))}}function Fs(t,e,i){if(Ls(t,i),!t.fc.contains(e)){t.fc.add(e);var n=t.qI;if(null!==n){var r=!0,o=t.g;null!==o&&(r=o.Ra,o.Ra=!0),n(t,e,i),null!==o&&(o.Ra=r)}e.Hc&&(i=e.V,e=e.ba,null!==i&&null!==e&&i!==e&&(n=!0,o=t.g,null!==o&&(n=o.Qd),t=n?e:i,r=n?i:e,t.Uj||(t.Uj=r),!r.bj||null!==o&&o.ma.lb||(n?i===r&&(r.bj=!1):e===r&&(r.bj=!1))))}}function zs(t,e,i){if(Ls(t,i),t.fc.remove(e)){var n=t.rI,r=t.g;if(null!==n){var o=!0;null!==r&&(o=r.Ra,r.Ra=!0),n(t,e,i),null!==r&&(r.Ra=o)}e.Hc&&(i=!0,null!==r&&(i=r.Qd),t=i?e.ba:e.V,e=i?e.V:e.ba,null!==t&&(t.Uj=!1),null===e||e.bj||(0===e.fc.count?(e.Uj=null,null!==r&&r.ma.lb||(e.bj=!0)):qs(e)))}}function qs(t){if(t.Uj=!1,0!==t.fc.count){var e=!0,i=t.g;if(null===i||!i.ma.lb){for(null!==i&&(e=i.Qd),i=t.fc.i;i.next();){var n=i.value;if(n.Hc)if(e){if(n.V===t)return void(t.bj=!1)}else if(n.ba===t)return void(t.bj=!1)}t.bj=!0}}}function Rs(t){null===t.Wd?t.Wd=new y("string",Er):t.Wd.clear(),mo(t,t,function(t,e){var i=e.Sd;null!==i&&t.Wd.add(i,e)}),0===t.Wd.count&&t.Wd.add("",t)}function Hs(t,e,i){var n=e.Sd;if(null!==n&&(null!==t.Wd&&t.Wd.remove(n),e=t.g,null!==e&&i)){for(i=null,n=t.iE(n);n.next();)t=n.value,null===i&&(i=Uh.mb()),i.push(t);if(null!==i){for(n=0;n<i.length;n++)t=i[n],e.remove(t);Uh.ta(i)}}}function Bs(t,e){var i=e.Vm();return null===i?0:1+Bs(t,i)}function Vs(t,e,i,n,r,o,s){if(n>1)for(var a=i?t.Sw():t.tg();a.next();){var l=a.value;l.Hc&&(l=l.Qz(t),null===l||l===t||e.contains(l)||(e.add(l),Vs(l,e,i,n-1,r,o,s)))}else Us(t,e,i,r,o,s)}function Us(t,e,i,n,r,o){for(var s=r===t?!0:t.qd,a=i?t.Sw():t.tg();a.next();){var l=a.value;l.Hc&&(l=l.Qz(t),null===l||l===t||e.contains(l)||(e.add(l),s&&(o&&Vi(n,l,r),l.yl(),l.rd(!1)),l.qd&&(l.su=l.qd,Us(l,e,i,n,r,o))))}t.qd=!1}function Gs(t,e,i,n,r,o,s){for(var a=o===t?!1:t.qd,l=i?t.Sw():t.tg();l.next();){var h=l.value;h.Hc&&(a||h.Mf||h.jc(),h=h.Qz(t),null!==h&&h!==t&&!e.contains(h)&&(e.add(h),a||(h.rd(!0),h.yl(),s&&Bi(r,h,o)),n>2||h.su))&&(h.su=!1,Gs(h,e,i,n-1,r,o,s))}t.qd=!0}function Ws(){fs.call(this,vf),this.dg=null,this.Fh="",this.og=this.Sq=null,this.Wh="",this.Ks=null,this.ds=this.cs=this.bs=!1,this.kr=!0,this.cq=Qf,this.wq=0,this.zq=Qf,this.Aq=0/0,this.vm=Jf,this.As=.5,this.Fe=null,this.$c=new u(b).freeze(),this.xo=this.He=null,this.Mf=!1,this.Wv=null,this.gz=!1,this.Ig=this.Mn=this.In=this.hi=this.ui=this.Ta=null,this.jz=new b,this.gD=this.eD=null,this.my=!1,this.ga=null}function Ks(t){var e=t.V,i=t.ba;null!==e&&null!==i?Ys(t,e.yH(i)):Ys(t,null)}function Ys(t,e){var i=t.Ak;if(i!==e){null!==i&&ja(i,t),t.Ak=e,null!==e&&_a(e,t);var n=t.TD;if(null!==n){var r=!0,o=t.g;null!==o&&(r=o.Ra,o.Ra=!0),n(t,i,e),null!==o&&(o.Ra=r)}!t.Mf||t.eD!==i&&t.gD!==i||t.jc()}}function Js(t,e){null===t.Fe&&(t.Fe=new f(js)),t.Fe.add(e),t.Q()}function Xs(t){0===t.$c.count?t.Mf=!1:(t.Mf=!0,t.In=t.l(0).copy(),t.Mn=t.l(t.pa-1).copy(),da(t,!1))}function Qs(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x=e.x>=t.x?t.x+9e9:t.x-9e9,e.y=t.y):(e.y=e.y>=t.y?t.y+9e9:t.y-9e9,e.x=t.x),e}function Zs(t,e){var i=e.tm;return null===i&&(i=new Sa,i.port=e,i.Jc=e.aa,e.tm=i),Da(i,t)}function ta(t,e){if(null===e)return ou;var i=t.Ab;return i.Uc()&&(void 0===e&&(e=t.cd),null!==e&&(i=e.Ab)),i===tu?Zh:i}function ea(t,e){if(null===e)return ou;var i=t.Bb;return i.Uc()&&(void 0===e&&(e=t.Fd),null!==e&&(i=e.Bb)),i===tu?Zh:i}function ia(t){var e=t.wt;return isNaN(e)&&(t=t.cd,null!==t&&(e=t.wt)),isNaN(e)?0:e}function na(t){var e=t.qu;return isNaN(e)&&(t=t.Fd,null!==t&&(e=t.qu)),isNaN(e)?0:e}function ra(t){if(!t.zl)return!1;var e=t.points.n,i=e.length;if(4>i)return!1;t=pr(t.g,!0,t.Ua,null);for(var n=1;i-2>n;n++){var r=e[n],o=e[n+1];if(!t.pp(Math.min(r.x,o.x),Math.min(r.y,o.y),Math.abs(r.x-o.x),Math.abs(r.y-o.y)))return!0}return!1}function oa(t,e,i,n,r,o){var s=e.Vo,a=e.To,l=wa(e,i,n),h=i,u=n;for(0===r?h+=s:90===r?u+=a:180===r?h-=s:u-=a;l>1&&wa(e,h,u)===l-1;)i=h,n=u,0===r?h+=s:90===r?u+=a:180===r?h-=s:u-=a,l-=1;o?l>1&&(180===r||0===r?i=Math.floor(i/s)*s+s/2:(90===r||270===r)&&(n=Math.floor(n/a)*a+a/2)):(i=Math.floor(i/s)*s+s/2,n=Math.floor(n/a)*a+a/2),l>1&&(o=r,h=i,u=n,0===r?(o=90,u+=a):90===r?(o=180,h-=s):180===r?(o=270,u-=a):270===r&&(o=0,h+=s),wa(e,h,u)===l-1?oa(t,e,h,u,o,!1):(h=i,u=n,0===r?(o=270,u-=a):90===r?(o=0,h+=s):180===r?(o=90,u+=a):270===r&&(o=180,h-=s),wa(e,h,u)===l-1&&oa(t,e,h,u,o,!1))),t.dl(i,n)}function sa(t,e,i,n){return t=i-t,isNaN(t)||1/0===t||-1/0===t?0/0:(0>t&&(t=-t),e=n-e,isNaN(e)||1/0===e||-1/0===e?0/0:(0>e&&(e=-e),_u.Qa(t,0)?e:_u.Qa(e,0)?t:Math.sqrt(t*t+e*e)))}function aa(t,e,i,n){var r=t.pa;if(!(2>r))if(i){var o=t.l(1);i=o.x-n.x,n=o.y-n.y,o=sa(e.x,e.y,i,n),0!==o&&(r=2===r?.5*o:o,t=ia(t),t>r&&(t=r),i=t*(i-e.x)/o,t=t*(n-e.y)/o,e.x+=i,e.y+=t)}else o=t.l(r-2),i=o.x-n.x,n=o.y-n.y,o=sa(e.x,e.y,i,n),0!==o&&(r=2===r?.5*o:o,t=na(t),t>r&&(t=r),i=t*(e.x-i)/o,t=t*(e.y-n)/o,e.x-=i,e.y-=t)}function la(t,e,i,n){for(var r=t.pa,o=e;_u.Qa(e.x,o.x)&&_u.Qa(e.y,o.y);){if(i>=r)return r-1;o=t.l(i++)}if(!_u.Qa(e.x,o.x)&&!_u.Qa(e.y,o.y))return i-1;for(var s=o;_u.Qa(e.x,o.x)&&_u.Qa(o.x,s.x)&&(!n||(e.y>=o.y?o.y>=s.y:o.y<=s.y))||_u.Qa(e.y,o.y)&&_u.Qa(o.y,s.y)&&(!n||(e.x>=o.x?o.x>=s.x:o.x<=s.x));){if(i>=r)return r-1;s=t.l(i++)}return i-2}function ha(t,e,i,n,r,o,s){if(!s&&fa(t)){s=[];var a=0;t.isVisible()&&(a=ua(t,r,o,s));var l=r.x,l=r.y;if(a>0)if(_u.G(r.y,o.y))if(r.x<o.x)for(var h=0;a>h;){var u=Math.max(r.x,Math.min(s[h++]-5,o.x-10));e.lineTo(u+i,o.y+n);for(var l=u+i,c=Math.min(u+10,o.x);a>h;){var f=s[h];if(!(c+10>f))break;h++,c=Math.min(f+5,o.x)}f=(u+c)/2+i,f=o.y-10+n,u=c+i,c=o.y+n,t.Me===td?ss(e,u,c,!1,!1):hs(e,l,f,u,f,u,c)}else for(h=a-1;h>=0;){for(u=Math.min(r.x,Math.max(s[h--]+5,o.x+10)),e.lineTo(u+i,o.y+n),l=u+i,c=Math.max(u-10,o.x);h>=0&&(f=s[h],f>c-10);)h--,c=Math.max(f-5,o.x);f=o.y-10+n,u=c+i,c=o.y+n,t.Me===td?ss(e,u,c,!1,!1):hs(e,l,f,u,f,u,c)}else if(_u.G(r.x,o.x))if(r.y<o.y)for(h=0;a>h;){for(u=Math.max(r.y,Math.min(s[h++]-5,o.y-10)),e.lineTo(o.x+i,u+n),l=u+n,c=Math.min(u+10,o.y);a>h&&(f=s[h],c+10>f);)h++,c=Math.min(f+5,o.y);f=o.x-10+i,u=o.x+i,c+=n,t.Me===td?ss(e,u,c,!1,!1):hs(e,f,l,f,c,u,c)}else for(h=a-1;h>=0;){for(u=Math.min(r.y,Math.max(s[h--]+5,o.y+10)),e.lineTo(o.x+i,u+n),l=u+n,c=Math.max(u-10,o.y);h>=0&&(f=s[h],f>c-10);)h--,c=Math.max(f-5,o.y);f=o.x-10+i,u=o.x+i,c+=n,t.Me===td?ss(e,u,c,!1,!1):hs(e,f,l,f,c,u,c)}}e.lineTo(o.x+i,o.y+n)}function ua(t,e,i,n){var r=t.g;if(null===r||e.L(i))return 0;for(r=r.kx;r.next();){var o=r.value;if(null!==o&&o.visible)for(var o=o.zb.n,s=o.length,a=0;s>a;a++){var l=o[a];if(l instanceof Ws){if(l===t)return 0<n.length&&n.sort(function(t,e){return t-e}),n.length;if(l.isVisible()&&fa(l)){var h=l.ln;h.K()&&t.ln.xg(h)&&!t.usesSamePort(l)&&(h=l.path,null!==h&&h.El()&&ca(e,i,n,l))}}}}return 0<n.length&&n.sort(function(t,e){return t-e}),n.length}function ca(t,e,i,n){for(var r=_u.G(t.y,e.y),o=n.pa,s=n.l(0),a=Uh.M(),l=1;o>l;l++){var h=n.l(l);if(o-1>l){var u=n.l(l+1);s.y===h.y&&h.y===u.y?(h.x>s.x&&u.x>h.x||h.x<s.x&&u.x<h.x)&&(h=u,l++):s.x===h.x&&h.x===u.x&&(h.y>s.y&&u.y>h.y||h.y<s.y&&u.y<h.y)&&(h=u,l++)}t:{var u=a,c=t.x,f=t.y,d=e.x,p=e.y,g=s.x,s=s.y,v=h.x,m=h.y;if(_u.G(c,d)){if(!_u.G(f,p)&&_u.G(s,m)&&Math.min(f,p)<s&&Math.max(f,p)>s&&Math.min(g,v)<c&&Math.max(g,v)>c&&!_u.G(g,v)){u.x=c,u.y=s,u=!0;break t}}else if(_u.G(f,p)&&_u.G(g,v)&&Math.min(c,d)<g&&Math.max(c,d)>g&&Math.min(s,m)<f&&Math.max(s,m)>f&&!_u.G(s,m)){u.x=g,u.y=f,u=!0;break t}u.x=0,u.y=0,u=!1}u&&i.push(r?a.x:a.y),s=h}Uh.v(a)}function fa(t){return t=t.Me,t===ed||t===td}function da(t,e){if(e||fa(t)){var i=t.g;null===i||i.Dk.contains(t)||null===t.Wv||i.Dk.add(t,t.Wv)}}function pa(t,e){var i=t.layer;if(null!==i&&i.visible&&!i.Gc){var n=i.g;if(null!==n)for(var r=!1,n=n.kx;n.next();){var o=n.value;if(o.visible)if(o===i)for(var r=!0,s=!1,o=o.zb.n,a=o.length,l=0;a>l;l++){var h=o[l];h instanceof Ws&&(h===t?s=!0:s&&ga(t,h,e))}else if(r)for(o=o.zb.n,a=o.length,l=0;a>l;l++)h=o[l],h instanceof Ws&&ga(t,h,e)}}}function ga(t,e,i){if(null!==e&&null!==e.Ta&&fa(e)){var n=e.ln;n.K()&&(t.ln.xg(n)||i.xg(n))&&(t.usesSamePort(e)||e.se())}}function va(t){var e=t.dg;if(null!==e){var i=t.og;if(null!==i){var n=t.Fh;t=t.Wh;for(var r=null,o=null,s=e.fc.n,a=s.length,l=0;a>l;l++){var h=s[l];(h.dg===e&&h.Fh===n&&h.og===i&&h.Wh===t||h.dg===i&&h.Fh===t&&h.og===e&&h.Wh===n)&&(null===o?o=h:(null===r&&(r=[],r.push(o)),r.push(h)))}if(null!==r){for(o=Is(e,i,n,t),null===o&&(o=new ya,o.Bp=e,o.ux=n,o.Tt=i,o.vx=t,Os(e,o),Os(i,o)),o.links=r,l=0;l<r.length;l++)h=r[l],h.hi=o;o.$m()}}}}function ma(t){var e=t.hi;null!==e&&(t.hi=null,t=e.links.indexOf(t),t>=0&&(Uh.Yh(e.links,t),e.$m()))}function ya(){Uh.ec(this),this.tv=!1,this.vx=this.Tt=this.ux=this.Bp=null,this.links=[]}function ba(){Uh.ec(this),this.LA=this.group=null,this.Ct=!0,this.abort=!1,this.kg=this.jg=1,this.yr=this.xr=-1,this.ie=this.he=8,this.oc=null,this.SF=!1,this.zF=22,this.OE=111}function xa(t,e,i){return t.jg<=e&&e<=t.xr&&t.kg<=i&&i<=t.yr}function wa(t,e,i){return xa(t,e,i)?(e-=t.jg,e/=t.he,i-=t.kg,i/=t.ie,t.oc[0|e][0|i]):0}function ka(t,e,i){xa(t,e,i)&&(e-=t.jg,e/=t.he,i-=t.kg,i/=t.ie,t.oc[0|e][0|i]=0)}function Ta(t){if(null!==t.oc)for(var e=0;e<=t.Mo;e++)for(var i=0;i<=t.No;i++)1<=t.oc[e][i]&&(t.oc[e][i]|=999999)
}function $a(t,e,i,n,r,o,s,a,l){if(!(o>e||e>s||a>i||i>l)){var h,u;h=0|e,u=0|i;var c=t.oc[h][u];if(c>=1&&999999>c)for(r?u+=n:h+=n,c+=1;h>=o&&s>=h&&u>=a&&l>=u&&!(c>=t.oc[h][u]);)t.oc[h][u]=c,c+=1,r?u+=n:h+=n;if(h=r?u:h,r)if(n>0)for(i+=n;h>i;i+=n)$a(t,e,i,1,!r,o,s,a,l),$a(t,e,i,-1,!r,o,s,a,l);else for(i+=n;i>h;i+=n)$a(t,e,i,1,!r,o,s,a,l),$a(t,e,i,-1,!r,o,s,a,l);else if(n>0)for(e+=n;h>e;e+=n)$a(t,e,i,1,!r,o,s,a,l),$a(t,e,i,-1,!r,o,s,a,l);else for(e+=n;e>h;e+=n)$a(t,e,i,1,!r,o,s,a,l),$a(t,e,i,-1,!r,o,s,a,l)}}function Ca(t,e,i,n,r,o,s,a,l,h,u){for(var c=0|e,f=0|i,d=t.oc[c][f];0===d&&c>a&&l>c&&f>h&&u>f;)if(s?f+=o:c+=o,d=t.oc[c][f],1>=Math.abs(c-n)&&1>=Math.abs(f-r))return t.abort=!0,0;for(c=0|e,f=0|i,d=t.oc[c][f],e=1,t.oc[c][f]=e;0===d&&c>a&&l>c&&f>h&&u>f;)s?f+=o:c+=o,d=t.oc[c][f],t.oc[c][f]=e,e+=1;return s?f:c}function Ma(t,e,i,n,r,o){if(null!==t.oc){t.abort=!1;var s=e.x,a=e.y;if(xa(t,s,a)){var s=s-t.jg,s=s/t.he,a=a-t.kg,a=a/t.ie,l=n.x,h=n.y;if(xa(t,l,h))if(l-=t.jg,l/=t.he,h-=t.kg,h/=t.ie,1>=Math.abs(s-l)&&1>=Math.abs(a-h))t.abort=!0;else{var u=o.x;e=o.y,n=o.x+o.width;var c=o.y+o.height,u=u-t.jg,u=u/t.he;e-=t.kg,e/=t.ie,n-=t.jg,n/=t.he,c-=t.kg,c/=t.ie,o=Math.max(0,Math.min(t.Mo,0|u)),n=Math.min(t.Mo,Math.max(0,0|n)),e=Math.max(0,Math.min(t.No,0|e));var c=Math.min(t.No,Math.max(0,0|c)),s=0|s,a=0|a,l=0|l,h=0|h,u=s,f=a,d=0===i||90===i?1:-1;if((i=90===i||270===i)?f=Ca(t,s,a,l,h,d,i,o,n,e,c):u=Ca(t,s,a,l,h,d,i,o,n,e,c),!t.abort){t:{i=0===r||90===r?1:-1,r=90===r||270===r;for(var d=0|l,p=0|h,g=t.oc[d][p];0===g&&d>o&&n>d&&p>e&&c>p;)if(r?p+=i:d+=i,g=t.oc[d][p],1>=Math.abs(d-s)&&1>=Math.abs(p-a)){t.abort=!0;break t}for(d=0|l,p=0|h,g=t.oc[d][p],t.oc[d][p]=999999;0===g&&d>o&&n>d&&p>e&&c>p;)r?p+=i:d+=i,g=t.oc[d][p],t.oc[d][p]=999999}t.abort||($a(t,u,f,1,!1,o,n,e,c),$a(t,u,f,-1,!1,o,n,e,c),$a(t,u,f,1,!0,o,n,e,c),$a(t,u,f,-1,!0,o,n,e,c))}}}}}function Sa(){Uh.ec(this),this.port=this.Jc=null,this.Xf=[],this.Ap=!1}function Pa(t,e,i,n){switch(e=e.offsetY){case Uh.Wc:return 90;case Uh.Nc:return 180;case Uh.hd:return 270;case Uh.Xc:return 0}switch(e){case Uh.Wc|Uh.hd:return i>180?270:90;case Uh.Nc|Uh.Xc:return i>90&&270>=i?180:0}switch(t=180*Math.atan2(t.height,t.width)/Math.PI,e){case Uh.Nc|Uh.hd:return i>t&&180+t>=i?180:270;case Uh.hd|Uh.Xc:return i>180-t&&360-t>=i?270:0;case Uh.Xc|Uh.Wc:return i>t&&180+t>=i?90:0;case Uh.Wc|Uh.Nc:return i>180-t&&360-t>=i?180:90;case Uh.Nc|Uh.hd|Uh.Xc:return i>90&&180+t>=i?180:i>180+t&&360-t>=i?270:0;case Uh.hd|Uh.Xc|Uh.Wc:return i>180&&360-t>=i?270:i>t&&180>=i?90:0;case Uh.Xc|Uh.Wc|Uh.Nc:return i>t&&180-t>=i?90:i>180-t&&270>=i?180:0;case Uh.Wc|Uh.Nc|Uh.hd:return i>180-t&&180+t>=i?180:i>180+t?270:90}return n&&e!==(Uh.Nc|Uh.hd|Uh.Xc|Uh.Wc)&&(i-=15,0>i&&(i+=360)),i>t&&180-t>i?90:i>=180-t&&180+t>=i?180:i>180+t&&360-t>i?270:0}function Da(t,e){var i=t.Xf;if(0===i.length){t:if(!t.Ap){i=t.Ap,t.Ap=!0;var n,r=null,o=t.Jc,o=o instanceof Na?o:null;if(null===o||o.ee)n=t.Jc.iE(t.port.Sd);else{if(!o.Y.K()){t.Ap=i;break t}r=o,n=r.hE()}var s=t.Xf.length=0,a=t.port.$a(eu,Uh.M()),l=t.port.$a(hu,Uh.M()),o=Uh.lk(a.x,a.y,0,0);for(o.gj(l),Uh.v(a),Uh.v(l),a=Uh.Sb(o.x+o.width/2,o.y+o.height/2),n=n.i;n.next();)if(l=n.value,l.isVisible()){var h=Zh,u=l.cd===t.port||l.V.bi(r),h=u?ta(l,t.port):ea(l,t.port);if(h.$i()&&(u=u?l.Fd:l.cd,null!==u)){var c=u.aa;if(null!==c){var u=l.computeOtherPoint(c,u),c=a.dh(u),h=Pa(o,h,c,l.kc),f=0;0===h?(f=Uh.Xc,c>180&&(c-=360)):f=90===h?Uh.Wc:180===h?Uh.Nc:Uh.hd,h=t.Xf[s],void 0===h?(h=new Aa(l,c,f),t.Xf[s]=h):(h.link=l,h.angle=c,h.ge=f),h.sx.set(u),s++}}}for(Uh.v(a),t.Xf.sort(Sa.prototype.JI),r=t.Xf.length,a=-1,s=n=0;r>s;s++)h=t.Xf[s],void 0!==h&&(h.ge!==a&&(a=h.ge,n=0),h.kp=n,n++);for(a=-1,n=0,s=r-1;s>=0;s--)h=t.Xf[s],void 0!==h&&(h.ge!==a&&(a=h.ge,n=h.kp+1),h.Qm=n);s=t.Xf,u=t.port,r=t.Jc.RI,a=Uh.M(),n=Uh.M(),l=Uh.M(),h=Uh.M(),u.$a(eu,a),u.$a(nu,n),u.$a(hu,l),u.$a(au,h);var d=f=c=u=0;if(r===Yf)for(var p=0;p<s.length;p++){var g=s[p];if(null!==g){var v=g.link.computeThickness();switch(g.ge){case Uh.Wc:f+=v;break;case Uh.Nc:d+=v;break;case Uh.hd:u+=v;break;default:case Uh.Xc:c+=v}}}for(var m=0,y=0,b=1,p=0;p<s.length;p++)if(g=s[p],null!==g){var x,w;if(m!==g.ge){switch(m=g.ge){case Uh.Wc:x=l,w=h;break;case Uh.Nc:x=h,w=a;break;case Uh.hd:x=a,w=n;break;default:case Uh.Xc:x=n,w=l}var k=w.x-x.x;switch(w=w.y-x.y,m){case Uh.Wc:f>Math.abs(k)?(b=Math.abs(k)/f,f=Math.abs(k)):b=1;break;case Uh.Nc:d>Math.abs(w)?(b=Math.abs(w)/d,d=Math.abs(w)):b=1;break;case Uh.hd:u>Math.abs(k)?(b=Math.abs(k)/u,u=Math.abs(k)):b=1;break;default:case Uh.Xc:c>Math.abs(w)?(b=Math.abs(w)/c,c=Math.abs(w)):b=1}y=0}var T=g.rp;if(r===Yf){switch(v=g.link.computeThickness(),v*=b,T.set(x),m){case Uh.Wc:T.x=x.x+k/2+f/2-y-v/2;break;case Uh.Nc:T.y=x.y+w/2+d/2-y-v/2;break;case Uh.hd:T.x=x.x+k/2-u/2+y+v/2;break;default:case Uh.Xc:T.y=x.y+w/2-c/2+y+v/2}y+=v}else v=.5,r===Kf&&(v=(g.kp+1)/(g.Qm+1)),T.x=x.x+k*v,T.y=x.y+w*v}for(Uh.v(a),Uh.v(n),Uh.v(l),Uh.v(h),x=t.Xf,k=0;k<x.length;k++)w=x[k],null!==w&&(w.Ow=t.computeEndSegmentLength(w));t.Ap=i,Uh.ic(o)}i=t.Xf}for(o=0;o<i.length;o++)if(x=i[o],null!==x&&x.link===e)return x;return null}function Aa(t,e,i){this.link=t,this.angle=e,this.ge=i,this.sx=new b,this.Qm=this.kp=0,this.rp=new b,this.Ow=0}function Ea(){this.Tj=this.rj=tu,this.Rj=this.pj=0/0,this.Qj=this.oj=Uf,this.Sj=this.qj=0/0}function Na(t){0===arguments.length?js.call(this,hf):js.call(this,t),this.Ar=new f(fs),this.po=new f(Na),this.Tk=this.Br=this.zr=null,this.Ns=!1,this.gr=!0,this.Ps=!1,this.Ib=this.Es=null,this.oq=!1,this.pq=!0,this.Xq=this.qq=!1,this.Ud=new Fa,this.Ud.group=this,this.Zy=!1}function _a(t,e){if(t.Ar.add(e)){e instanceof Na&&t.po.add(e);var i=t.AI;if(null!==i){var n=!0,r=t.g;null!==r&&(n=r.Ra,r.Ra=!0),i(t,e),null!==r&&(r.Ra=n)}t.isVisible()&&t.ee||e.rd(!1)}e instanceof Ws&&!t.Iw||(i=t.Ib,null===i&&(i=t),i.Q())}function ja(t,e){if(t.Ar.remove(e)){e instanceof Na&&t.po.remove(e);var i=t.BI;if(null!==i){var n=!0,r=t.g;null!==r&&(n=r.Ra,r.Ra=!0),i(t,e),null!==r&&(r.Ra=n)}t.isVisible()&&t.ee||e.rd(!0)}e instanceof Ws&&!t.Iw||(i=t.Ib,null===i&&(i=t),i.Q())}function Oa(t,e,i,n){for(var r=t.Ic;r.next();){var o=r.value;if(o.rd(!1),o instanceof Na){var s=o;s.ee&&(s.WA=s.ee,Oa(s,e,i,n))}if(o instanceof js)o.ff(e),Vi(i,o,n);else if(o instanceof Ws)for(o=o.Sf;o.next();)o.value.ff(e)}t.ee=!1}function Ia(t,e,i,n){for(var r=t.Ic;r.next();){var o=r.value;if(o.rd(!0),o instanceof Na){var s=o;s.WA&&(s.WA=!1,Ia(s,e,i,n))}if(o instanceof js)o.ff(e),Bi(i,o,n);else if(o instanceof Ws)for(o=o.Sf;o.next();)o.value.ff(e)}t.ee=!0}function La(){Er.call(this),this.We=_u.Wp,this.ms=new T(0/0,0/0,0/0,0/0)}function Fa(){0<arguments.length&&Uh.gd(Fa),Uh.ec(this),this.Ky=this.U=null,this.vj=this.dr=!0,this.lr=!1,this.gq=new b(0,0).freeze(),this.er=this.fr=!0,this.RB="",this.eo=!1,this.$y=null}function za(t,e,i,n,r,o,s,a){for(i=i.i;i.next();){var l=i.value;n&&!l.np||null!==r&&!r(l)||!l.canLayout()||(o&&l instanceof js?l.wf||(l instanceof Na&&null===l.Qb?za(t,e,l.Ic,!1,r,o,s,a):e.add(l)):s&&l instanceof Ws?e.add(l):!a||!l.Pd()||l instanceof js||e.add(l))}}function qa(){Uh.ec(this),this.Ud=null,this.clear()}function Ra(t,e){if(null===e)return!1;var i=t.vertexes.remove(e);return i&&(t.pA.remove(e.Jc),e.network=null),i}function Ha(t,e){null!==e&&t.edges.remove(e)&&(t.bA.remove(e.link),e.network=null)}function Ba(t){for(var e=Uh.mb(),i=t.edges.i;i.next();){var n=i.value;null!==n.fromVertex&&null!==n.toVertex||e.push(n)}for(i=e.length,n=0;i>n;n++)t.$o(e[n]);Uh.ta(e)}function Va(t,e,i){if(null!==i&&i.network!==e){Ra(t,i),e.el(i);for(var n=i.lc;n.next();){var r=n.value;r.network!==e&&(Ha(t,r),e.Po(r),Va(t,e,r.fromVertex))}for(n=i.$b;n.next();)i=n.value,i.network!==e&&(Ha(t,i),e.Po(i),Va(t,e,i.toVertex))}}function Ua(){Uh.ec(this),this.network=null,this.N=new T(0,0,10,10).freeze(),this.O=new b(5,5).freeze(),this.clear()}function Ga(){Uh.ec(this),this.network=null,this.clear()}function Wa(){0<arguments.length&&Uh.gd(Wa),Fa.call(this),this.hx=!0,this.Rs=this.Ss=0/0,this.kj=new k(0/0,0/0).freeze(),this.Uh=new k(10,10).freeze(),this.De=vd,this.jd=md,this.Th=wd,this.zh=pd}function Ka(){0<arguments.length&&Uh.gd(Ka),Fa.call(this),this.By=this.Qn=this.Jd=0,this.Mq=360,this.Ay=Td,this.Ek=0,this.YB=Td,this.Ru=this.qg=this.pD=0,this.sw=new sl,this.Tu=this.qm=0,this.tG=600,this.Zr=0/0,this.iq=1,this.Ds=0,this.Fs=360,this.jd=Td,this.ca=Sd,this.Th=Od,this.zh=dd,this.Uh=6,this.Pr=Id}function Ya(t,e,i,n,r){var o=t.Mq,s=t.Jd;t=t.qg,n=n*Math.PI/180,i=i*Math.PI/180;for(var a=e.length,l=0;a>l;l++){var h=n+(r===Sd?l*i/(o>=360?a:a-1):-(l*i)/a),u=e.ha(l),c=s*Math.tan(h)/t,c=Math.sqrt((s*s+t*t*c*c)/(1+c*c));u.oa=c*Math.cos(h),u.va=c*Math.sin(h),u.actualAngle=180*h/Math.PI}}function Ja(t,e,i,n){var r=t.Jd,o=t.qg,s=t.Ek;i=i*Math.PI/180;for(var a=e.length,l=0;a>l;l++){var h=e.ha(l),u=e.ha(l===a-1?0:l+1),c=o*Math.sin(i);h.oa=r*Math.cos(i),h.va=c,h.actualAngle=180*i/Math.PI,isNaN(h.diameter)&&hl(h,0),isNaN(u.diameter)&&hl(u,0),h=ol(t,r,o,n===Sd?i:-i,(h.diameter+u.diameter)/2+s),i+=n===Sd?h:-h}}function Xa(t,e,i,n){var r=t.Jd,o=t.qg,s=t.Ru;i=i*Math.PI/180;for(var a=e.length,l=0;a>l;l++){var h=e.ha(l);h.oa=r*Math.cos(i),h.va=o*Math.sin(i),h.actualAngle=180*i/Math.PI,h=ol(t,r,o,n===Sd?i:-i,s),i+=n===Sd?h:-h}}function Qa(t,e,i,n,r){var o=t.Tu,o=t.Mq;if(t.qm=0,t.sw=new sl,360>i){for(o=n+(r===Sd?o:-o);0>o;)o+=360;o%=360,o>180&&(o-=360),o*=Math.PI/180,t.Tu=o,tl(t,e,i,n,r)}else Za(t,e,i,n,r);t.sw.commit(e)}function Za(t,e,i,n,r){var o=t.Jd,s=t.Ek,a=t.Qn,l=o*Math.cos(n*Math.PI/180),h=t.qg*Math.sin(n*Math.PI/180),u=e.dc();if(3===u.length)u[0].oa=o,u[0].va=0,u[1].oa=u[0].oa-u[0].width/2-u[1].width/2-s,u[1].y=u[0].y,u[2].oa=(u[0].oa+u[1].oa)/2,u[2].y=u[0].y-u[2].height-s;else if(4===u.length)u[0].oa=o,u[0].va=0,u[2].oa=-u[0].oa,u[2].va=u[0].va,u[1].oa=0,u[1].y=Math.min(u[0].y,u[2].y)-u[1].height-s,u[3].oa=0,u[3].y=Math.max(u[0].y+u[0].height+s,u[2].y+u[2].height+s);else{for(var o=Uh.M(),c=0;c<u.length&&(u[c].oa=l,u[c].va=h,!(c>=u.length-1));c++)el(t,l,h,u,c,r,o)||il(t,l,h,u,c,r,o),l=o.x,h=o.y;if(Uh.v(o),t.qm++,!(23<t.qm)){var l=u[0].oa,h=u[0].va,o=u[u.length-1].oa,c=u[u.length-1].va,f=Math.abs(l-o)-((u[0].width+u[u.length-1].width)/2+s),d=Math.abs(h-c)-((u[0].height+u[u.length-1].height)/2+s),s=0;1>Math.abs(d)?Math.abs(l-o)<(u[0].width+u[u.length-1].width)/2&&(s=0):s=d>0?d:1>Math.abs(f)?0:f,f=!1,f=Math.abs(o)>Math.abs(c)?o>0!=h>c:c>0!=o>l,(f=r===Sd?f:!f)&&(s=-Math.abs(s),s=Math.min(s,-u[u.length-1].width),s=Math.min(s,-u[u.length-1].height)),t.sw.compare(s,u),1<Math.abs(s)&&(t.Jd=8>t.qm?t.Jd-s/(2*Math.PI):5>u.length&&s>10?t.Jd/2:t.Jd-(s>0?1.7:-2.3),t.qg=t.Jd*a,Za(t,e,i,n,r))}}}function tl(t,e,i,n,r){for(var o=t.Jd,s=t.qg,a=t.Qn,l=o*Math.cos(n*Math.PI/180),h=s*Math.sin(n*Math.PI/180),u=Uh.M(),c=e.dc(),f=0;f<c.length&&(c[f].oa=l,c[f].va=h,!(f>=c.length-1));f++)el(t,l,h,c,f,r,u)||il(t,l,h,c,f,r,u),l=u.x,h=u.y;if(Uh.v(u),t.qm++,!(23<t.qm)){if(l=Math.atan2(h,l),l=r===Sd?t.Tu-l:l-t.Tu,l=Math.abs(l)<Math.abs(l-2*Math.PI)?l:l-2*Math.PI,o=l*(o+s)/2,s=t.sw,Math.abs(o)<Math.abs(s.fp))for(s.fp=o,s.rn=[],s.Up=[],l=0;l<c.length;l++)s.rn[l]=c[l].ob.x,s.Up[l]=c[l].ob.y;1<Math.abs(o)&&(t.Jd=8>t.qm?t.Jd-o/(2*Math.PI):t.Jd-(o>0?1.7:-2.3),t.qg=t.Jd*a,tl(t,e,i,n,r))}}function el(t,e,i,n,r,o,s){var a=t.Jd,l=t.qg,h=0,u=0;t=(n[r].width+n[r+1].width)/2+t.Ek;var c=!1;if(i>=0!=(o===Sd)){if(h=e+t,h>a){if(h=e-t,-a>h)return s.x=h,s.y=u,!1;c=!0}}else if(h=e-t,-a>h){if(h=e+t,h>a)return s.x=h,s.y=u,!1;c=!0}return u=Math.sqrt(1-Math.min(1,h*h/(a*a)))*l,0>i!==c&&(u=-u),Math.abs(i-u)>(n[r].height+n[r+1].height)/2?(s.x=h,s.y=u,!1):(s.x=h,s.y=u,!0)}function il(t,e,i,n,r,o,s){var a=t.Jd,l=t.qg,h=0,u=0;if(t=(n[r].height+n[r+1].height)/2+t.Ek,n=!1,e>=0!=(o===Sd)){if(u=i-t,-l>u){if(u=i+t,u>l)return s.x=h,void(s.y=u);n=!0}}else if(u=i+t,u>l){if(u=i-t,-l>u)return s.x=h,void(s.y=u);n=!0}h=Math.sqrt(1-Math.min(1,u*u/(l*l)))*a,0>e!==n&&(h=-h),s.x=h,s.y=u}function nl(t,e,i,n,r){var o=t.tG;if(.001>Math.abs(t.Qn-1))return void 0!==n&&void 0!==r?r*e:2*Math.PI*e;t=e>i?Math.sqrt(e*e-i*i)/e:Math.sqrt(i*i-e*e)/i;for(var s=0,a=0,a=void 0!==n&&void 0!==r?r/(o+1):Math.PI/(2*(o+1)),l=0,h=0;o>=h;h++)l=void 0!==n&&void 0!==r?n+h*r/o:h*Math.PI/(2*o),l=Math.sin(l),s+=Math.sqrt(1-t*t*l*l)*a;return void 0!==n&&void 0!==r?(e>i?e:i)*s:4*(e>i?e:i)*s}function rl(t,e,i,n,r){var o=0,o=void 0!==n&&void 0!==r?nl(t,1,i,n,r):nl(t,1,i);return e/o}function ol(t,e,i,n,r){if(.001>Math.abs(t.Qn-1))return r/e;var o=e>i?Math.sqrt(e*e-i*i)/e:Math.sqrt(i*i-e*e)/i,s=0;t=2*Math.PI/(700*t.network.vertexes.count),e>i&&(n+=Math.PI/2);for(var a=0;;a++){var l=Math.sin(n+a*t),s=s+(e>i?e:i)*Math.sqrt(1-o*o*l*l)*t;if(s>=r)return a*t}}function sl(){this.fp=-1/0,this.Up=this.rn=null}function al(){qa.call(this)}function ll(){Ua.call(this),this.actualAngle=this.diameter=0/0}function hl(t,e){var i=t.network;if(null===i)return 0/0;if(i=i.Qb,null===i)return 0/0;if(i.Nf===Md)if(i.ox===Ld)t.diameter=Math.max(t.width,t.height);else{var i=Math.abs(Math.sin(e)),n=Math.abs(Math.cos(e));if(0===i)return t.width;if(0===n)return t.height;t.diameter=Math.min(t.height/i,t.width/n)}else t.diameter=i.ox===Ld?Math.max(t.width,t.height):Math.sqrt(t.width*t.width+t.height*t.height);return t.diameter}function ul(){Ga.call(this)}function cl(){0<arguments.length&&Uh.gd(cl),Fa.call(this),this.pg=null,this.nr=0,this.bg=new k(100,100).freeze(),this.hq=!1,this.Rh=!0,this.yh=!1,this.oo=100,this.Oq=1,this.Hh=1e3,this.$r=Math,this.Ln=.05,this.Kn=50,this.Hn=150,this.Jn=0,this.Eq=10,this.Dq=5}function fl(t,e,i){if(dl(t,e)){var n=t.Hh;t.Hh*=1+1/(e+1);var r=pl(t,e),o=Math.max(0,Math.max(Math.min(t.network.vertexes.count,i*(e+1)/11),10));for(t.fA+=o,fl(t,e+1,i),bl(t,o),gl(t,r),e=t.pg,null===e?e=new u(Tl):e.clear(),e.Tc(r.vertexes),e.sort(function(t,e){return null===t||null===e||t===e?0:e.Zf-t.Zf}),r=e.i;r.next();)vl(t,r.value);t.Hh=n}}function dl(t,e){if(e>10||3>t.network.vertexes.count)return!1;null===t.pg?t.pg=new u(Tl):t.pg.clear(),t.pg.Tc(t.network.vertexes);var i=t.pg;i.sort(function(t,e){return null===t||null===e||t===e?0:e.Zf-t.Zf});for(var n=i.count-1;n>=0&&1>=i.ha(n).Zf;)n--;return 1<i.count-n}function pl(t,e){for(var i=t.network,n=new kl,r=t.pg.i;r.next();){var o=r.value;if(!(1<o.Zf))break;n.el(o);var s=new wl;s.Ux=o.Zf,s.Xx=o.width,s.Tx=o.height,s.$A=o.O.x,s.aB=o.O.y,null===o.rh&&(o.rh=new u(wl)),o.rh.add(s),o.DA=o.rh.count-1}for(var a=i.edges.i;a.next();)if(r=a.value,r.fromVertex.network===n&&r.toVertex.network===n)n.Po(r);else if(r.fromVertex.network===n){var l=r.fromVertex.Mm;null===l&&(l=new u(Tl),r.fromVertex.Mm=l),l.add(r.toVertex),r.fromVertex.Zf--,r.fromVertex.hk+=r.toVertex.hk}else r.toVertex.network===n&&(l=r.toVertex.Mm,null===l&&(l=new u(Tl),r.toVertex.Mm=l),l.add(r.fromVertex),r.toVertex.Zf--,r.toVertex.hk+=r.fromVertex.hk);for(r=n.edges.i;r.next();)o=r.value,o.length*=Math.max(1,_u.sqrt((o.fromVertex.hk+o.toVertex.hk)/(4*e+1)));for(r=n.vertexes.i;r.next();)if(o=r.value,l=o.Mm,null!==l&&0<l.count&&(s=o.rh.ha(o.rh.count-1),s=s.Ux-o.Zf,!(0>=s))){for(var h=0,c=0,f=l.count-s;f<l.count;f++){for(var d=l.ha(f),p=null,a=d.edges.i;a.next();){var g=a.value;if(g.JH(d)===o){p=g;break}}null!==p&&(c+=p.length,h+=d.width*d.height)}l=o.oa,a=o.va,f=o.width,d=o.height,p=o.O,g=f*d,1>g&&(g=1),h=_u.sqrt((h+g+c*c*4/(s*s))/g),s=(h-1)*f/2,h=(h-1)*d/2,o.ob=new T(l-p.x-s,a-p.y-h,f+2*s,d+2*h),o.focus=new b(p.x+s,p.y+h)}return t.network=n,i}function gl(t,e){for(var i=t.network.vertexes.i;i.next();){var n=i.value;if(n.network=e,null!==n.rh){var r=n.rh.ha(n.DA);n.Zf=r.Ux;var o=r.$A,s=r.aB;n.ob=new T(n.oa-o,n.va-s,r.Xx,r.Tx),n.focus=new b(o,s),n.DA--}}for(i=t.network.edges.i;i.next();)i.value.network=e;t.network=e}function vl(t,e){var i=e.Mm;if(null!==i&&0!==i.count){var n=e.oa,r=e.va,o=e.width,s=e.height;null!==e.rh&&0<e.rh.count&&(s=e.rh.ha(0),o=s.Xx,s=s.Tx);for(var o=_u.sqrt(o*o+s*s)/2,a=!1,l=s=0,h=0,u=e.vertexes.i;u.next();){var c=u.value;1>=c.Zf?l++:(a=!0,h++,s+=Math.atan2(e.va-c.va,e.oa-c.oa))}if(0!==l)for(h>0&&(s/=h),u=h=0,h=a?2*Math.PI/(l+1):2*Math.PI/l,0===l%2&&(u=h/2),1<i.count&&i.sort(function(t,e){return null===t||null===e||t===e?0:e.width*e.height-t.width*t.height}),a=0===l%2?0:1,i=i.i;i.next();)if(l=i.value,!(1<l.Zf||t.isFixed(l))){for(var c=null,f=l.edges.i;f.next();){c=f.value;break}var f=l.width,d=l.height,f=_u.sqrt(f*f+d*d)/2,c=o+c.length+f,f=s+(h*(a/2>>1)+u)*(0===a%2?1:-1);l.oa=n+c*Math.cos(f),l.va=r+c*Math.sin(f),a++}}}function ml(t,e,i,n,r,o,s){var a=9e19,l=-1,h=0;t:for(;e>h;h++){var u=t[h],c=u.x-i,f=u.y-n,c=c*c+f*f;if(a>c){for(f=h-1;f>=0;f--)if(t[f].y>u.y&&t[f].x-u.x<r+s.width)continue t;for(f=h+1;e>f;f++)if(t[f].x>u.x&&t[f].y-u.y<o+s.height)continue t;l=h,a=c}}return l}function yl(t,e){var i=t.N,n=i.x,r=i.y,o=i.width,i=i.height,s=e.N,a=s.x,l=s.y,h=s.width,s=s.height;return a>n+o?r>l+s?(n=n+o-a,r=r-l-s,_u.sqrt(n*n+r*r)):l>r+i?(n=n+o-a,r=r+i-l,_u.sqrt(n*n+r*r)):a-(n+o):n>a+h?r>l+s?(n=n-a-h,r=r-l-s,_u.sqrt(n*n+r*r)):l>r+i?(n=n-a-h,r=r+i-l,_u.sqrt(n*n+r*r)):n-(a+h):r>l+s?r-(l+s):l>r+i?l-(r+i):.1}function bl(t,e){t.pg=null;for(var i=t.nr+e;t.nr<i&&(t.nr++,xl(t)););t.pg=null}function xl(t){null===t.pg&&(t.pg=new u(Tl),t.pg.Tc(t.network.vertexes));var e=t.pg.n;if(0>=e.length)return!1;var i=e[0];i.forceX=0,i.forceY=0;for(var n=i.oa,o=n,s=i.va,a=s,i=1;i<e.length;i++){var l=e[i];l.forceX=0,l.forceY=0;var h=l.oa,l=l.va,n=Math.min(n,h),o=Math.max(o,h),s=Math.min(s,l),a=Math.max(a,l)}e.sort((s=o-n>a-s)?function(t,e){return null===t||null===e||t===e?0:t.oa-e.oa}:function(t,e){return null===t||null===e||t===e?0:t.va-e.va});for(var a=t.Hh,c=0,f=0,d=0,i=0;i<e.length;i++){var l=e[i],h=l.N,p=l.O,n=h.x+p.x,h=h.y+p.y,f=l.charge*t.electricalFieldX(n,h),d=l.charge*t.electricalFieldY(n,h),f=f+l.mass*t.gravitationalFieldX(n,h),d=d+l.mass*t.gravitationalFieldY(n,h);for(l.forceX+=f,l.forceY+=d,p=i+1;p<e.length;p++)if(o=e[p],o!==l){var g=o.N,f=o.O,d=g.x+f.x,g=g.y+f.y;if(n-d>a||d-n>a){if(s)break}else if(h-g>a||g-h>a){if(!s)break}else{var v=yl(l,o);1>v?(f=t.xx,null===f&&(t.xx=f=new r(0)),c=f.random(),v=f.random(),n>d?(f=Math.abs(o.N.right-l.N.x),f=(1+f)*c):d>n?(f=Math.abs(o.N.x-l.N.right),f=-(1+f)*c):(f=Math.max(o.width,l.width),f=(1+f)*c-f/2),h>g?(d=Math.abs(o.N.bottom-l.N.y),d=(1+d)*v):d>n?(d=Math.abs(o.N.y-l.N.bottom),d=-(1+d)*v):(d=Math.max(o.height,l.height),d=(1+d)*v-d/2)):(c=-(l.charge*o.charge)/(v*v),f=(d-n)/v*c,d=(g-h)/v*c),l.forceX+=f,l.forceY+=d,o.forceX-=f,o.forceY-=d}}}for(i=t.network.edges.i;i.next();)s=i.value,l=s.fromVertex,o=s.toVertex,h=l.N,p=l.O,n=h.x+p.x,h=h.y+p.y,g=o.N,f=o.O,d=g.x+f.x,g=g.y+f.y,v=yl(l,o),1>v?(f=t.xx,null===f&&(t.xx=f=new r(0)),c=f.random(),v=f.random(),f=(n>d?1:-1)*(1+(o.width>l.width)?o.width:l.width)*c,d=(h>g?1:-1)*(1+(o.height>l.height)?o.height:l.height)*v):(c=s.stiffness*(v-s.length),f=(d-n)/v*c,d=(g-h)/v*c),l.forceX+=f,l.forceY+=d,o.forceX-=f,o.forceY-=d;for(i=0,n=Math.max(t.Hh/20,50),o=0;o<e.length;o++)l=e[o],t.isFixed(l)?t.moveFixedVertex(l):(s=l.forceX,a=l.forceY,-n>s?s=-n:s>n&&(s=n),-n>a?a=-n:a>n&&(a=n),l.oa+=s,l.va+=a,i=Math.max(i,s*s+a*a));return i>t.gE*t.gE}function wl(){this.aB=this.$A=this.Tx=this.Xx=this.Ux=0}function kl(){qa.call(this)}function Tl(){Ua.call(this),this.isFixed=!1,this.mass=this.charge=0/0,this.hk=this.Zf=this.forceY=this.forceX=0,this.rh=this.Mm=null,this.DA=0}function $l(){Ga.call(this),this.length=this.stiffness=0/0}function Cl(){0<arguments.length&&Uh.gd(Cl),Fa.call(this),this.Hd=this.jm=25,this.ca=0,this.Gn=Fd,this.jo=qd,this.Yn=Bd,this.gm=4,this.wn=Wd,this.Hi=Qd,this.Rh=!0,this.sr=4,this.Hb=this.Dv=this.qb=-1,this.If=this.Cr=0,this.Mb=this.Ff=this.Gf=this.hg=this.Td=null,this.Kr=0,this.Jr=this.nm=null,this.lg=0,this.Lr=null,this.Qg=[],this.Qg.length=100}function Ml(t){var e=t.fromVertex.ud;return t=t.toVertex.ud,null===e&&null===t?8:null===e||null===t?4:1}function Sl(t){null===t.nm&&(t.nm=[]);for(var e=0,i=t.network.vertexes.i;i.next();){var n=i.value;t.nm[e]=n.layer,e++,t.nm[e]=n.column,e++,t.nm[e]=n.index,e++}return t.nm}function Pl(t,e){for(var i=0,n=t.network.vertexes.i;n.next();){var r=n.value;r.layer=e[i],i++,r.column=e[i],i++,r.index=e[i],i++}}function Dl(t,e,i){var n=ih(t,e),r=t.Td[e];(null===t.Jr||t.Jr.length<r*r)&&(t.Jr=[]);for(var o=t.Jr,s=0;r>s;s++){var a=0,l=n[s],h=l.near,u=0;if(null!==h&&h.layer===l.layer)if(u=h.index,u>s)for(var c=s+1;u>c;c++)l=n[c],l.near===h&&l.Jm===h.Jm||a++;else for(c=s-1;c>u;c--)l=n[c],l.near===h&&l.Jm===h.Jm||a++;var f,d,h=0,p=f=c=l=0,g=0,v=0;d=0;var m;if(i>=0)for(u=n[s].Se,h=0;h<u.count;h++)if(f=u.n[h],f.valid&&f.fromVertex.layer!==e)for(l=f.fromVertex.index,c=f.portToPos,f=f.portFromPos,p=h+1;p<u.count;p++)d=u.n[p],d.valid&&d.fromVertex.layer!==e&&(g=d.fromVertex.index,v=d.portToPos,d=d.portFromPos,v>c&&(l>g||l===g&&f>d)&&a++,c>v&&(g>l||g===l&&d>f)&&a++);if(0>=i)for(u=n[s].Ne,h=0;h<u.count;h++)if(f=u.n[h],f.valid&&f.toVertex.layer!==e)for(l=f.toVertex.index,c=f.portToPos,f=f.portFromPos,p=h+1;p<u.count;p++)d=u.n[p],d.valid&&d.toVertex.layer!==e&&(g=d.toVertex.index,v=d.portToPos,d=d.portFromPos,d>f&&(l>g||l===g&&c>v)&&a++,f>d&&(g>l||g===l&&v>c)&&a++);for(o[s*r+s]=a,u=s+1;r>u;u++){var y=0,b=0;if(i>=0)for(a=n[s].Se,m=n[u].Se,h=0;h<a.count;h++)if(f=a.n[h],f.valid&&f.fromVertex.layer!==e)for(l=f.fromVertex.index,f=f.portFromPos,p=0;p<m.count;p++)d=m.n[p],d.valid&&d.fromVertex.layer!==e&&(g=d.fromVertex.index,d=d.portFromPos,(g>l||l===g&&d>f)&&b++,(l>g||g===l&&f>d)&&y++);if(0>=i)for(a=n[s].Ne,m=n[u].Ne,h=0;h<a.count;h++)if(f=a.n[h],f.valid&&f.toVertex.layer!==e)for(l=f.toVertex.index,c=f.portToPos,p=0;p<m.count;p++)d=m.n[p],d.valid&&d.toVertex.layer!==e&&(g=d.toVertex.index,v=d.portToPos,(g>l||l===g&&v>c)&&b++,(l>g||g===l&&c>v)&&y++);o[s*r+u]=y,o[u*r+s]=b}}return nh(t,e,n),o}function Al(t){for(var e=0,i=0;i<=t.qb;i++){for(var n=t,r=i,o=ih(n,r),s=n.Td[r],a=0,l=0;s>l;l++){var h,u=null,u=o[l].Ne,c=0,f=0;if(null!==u)for(var d=0;d<u.count;d++)h=u.n[d],h.valid&&h.toVertex.layer!==r&&(c=h.fromVertex.column+h.portFromColOffset,f=h.toVertex.column+h.portToColOffset,a+=(Math.abs(c-f)+1)*Ml(h))}nh(n,r,o),e+=a}return e}function El(t,e,i){for(var n=ih(t,e),r=t.Td[e],o=[],s=0;r>s;s++){var a=n[s],l=null;0>=i&&(l=a.Se);var h=null;i>=0&&(h=a.Ne);var u=0,c=0,f=a.near;if(null!==f&&f.layer===a.layer&&(u+=f.column-1,c++),null!==l)for(f=0;f<l.count;f++){var a=l.n[f],d=a.fromVertex;a.valid&&!a.rev&&d.layer!==e&&(u+=d.column+a.portFromColOffset,c++)}if(null!==h)for(l=0;l<h.count;l++)a=h.n[l],f=a.toVertex,a.valid&&!a.rev&&f.layer!==e&&(u+=f.column+a.portToColOffset,c++);o[s]=0===c?-1:u/c}return nh(t,e,n),o}function Nl(t,e,i){for(var n=ih(t,e),r=t.Td[e],o=[],s=0;r>s;s++){var a=n[s],l=null;0>=i&&(l=a.Se);var h=null;i>=0&&(h=a.Ne);var u=0,c=[],f=a.near;if(null!==f&&f.layer===a.layer&&(c[u]=f.column-1,u++),null!==l)for(f=0;f<l.count;f++){var a=l.n[f],d=a.fromVertex;a.valid&&!a.rev&&d.layer!==e&&(c[u]=d.column+a.portFromColOffset,u++)}if(null!==h)for(l=0;l<h.count;l++)a=h.n[l],f=a.toVertex,a.valid&&!a.rev&&f.layer!==e&&(c[u]=f.column+a.portToColOffset,u++);0===u?o[s]=-1:(c.sort(function(t,e){return t-e}),h=u>>1,o[s]=1&u?c[h]:c[h-1]+c[h]>>1)}return nh(t,e,n),o}function _l(t,e,i,n,r,o){if(e.component===n){e.component=i;var s=0,a=0;if(r)for(var l=e.$b;l.next();){var a=l.value,h=a.toVertex,s=e.layer-h.layer,a=t.linkMinLength(a);s===a&&_l(t,h,i,n,r,o)}if(o)for(l=e.lc;l.next();)a=l.value,h=a.fromVertex,s=h.layer-e.layer,a=t.linkMinLength(a),s===a&&_l(t,h,i,n,r,o)}}function jl(t,e,i,n,r,o){if(e.component===n){if(e.component=i,r)for(var s=e.$b;s.next();)jl(t,s.value.toVertex,i,n,r,o);if(o)for(e=e.lc;e.next();)jl(t,e.value.fromVertex,i,n,r,o)}}function Ol(t){for(t=t.vertexes.i;t.next();){var e=t.value;if(e.valid)return e}return null}function Il(t){for(t=t.vertexes.i;t.next();){var e=t.value;if(e.valid){for(var i=!0,n=e.$b;n.next();)if(n.value.toVertex.valid){i=!1;break}if(i)return e}}return null}function Ll(t){for(t=t.vertexes.i;t.next();){var e=t.value;if(e.valid){for(var i=!0,n=e.lc;n.next();)if(n.value.fromVertex.valid){i=!1;break}if(i)return e}}return null}function Fl(t,e){e.ap=t.Kr,t.Kr++;for(var i=e.$b;i.next();){var n=i.value,r=n.toVertex;-1===r.ap&&(n.forest=!0,Fl(t,r))}e.finish=t.Kr,t.Kr++}function zl(t){for(var e=t.network.vertexes.i;e.next();){var i=ql(t,e.value);t.qb=Math.max(i,t.qb)}}function ql(t,e){var i=0;if(-1===e.layer){for(var n=e.$b;n.next();)var r=n.value,o=r.toVertex,r=t.linkMinLength(r),i=Math.max(i,ql(t,o)+r);e.layer=i}else i=e.layer;return i}function Rl(t,e){var i=0;if(-1===e.layer){for(var n=e.lc;n.next();)var r=n.value,o=r.fromVertex,r=t.linkMinLength(r),i=Math.max(i,Rl(t,o)+r);e.layer=i}else i=e.layer;return i}function Hl(t,e){if(!e.valid){e.valid=!0;for(var i=e.$b;i.next();)Hl(t,i.value.toVertex);for(i=t.network.vertexes.i;i.next();)i.value.component=-1;for(var n=e.Se.n,r=n.length,o=0;r>o;o++){var s=n[o],a=t.linkMinLength(s);s.fromVertex.layer-s.toVertex.layer>a&&_l(t,s.fromVertex,0,-1,!0,!1)}for(_l(t,e,1,-1,!0,!0);0!==e.component;){for(var a=0,n=1/0,l=0,h=null,u=t.network.vertexes.i;u.next();){var c=u.value;if(1===c.component){for(var f=0,d=!1,p=c.Se.n,r=p.length,o=0;r>o;o++){var s=p[o],g=s.fromVertex,f=f+1;1!==g.component&&(a+=1,g=g.layer-c.layer,s=t.linkMinLength(s),n=Math.min(n,g-s))}for(s=c.Ne.n,r=s.length,o=0;r>o;o++)p=s[o].toVertex,f-=1,1!==p.component?a-=1:d=!0;(null===h||l>f)&&!d&&(h=c,l=f)}}if(a>0){for(i.reset();i.next();)r=i.value,1===r.component&&(r.layer+=n);e.component=0}else h.component=0}for(i=t.network.vertexes.i;i.next();)i.value.component=-1;for(_l(t,e,1,-1,!0,!1);0!==e.component;){for(o=0,r=1/0,n=0,a=null,l=t.network.vertexes.i;l.next();)if(h=l.value,1===h.component){for(u=0,c=!1,s=h.Se.n,f=s.length,d=0;f>d;d++)p=s[d].fromVertex,u+=1,1!==p.component?o+=1:c=!0;for(s=h.Ne.n,f=s.length,d=0;f>d;d++)p=s[d],g=p.toVertex,u-=1,1!==g.component&&(o-=1,g=h.layer-g.layer,p=t.linkMinLength(p),r=Math.min(r,g-p));(null===a||u>n)&&!c&&(a=h,n=u)}if(0>o){for(i.reset();i.next();)o=i.value,1===o.component&&(o.layer-=r);e.component=0}else a.component=0}}}function Bl(t,e,i){return 90===t.ca?i&&!e.rev||!i&&e.rev?270:90:180===t.ca?i&&!e.rev||!i&&e.rev?0:180:270===t.ca?i&&!e.rev||!i&&e.rev?90:270:i&&!e.rev||!i&&e.rev?180:0}function Vl(t,e){var i=e.layer;e.index=t.Td[i],t.Td[i]++;for(var i=e.Ne.dc(),n=!0;n;)for(var n=!1,r=0;r<i.length-1;r++){var o=i[r],s=i[r+1];o.portFromColOffset>s.portFromColOffset&&(n=!0,i[r]=s,i[r+1]=o)}for(r=0;r<i.length;r++)n=i[r],n.valid&&(n=n.toVertex,-1===n.index&&Vl(t,n))}function Ul(t,e){var i=e.layer;e.index=t.Td[i],t.Td[i]++;for(var i=e.Se.dc(),n=!0,r=0;n;)for(n=!1,r=0;r<i.length-1;r++){var o=i[r],s=i[r+1];o.portToColOffset>s.portToColOffset&&(n=!0,i[r]=s,i[r+1]=o)}for(r=0;r<i.length;r++)n=i[r],n.valid&&(n=n.fromVertex,-1===n.index&&Ul(t,n))}function Gl(t,e,i){var n=0,r=ih(t,e),o=t.Td[e],s=Nl(t,e,i);for(i=El(t,e,i),n=0;o>n;n++)-1===i[n]&&(i[n]=r[n].column),-1===s[n]&&(s[n]=r[n].column);for(var a,l=!0;l;)for(l=!1,n=0;o-1>n;n++)(s[n+1]<s[n]||s[n+1]===s[n]&&i[n+1]<i[n])&&(l=!0,a=s[n],s[n]=s[n+1],s[n+1]=a,a=i[n],i[n]=i[n+1],i[n+1]=a,a=r[n],r[n]=r[n+1],r[n+1]=a);for(n=s=0;o>n;n++)a=r[n],a.index=n,s+=t.nodeMinColumnSpace(a,!0),a.column=s,s+=1,s+=t.nodeMinColumnSpace(a,!1);nh(t,e,r)}function Wl(t,e,i){var n=ih(t,e),r=t.Td[e];i=Dl(t,e,i);var o,s=0;for(o=[],s=0;r>s;s++)o[s]=-1;var a;for(a=[],s=0;r>s;s++)a[s]=-1;for(var l=!1,h=!0;h;)for(h=!1,s=0;r-1>s;s++){var u=i[n[s].index*r+n[s+1].index],c=i[n[s+1].index*r+n[s].index],f=0,d=0,p=n[s].column,g=n[s+1].column,v=t.nodeMinColumnSpace(n[s],!0),m=t.nodeMinColumnSpace(n[s],!1),y=t.nodeMinColumnSpace(n[s+1],!0),b=t.nodeMinColumnSpace(n[s+1],!1),v=p-v+y,m=g-m+b,y=y=0,x=n[s].lc.i;for(x.reset();x.next();)if(b=x.value,b.valid&&b.fromVertex.layer===e){for(b=b.fromVertex,y=0;n[y]!==b;)y++;s>y&&(f+=2*(s-y),d+=2*(s+1-y)),y===s+1&&(f+=1),y>s+1&&(f+=4*(y-s),d+=4*(y-(s+1)))}for(x=n[s].$b.i,x.reset();x.next();)if(b=x.value,b.valid&&b.toVertex.layer===e){for(b=b.toVertex,y=0;n[y]!==b;)y++;y===s+1&&(d+=1)}for(x=n[s+1].lc.i,x.reset();x.next();)if(b=x.value,b.valid&&b.fromVertex.layer===e){for(b=b.fromVertex,y=0;n[y]!==b;)y++;s>y&&(f+=2*(s+1-y),d+=2*(s-y)),y===s&&(d+=1),y>s+1&&(f+=4*(y-(s+1)),d+=4*(y-s))}for(x=n[s+1].$b.i,x.reset();x.next();)if(b=x.value,b.valid&&b.toVertex.layer===e){for(b=b.toVertex,y=0;n[y]!==b;)y++;y===s&&(f+=1)}var y=b=0,x=o[n[s].index],w=a[n[s].index],k=o[n[s+1].index],T=a[n[s+1].index];-1!==x&&(b+=Math.abs(x-p),y+=Math.abs(x-m)),-1!==w&&(b+=Math.abs(w-p),y+=Math.abs(w-m)),-1!==k&&(b+=Math.abs(k-g),y+=Math.abs(k-v)),-1!==T&&(b+=Math.abs(T-g),y+=Math.abs(T-v)),(f-.5>d||d===f&&u-.5>c||d===f&&c===u&&b-.5>y)&&(h=l=!0,n[s].column=m,n[s+1].column=v,u=n[s],n[s]=n[s+1],n[s+1]=u)}for(s=0;r>s;s++)n[s].index=s;return nh(t,e,n),l}function Kl(t,e,i){for(var n=!1;Yl(t,e,i);)n=!0;return n}function Yl(t,e,i){var n=0,r=ih(t,e),o=t.Td[e],s=El(t,e,-1);if(i>0)for(n=0;o>n;n++)s[n]=-1;var a=El(t,e,1);if(0>i)for(n=0;o>n;n++)a[n]=-1;for(var l=!1,h=!0;h;)for(h=!1,n=0;o>n;n++){var u=r[n].column,c=t.nodeMinColumnSpace(r[n],!0),f=t.nodeMinColumnSpace(r[n],!1),d=0,d=0>n-1||u-r[n-1].column-1>c+t.nodeMinColumnSpace(r[n-1],!1)?u-1:u,c=0,c=n+1>=o||r[n+1].column-u-1>f+t.nodeMinColumnSpace(r[n+1],!0)?u+1:u,p=f=0,g=0,v=0,m=0,y=0;if(0>=i)for(var b=r[n].lc.i;b.next();){var x=b.value;x.valid&&x.fromVertex.layer!==e&&(v=Ml(x),m=x.portFromColOffset,y=x.portToColOffset,x=x.fromVertex.column,f+=(Math.abs(u+y-(x+m))+1)*v,p+=(Math.abs(d+y-(x+m))+1)*v,g+=(Math.abs(c+y-(x+m))+1)*v)}if(i>=0)for(b=r[n].$b.i;b.next();)x=b.value,x.valid&&x.toVertex.layer!==e&&(v=Ml(x),m=x.portFromColOffset,y=x.portToColOffset,x=x.toVertex.column,f+=(Math.abs(u+m-(x+y))+1)*v,p+=(Math.abs(d+m-(x+y))+1)*v,g+=(Math.abs(c+m-(x+y))+1)*v);y=m=v=0,b=s[r[n].index],x=a[r[n].index],-1!==b&&(v+=Math.abs(b-u),m+=Math.abs(b-d),y+=Math.abs(b-c)),-1!==x&&(v+=Math.abs(x-u),m+=Math.abs(x-d),y+=Math.abs(x-c)),(f>p||p===f&&v>m)&&(h=l=!0,r[n].column=d),(f>g||g===f&&v>y)&&(h=l=!0,r[n].column=c)}return nh(t,e,r),t.normalize(),l}function Jl(t,e,i){var n=0,r=ih(t,e),o=t.Td[e],s=Nl(t,e,i);for(i=[],n=0;o>n;n++)i[n]=s[n];for(s=!0;s;)for(s=!1,n=0;o>n;n++){var a=r[n].column,l=t.nodeMinColumnSpace(r[n],!0),h=t.nodeMinColumnSpace(r[n],!1),u=0,c=0,f=0,f=c=0;-1===i[n]?0===n&&n===o-1?u=a:0===n?(c=r[n+1].column,u=c-a===h+t.nodeMinColumnSpace(r[n+1],!0)?a-1:a):n===o-1?(f=r[n-1].column,u=a-f===l+t.nodeMinColumnSpace(r[n-1],!1)?a+1:a):(f=r[n-1].column,f=f+t.nodeMinColumnSpace(r[n-1],!1)+l+1,c=r[n+1].column,c=c-t.nodeMinColumnSpace(r[n+1],!0)-h-1,u=(f+c)/2|0):0===n&&n===o-1?u=i[n]:0===n?(c=r[n+1].column,c=c-t.nodeMinColumnSpace(r[n+1],!0)-h-1,u=Math.min(i[n],c)):n===o-1?(f=r[n-1].column,f=f+t.nodeMinColumnSpace(r[n-1],!1)+l+1,u=Math.max(i[n],f)):(f=r[n-1].column,f=f+t.nodeMinColumnSpace(r[n-1],!1)+l+1,c=r[n+1].column,c=c-t.nodeMinColumnSpace(r[n+1],!0)-h-1,f<i[n]&&i[n]<c?u=i[n]:f>=i[n]?u=f:c<=i[n]&&(u=c)),u!==a&&(s=!0,r[n].column=u)}nh(t,e,r),t.normalize()}function Xl(t,e){for(var i=!0,n=t.network.vertexes.i;n.next();){var r=n.value,o=t.nodeMinColumnSpace(r,!0),s=t.nodeMinColumnSpace(r,!1);if(r.column-o<=e&&r.column+s>=e){i=!1;break}}if(r=!1,i)for(n.reset();n.next();)i=n.value,i.column>e&&(i.column-=1,r=!0);return r}function Ql(t,e){for(var i=e,i=e+1,n=0,r=[],o=[],n=0;n<=t.qb;n++)r[n]=!1,o[n]=!1;for(var s=t.network.vertexes.i;s.next();){var n=s.value,a=n.column-t.nodeMinColumnSpace(n,!0),l=n.column+t.nodeMinColumnSpace(n,!1);e>=a&&l>=e&&(r[n.layer]=!0),i>=a&&l>=i&&(o[n.layer]=!0)}for(a=!0,i=!1,n=0;n<=t.qb;n++)a=a&&!(r[n]&&o[n]);if(a)for(s.reset();s.next();)r=s.value,r.column>e&&(r.column-=1,i=!0);return i}function Zl(t,e){for(var i=0;i<=t.Hb;i++)for(;Xl(t,i););for(t.normalize(),i=0;i<t.Hb;i++)for(;Ql(t,i););t.normalize();var n,i=0,r=0,o=0,s=0;if(e>0)for(i=0;i<=t.Hb;i++)for(n=Sl(t),r=Al(t),o=r+1;o>r;)o=r,th(t,i,1),s=Al(t),s>r?Pl(t,n):r>s&&(r=s,n=Sl(t));if(0>e)for(i=t.Hb;i>=0;i--)for(n=Sl(t),r=Al(t),o=r+1;o>r;)o=r,th(t,i,-1),s=Al(t),s>r?Pl(t,n):r>s&&(r=s,n=Sl(t));t.normalize()}function th(t,e,i){t.lg=0;for(var n=t.network.vertexes.i;n.next();)n.value.component=-1;if(i>0)for(n.reset();n.next();){var r=n.value;r.column-t.nodeMinColumnSpace(r,!0)<=e&&(r.component=t.lg)}if(0>i)for(n.reset();n.next();)r=n.value,r.column+t.nodeMinColumnSpace(r,!1)>=e&&(r.component=t.lg);for(t.lg++,n.reset();n.next();)e=n.value,-1===e.component&&(jl(t,e,t.lg,-1,!0,!0),t.lg++);
var o=0;for(e=[],o=0;o<t.lg*t.lg;o++)e[o]=!1;for(r=[],o=0;o<(t.qb+1)*(t.Hb+1);o++)r[o]=-1;for(n.reset();n.next();)for(var o=n.value,s=o.layer,a=Math.max(0,o.column-t.nodeMinColumnSpace(o,!0)),l=Math.min(t.Hb,o.column+t.nodeMinColumnSpace(o,!1));l>=a;a++)r[s*(t.Hb+1)+a]=o.component;for(o=0;o<=t.qb;o++){if(i>0)for(a=0;a<t.Hb;a++)-1!==r[o*(t.Hb+1)+a]&&-1!==r[o*(t.Hb+1)+a+1]&&r[o*(t.Hb+1)+a]!==r[o*(t.Hb+1)+a+1]&&(e[r[o*(t.Hb+1)+a]*t.lg+r[o*(t.Hb+1)+a+1]]=!0);if(0>i)for(a=t.Hb;a>0;a--)-1!==r[o*(t.Hb+1)+a]&&-1!==r[o*(t.Hb+1)+a-1]&&r[o*(t.Hb+1)+a]!==r[o*(t.Hb+1)+a-1]&&(e[r[o*(t.Hb+1)+a]*t.lg+r[o*(t.Hb+1)+a-1]]=!0)}for(r=[],o=0;o<t.lg;o++)r[o]=!0;for(s=new u("number"),s.add(0),l=0;0!==s.count;)if(l=s.n[s.count-1],s.Vc(s.count-1),r[l])for(r[l]=!1,o=0;o<t.lg;o++)e[l*t.lg+o]&&s.Cd(0,o);if(i>0)for(n.reset();n.next();)t=n.value,r[t.component]&&(t.column-=1);if(0>i)for(n.reset();n.next();)i=n.value,r[i.component]&&(i.column+=1)}function eh(t,e){return 270===t.ca?e?uu:du:90===t.ca?e?du:uu:180===t.ca?e?cu:fu:e?fu:cu}function ih(t,e){var i,n=t.Td[e];if(n>=t.Qg.length){i=[];for(var r=0;r<t.Qg.length;r++)i[r]=t.Qg[r];t.Qg=i}for(void 0===t.Qg[n]||null===t.Qg[n]?i=[]:(i=t.Qg[n],t.Qg[n]=null),n=t.Lr[e],r=0;r<n.length;r++){var o=n[r];i[o.index]=o}return i}function nh(t,e,i){t.Qg[t.Td[e]]=i}function rh(){this.index=this.Yd=this.Ke=this.Rd=this.first=this.layer=0,this.link=null,this.ei=0}function oh(){qa.call(this)}function sh(){Ua.call(this),this.index=this.column=this.layer=-1,this.component=0/0,this.near=null,this.valid=!1,this.finish=this.ap=0/0,this.Jm=0,this.mA=this.nA=null}function ah(){Ga.call(this),this.forest=this.rev=this.valid=!1,this.portToPos=this.portFromPos=0/0,this.portToColOffset=this.portFromColOffset=0}function lh(){0<arguments.length&&Uh.gd(lh),Fa.call(this),this.xd=new f(Object),this.Vr=Zd,this.Ef=tp,this.Ms=vp,this.Bv=Tp,this.mB=null,this.yh=!0,this.jd=xp,this.bg=new k(10,10).freeze(),this.sa=new qh,this.ua=new qh,this.hz=[]}function hh(t,e){if(null!==e){switch(t.Ef){case tp:if(0<e.$b.count){for(var i=new u(qh),n=e.rH;n.next();){var r=n.value;uh(t,e,r)&&i.add(r)}0<i.count&&(e.children=i.dc())}break;case ep:if(0<e.lc.count){for(i=new u(qh),n=e.rJ;n.next();)r=n.value,uh(t,e,r)&&i.add(r);0<i.count&&(e.children=i.dc())}break;default:Uh.k("Unhandled path value"+t.Ef.toString())}for(i=e.children,n=i.length,r=0;n>r;r++){var o=i[r];o.initialized=!0,o.level=e.level+1,o.parent=e,t.xd.remove(o)}for(r=0;n>r;r++)o=i[r],hh(t,o)}}function uh(t,e,i){if(i.initialized){var n;if(null===e)n=!1;else{for(n=e.parent;null!==n&&n!==i;)n=n.parent;n=n===i}if(n||i.level>e.level)return!1;t.removeChild(i.parent,i)}return!0}function ch(t,e){if(null!==e){t.initializeTreeVertexValues(e),e.alignment===cp&&t.sortTreeVertexChildren(e);for(var i=0,n=e.Lm,r=0,o=e.children,s=o.length,a=0;s>a;a++){var l=o[a];ch(t,l),i+=l.descendantCount+1,n=Math.max(n,l.maxChildrenCount),r=Math.max(r,l.maxGenerationCount)}e.descendantCount=i,e.maxChildrenCount=n,e.maxGenerationCount=n>0?r+1:0}}function fh(t,e){switch(t.Ms){default:case vp:return null!==e.parent?e.parent:t.sa;case bp:return null===e.parent?t.sa:null===e.parent.parent?t.ua:e.parent;case yp:return null!==e.parent?null!==e.parent.parent?e.parent.parent:t.ua:t.sa;case mp:var i=!0;if(0===e.Lm)i=!1;else for(var n=e.children,r=n.length,o=0;r>o;o++)if(0<n[o].Lm){i=!1;break}return i&&null!==e.parent?t.ua:null!==e.parent?e.parent:t.sa}}function dh(t,e){if(null!==e){t.assignTreeVertexValues(e);for(var i=e.children,n=i.length,r=0;n>r;r++)dh(t,i[r])}}function ph(t,e){if(null!==e){e.alignment!==cp&&t.sortTreeVertexChildren(e);for(var i=e.children,n=i.length,r=0;n>r;r++)ph(t,i[r])}}function gh(t){return t===up||t===cp||t===fp||t===dp}function vh(t){return t===up||t===cp}function mh(t){var e=t.parent;if(null!==e){var i=e.alignment;if(gh(i)){if(vh(i)){for(e=e.children,i=0;i<e.length&&t!==e[i];)i++;return 0===i%2}if(i===fp)return!0}}return!1}function yh(t,e){if(0===e.Lm){var i=!1,n=0,r=ap;null!==e.parent&&(n=e.parent.angle,r=e.parent.alignment,i=gh(r)),r=mh(e),e.na.m(0,0),e.ib.m(e.width,e.height),null===e.parent||null===e.comments||(180!==n&&270!==n||i)&&!r?e.Ma.m(0,0):180===n&&!i||(90===n||270===n)&&r?e.Ma.m(e.width-2*e.O.x,0):e.Ma.m(0,e.height-2*e.O.y)}else{for(var i=Ih(e),n=90===i||270===i,o=0,r=e.children,s=r.length,a=0;s>a;a++)var l=r[a],o=Math.max(o,n?l.ib.width:l.ib.height);var h=e.alignment,u=h===lp,c=h===hp,f=gh(h),d=Math.max(0,e.breadthLimit),p=Lh(e),g=e.nodeSpacing,v=Fh(e),m=u||c?0:v/2,y=e.rowSpacing,b=0;(u||c||e.Jp||e.Kp&&1===e.maxGenerationCount)&&(b=Math.max(0,e.rowIndent));var u=e.width,x=e.height,w=0,k=0,T=0,$=0,C=0,M=0,S=0,P=0,D=0,A=0;if(f&&!vh(h)&&i>135&&r.reverse(),vh(h))if(s>1)for(a=0;s>a;a++){var l=r[a],E=l.ib;0===a%2&&a!==s-1?D=Math.max(D,(n?E.width:E.height)+wh(l)-g):0!==a%2&&(A=Math.max(A,(n?E.width:E.height)+wh(l)-g))}else 1===s&&(D=n?r[0].ib.width:r[0].ib.height);if(f)switch(h){case up:case cp:k=135>i?bh(e,r,D,w,k):xh(e,r,D,w,k),D=k.x,w=k.width,k=k.height;break;case fp:for(a=0;s>a;a++)l=r[a],E=l.ib,d=0===S?0:y,n?(l.na.m(o-E.width,C+d),w=Math.max(w,E.width),k=Math.max(k,C+d+E.height),C+=d+E.height):(l.na.m($+d,o-E.height),w=Math.max(w,$+d+E.width),k=Math.max(k,E.height),$+=d+E.width),S++;break;case dp:for(o=0;s>o;o++)l=r[o],E=l.ib,d=0===S?0:y,n?(l.na.m(g/2+e.O.x,C+d),w=Math.max(w,E.width),k=Math.max(k,C+d+E.height),C+=d+E.height):(l.na.m($+d,g/2+e.O.y),w=Math.max(w,$+d+E.width),k=Math.max(k,E.height),$+=d+E.width),S++}else for(a=0;s>a;a++)l=r[a],E=l.ib,n?(d>0&&S>0&&$+g+E.width>d&&(o>$&&Sh(e,h,o-$,0,P,a-1),M++,S=0,P=a,T=k,$=0,C=i>135?-k-y:k+y),A=0===S?m:g,Dh(t,l,0,C),l.na.m($+A,C),w=Math.max(w,$+A+E.width),k=Math.max(k,T+(0===M?0:y)+E.height),$+=A+E.width):(d>0&&S>0&&C+g+E.height>d&&(o>C&&Sh(e,h,0,o-C,P,a-1),M++,S=0,P=a,T=w,C=0,$=i>135?-w-y:w+y),A=0===S?m:g,Dh(t,l,$,0),l.na.m($,C+A),k=Math.max(k,C+A+E.height),w=Math.max(w,T+(0===M?0:y)+E.width),C+=A+E.height),S++;switch(M>0&&(n?(k+=Math.max(0,p),w>$&&Sh(e,h,w-$,0,P,s-1),b>0&&(c||Ph(e,b,0,0,s-1),w+=b)):(w+=Math.max(0,p),k>C&&Sh(e,h,0,k-C,P,s-1),b>0&&(c||Ph(e,0,b,0,s-1),k+=b))),b=c=0,h){case sp:n?c+=w/2-e.O.x-v/2:b+=k/2-e.O.y-v/2;break;case ap:M>0?n?c+=w/2-e.O.x-v/2:b+=k/2-e.O.y-v/2:n?(h=r[0].na.x+r[0].Ma.x,g=r[s-1].na.x+r[s-1].Ma.x+2*r[s-1].O.x,c+=h+(g-h)/2-e.O.x-v/2):(h=r[0].na.y+r[0].Ma.y,g=r[s-1].na.y+r[s-1].Ma.y+2*r[s-1].O.y,b+=h+(g-h)/2-e.O.y-v/2);break;case lp:n?(c-=v,w+=v):(b-=v,k+=v);break;case hp:n?(c+=w-e.width+v,w+=v):(b+=k-e.height+v,k+=v);break;case up:case cp:n?c=s>1?c+(D+g/2-e.O.x):c+(r[0].O.x-e.O.x+r[0].Ma.x):b=s>1?b+(D+g/2-e.O.y):b+(r[0].O.y-e.O.y+r[0].Ma.y);break;case fp:n?c+=w+g/2-e.O.x:b+=k+g/2-e.O.y;break;case dp:break;default:Uh.k("Unhandled alignment value "+h.toString())}for(a=0;s>a;a++)l=r[a],n?l.na.m(l.na.x+l.Ma.x-c,l.na.y+(i>135?(f?-k:-l.ib.height)+l.Ma.y-p:x+p+l.Ma.y)):l.na.m(l.na.x+(i>135?(f?-w:-l.ib.width)+l.Ma.x-p:u+p+l.Ma.x),l.na.y+l.Ma.y-b);n?(w=$h(e,w,c),0>c&&(c=0),i>135&&(b+=k+p),k+=x+p):(i>135&&(c+=w+p),w+=u+p,k=Ch(e,k,b),0>b&&(b=0)),e.Ma.m(c,b),e.ib.m(w,k)}}function bh(t,e,i,n,r){var o=e.length;if(0===o)return new T(i,0,n,r);if(1===o){var s=e[0];return n=s.ib.width,r=s.ib.height,new T(i,0,n,r)}for(var a=t.nodeSpacing,l=t.rowSpacing,h=90===Ih(t),u=0,c=0,f=0,d=0;o>d;d++)if(!(0!==d%2||o>1&&d===o-1)){var s=e[d],p=s.ib,g=0===u?0:l;if(h){var v=wh(s)-a;s.na.m(i-(p.width+v),f+g),n=Math.max(n,p.width+v),r=Math.max(r,f+g+p.height),f+=g+p.height}else v=wh(s)-a,s.na.m(c+g,i-(p.height+v)),r=Math.max(r,p.height+v),n=Math.max(n,c+g+p.width),c+=g+p.width;u++}var u=0,m=c,y=f;for(h?(c=i+a,f=0):(c=0,f=i+a),d=0;o>d;d++)0!==d%2&&(s=e[d],p=s.ib,g=0===u?0:l,h?(v=wh(s)-a,s.na.m(c+v,f+g),n=Math.max(n,c+p.width+v),r=Math.max(r,f+g+p.height),f+=g+p.height):(v=wh(s)-a,s.na.m(c+g,f+v),n=Math.max(n,c+g+p.width),r=Math.max(r,f+p.height+v),c+=g+p.width),u++);return o>1&&1===o%2&&(s=e[o-1],p=s.ib,e=kh(s,h?Math.max(Math.abs(y),Math.abs(f)):Math.max(Math.abs(m),Math.abs(c))),h?(s.na.m(i+a/2-s.O.x-s.Ma.x,r+e),h=i+a/2-s.O.x-s.Ma.x,n=Math.max(n,h+p.width),0>h&&(n-=h),r=Math.max(r,Math.max(y,f)+e+p.height),0>s.na.x&&(i=Th(t,s.na.x,!1,i,a))):(s.na.m(n+e,i+a/2-s.O.y-s.Ma.y),n=Math.max(n,Math.max(m,c)+e+p.width),h=i+a/2-s.O.y-s.Ma.y,r=Math.max(r,h+p.height),0>h&&(r-=h),0>s.na.y&&(i=Th(t,s.na.y,!0,i,a)))),new T(i,0,n,r)}function xh(t,e,i,n,r){var o=e.length;if(0===o)return new T(i,0,n,r);if(1===o){var s=e[0];return n=s.ib.width,r=s.ib.height,new T(i,0,n,r)}for(var a=t.nodeSpacing,l=t.rowSpacing,h=270===Ih(t),u=0,c=0,f=0,d=0;o>d;d++)if(!(0!==d%2||o>1&&d===o-1)){var s=e[d],p=s.ib,g=0===u?0:l;if(h){var v=wh(s)-a,f=f-(g+p.height);s.na.m(i-(p.width+v),f),n=Math.max(n,p.width+v),r=Math.max(r,Math.abs(f))}else v=wh(s)-a,c-=g+p.width,s.na.m(c,i-(p.height+v)),r=Math.max(r,p.height+v),n=Math.max(n,Math.abs(c));u++}var u=0,m=c,y=f;for(h?(c=i+a,f=0):(c=0,f=i+a),d=0;o>d;d++)0!==d%2&&(s=e[d],p=s.ib,g=0===u?0:l,h?(v=wh(s)-a,f-=g+p.height,s.na.m(c+v,f),n=Math.max(n,c+p.width+v),r=Math.max(r,Math.abs(f))):(v=wh(s)-a,c-=g+p.width,s.na.m(c,f+v),r=Math.max(r,f+p.height+v),n=Math.max(n,Math.abs(c))),u++);for(o>1&&1===o%2&&(s=e[o-1],p=s.ib,l=kh(s,h?Math.max(Math.abs(y),Math.abs(f)):Math.max(Math.abs(m),Math.abs(c))),h?(s.na.m(i+a/2-s.O.x-s.Ma.x,-r-p.height-l),c=i+a/2-s.O.x-s.Ma.x,n=Math.max(n,c+p.width),0>c&&(n-=c),r=Math.max(r,Math.abs(Math.min(y,f))+l+p.height),0>s.na.x&&(i=Th(t,s.na.x,!1,i,a))):(s.na.m(-n-p.width-l,i+a/2-s.O.y-s.Ma.y),n=Math.max(n,Math.abs(Math.min(m,c))+l+p.width),c=i+a/2-s.O.y-s.Ma.y,r=Math.max(r,c+p.height),0>c&&(r-=c),0>s.na.y&&(i=Th(t,s.na.y,!0,i,a)))),d=0;o>d;d++)s=e[d],h?s.na.m(s.na.x,s.na.y+r):s.na.m(s.na.x+n,s.na.y);return new T(i,0,n,r)}function wh(t){return null===t.parent?0:t.parent.nodeSpacing}function kh(t){return null===t.parent?0:t.parent.rowSpacing}function Th(t,e,i,n,r){t=t.children;for(var o=t.length,s=0;o>s;s++)i?t[s].na.m(t[s].na.x,t[s].na.y-e):t[s].na.m(t[s].na.x-e,t[s].na.y);return e=t[o-1],Math.max(n,i?e.Ma.y+e.O.y-r/2:e.Ma.x+e.O.x-r/2)}function $h(t,e,i){switch(t.alignment){case ap:case sp:var n=e;return i+t.width>n&&(n=i+t.width),0>i&&(n-=i),n;case lp:return t.width>e?t.width:e;case hp:return 2*t.O.x>e?t.width:e+t.width-2*t.O.x;case up:case cp:return n=Math.min(0,i),i=Math.max(e,i+t.width),Math.max(t.width,i-n);case fp:return t.width-t.O.x+t.nodeSpacing/2+e;case dp:return Math.max(t.width,t.O.x+t.nodeSpacing/2+e);default:return e}}function Ch(t,e,i){switch(t.alignment){case ap:case sp:var n=e;return i+t.height>n&&(n=i+t.height),0>i&&(n-=i),n;case lp:return t.height>e?t.height:e;case hp:return 2*t.O.y>e?t.height:e+t.height-2*t.O.y;case up:case cp:return n=Math.min(0,i),i=Math.max(e,i+t.height),Math.max(t.height,i-n);case fp:return t.height-t.O.y+t.nodeSpacing/2+e;case dp:return Math.max(t.height,t.O.y+t.nodeSpacing/2+e);default:return e}}function Mh(t,e,i){switch(t){case sp:e/=2,i/=2;break;case ap:e/=2,i/=2;break;case lp:i=e=0;break;case hp:break;default:Uh.k("Unhandled alignment value "+t.toString())}return new b(e,i)}function Sh(t,e,i,n,r,o){e=Mh(e,i,n),Ph(t,e.x,e.y,r,o)}function Ph(t,e,i,n,r){if(0!==e||0!==i)for(t=t.children;r>=n;n++){var o=t[n].na;o.x+=e,o.y+=i}}function Dh(t,e,i,n){var r=e.parent;switch(t.Ef){case tp:for(t=e.lc;t.next();)e=t.value,e.fromVertex===r&&e.as.m(i,n);break;case ep:for(t=e.$b;t.next();)e=t.value,e.toVertex===r&&e.as.m(i,n);break;default:Uh.k("Unhandled path value "+t.Ef.toString())}}function Ah(t,e,i){for(var n=0;n<t.length;n++){var r=t[n];r.x+=e,r.y+=i}}function Eh(t,e,i,n,r,o,s,a){var l=Ih(e),h=90===l||270===l,u=e.nodeSpacing;e=n;var c=r;n=o,r=s;var f=i.Kt,d=i.cu;s=i.ib;var p=h?Math.max(r,s.height):Math.max(n,s.width);if((null===f||l!==Ih(i))&&(f=Nh(t,2),d=Nh(t,2),h?(f[0].m(0,0),f[1].m(0,s.height),d[0].m(s.width,0),d[1].m(d[0].x,f[1].y)):(f[0].m(0,0),f[1].m(s.width,0),d[0].m(0,s.height),d[1].m(f[1].x,d[0].y))),h){if(i=n,n=9999999,!(null===c||2>c.length||null===f||2>f.length))for(h=l=0;l<c.length&&h<f.length;){r=c[l];var g=f[h];o=g.x;var v=g.y;o+=i;var m=r;l+1<c.length&&(m=c[l+1]);var y=g,g=y.x,y=y.y;h+1<f.length&&(y=f[h+1],g=y.x,y=y.y,g+=i);var b=n;r.y===v?b=o-r.x:r.y>v&&r.y<y?b=o+(r.y-v)/(y-v)*(g-o)-r.x:v>r.y&&v<m.y&&(b=o-(r.x+(v-r.y)/(m.y-r.y)*(m.x-r.x))),n>b&&(n=b),m.y<=r.y?l++:v>=y?h++:(m.y<=y&&l++,y<=m.y&&h++)}if(i-=n,i+=u,l=f,h=i,null===e||2>e.length||null===l||2>l.length)n=null;else{for(u=Nh(t,e.length+l.length),n=o=r=0;o<l.length&&l[o].y<e[0].y;)v=l[o++],u[n++].m(v.x+h,v.y);for(;r<e.length;)v=e[r++],u[n++].m(v.x,v.y);for(r=e[e.length-1].y;o<l.length&&l[o].y<=r;)o++;for(;o<l.length&&l[o].y>r;)v=l[o++],u[n++].m(v.x+h,v.y);for(l=Nh(t,n),r=0;n>r;r++)l[r].assign(u[r]);_h(t,u),n=l}if(o=d,v=i,null===c||2>c.length||null===o||2>o.length)r=null;else{for(u=Nh(t,c.length+o.length),h=m=l=0;l<c.length&&c[l].y<o[0].y;)r=c[l++],u[h++].m(r.x,r.y);for(;m<o.length;)r=o[m++],u[h++].m(r.x+v,r.y);for(o=o[o.length-1].y;l<c.length&&c[l].y<=o;)l++;for(;l<c.length&&c[l].y>o;)r=c[l++],u[h++].m(r.x,r.y);for(r=Nh(t,h),l=0;h>l;l++)r[l].assign(u[l]);_h(t,u)}o=Math.max(0,i)+s.width,s=p}else{if(i=r,n=9999999,!(null===c||2>c.length||null===f||2>f.length))for(h=l=0;l<c.length&&h<f.length;)r=c[l],g=f[h],o=g.x,v=g.y,v+=i,m=r,l+1<c.length&&(m=c[l+1]),y=g,g=y.x,y=y.y,h+1<f.length&&(y=f[h+1],g=y.x,y=y.y,y+=i),b=n,r.x===o?b=v-r.y:r.x>o&&r.x<g?b=v+(r.x-o)/(g-o)*(y-v)-r.y:o>r.x&&o<m.x&&(b=v-(r.y+(o-r.x)/(m.x-r.x)*(m.y-r.y))),n>b&&(n=b),m.x<=r.x?l++:o>=g?h++:(m.x<=g&&l++,g<=m.x&&h++);if(i-=n,i+=u,l=f,h=i,null===e||2>e.length||null===l||2>l.length)n=null;else{for(u=Nh(t,e.length+l.length),n=o=r=0;o<l.length&&l[o].x<e[0].x;)v=l[o++],u[n++].m(v.x,v.y+h);for(;r<e.length;)v=e[r++],u[n++].m(v.x,v.y);for(r=e[e.length-1].x;o<l.length&&l[o].x<=r;)o++;for(;o<l.length&&l[o].x>r;)v=l[o++],u[n++].m(v.x,v.y+h);for(l=Nh(t,n),r=0;n>r;r++)l[r].assign(u[r]);_h(t,u),n=l}if(o=d,v=i,null===c||2>c.length||null===o||2>o.length)r=null;else{for(u=Nh(t,c.length+o.length),h=m=l=0;l<c.length&&c[l].x<o[0].x;)r=c[l++],u[h++].m(r.x,r.y);for(;m<o.length;)r=o[m++],u[h++].m(r.x,r.y+v);for(o=o[o.length-1].x;l<c.length&&c[l].x<=o;)l++;for(;l<c.length&&c[l].x>o;)r=c[l++],u[h++].m(r.x,r.y);for(r=Nh(t,h),l=0;h>l;l++)r[l].assign(u[l]);_h(t,u)}o=p,s=Math.max(0,i)+s.height}return _h(t,e),_h(t,f),_h(t,c),_h(t,d),a[0]=n,a[1]=r,new T(i,0,o,s)}function Nh(t,e){var i=t.hz[e];if(void 0!==i&&(i=i.pop(),void 0!==i))return i;for(var i=[],n=0;e>n;n++)i[n]=new b;return i}function _h(t,e){var i=e.length,n=t.hz[i];void 0===n&&(n=[],t.hz[i]=n),n.push(e)}function jh(t,e,i,n){if(null!==e){e.x=i,e.y=n,e=e.children;for(var r=e.length,o=0;r>o;o++){var s=e[o];jh(t,s,i+s.na.x,n+s.na.y)}}}function Oh(t,e){if(null!==e){t.setPortSpots(e);for(var i=e.children,n=i.length,r=0;n>r;r++)Oh(t,i[r])}}function Ih(t){return t=t.angle,45>=t?0:135>=t?90:225>=t?180:315>=t?270:0}function Lh(t){var e=Ih(t),e=90===e||270===e,i=t.layerSpacing;if(0<t.layerSpacingParentOverlap)var n=Math.min(1,t.layerSpacingParentOverlap),i=i-(e?t.height*n:t.width*n);return i<(e?-t.height:-t.width)&&(i=e?-t.height:-t.width),i}function Fh(t){var e=Ih(t),e=90===e||270===e,i=t.nodeIndent;if(0<t.nodeIndentPastParent)var n=Math.min(1,t.nodeIndentPastParent),i=i+(e?t.width*n:t.height*n);return i=Math.max(0,i)}function zh(){qa.call(this)}function qh(){Ua.call(this),this.initialized=!1,this.parent=null,this.children=[],this.maxGenerationCount=this.maxChildrenCount=this.descendantCount=this.level=0,this.comments=null,this.na=new b(0,0),this.ib=new k(0,0),this.Ma=new b(0,0),this.Kp=this.Jp=this.eJ=!1,this.cu=this.Kt=null,this.sorting=ip,this.comparer=dd,this.angle=0,this.alignment=ap,this.nodeIndentPastParent=this.nodeIndent=0,this.nodeSpacing=20,this.layerSpacing=50,this.layerSpacingParentOverlap=0,this.compaction=gp,this.breadthLimit=0,this.rowSpacing=25,this.commentSpacing=this.rowIndent=10,this.commentMargin=20,this.setsPortSpot=!0,this.portSpot=tu,this.setsChildPortSpot=!0,this.childPortSpot=tu}function Rh(){Ga.call(this),this.as=new b(0,0)}function Hh(){Er.call(this),this.Te=null}var Bh,Vh={};if(!t.document||void 0===t.document.createElement("canvas").getContext)throw t.console&&t.console.log("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode."),Error("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode.");if(!Object.defineProperty)throw Error("GoJS requires a newer version of JavaScript");Function.prototype.bind||(Function.prototype.bind=function(t){function e(){return o.apply(t,r.concat(n.call(arguments)))}function i(){}var n=Array.prototype.slice,r=n.call(arguments,1),o=this;return i.prototype=this.prototype,e.prototype=new i,e}),function(){for(var e=0,i=["ms","moz","webkit","o"],n=0;n<i.length&&!t.requestAnimationFrame;++n)t.requestAnimationFrame=t[i[n]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[n]+"CancelAnimationFrame"]||t[i[n]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(i){var n=(new Date).getTime(),r=Math.max(8,16-(n-e)),o=t.setTimeout(function(){i(n+r)},r);return e=n+r,o}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(e){t.clearTimeout(e)})}(),Vh.Debug=null;var Uh={hd:1,Nc:2,Xc:4,Wc:8,an:void 0!==t.navigator&&0<t.navigator.userAgent.indexOf("534.30")&&0<t.navigator.userAgent.indexOf("Android"),dI:void 0!==t.navigator&&0<t.navigator.userAgent.indexOf("MSIE 10.0"),eI:void 0!==t.navigator&&0<t.navigator.userAgent.indexOf("Trident/7"),IK:void 0!==t.navigator&&0<t.navigator.userAgent.indexOf("Edge/"),fk:void 0!==t.navigator&&void 0!==t.navigator.platform&&0<=t.navigator.platform.toUpperCase().indexOf("MAC"),FE:void 0!==t.navigator&&void 0!==t.navigator.platform&&null!==t.navigator.platform.match(/(iPhone|iPod|iPad)/i),YD:function(t,e,i){var n=-1;return function(){var r=this,o=arguments;-1!==n&&Uh.clearTimeout(n),n=Uh.setTimeout(function(){n=-1,i||t.apply(r,o)},e),i&&!n&&t.apply(r,o)}},setTimeout:function(e,i){return t.setTimeout(e,i)},clearTimeout:function(e){t.clearTimeout(e)},createElement:function(e){return t.document.createElement(e)},k:function(t){throw Error(t)},la:function(t,e){var i="The object is frozen, so its properties cannot be set: "+t.toString();void 0!==e&&(i+="  to value: "+e),Uh.k(i)},A:function(t,e,i,n){t instanceof e||(i=Uh.getTypeName(i),void 0!==n&&(i+="."+n),Uh.Ed(t,e,i))},j:function(t,e,i,n){typeof t!==e&&(i=Uh.getTypeName(i),void 0!==n&&(i+="."+n),Uh.Ed(t,e,i))},Ye:function(t,e,i){"number"==typeof t&&isFinite(t)||(e=Uh.getTypeName(e),void 0!==i&&(e+="."+i),Uh.k(e+" must be a real number type, and not NaN or Infinity: "+t))},rb:function(t,i,n,r){t instanceof e&&t.qe===i||(n=Uh.getTypeName(n),void 0!==r&&(n+="."+r),Uh.Ed(t,"a constant of class "+Uh.df(i),n))},iK:function(t,e){"string"==typeof t?Yc(t)||Uh.k('Color "'+t+'" is not a valid color string for '+e):t instanceof Ar||Uh.k("Value for "+e+" must be a color string or a Brush, not "+t)},Ed:function(t,e,i,n){e=Uh.getTypeName(e),i=Uh.getTypeName(i),void 0!==n&&(i+="."+n),Uh.k("string"==typeof t?i+" value is not an instance of "+e+': "'+t+'"':i+" value is not an instance of "+e+": "+t)},wa:function(t,e,i,n){i=Uh.getTypeName(i),void 0!==n&&(i+="."+n),Uh.k(i+" is not in the range "+e+": "+t)},gd:function(t){Uh.k(Uh.df(t)+" constructor cannot take any arguments.")},La:function(t){Uh.k("Collection was modified during iteration: "+t.toString()+"\n  Perhaps you should iterate over a copy of the collection,\n  or you could collect items to be removed from the collection after the iteration.")},trace:function(e){t.console&&t.console.log(e)},Va:function(t){return"object"==typeof t&&null!==t},isArray:function(t){return Array.isArray(t)||t instanceof NodeList||t instanceof HTMLCollection},fI:function(t){return Array.isArray(t)},yz:function(t,e,i){Uh.isArray(t)||Uh.Ed(t,"Array or NodeList or HTMLCollection",e,i)},Xa:function(t){return t.length},il:function(t){return Array.prototype.slice.call(t)},Pa:function(t,e){return Array.isArray(t),t[e]},HD:function(t,e,i){Array.isArray(t)?t[e]=i:Uh.k("Cannot replace an object in an HTMLCollection or NodeList at "+e)},xz:function(t,e){if(Array.isArray(t))return t.indexOf(e);for(var i=t.length,n=0;i>n;n++)if(t[n]===e)return n;return-1},Si:function(t,e,i){Array.isArray(t)?e>=t.length?t.push(i):t.splice(e,0,i):Uh.k("Cannot insert an object into an HTMLCollection or NodeList: "+i+" at "+e)},Yh:function(t,e){Array.isArray(t)?e>=t.length?t.pop():t.splice(e,1):Uh.k("Cannot remove an object from an HTMLCollection or NodeList at "+e)},Zx:[],M:function(){var t=Uh.Zx.pop();return void 0===t?new b:t},Sb:function(t,e){var i=Uh.Zx.pop();return void 0===i?new b(t,e):(i.x=t,i.y=e,i)},v:function(t){Uh.Zx.push(t)},hB:[],Ol:function(){var t=Uh.hB.pop();return void 0===t?new k:t},ck:function(t){Uh.hB.push(t)},$x:[],ag:function(){var t=Uh.$x.pop();return void 0===t?new T:t},lk:function(t,e,i,n){var r=Uh.$x.pop();return void 0===r?new T(t,e,i,n):(r.x=t,r.y=e,r.width=i,r.height=n,r)},ic:function(t){Uh.$x.push(t)},iB:[],th:function(){var t=Uh.iB.pop();return void 0===t?new A:t},cf:function(t){Uh.iB.push(t)},ay:null,q:function(){var t=Uh.ay;return null!==t?(Uh.ay=null,t):new os},s:function(t){t.reset(),Uh.ay=t},gB:[],mb:function(){var t=Uh.gB.pop();return void 0===t?[]:t},ta:function(t){t.length=0,Uh.gB.push(t)},wh:Object.freeze([]),Sl:1,ec:function(t){t.__gohashid=Uh.Sl++},zt:function(t){var e=t.__gohashid;return void 0===e&&(e=Uh.Sl++,t.__gohashid=e),e},pd:function(t){return t.__gohashid},ea:function(t,e){e.ky=t,Vh[t]=e},Ja:function(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t},Zh:function(t){t.wG=!0},defineProperty:function(t,e,i,n,r){Uh.j(t,"function","Util.defineProperty:classfunc"),Uh.j(e,"object","Util.defineProperty:propobj"),Uh.j(i,"function","Util.defineProperty:getter"),Uh.j(n,"function","Util.defineProperty:setter");for(var o in e){if(e=e[o],i={get:i,set:n,enumerable:!0},void 0!==r)for(var s in r)i[s]=r[s];Object.defineProperty(t.prototype,o,i),r=Object.getOwnPropertyDescriptor(t.prototype,o),e&&r&&Object.defineProperty(t.prototype,e,r);break}},KJ:!1,u:function(t,e,i,n){Uh.j(t,"function","Util.defineReadOnlyProperty:classfunc"),Uh.j(e,"object","Util.defineReadOnlyProperty:propobj"),Uh.j(i,"function","Util.defineReadOnlyProperty:getter");for(var r in e){var o=e[r];if(e={get:i,set:function(t){Uh.k('The property "'+o+'" is read-only and cannot be set to '+t)},enumerable:!0},void 0!==n)for(var s in n)e[s]=n[s];Object.defineProperty(t.prototype,r,e),n=Object.getOwnPropertyDescriptor(t.prototype,r),o&&n&&Object.defineProperty(t.prototype,o,n);break}},Nd:function(t,e){for(var i in e)e[i]=!0;t.prototype.sG=e},getTypeName:function(t){return void 0===t?"":"string"==typeof t?t:"function"==typeof t?Uh.df(t):null===t?"*":""},df:function(t){if("function"==typeof t){if(t.ky)return t.ky;if(t.name)return t.name;var e=t.toString(),i=e.indexOf("("),e=e.substring(9,i).trim();if(""!==e)return t.ky=e}else if("object"==typeof t&&t.constructor)return Uh.df(t.constructor);return typeof t},p:function(t,i,n){Uh.j(t,"function","Util.defineEnumValue:classfunc"),Uh.j(i,"string","Util.defineEnumValue:name"),Uh.j(n,"number","Util.defineEnumValue:num"),n=new e(t,i,n),Object.freeze(n),t[i]=n;var r=t.vu;return r instanceof y||(r=new y("string",e),t.vu=r),r.add(i,n),n},sb:function(t,e){if(!t||!e)return null;var i=void 0;try{"function"==typeof e?i=e(t):"function"==typeof t.getAttribute?(i=t.getAttribute(e),null===i&&(i=void 0)):i=t[e]}catch(n){}return i},Ka:function(t,e,i){if(t&&e)try{"function"==typeof e?e(t,i):"function"==typeof t.setAttribute?t.setAttribute(e,i):t[e]=i}catch(n){}},hu:function(t,e){Uh.j(t,"object","Setting properties requires Objects as arguments"),Uh.j(e,"object","Setting properties requires Objects as arguments");var i,n=t instanceof uo,r=t instanceof Qi;for(i in e){""===i&&Uh.k("Setting properties requires non-empty property names");var o=t,s=i;if(n||r){var a=i.indexOf(".");if(a>0){var l=i.substring(0,a);n?o=t.ae(l):(o=t[l],(void 0===o||null===o)&&(o=t.eb[l])),Uh.Va(o)?s=i.substr(a+1):Uh.k("Unable to find object named: "+l+" in "+t.toString()+" when trying to set property: "+i)}}if("_"!==s[0]&&!Uh.vE(o,s)){if(r&&"ModelChanged"===s){t.KG(e[s]);continue}if(r&&"Changed"===s){t.Fm(e[s]);continue}if(r&&Uh.vE(t.eb,s))o=t.eb;else{if(r&&cr(t,s)){t.rz(s,e[s]);continue}if(t instanceof ne&&"Changed"===s){t.Fm(e[s]);continue}Uh.k('Trying to set undefined property "'+s+'" on object: '+o.toString())}}o[s]=e[i],"_"===s[0]&&o instanceof Er&&o.HG(s)}},vE:function(t,e){if(t.hasOwnProperty(e))return!0;for(var i=Object.getPrototypeOf(t);i&&i!==Function;){if(i.hasOwnProperty(e))return!0;var n=i.sG;if(n&&n[e])return!0;i=Object.getPrototypeOf(i)}return!1},TI:function(t){for(var e=[],i=0;256>i;i++)e[i]=i;for(var n=0,r=0,i=0;256>i;i++)n=(n+e[i]+119)%256,r=e[i],e[i]=e[n],e[n]=r;for(var n=i=0,o="",s=0;s<t.length;s++)i=(i+1)%256,n=(n+e[i])%256,r=e[i],e[i]=e[n],e[n]=r,o+=String.fromCharCode(t.charCodeAt(s)^e[(e[i]+e[n])%256]);return o},SH:function(t){for(var e=[],i=0;256>i;i++)e["0123456789abcdef".charAt(i>>4)+"0123456789abcdef".charAt(15&i)]=String.fromCharCode(i);t.length%2&&(t="0"+t);for(var n=[],r=0,i=0;i<t.length;i+=2)n[r++]=e[t.substr(i,2)];return t=n.join(""),""===t?"0":t},sg:function(t){return Uh.TI(Uh.SH(t))},Ql:null,adym:"7da71ca0ad381e90",YG:"@COLOR1",ZG:"@COLOR2"};Uh.Ql=function(){var i=t.document.createElement("canvas"),n=i.getContext("2d");n[Uh.sg("7ca11abfd022028846")]=Uh.sg("398c3597c01238");for(var r=["5da73c80a3330d854f9e5e671d6633","32ab5ff3b26f42dc0ed90f22422913b54ae6247590da4bb21c324ba3a84e385776","54a702f3e53909c447824c6706603faf4cfb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387","74bf19bce72555874c86"],o=1;5>o;o++)n[Uh.sg("7ca11abfd7330390")](Uh.sg(r[o-1]),10,15*o+0);for(n[Uh.sg("7ca11abfd022028846")]=Uh.sg("39f046ebb36e4b"),o=1;5>o;o++)n[Uh.sg("7ca11abfd7330390")](Uh.sg(r[o-1]),10,15*o+0);return(4!==r.length||"5"!==r[0][0]||"7"!==r[3][0])&&(Uh.p=function(t,i){var n=new e(t,i,2);Object.freeze(n),t[i]=n;var r=t.vu;return r instanceof y||(r=new y("string",e),t.vu=r),r.add(i,n),n}),i}(),Uh.ea("EnumValue",e),e.prototype.toString=function(){return Uh.df(this.wB)+"."+this.Pb},Uh.u(e,{qe:"classType"},function(){return this.wB}),Uh.u(e,{name:"name"},function(){return this.Pb}),Uh.u(e,{value:"value"},function(){return this.BG});var Gh;e.findName=Gh=function(t,e){if(void 0===e||null===e||""===e)return null;Uh.j(t,"function","findName:classfunc"),Uh.j(e,"string","EnumValue.findName:name");var i=t.vu;return i instanceof y?i.ka(e):null},i.prototype.toString=function(){return this.uB.join("")},i.prototype.add=function(t){""!==t&&this.uB.push(t)},r.prototype.random=function(){var t=this.seed%this.eB*this.Rx-this.seed/this.eB*this.aG;return this.seed=t>0?t:t+this.uu,this.seed*this.WF},Uh.u(o,{i:"iterator"},function(){return this}),o.prototype.reset=o.prototype.reset=function(){},o.prototype.next=o.prototype.hasNext=o.prototype.next=function(){return!1},o.prototype.first=o.prototype.first=function(){return null},o.prototype.any=function(){return!1},o.prototype.all=function(){return!0},o.prototype.each=function(){return this},o.prototype.map=function(){return this},o.prototype.filter=function(){return this},o.prototype.concat=function(t){return t.i},Uh.u(o,{count:"count"},function(){return 0}),o.prototype.Df=function(){},o.prototype.toString=function(){return"EmptyIterator"};var Wh=new o;Uh.Nd(s,{key:!0,value:!0}),Uh.u(s,{i:"iterator"},function(){return this}),s.prototype.reset=s.prototype.reset=function(){this.key=-1},s.prototype.next=s.prototype.hasNext=s.prototype.next=function(){return-1===this.key?(this.key=0,!0):!1},s.prototype.first=s.prototype.first=function(){return this.key=0,this.value},s.prototype.any=function(t){return this.key=-1,t(this.value)},s.prototype.all=function(t){return this.key=-1,t(this.value)},s.prototype.each=function(t){return this.key=-1,t(this.value),this},s.prototype.map=function(t){return new s(t(this.value))},s.prototype.filter=function(t){return t(this.value)?new s(this.value):Wh},s.prototype.concat=function(t){return new a(this,t.i)},Uh.u(s,{count:"count"},function(){return 1}),s.prototype.Df=function(){this.value=null},s.prototype.toString=function(){return"SingletonIterator("+this.value+")"},Uh.Nd(a,{key:!0,value:!0}),Uh.u(a,{i:"iterator"},function(){return this}),a.prototype.reset=a.prototype.reset=function(){this.Lk.reset(),this.Mk.reset(),this.yu=!1},a.prototype.next=a.prototype.hasNext=a.prototype.next=function(){if(!this.yu){var t=this.Lk;if(t.next())return this.key=t.key,this.value=t.value,!0;this.yu=!0}return this.yu&&(t=this.Mk,t.next())?(this.key=t.key,this.value=t.value,!0):!1},a.prototype.first=a.prototype.first=function(){return this.reset(),this.next()?this.value:null},a.prototype.any=function(t){return this.Lk.any(t)||this.Mk.any(t)?!0:!1},a.prototype.all=function(t){return this.Lk.all(t)&&this.Mk.all(t)?!0:!1},a.prototype.each=function(t){return this.Lk.each(t),this.Mk.each(t),this},a.prototype.map=function(t){return new a(this.Lk.map(t),this.Mk.map(t))},a.prototype.filter=function(t){return new a(this.Lk.filter(t),this.Mk.filter(t))},a.prototype.concat=function(t){return new a(this,t.i)},Uh.u(a,{count:"count"},function(){return this.Lk.count+this.Mk.count}),a.prototype.Df=function(){this.value=this.key=null},a.prototype.toString=function(){return"ConcatIterator()"},Uh.Nd(l,{key:!0,value:!0}),Uh.u(l,{i:"iterator"},function(){return this}),Uh.defineProperty(l,{hn:"predicate"},function(){return this.Nh},function(t){this.Nh=t}),l.prototype.reset=l.prototype.reset=function(){var t=this.tc;t.Xb=null,this.hb=t.F,this.Oc=-1},l.prototype.next=l.prototype.hasNext=l.prototype.next=function(){var t=this.tc;if(t.F!==this.hb){if(0>this.key)return!1;Uh.La(t)}var t=t.n,e=t.length,i=++this.Oc,n=this.Nh;if(null!==n)for(;e>i;){var r=t[i];if(n(r))return this.key=this.Oc=i,this.value=r,!0;i++}else{if(e>i)return this.key=i,this.value=t[i],!0;this.Df()}return!1},l.prototype.first=l.prototype.first=function(){var t=this.tc;this.hb=t.F,this.Oc=0;var t=t.n,e=t.length,i=this.Nh;if(null!==i){for(var n=0;e>n;){var r=t[n];if(i(r))return this.key=this.Oc=n,this.value=r;n++}return null}return e>0?(r=t[0],this.key=0,this.value=r):null},l.prototype.any=function(t){var e=this.tc;e.Xb=null;var i=e.F;this.Oc=-1;for(var n=e.n,r=n.length,o=this.Nh,s=0;r>s;s++){var a=n[s];if(null===o||o(a)){if(t(a))return!0;e.F!==i&&Uh.La(e)}}return!1},l.prototype.all=function(t){var e=this.tc;e.Xb=null;var i=e.F;this.Oc=-1;for(var n=e.n,r=n.length,o=this.Nh,s=0;r>s;s++){var a=n[s];if(null===o||o(a)){if(!t(a))return!1;e.F!==i&&Uh.La(e)}}return!0},l.prototype.each=function(t){var e=this.tc;e.Xb=null;var i=e.F;this.Oc=-1;for(var n=e.n,r=n.length,o=this.Nh,s=0;r>s;s++){var a=n[s];(null===o||o(a))&&(t(a),e.F!==i&&Uh.La(e))}return this},l.prototype.map=function(t){var e=this.tc;e.Xb=null;var i=e.F;this.Oc=-1;for(var n=[],r=e.n,o=r.length,s=this.Nh,a=0;o>a;a++){var l=r[a];(null===s||s(l))&&(n.push(t(l)),e.F!==i&&Uh.La(e))}return t=new u,t.n=n,t.Ac(),t.i},l.prototype.filter=function(t){var e=this.tc;e.Xb=null;var i=e.F;this.Oc=-1;for(var n=[],r=e.n,o=r.length,s=this.Nh,a=0;o>a;a++){var l=r[a];(null===s||s(l))&&(t(l)&&n.push(l),e.F!==i&&Uh.La(e))}return t=new u(e.ja),t.n=n,t.Ac(),t.i},l.prototype.concat=function(t){return this.tc.Xb=null,new a(this,t.i)},Uh.u(l,{count:"count"},function(){var t=this.Nh;if(null!==t){for(var e=0,i=this.tc.n,n=i.length,r=0;n>r;r++)t(i[r])&&e++;return e}return this.tc.n.length}),l.prototype.Df=function(){this.key=-1,this.value=null,this.hb=-1,this.Nh=null,this.tc.Xb=this},l.prototype.toString=function(){return"ListIterator@"+this.Oc+"/"+this.tc.count},Uh.Nd(h,{key:!0,value:!0}),Uh.u(h,{i:"iterator"},function(){return this}),h.prototype.reset=h.prototype.reset=function(){var t=this.tc;t.xj=null,this.hb=t.F,this.Oc=t.n.length},h.prototype.next=h.prototype.hasNext=h.prototype.next=function(){var t=this.tc;if(t.F!==this.hb){if(0>this.key)return!1;Uh.La(t)}var e=--this.Oc;return e>=0?(this.key=e,this.value=t.n[e],!0):(this.Df(),!1)},h.prototype.first=h.prototype.first=function(){var t=this.tc;this.hb=t.F;var e=t.n;return this.Oc=t=e.length-1,t>=0?(e=e[t],this.key=t,this.value=e):null
},h.prototype.any=function(t){var e=this.tc;e.xj=null;var i=e.F,n=e.n,r=n.length;for(this.Oc=r,r-=1;r>=0;r--){if(t(n[r]))return!0;e.F!==i&&Uh.La(e)}return!1},h.prototype.all=function(t){var e=this.tc;e.xj=null;var i=e.F,n=e.n,r=n.length;for(this.Oc=r,r-=1;r>=0;r--){if(!t(n[r]))return!1;e.F!==i&&Uh.La(e)}return!0},h.prototype.each=function(t){var e=this.tc;e.xj=null;var i=e.F,n=e.n,r=n.length;for(this.Oc=r,r-=1;r>=0;r--)t(n[r]),e.F!==i&&Uh.La(e);return this},h.prototype.map=function(t){var e=this.tc;e.xj=null;var i=e.F,n=[],r=e.n,o=r.length;for(this.Oc=o,o-=1;o>=0;o--)n.push(t(r[o])),e.F!==i&&Uh.La(e);return t=new u,t.n=n,t.Ac(),t.i},h.prototype.filter=function(t){var e=this.tc;e.xj=null;var i=e.F,n=[],r=e.n,o=r.length;for(this.Oc=o,o-=1;o>=0;o--){var s=r[o];t(s)&&n.push(s),e.F!==i&&Uh.La(e)}return t=new u(e.ja),t.n=n,t.Ac(),t.i},h.prototype.concat=function(t){return this.tc.xj=null,new a(this,t.i)},Uh.u(h,{count:"count"},function(){return this.tc.n.length}),h.prototype.Df=function(){this.key=-1,this.value=null,this.hb=-1,this.tc.xj=this},h.prototype.toString=function(){return"ListIteratorBackwards("+this.Oc+"/"+this.tc.count+")"},Uh.ea("List",u),u.prototype.Ac=function(){var t=this.F;t++,t>999999999&&(t=0),this.F=t},u.prototype.freeze=u.prototype.freeze=function(){return this.D=!0,this},u.prototype.thaw=u.prototype.Oa=function(){return this.D=!1,this},u.prototype.toString=function(){return"List("+Uh.getTypeName(this.ja)+")#"+Uh.pd(this)},u.prototype.add=u.prototype.push=u.prototype.add=function(t){null!==t&&(this.D&&Uh.la(this,t),this.n.push(t),this.Ac())},u.prototype.addAll=u.prototype.Tc=function(t){if(null===t)return this;this.D&&Uh.la(this);var e=this.n;if(Uh.isArray(t))for(var i=Uh.Xa(t),n=0;i>n;n++){var r=Uh.Pa(t,n);e.push(r)}else for(t=t.i;t.next();)r=t.value,e.push(r);return this.Ac(),this},u.prototype.clear=u.prototype.clear=function(){this.D&&Uh.la(this),this.n.length=0,this.Ac()},u.prototype.contains=u.prototype.has=u.prototype.contains=function(t){return null===t?!1:-1!==this.n.indexOf(t)},u.prototype.indexOf=u.prototype.indexOf=function(t){return null===t?-1:this.n.indexOf(t)},u.prototype.elt=u.prototype.get=u.prototype.ha=function(t){var e=this.n;return(0>t||t>=e.length)&&Uh.wa(t,"0 <= i < length",u,"elt:i"),e[t]},u.prototype.setElt=u.prototype.set=u.prototype.Eg=function(t,e){var i=this.n;(0>t||t>=i.length)&&Uh.wa(t,"0 <= i < length",u,"setElt:i"),this.D&&Uh.la(this,t),i[t]=e},u.prototype.first=u.prototype.first=function(){var t=this.n;return 0===t.length?null:t[0]},u.prototype.last=u.prototype.Rd=function(){var t=this.n,e=t.length;return e>0?t[e-1]:null},u.prototype.pop=u.prototype.pop=function(){this.D&&Uh.la(this);var t=this.n;return 0<t.length?t.pop():null},u.prototype.any=function(t){for(var e=this.n,i=this.F,n=e.length,r=0;n>r;r++){if(t(e[r]))return!0;this.F!==i&&Uh.La(this)}return!1},u.prototype.all=function(t){for(var e=this.n,i=this.F,n=e.length,r=0;n>r;r++){if(!t(e[r]))return!1;this.F!==i&&Uh.La(this)}return!0},u.prototype.each=function(t){for(var e=this.n,i=this.F,n=e.length,r=0;n>r;r++)t(e[r]),this.F!==i&&Uh.La(this);return this},u.prototype.map=function(t){for(var e=new u,i=[],n=this.n,r=this.F,o=n.length,s=0;o>s;s++)i.push(t(n[s])),this.F!==r&&Uh.La(this);return e.n=i,e.Ac(),e},u.prototype.filter=function(t){for(var e=new u(this.ja),i=[],n=this.n,r=this.F,o=n.length,s=0;o>s;s++){var a=n[s];t(a)&&i.push(a),this.F!==r&&Uh.La(this)}return e.n=i,e.Ac(),e},u.prototype.concat=function(t){return this.copy().Tc(t)},u.prototype.insertAt=u.prototype.Cd=function(t,e){0>t&&Uh.wa(t,">= 0",u,"insertAt:i"),this.D&&Uh.la(this,t);var i=this.n;return t>=i.length?i.push(e):i.splice(t,0,e),this.Ac(),!0},u.prototype.remove=u.prototype["delete"]=u.prototype.remove=function(t){if(null===t)return!1;this.D&&Uh.la(this,t);var e=this.n;return t=e.indexOf(t),-1===t?!1:(t===e.length-1?e.pop():e.splice(t,1),this.Ac(),!0)},u.prototype.removeAt=u.prototype.Vc=function(t){var e=this.n;(0>t||t>=e.length)&&Uh.wa(t,"0 <= i < length",u,"removeAt:i"),this.D&&Uh.la(this,t),t===e.length-1?e.pop():e.splice(t,1),this.Ac()},u.prototype.removeRange=u.prototype.removeRange=function(t,e){var i=this.n;(0>t||t>=i.length)&&Uh.wa(t,"0 <= from < length",u,"elt:from"),(0>e||e>=i.length)&&Uh.wa(e,"0 <= to < length",u,"elt:to"),this.D&&Uh.la(this,t);var n=i.slice((e||t)+1||i.length);i.length=0>t?i.length+t:t,i.push.apply(i,n),this.Ac()},u.prototype.copy=function(){var t=new u(this.ja),e=this.n;return 0<e.length&&(t.n=Array.prototype.slice.call(e)),t},u.prototype.toArray=u.prototype.dc=function(){for(var t=this.n,e=this.count,i=Array(e),n=0;e>n;n++)i[n]=t[n];return i},u.prototype.toSet=u.prototype.GF=function(){for(var t=new f(this.ja),e=this.n,i=this.count,n=0;i>n;n++)t.add(e[n]);return t},u.prototype.sort=u.prototype.sort=function(t){return this.D&&Uh.la(this),this.n.sort(t),this.Ac(),this},u.prototype.sortRange=u.prototype.Rp=function(t,e,i){var n=this.n,r=n.length;void 0===e&&(e=0),void 0===i&&(i=r),this.D&&Uh.la(this);var o=i-e;if(1>=o)return this;if((0>e||e>=r-1)&&Uh.wa(e,"0 <= from < length",u,"sortRange:from"),2===o)return i=n[e],r=n[e+1],0<t(i,r)&&(n[e]=r,n[e+1]=i,this.Ac()),this;if(0===e)if(i>=r)n.sort(t);else for(o=n.slice(0,i),o.sort(t),t=0;i>t;t++)n[t]=o[t];else if(i>=r)for(o=n.slice(e),o.sort(t),t=e;r>t;t++)n[t]=o[t-e];else for(o=n.slice(e,i),o.sort(t),t=e;i>t;t++)n[t]=o[t-e];return this.Ac(),this},u.prototype.reverse=u.prototype.reverse=function(){return this.D&&Uh.la(this),this.n.reverse(),this.Ac(),this},Uh.u(u,{count:"count"},function(){return this.n.length}),Uh.u(u,{size:"size"},function(){return this.n.length}),Uh.u(u,{length:"length"},function(){return this.n.length}),Uh.u(u,{i:"iterator"},function(){if(0>=this.n.length)return Wh;var t=this.Xb;return null!==t?(t.reset(),t):new l(this)}),Uh.u(u,{cn:"iteratorBackwards"},function(){if(0>=this.n.length)return Wh;var t=this.xj;return null!==t?(t.reset(),t):new h(this)}),Uh.Nd(c,{key:!0,value:!0}),Uh.u(c,{i:"iterator"},function(){return this}),c.prototype.reset=c.prototype.reset=function(){var t=this.Ph;t.Xb=null,this.hb=t.F,this.gb=null},c.prototype.next=c.prototype.hasNext=c.prototype.next=function(){var t=this.Ph;if(t.F!==this.hb){if(null===this.key)return!1;Uh.La(t)}var e=this.gb,e=null===e?t.Ea:e.Wa;return null!==e?(this.gb=e,this.value=e.value,this.key=e.key,!0):(this.Df(),!1)},c.prototype.first=c.prototype.first=function(){var t=this.Ph;if(this.hb=t.F,t=t.Ea,null!==t){this.gb=t;var e=t.value;return this.key=t.key,this.value=e}return null},c.prototype.any=function(t){var e=this.Ph;e.Xb=null;var i=e.F;this.gb=null;for(var n=e.Ea;null!==n;){if(t(n.value))return!0;e.F!==i&&Uh.La(e),n=n.Wa}return!1},c.prototype.all=function(t){var e=this.Ph;e.Xb=null;var i=e.F;this.gb=null;for(var n=e.Ea;null!==n;){if(!t(n.value))return!1;e.F!==i&&Uh.La(e),n=n.Wa}return!0},c.prototype.each=function(t){var e=this.Ph;e.Xb=null;var i=e.F;this.gb=null;for(var n=e.Ea;null!==n;)t(n.value),e.F!==i&&Uh.La(e),n=n.Wa;return this},c.prototype.map=function(t){var e=this.Ph;e.Xb=null;for(var i=new u,n=e.F,r=e.Ea;null!==r;)i.add(t(r.value)),e.F!==n&&Uh.La(e),r=r.Wa;return i.i},c.prototype.filter=function(t){var e=this.Ph;e.Xb=null;for(var i=new u(e.ja),n=e.F,r=e.Ea;null!==r;){var o=r.value;t(o)&&i.add(o),e.F!==n&&Uh.La(e),r=r.Wa}return i.i},c.prototype.concat=function(t){return this.Ph.Xb=null,new a(this,t.i)},Uh.u(c,{count:"count"},function(){return this.Ph.kd}),c.prototype.Df=function(){this.value=this.key=null,this.hb=-1,this.Ph.Xb=this},c.prototype.toString=function(){return null!==this.gb?"SetIterator@"+this.gb.value:"SetIterator"},Uh.ea("Set",f),f.prototype.Ac=function(){var t=this.F;t++,t>999999999&&(t=0),this.F=t},f.prototype.freeze=f.prototype.freeze=function(){return this.D=!0,this},f.prototype.thaw=f.prototype.Oa=function(){return this.D=!1,this},f.prototype.toString=function(){return"Set("+Uh.getTypeName(this.ja)+")#"+Uh.pd(this)},f.prototype.add=f.prototype.add=function(t){if(null===t)return!1;this.D&&Uh.la(this,t);var e=t;return Uh.Va(t)&&(e=Uh.zt(t)),void 0===this.ld[e]?(this.kd++,t=new v(t,t),this.ld[e]=t,e=this.Jh,null===e?this.Ea=t:(t.uo=e,e.Wa=t),this.Jh=t,this.Ac(),!0):!1},f.prototype.addAll=f.prototype.Tc=function(t){if(null===t)return this;if(this.D&&Uh.la(this),Uh.isArray(t))for(var e=Uh.Xa(t),i=0;e>i;i++)this.add(Uh.Pa(t,i));else for(t=t.i;t.next();)this.add(t.value);return this},f.prototype.contains=f.prototype.has=f.prototype.contains=function(t){if(null===t)return!1;var e=t;return Uh.Va(t)&&(e=Uh.pd(t),void 0===e)?!1:void 0!==this.ld[e]},f.prototype.containsAll=function(t){if(null===t)return!0;for(t=t.i;t.next();)if(!this.contains(t.value))return!1;return!0},f.prototype.containsAny=function(t){if(null===t)return!0;for(t=t.i;t.next();)if(this.contains(t.value))return!0;return!1},f.prototype.first=f.prototype.first=function(){var t=this.Ea;return null===t?null:t.value},f.prototype.any=function(t){for(var e=this.F,i=this.Ea;null!==i;){if(t(i.value))return!0;this.F!==e&&Uh.La(this),i=i.Wa}return!1},f.prototype.all=function(t){for(var e=this.F,i=this.Ea;null!==i;){if(!t(i.value))return!1;this.F!==e&&Uh.La(this),i=i.Wa}return!0},f.prototype.each=function(t){for(var e=this.F,i=this.Ea;null!==i;)t(i.value),this.F!==e&&Uh.La(this),i=i.Wa;return this},f.prototype.map=function(t){for(var e=new f,i=this.F,n=this.Ea;null!==n;)e.add(t(n.value)),this.F!==i&&Uh.La(this),n=n.Wa;return e},f.prototype.filter=function(t){for(var e=new f(this.ja),i=this.F,n=this.Ea;null!==n;){var r=n.value;t(r)&&e.add(r),this.F!==i&&Uh.La(this),n=n.Wa}return e},f.prototype.concat=function(t){return this.copy().Tc(t)},f.prototype.remove=f.prototype["delete"]=f.prototype.remove=function(t){if(null===t)return!1;this.D&&Uh.la(this,t);var e=t;if(Uh.Va(t)&&(e=Uh.pd(t),void 0===e))return!1;if(t=this.ld[e],void 0===t)return!1;var i=t.Wa,n=t.uo;return null!==i&&(i.uo=n),null!==n&&(n.Wa=i),this.Ea===t&&(this.Ea=i),this.Jh===t&&(this.Jh=n),delete this.ld[e],this.kd--,this.Ac(),!0},f.prototype.removeAll=f.prototype.AA=function(t){if(null===t)return this;if(this.D&&Uh.la(this),Uh.isArray(t))for(var e=Uh.Xa(t),i=0;e>i;i++)this.remove(Uh.Pa(t,i));else for(t=t.i;t.next();)this.remove(t.value);return this},f.prototype.retainAll=function(t){if(null===t||0===this.count)return this;this.D&&Uh.la(this);var e=new f(this.ja);e.Tc(t),t=[];for(var i=this.i;i.next();){var n=i.value;e.contains(n)||t.push(n)}return this.AA(t),this},f.prototype.clear=f.prototype.clear=function(){this.D&&Uh.la(this),this.ld={},this.kd=0,this.Jh=this.Ea=null,this.Ac()},f.prototype.copy=function(){var t,e=new f(this.ja),i=this.ld;for(t in i)e.add(i[t].value);return e},f.prototype.toArray=f.prototype.dc=function(){var t,e=Array(this.kd),i=this.ld,n=0;for(t in i)e[n]=i[t].value,n++;return e},f.prototype.toList=function(){var t,e=new u(this.ja),i=this.ld;for(t in i)e.add(i[t].value);return e},Uh.u(f,{count:"count"},function(){return this.kd}),Uh.u(f,{size:"size"},function(){return this.kd}),Uh.u(f,{i:"iterator"},function(){if(0>=this.kd)return Wh;var t=this.Xb;return null!==t?(t.reset(),t):new c(this)}),Uh.Nd(d,{key:!0,value:!0}),Uh.u(d,{i:"iterator"},function(){return this}),d.prototype.reset=d.prototype.reset=function(){this.hb=this.Ha.F,this.gb=null},d.prototype.next=d.prototype.hasNext=d.prototype.next=function(){var t=this.Ha;if(t.F!==this.hb){if(null===this.key)return!1;Uh.La(t)}var e=this.gb,e=null===e?t.Ea:e.Wa;return null!==e?(this.gb=e,this.value=this.key=t=e.key,!0):(this.Df(),!1)},d.prototype.first=d.prototype.first=function(){var t=this.Ha;return this.hb=t.F,t=t.Ea,null!==t?(this.gb=t,this.value=this.key=t=t.key):null},d.prototype.any=function(t){var e=this.Ha,i=e.F;this.gb=null;for(var n=e.Ea;null!==n;){if(t(n.key))return!0;e.F!==i&&Uh.La(e),n=n.Wa}return!1},d.prototype.all=function(t){var e=this.Ha,i=e.F;this.gb=null;for(var n=e.Ea;null!==n;){if(!t(n.key))return!1;e.F!==i&&Uh.La(e),n=n.Wa}return!0},d.prototype.each=function(t){var e=this.Ha,i=e.F;this.gb=null;for(var n=e.Ea;null!==n;)t(n.key),e.F!==i&&Uh.La(e),n=n.Wa;return this},d.prototype.map=function(t){var e=this.Ha,i=e.F;this.gb=null;for(var n=new u,r=e.Ea;null!==r;)n.add(t(r.key)),e.F!==i&&Uh.La(e),r=r.Wa;return n.i},d.prototype.filter=function(t){var e=this.Ha,i=e.F;this.gb=null;for(var n=new u(e.zi),r=e.Ea;null!==r;){var o=r.key;t(o)&&n.add(o),e.F!==i&&Uh.La(e),r=r.Wa}return n.i},d.prototype.concat=function(t){return new a(this,t.i)},Uh.u(d,{count:"count"},function(){return this.Ha.kd}),d.prototype.Df=function(){this.value=this.key=null,this.hb=-1},d.prototype.toString=function(){return null!==this.gb?"MapKeySetIterator@"+this.gb.value:"MapKeySetIterator"},Uh.Ja(p,f),p.prototype.freeze=function(){return this},p.prototype.Oa=function(){return this},p.prototype.toString=function(){return"MapKeySet("+this.Ha.toString()+")"},p.prototype.add=p.prototype.set=p.prototype.add=function(){return Uh.k("This Set is read-only: "+this.toString()),!1},p.prototype.contains=p.prototype.has=p.prototype.contains=function(t){return this.Ha.contains(t)},p.prototype.remove=p.prototype["delete"]=p.prototype.remove=function(){return Uh.k("This Set is read-only: "+this.toString()),!1},p.prototype.clear=p.prototype.clear=function(){Uh.k("This Set is read-only: "+this.toString())},p.prototype.first=p.prototype.first=function(){var t=this.Ha.Ea;return null!==t?t.key:null},p.prototype.any=function(t){for(var e=this.Ha.Ea;null!==e;){if(t(e.key))return!0;e=e.Wa}return!1},p.prototype.all=function(t){for(var e=this.Ha.Ea;null!==e;){if(!t(e.key))return!1;e=e.Wa}return!0},p.prototype.each=function(t){for(var e=this.Ha.Ea;null!==e;)t(e.key),e=e.Wa;return this},p.prototype.map=function(t){for(var e=new f,i=this.Ha.Ea;null!==i;)e.add(t(i.key)),i=i.Wa;return e},p.prototype.filter=function(t){for(var e=new f(this.Ha.zi),i=this.Ha.Ea;null!==i;){var n=i.key;t(n)&&e.add(n),i=i.Wa}return e},p.prototype.concat=function(t){return this.GF().Tc(t)},p.prototype.copy=function(){return new p(this.Ha)},p.prototype.toSet=p.prototype.GF=function(){var t,e=new f(this.Ha.zi),i=this.Ha.ld;for(t in i)e.add(i[t].key);return e},p.prototype.toArray=p.prototype.dc=function(){var t,e=this.Ha.ld,i=Array(this.Ha.kd),n=0;for(t in e)i[n]=e[t].key,n++;return i},p.prototype.toList=function(){var t,e=new u(this.ja),i=this.Ha.ld;for(t in i)e.add(i[t].key);return e},Uh.u(p,{count:"count"},function(){return this.Ha.kd}),Uh.u(p,{size:"size"},function(){return this.Ha.kd}),Uh.u(p,{i:"iterator"},function(){return 0>=this.Ha.kd?Wh:new d(this.Ha)}),Uh.Nd(g,{key:!0,value:!0}),Uh.u(g,{i:"iterator"},function(){return this}),g.prototype.reset=g.prototype.reset=function(){var t=this.Ha;t.yj=null,this.hb=t.F,this.gb=null},g.prototype.next=g.prototype.hasNext=g.prototype.next=function(){var t=this.Ha;if(t.F!==this.hb){if(null===this.key)return!1;Uh.La(t)}var e=this.gb,e=null===e?t.Ea:e.Wa;return null!==e?(this.gb=e,this.value=e.value,this.key=e.key,!0):(this.Df(),!1)},g.prototype.first=g.prototype.first=function(){var t=this.Ha;if(this.hb=t.F,t=t.Ea,null!==t){this.gb=t;var e=t.value;return this.key=t.key,this.value=e}return null},g.prototype.any=function(t){var e=this.Ha;e.yj=null;var i=e.F;this.gb=null;for(var n=e.Ea;null!==n;){if(t(n.value))return!0;e.F!==i&&Uh.La(e),n=n.Wa}return!1},g.prototype.all=function(t){var e=this.Ha;e.yj=null;var i=e.F;this.gb=null;for(var n=e.Ea;null!==n;){if(!t(n.value))return!1;e.F!==i&&Uh.La(e),n=n.Wa}return!0},g.prototype.each=function(t){var e=this.Ha;e.yj=null;var i=e.F;this.gb=null;for(var n=e.Ea;null!==n;)t(n.value),e.F!==i&&Uh.La(e),n=n.Wa;return this},g.prototype.map=function(t){var e=this.Ha;e.yj=null;var i=e.F;this.gb=null;for(var n=new u,r=e.Ea;null!==r;)n.add(t(r.value)),e.F!==i&&Uh.La(e),r=r.Wa;return n.i},g.prototype.filter=function(t){var e=this.Ha;e.yj=null;var i=e.F;this.gb=null;for(var n=new u(e.zi),r=e.Ea;null!==r;){var o=r.value;t(o)&&n.add(o),e.F!==i&&Uh.La(e),r=r.Wa}return n.i},g.prototype.concat=function(t){return this.Ha.yj=null,new a(this,t.i)},Uh.u(g,{count:"count"},function(){return this.Ha.kd}),g.prototype.Df=function(){this.value=this.key=null,this.hb=-1,this.Ha.yj=this},g.prototype.toString=function(){return null!==this.gb?"MapValueSetIterator@"+this.gb.value:"MapValueSetIterator"},Uh.Nd(v,{key:!0,value:!0}),v.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"},Uh.Nd(m,{key:!0,value:!0}),Uh.u(m,{i:"iterator"},function(){return this}),m.prototype.reset=m.prototype.reset=function(){var t=this.Ha;t.Xb=null,this.hb=t.F,this.gb=null},m.prototype.next=m.prototype.hasNext=m.prototype.next=function(){var t=this.Ha;if(t.F!==this.hb){if(null===this.key)return!1;Uh.La(t)}var e=this.gb,e=null===e?t.Ea:e.Wa;return null!==e?(this.gb=e,this.key=e.key,this.value=e.value,!0):(this.Df(),!1)},m.prototype.first=m.prototype.first=function(){var t=this.Ha;return this.hb=t.F,t=t.Ea,null!==t?(this.gb=t,this.key=t.key,this.value=t.value,t):null},m.prototype.any=function(t){var e=this.Ha;e.Xb=null;var i=e.F;this.gb=null;for(var n=e.Ea;null!==n;){if(t(n))return!0;e.F!==i&&Uh.La(e),n=n.Wa}return!1},m.prototype.all=function(t){var e=this.Ha;e.Xb=null;var i=e.F;this.gb=null;for(var n=e.Ea;null!==n;){if(!t(n))return!1;e.F!==i&&Uh.La(e),n=n.Wa}return!0},m.prototype.each=function(t){var e=this.Ha;e.Xb=null;var i=e.F;this.gb=null;for(var n=e.Ea;null!==n;)t(n),e.F!==i&&Uh.La(e),n=n.Wa;return this},m.prototype.map=function(t){var e=this.Ha;e.Xb=null;var i=e.F;this.gb=null;for(var n=new u,r=e.Ea;null!==r;)n.add(t(r)),e.F!==i&&Uh.La(e),r=r.Wa;return n.i},m.prototype.filter=function(t){var e=this.Ha;e.Xb=null;var i=e.F;this.gb=null;for(var n=new u,r=e.Ea;null!==r;)t(r)&&n.add(r),e.F!==i&&Uh.La(e),r=r.Wa;return n.i},m.prototype.concat=function(t){return this.Ha.Xb=null,new a(this,t.i)},Uh.u(m,{count:"count"},function(){return this.Ha.kd}),m.prototype.Df=function(){this.value=this.key=null,this.hb=-1,this.Ha.Xb=this},m.prototype.toString=function(){return null!==this.gb?"MapIterator@"+this.gb:"MapIterator"},Uh.ea("Map",y),y.prototype.Ac=function(){var t=this.F;t++,t>999999999&&(t=0),this.F=t},y.prototype.freeze=y.prototype.freeze=function(){return this.D=!0,this},y.prototype.thaw=y.prototype.Oa=function(){return this.D=!1,this},y.prototype.toString=function(){return"Map("+Uh.getTypeName(this.zi)+","+Uh.getTypeName(this.Os)+")#"+Uh.pd(this)},y.prototype.add=y.prototype.set=y.prototype.add=function(t,e){this.D&&Uh.la(this,t);var i=t;Uh.Va(t)&&(i=Uh.zt(t));var n=this.ld[i];return void 0===n?(this.kd++,n=new v(t,e),this.ld[i]=n,i=this.Jh,null===i?this.Ea=n:(n.uo=i,i.Wa=n),this.Jh=n,this.Ac(),!0):(n.value=e,!1)},y.prototype.addAll=y.prototype.Tc=function(t){if(null===t)return this;if(Uh.isArray(t))for(var e=Uh.Xa(t),i=0;e>i;i++){var n=Uh.Pa(t,i);this.add(n.key,n.value)}else for(t=t.i;t.next();)this.add(t.key,t.value);return this},y.prototype.first=y.prototype.first=function(){return this.Ea},y.prototype.any=function(t){for(var e=this.F,i=this.Ea;null!==i;){if(t(i))return!0;this.F!==e&&Uh.La(this),i=i.Wa}return!1},y.prototype.all=function(t){for(var e=this.F,i=this.Ea;null!==i;){if(!t(i))return!1;this.F!==e&&Uh.La(this),i=i.Wa}return!0},y.prototype.each=function(t){for(var e=this.F,i=this.Ea;null!==i;)t(i),this.F!==e&&Uh.La(this),i=i.Wa;return this},y.prototype.map=function(t){for(var e=new y(this.zi),i=this.F,n=this.Ea;null!==n;)e.add(n.key,t(n)),this.F!==i&&Uh.La(this),n=n.Wa;return e},y.prototype.filter=function(t){for(var e=new y(this.zi,this.Os),i=this.F,n=this.Ea;null!==n;)t(n)&&e.add(n.key,n.value),this.F!==i&&Uh.La(this),n=n.Wa;return e},y.prototype.concat=function(t){return this.copy().Tc(t)},y.prototype.contains=y.prototype.has=y.prototype.contains=function(t){var e=t;return Uh.Va(t)&&(e=Uh.pd(t),void 0===e)?!1:void 0!==this.ld[e]},y.prototype.getValue=y.prototype.get=y.prototype.ka=function(t){var e=t;return Uh.Va(t)&&(e=Uh.pd(t),void 0===e)?null:(t=this.ld[e],void 0===t?null:t.value)},y.prototype.remove=y.prototype["delete"]=y.prototype.remove=function(t){if(null===t)return!1;this.D&&Uh.la(this,t);var e=t;if(Uh.Va(t)&&(e=Uh.pd(t),void 0===e))return!1;if(t=this.ld[e],void 0===t)return!1;var i=t.Wa,n=t.uo;return null!==i&&(i.uo=n),null!==n&&(n.Wa=i),this.Ea===t&&(this.Ea=i),this.Jh===t&&(this.Jh=n),delete this.ld[e],this.kd--,this.Ac(),!0},y.prototype.clear=y.prototype.clear=function(){this.D&&Uh.la(this),this.ld={},this.kd=0,this.Jh=this.Ea=null,this.Ac()},y.prototype.copy=function(){var t,e=new y(this.zi,this.Os),i=this.ld;for(t in i){var n=i[t];e.add(n.key,n.value)}return e},y.prototype.toArray=y.prototype.dc=function(){var t,e=this.ld,i=Array(this.kd),n=0;for(t in e){var r=e[t];i[n]=new v(r.key,r.value),n++}return i},y.prototype.toKeySet=y.prototype.fj=function(){return new p(this)},Uh.u(y,{count:"count"},function(){return this.kd}),Uh.u(y,{size:"size"},function(){return this.kd}),Uh.u(y,{i:"iterator"},function(){if(0>=this.count)return Wh;var t=this.Xb;return null!==t?(t.reset(),t):new m(this)}),Uh.u(y,{ME:"iteratorKeys"},function(){return 0>=this.count?Wh:new d(this)}),Uh.u(y,{NE:"iteratorValues"},function(){if(0>=this.count)return Wh;var t=this.yj;return null!==t?(t.reset(),t):new g(this)}),Uh.ea("Point",b),Uh.Zh(b),Uh.Nd(b,{x:!0,y:!0}),b.prototype.assign=function(t){this.x=t.x,this.y=t.y},b.prototype.setTo=b.prototype.m=function(t,e){return this.x=t,this.y=e,this},b.prototype.set=b.prototype.set=function(t){return this.Eb(),this.x=t.x,this.y=t.y,this},b.prototype.copy=function(){var t=new b;return t.x=this.x,t.y=this.y,t},Bh=b.prototype,Bh.Fa=function(){return this.D=!0,Object.freeze(this),this},Bh.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},Bh.freeze=function(){return this.D=!0,this},Bh.Oa=function(){return Object.isFrozen(this)&&Uh.k("cannot thaw constant: "+this),this.D=!1,this},Bh.Eb=function(t){if(this.D){var e="The Point is frozen, so its properties cannot be set: "+this.toString();void 0!==t&&(e+="  to value: "+t),Uh.k(e)}},b.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;return(n=t[e++])&&(r=parseFloat(n)),new b(i,r)}return new b},b.stringify=function(t){return t instanceof b?t.x.toString()+" "+t.y.toString():t.toString()},b.prototype.toString=function(){return"Point("+this.x+","+this.y+")"},b.prototype.equals=b.prototype.L=function(t){return t instanceof b?this.x===t.x&&this.y===t.y:!1},b.prototype.equalTo=b.prototype.Pw=function(t,e){return this.x===t&&this.y===e},b.prototype.equalsApprox=b.prototype.od=function(t){return _u.G(this.x,t.x)&&_u.G(this.y,t.y)},b.prototype.add=b.prototype.add=function(t){return this.Eb(),this.x+=t.x,this.y+=t.y,this},b.prototype.subtract=b.prototype.ou=function(t){return this.Eb(),this.x-=t.x,this.y-=t.y,this},b.prototype.offset=b.prototype.offset=function(t,e){return this.Eb(),this.x+=t,this.y+=e,this},b.prototype.rotate=b.prototype.rotate=function(t){if(this.Eb(),0===t)return this;var e=this.x,i=this.y;if(0===e&&0===i)return this;var n=0,r=0;return t>=360?t-=360:0>t&&(t+=360),90===t?(n=0,r=1):180===t?(n=-1,r=0):270===t?(n=0,r=-1):(t=t*Math.PI/180,n=Math.cos(t),r=Math.sin(t)),this.x=n*e-r*i,this.y=r*e+n*i,this},b.prototype.scale=b.prototype.scale=function(t,e){return this.x*=t,this.y*=e,this},b.prototype.distanceSquaredPoint=b.prototype.$j=function(t){var e=t.x-this.x;return t=t.y-this.y,e*e+t*t},b.prototype.distanceSquared=b.prototype.bp=function(t,e){var i=t-this.x,n=e-this.y;return i*i+n*n},b.prototype.normalize=b.prototype.normalize=function(){this.Eb();var t=this.x,e=this.y,i=Math.sqrt(t*t+e*e);return i>0&&(this.x=t/i,this.y=e/i),this},b.prototype.directionPoint=b.prototype.dh=function(t){return x(t.x-this.x,t.y-this.y)},b.prototype.direction=b.prototype.direction=function(t,e){return x(t-this.x,e-this.y)},b.prototype.projectOntoLineSegment=function(t,e,i,n){return _u.fn(t,e,i,n,this.x,this.y,this),this},b.prototype.projectOntoLineSegmentPoint=function(t,e){return _u.fn(t.x,t.y,e.x,e.y,this.x,this.y,this),this},b.prototype.snapToGrid=function(t,e,i,n){return _u.ot(this.x,this.y,t,e,i,n,this),this},b.prototype.snapToGridPoint=function(t,e){return _u.ot(this.x,this.y,t.x,t.y,e.width,e.height,this),this},b.prototype.setRectSpot=b.prototype.iu=function(t,e){return this.Eb(),this.x=t.x+e.x*t.width+e.offsetX,this.y=t.y+e.y*t.height+e.offsetY,this},b.prototype.setSpot=b.prototype.ku=function(t,e,i,n,r){return this.Eb(),this.x=t+r.x*i+r.offsetX,this.y=e+r.y*n+r.offsetY,this},b.prototype.transform=function(t){return t.xb(this),this};var Kh;b.distanceLineSegmentSquared=Kh=function(t,e,i,n,r,o){var s=r-i,a=o-n,l=s*s+a*a;i-=t,n-=e;var h=-i*s-n*a;return 0>=h||h>=l?(s=r-t,a=o-e,Math.min(i*i+n*n,s*s+a*a)):(t=s*n-a*i,t*t/l)};var Yh;b.distanceSquared=Yh=function(t,e,i,n){return t=i-t,e=n-e,t*t+e*e};var Jh;b.direction=Jh=function(t,e,i,n){return t=i-t,e=n-e,0===t?e>0?90:0>e?270:0:0===e?t>0?0:180:isNaN(t)||isNaN(e)?0:(n=180*Math.atan(Math.abs(e/t))/Math.PI,0>t?n=0>e?n+180:180-n:0>e&&(n=360-n),n)},b.prototype.isReal=b.prototype.K=function(){return isFinite(this.x)&&isFinite(this.y)},Uh.ea("Size",k),Uh.Zh(k),Uh.Nd(k,{width:!0,height:!0}),k.prototype.assign=function(t){this.width=t.width,this.height=t.height},k.prototype.setTo=k.prototype.m=function(t,e){return this.width=t,this.height=e,this},k.prototype.set=k.prototype.set=function(t){return this.Eb(),this.width=t.width,this.height=t.height,this},k.prototype.copy=function(){var t=new k;return t.width=this.width,t.height=this.height,t},Bh=k.prototype,Bh.Fa=function(){return this.D=!0,Object.freeze(this),this},Bh.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},Bh.freeze=function(){return this.D=!0,this},Bh.Oa=function(){return Object.isFrozen(this)&&Uh.k("cannot thaw constant: "+this),this.D=!1,this},Bh.Eb=function(t){if(this.D){var e="The Size is frozen, so its properties cannot be set: "+this.toString();void 0!==t&&(e+="  to value: "+t),Uh.k(e)}},k.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;return(n=t[e++])&&(r=parseFloat(n)),new k(i,r)}return new k},k.stringify=function(t){return t instanceof k?t.width.toString()+" "+t.height.toString():t.toString()},k.prototype.toString=function(){return"Size("+this.width+","+this.height+")"},k.prototype.equals=k.prototype.L=function(t){return t instanceof k?this.width===t.width&&this.height===t.height:!1},k.prototype.equalTo=k.prototype.Pw=function(t,e){return this.width===t&&this.height===e},k.prototype.equalsApprox=k.prototype.od=function(t){return _u.G(this.width,t.width)&&_u.G(this.height,t.height)},k.prototype.isReal=k.prototype.K=function(){return isFinite(this.width)&&isFinite(this.height)},Uh.ea("Rect",T),Uh.Zh(T),Uh.Nd(T,{x:!0,y:!0,width:!0,height:!0}),T.prototype.assign=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},T.prototype.setTo=T.prototype.m=function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},T.prototype.set=T.prototype.set=function(t){return this.Eb(),this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},T.prototype.setPoint=T.prototype.Af=function(t){return this.Eb(),this.x=t.x,this.y=t.y,this},T.prototype.setSize=function(t){return this.Eb(),this.width=t.width,this.height=t.height,this},T.prototype.copy=function(){var t=new T;return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},Bh=T.prototype,Bh.Fa=function(){return this.D=!0,Object.freeze(this),this},Bh.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},Bh.freeze=function(){return this.D=!0,this},Bh.Oa=function(){return Object.isFrozen(this)&&Uh.k("cannot thaw constant: "+this),this.D=!1,this},Bh.Eb=function(t){if(this.D){var e="The Rect is frozen, so its properties cannot be set: "+this.toString();void 0!==t&&(e+="  to value: "+t),Uh.k(e)}},T.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;(n=t[e++])&&(r=parseFloat(n));for(var o=0;""===t[e];)e++;(n=t[e++])&&(o=parseFloat(n));for(var s=0;""===t[e];)e++;return(n=t[e++])&&(s=parseFloat(n)),new T(i,r,o,s)}return new T},T.stringify=function(t){return t instanceof T?t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString():t.toString()},T.prototype.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},T.prototype.equals=T.prototype.L=function(t){return t instanceof T?this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height:!1},T.prototype.equalTo=T.prototype.Pw=function(t,e,i,n){return this.x===t&&this.y===e&&this.width===i&&this.height===n},T.prototype.equalsApprox=T.prototype.od=function(t){return _u.G(this.x,t.x)&&_u.G(this.y,t.y)&&_u.G(this.width,t.width)&&_u.G(this.height,t.height)},T.prototype.containsPoint=T.prototype.Ga=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},T.prototype.containsRect=T.prototype.Zj=function(t){return this.x<=t.x&&t.x+t.width<=this.x+this.width&&this.y<=t.y&&t.y+t.height<=this.y+this.height},T.prototype.contains=T.prototype.contains=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),this.x<=t&&t+i<=this.x+this.width&&this.y<=e&&e+n<=this.y+this.height},T.prototype.reset=function(){this.Eb(),this.height=this.width=this.y=this.x=0},T.prototype.offset=T.prototype.offset=function(t,e){return this.Eb(),this.x+=t,this.y+=e,this},T.prototype.inflate=T.prototype.Qf=function(t,e){return C(this,e,t,e,t)},T.prototype.addMargin=T.prototype.vw=function(t){return C(this,t.top,t.right,t.bottom,t.left)},T.prototype.subtractMargin=T.prototype.uJ=function(t){return C(this,-t.top,-t.right,-t.bottom,-t.left)},T.prototype.grow=function(t,e,i,n){return C(this,t,e,i,n)},T.prototype.intersectRect=function(t){return M(this,t.x,t.y,t.width,t.height)},T.prototype.intersect=function(t,e,i,n){return M(this,t,e,i,n)},T.prototype.intersectsRect=T.prototype.xg=function(t){return this.yE(t.x,t.y,t.width,t.height)},T.prototype.intersects=T.prototype.yE=function(t,e,i,n){var r=this.width,o=this.x;return 1/0!==r&&1/0!==i&&(r+=o,i+=t,isNaN(i)||isNaN(r)||o>i||t>r)?!1:(t=this.height,i=this.y,1/0!==t&&1/0!==n&&(t+=i,n+=e,isNaN(n)||isNaN(t)||i>n||e>t)?!1:!0)},T.prototype.unionPoint=T.prototype.gj=function(t){return P(this,t.x,t.y,0,0)},T.prototype.unionRect=T.prototype.fi=function(t){return P(this,t.x,t.y,t.width,t.height)},T.prototype.union=T.prototype.PF=function(t,e,i,n){return this.Eb(),void 0===i&&(i=0),void 0===n&&(n=0),P(this,t,e,i,n)},T.prototype.setSpot=T.prototype.ku=function(t,e,i){return this.Eb(),this.x=t-i.offsetX-i.x*this.width,this.y=e-i.offsetY-i.y*this.height,this};var Xh;T.contains=Xh=function(t,e,i,n,r,o,s,a){return void 0===s&&(s=0),void 0===a&&(a=0),r>=t&&t+i>=r+s&&o>=e&&e+n>=o+a},T.intersects=function(t,e,i,n,r,o,s,a){return i+=t,s+=r,t>s||r>i?!1:(t=n+e,a+=o,e>a||o>t?!1:!0)},Uh.defineProperty(T,{left:"left"},function(){return this.x},function(t){this.Eb(t),this.x=t}),Uh.defineProperty(T,{top:"top"},function(){return this.y},function(t){this.Eb(t),this.y=t}),Uh.defineProperty(T,{right:"right"},function(){return this.x+this.width},function(t){this.Eb(t),this.x+=t-(this.x+this.width)}),Uh.defineProperty(T,{bottom:"bottom"},function(){return this.y+this.height},function(t){this.Eb(t),this.y+=t-(this.y+this.height)}),Uh.defineProperty(T,{position:"position"},function(){return new b(this.x,this.y)},function(t){this.Eb(t),this.x=t.x,this.y=t.y}),Uh.defineProperty(T,{size:"size"},function(){return new k(this.width,this.height)},function(t){this.Eb(t),this.width=t.width,this.height=t.height}),Uh.defineProperty(T,{hl:"center"},function(){return new b(this.x+this.width/2,this.y+this.height/2)},function(t){this.Eb(t),this.x=t.x-this.width/2,this.y=t.y-this.height/2}),Uh.defineProperty(T,{oa:"centerX"},function(){return this.x+this.width/2},function(t){this.Eb(t),this.x=t-this.width/2}),Uh.defineProperty(T,{va:"centerY"},function(){return this.y+this.height/2},function(t){this.Eb(t),this.y=t-this.height/2
}),T.prototype.isReal=T.prototype.K=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},T.prototype.isEmpty=function(){return 0===this.width&&0===this.height},Uh.ea("Margin",D),Uh.Zh(D),Uh.Nd(D,{top:!0,right:!0,bottom:!0,left:!0}),D.prototype.assign=function(t){this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left},D.prototype.setTo=D.prototype.m=function(t,e,i,n){return this.Eb(),this.top=t,this.right=e,this.bottom=i,this.left=n,this},D.prototype.set=D.prototype.set=function(t){return this.Eb(),this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},D.prototype.copy=function(){var t=new D;return t.top=this.top,t.right=this.right,t.bottom=this.bottom,t.left=this.left,t},Bh=D.prototype,Bh.Fa=function(){return this.D=!0,Object.freeze(this),this},Bh.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},Bh.freeze=function(){return this.D=!0,this},Bh.Oa=function(){return Object.isFrozen(this)&&Uh.k("cannot thaw constant: "+this),this.D=!1,this},Bh.Eb=function(t){if(this.D){var e="The Margin is frozen, so its properties cannot be set: "+this.toString();void 0!==t&&(e+="  to value: "+t),Uh.k(e)}},D.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0/0;""===t[e];)e++;var n=t[e++];if(n&&(i=parseFloat(n)),isNaN(i))return new D;for(var r=0/0;""===t[e];)e++;if((n=t[e++])&&(r=parseFloat(n)),isNaN(r))return new D(i);for(var o=0/0;""===t[e];)e++;if((n=t[e++])&&(o=parseFloat(n)),isNaN(o))return new D(i,r);for(var s=0/0;""===t[e];)e++;return(n=t[e++])&&(s=parseFloat(n)),isNaN(s)?new D(i,r):new D(i,r,o,s)}return new D},D.stringify=function(t){return t instanceof D?t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString():t.toString()},D.prototype.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},D.prototype.equals=D.prototype.L=function(t){return t instanceof D?this.top===t.top&&this.right===t.right&&this.bottom===t.bottom&&this.left===t.left:!1},D.prototype.equalTo=D.prototype.Pw=function(t,e,i,n){return this.top===t&&this.right===e&&this.bottom===i&&this.left===n},D.prototype.equalsApprox=D.prototype.od=function(t){return _u.G(this.top,t.top)&&_u.G(this.right,t.right)&&_u.G(this.bottom,t.bottom)&&_u.G(this.left,t.left)},D.prototype.isReal=D.prototype.K=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},Uh.Zh(A),Uh.Nd(A,{m11:!0,m12:!0,m21:!0,m22:!0,dx:!0,dy:!0}),A.prototype.set=A.prototype.set=function(t){return this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this},A.prototype.copy=function(){var t=new A;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t},A.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},A.prototype.equals=A.prototype.L=function(t){return t instanceof A?this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy:!1},A.prototype.isIdentity=A.prototype.Ft=function(){return 1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22&&0===this.dx&&0===this.dy},A.prototype.reset=A.prototype.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},A.prototype.multiply=A.prototype.multiply=function(t){var e=this.m12*t.m11+this.m22*t.m12,i=this.m11*t.m21+this.m21*t.m22,n=this.m12*t.m21+this.m22*t.m22,r=this.m11*t.dx+this.m21*t.dy+this.dx,o=this.m12*t.dx+this.m22*t.dy+this.dy;return this.m11=this.m11*t.m11+this.m21*t.m12,this.m12=e,this.m21=i,this.m22=n,this.dx=r,this.dy=o,this},A.prototype.multiplyInverted=A.prototype.VE=function(t){var e=1/(t.m11*t.m22-t.m12*t.m21),i=t.m22*e,n=-t.m12*e,r=-t.m21*e,o=t.m11*e,s=e*(t.m21*t.dy-t.m22*t.dx),a=e*(t.m12*t.dx-t.m11*t.dy);return t=this.m12*i+this.m22*n,e=this.m11*r+this.m21*o,r=this.m12*r+this.m22*o,o=this.m11*s+this.m21*a+this.dx,s=this.m12*s+this.m22*a+this.dy,this.m11=this.m11*i+this.m21*n,this.m12=t,this.m21=e,this.m22=r,this.dx=o,this.dy=s,this},A.prototype.invert=A.prototype.Vz=function(){var t=1/(this.m11*this.m22-this.m12*this.m21),e=-this.m12*t,i=-this.m21*t,n=this.m11*t,r=t*(this.m21*this.dy-this.m22*this.dx),o=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*t,this.m12=e,this.m21=i,this.m22=n,this.dx=r,this.dy=o,this},A.prototype.rotate=A.prototype.rotate=function(t,e,i){if(t>=360?t-=360:0>t&&(t+=360),0===t)return this;this.translate(e,i);var n=0,r=0;90===t?(n=0,r=1):180===t?(n=-1,r=0):270===t?(n=0,r=-1):(r=t*Math.PI/180,n=Math.cos(r),r=Math.sin(r)),t=this.m12*n+this.m22*r;var o=this.m11*-r+this.m21*n,s=this.m12*-r+this.m22*n;return this.m11=this.m11*n+this.m21*r,this.m12=t,this.m21=o,this.m22=s,this.translate(-e,-i),this},A.prototype.translate=A.prototype.translate=function(t,e){return this.dx+=this.m11*t+this.m21*e,this.dy+=this.m12*t+this.m22*e,this},A.prototype.scale=A.prototype.scale=function(t,e){return void 0===e&&(e=t),this.m11*=t,this.m12*=t,this.m21*=e,this.m22*=e,this},A.prototype.transformPoint=A.prototype.xb=function(t){var e=t.x,i=t.y;return t.x=e*this.m11+i*this.m21+this.dx,t.y=e*this.m12+i*this.m22+this.dy,t},A.prototype.invertedTransformPoint=A.prototype.ai=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),i=-this.m12*e,n=this.m11*e,r=e*(this.m12*this.dx-this.m11*this.dy),o=t.x,s=t.y;return t.x=o*this.m22*e+s*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),t.y=o*i+s*n+r,t},A.prototype.transformRect=A.prototype.NF=function(t){var e=t.x,i=t.y,n=e+t.width,r=i+t.height,o=this.m11,s=this.m12,a=this.m21,l=this.m22,h=this.dx,u=this.dy,c=e*o+i*a+h,f=e*s+i*l+u,d=n*o+i*a+h,i=n*s+i*l+u,p=e*o+r*a+h,e=e*s+r*l+u,o=n*o+r*a+h,n=n*s+r*l+u,r=c,s=f,c=Math.min(c,d),r=Math.max(r,d),s=Math.min(s,i),f=Math.max(f,i),c=Math.min(c,p),r=Math.max(r,p),s=Math.min(s,e),f=Math.max(f,e),c=Math.min(c,o),r=Math.max(r,o),s=Math.min(s,n),f=Math.max(f,n);return t.x=c,t.y=s,t.width=r-c,t.height=f-s,t},Uh.ea("Spot",E),Uh.Zh(E),Uh.Nd(E,{x:!0,y:!0,offsetX:!0,offsetY:!0}),E.prototype.assign=function(t){this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY},E.prototype.setTo=E.prototype.m=function(t,e,i,n){return this.Eb(),this.x=t,this.y=e,this.offsetX=i,this.offsetY=n,this},E.prototype.set=E.prototype.set=function(t){return this.Eb(),this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},E.prototype.copy=function(){var t=new E;return t.x=this.x,t.y=this.y,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t},Bh=E.prototype,Bh.Fa=function(){return this.D=!0,Object.freeze(this),this},Bh.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},Bh.freeze=function(){return this.D=!0,this},Bh.Oa=function(){return Object.isFrozen(this)&&Uh.k("cannot thaw constant: "+this),this.D=!1,this},Bh.Eb=function(t){if(this.D){var e="The Spot is frozen, so its properties cannot be set: "+this.toString();void 0!==t&&(e+="  to value: "+t),Uh.k(e)}};var Qh;E.parse=Qh=function(t){if("string"==typeof t){if(t=t.trim(),"None"===t)return Zh;if("TopLeft"===t)return eu;if("Top"===t||"TopCenter"===t||"MiddleTop"===t)return iu;if("TopRight"===t)return nu;if("Left"===t||"LeftCenter"===t||"MiddleLeft"===t)return ru;if("Center"===t)return ou;if("Right"===t||"RightCenter"===t||"MiddleRight"===t)return su;if("BottomLeft"===t)return au;if("Bottom"===t||"BottomCenter"===t||"MiddleBottom"===t)return lu;if("BottomRight"===t)return hu;if("TopSide"===t)return yu;if("LeftSide"===t)return bu;if("RightSide"===t)return xu;if("BottomSide"===t)return wu;if("TopBottomSides"===t)return ku;if("LeftRightSides"===t)return Tu;if("TopLeftSides"===t)return $u;if("TopRightSides"===t)return Cu;if("BottomLeftSides"===t)return Mu;if("BottomRightSides"===t)return Su;if("NotTopSide"===t)return Pu;if("NotLeftSide"===t)return Du;if("NotRightSide"===t)return Au;if("NotBottomSide"===t)return Eu;if("AllSides"===t)return Nu;if("Default"===t)return tu;t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];void 0!==n&&0<n.length&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;n=t[e++],void 0!==n&&0<n.length&&(r=parseFloat(n));for(var o=0;""===t[e];)e++;n=t[e++],void 0!==n&&0<n.length&&(o=parseFloat(n));for(var s=0;""===t[e];)e++;return n=t[e++],void 0!==n&&0<n.length&&(s=parseFloat(n)),new E(i,r,o,s)}return new E},E.stringify=function(t){return t instanceof E&&t.fd()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()},E.prototype.toString=function(){return this.fd()?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.L(Zh)?"None":this.L(eu)?"TopLeft":this.L(iu)?"Top":this.L(nu)?"TopRight":this.L(ru)?"Left":this.L(ou)?"Center":this.L(su)?"Right":this.L(au)?"BottomLeft":this.L(lu)?"Bottom":this.L(hu)?"BottomRight":this.L(yu)?"TopSide":this.L(bu)?"LeftSide":this.L(xu)?"RightSide":this.L(wu)?"BottomSide":this.L(ku)?"TopBottomSides":this.L(Tu)?"LeftRightSides":this.L($u)?"TopLeftSides":this.L(Cu)?"TopRightSides":this.L(Mu)?"BottomLeftSides":this.L(Su)?"BottomRightSides":this.L(Pu)?"NotTopSide":this.L(Du)?"NotLeftSide":this.L(Au)?"NotRightSide":this.L(Eu)?"NotBottomSide":this.L(Nu)?"AllSides":this.L(tu)?"Default":"None"},E.prototype.equals=E.prototype.L=function(t){return t instanceof E?(this.x===t.x||isNaN(this.x)&&isNaN(t.x))&&(this.y===t.y||isNaN(this.y)&&isNaN(t.y))&&this.offsetX===t.offsetX&&this.offsetY===t.offsetY:!1},E.prototype.opposite=function(){return new E(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)},E.prototype.includesSide=E.prototype.jp=function(t){if(!this.$i())return!1;if(!t.$i())if(t.L(gu))t=bu;else if(t.L(vu))t=xu;else if(t.L(pu))t=yu;else{if(!t.L(mu))return!1;t=wu}return t=t.offsetY,(this.offsetY&t)===t},E.prototype.isSpot=E.prototype.fd=function(){return!isNaN(this.x)&&!isNaN(this.y)},E.prototype.isNoSpot=E.prototype.te=function(){return isNaN(this.x)||isNaN(this.y)},E.prototype.isSide=E.prototype.$i=function(){return this.te()&&1===this.offsetX&&0!==this.offsetY},E.prototype.isDefault=E.prototype.Uc=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY};var Zh;E.None=Zh=N(new E(0,0,0,0),0).Fa();var tu;E.Default=tu=N(new E(0,0,-1,0),-1).Fa();var eu;E.TopLeft=eu=new E(0,0,0,0).Fa();var iu;E.TopCenter=iu=new E(.5,0,0,0).Fa();var nu;E.TopRight=nu=new E(1,0,0,0).Fa();var ru;E.LeftCenter=ru=new E(0,.5,0,0).Fa();var ou;E.Center=ou=new E(.5,.5,0,0).Fa();var su;E.RightCenter=su=new E(1,.5,0,0).Fa();var au;E.BottomLeft=au=new E(0,1,0,0).Fa();var lu;E.BottomCenter=lu=new E(.5,1,0,0).Fa();var hu;E.BottomRight=hu=new E(1,1,0,0).Fa();var uu;E.MiddleTop=uu=iu;var cu;E.MiddleLeft=cu=ru;var fu;E.MiddleRight=fu=su;var du;E.MiddleBottom=du=lu;var pu;E.Top=pu=iu;var gu;E.Left=gu=ru;var vu;E.Right=vu=su;var mu;E.Bottom=mu=lu;var yu;E.TopSide=yu=N(new E(0,0,1,Uh.hd),1).Fa();var bu;E.LeftSide=bu=N(new E(0,0,1,Uh.Nc),1).Fa();var xu;E.RightSide=xu=N(new E(0,0,1,Uh.Xc),1).Fa();var wu;E.BottomSide=wu=N(new E(0,0,1,Uh.Wc),1).Fa();var ku;E.TopBottomSides=ku=N(new E(0,0,1,Uh.hd|Uh.Wc),1).Fa();var Tu;E.LeftRightSides=Tu=N(new E(0,0,1,Uh.Nc|Uh.Xc),1).Fa();var $u;E.TopLeftSides=$u=N(new E(0,0,1,Uh.hd|Uh.Nc),1).Fa();var Cu;E.TopRightSides=Cu=N(new E(0,0,1,Uh.hd|Uh.Xc),1).Fa();var Mu;E.BottomLeftSides=Mu=N(new E(0,0,1,Uh.Wc|Uh.Nc),1).Fa();var Su;E.BottomRightSides=Su=N(new E(0,0,1,Uh.Wc|Uh.Xc),1).Fa();var Pu;E.NotTopSide=Pu=N(new E(0,0,1,Uh.Nc|Uh.Xc|Uh.Wc),1).Fa();var Du;E.NotLeftSide=Du=N(new E(0,0,1,Uh.hd|Uh.Xc|Uh.Wc),1).Fa();var Au;E.NotRightSide=Au=N(new E(0,0,1,Uh.hd|Uh.Nc|Uh.Wc),1).Fa();var Eu;E.NotBottomSide=Eu=N(new E(0,0,1,Uh.hd|Uh.Nc|Uh.Xc),1).Fa();var Nu;E.AllSides=Nu=N(new E(0,0,1,Uh.hd|Uh.Nc|Uh.Xc|Uh.Wc),1).Fa(),_.prototype.copy=function(){var t=new _;return t.hf[0]=this.hf[0],t.hf[1]=this.hf[1],t.hf[2]=this.hf[2],t.hf[3]=this.hf[3],t.hf[4]=this.hf[4],t.hf[5]=this.hf[5],t},j.prototype.addColorStop=function(t,e){this.OD.push({offset:t,color:e})},Bh=O.prototype,Bh.arc=function(t,e,i,n,r,o){R(this,t,e,i,n,r,o)},Bh.beginPath=function(){this.path=[]},Bh.bezierCurveTo=function(t,e,i,n,r,o){this.path.push(["C",t,e,i,n,r,o])},Bh.clearRect=function(){},Bh.clip=function(){q(this,"clipPath",this.path,new _)},Bh.closePath=function(){this.path.push(["z"])},Bh.createLinearGradient=function(t,e,i,n){var r=new j("linear");return r.x1=t,r.y1=e,r.x2=i,r.y2=n,r},Bh.createPattern=function(){},Bh.createRadialGradient=function(t,e,i,n,r,o){var s=new j("radial");return s.x1=t,s.y1=e,s.r1=i,s.x2=n,s.y2=r,s.r2=o,s},Bh.drawImage=function(t,e,i,n,r,o,s,a,l){var h="";t instanceof HTMLCanvasElement&&(h=t.toDataURL()),t instanceof HTMLImageElement&&(h=t.src),h={x:0,y:0,width:t.naturalWidth,height:t.naturalHeight,href:h},h.preserveAspectRatio=_u.Qa(n,a)&&_u.Qa(r,l)?"xMidYMid slice":"none";var u="";a/=n,l/=r,(0!==o||0!==s)&&(u+=" translate("+o+", "+s+")"),(1!==a||1!==l)&&(u+=" scale("+a+", "+l+")"),(0!==e||0!==i)&&(u+=" translate("+-e+", "+-i+")"),(0!==e||0!==i||n!==t.naturalWidth||r!==t.naturalHeight)&&(t="CLIP"+Uh.Sl++,o=I(this,"clipPath",{id:t}),o.appendChild(I(this,"rect",{x:e,y:i,width:n,height:r})),this.Ml.appendChild(o),h["clip-path"]="url(#"+t+")"),L(this,"image",h,this.Wi,u),this.addElement("image",h)},Bh.fill=function(){q(this,"fill",this.path,this.Wi)},Bh.fillRect=function(t,e,i,n){z(this,"fill",[t,e,i,n],this.Wi)},Bh.fillText=function(t,e,i){t=[t,e,i],e=this.textAlign,"left"===e?e="start":"right"===e?e="end":"center"===e&&(e="middle"),e={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":e},L(this,"fill",e,this.Wi),this.addElement("text",e,t[0])},Bh.lineTo=function(t,e){this.path.push(["L",t,e])},Bh.moveTo=function(t,e){this.path.push(["M",t,e])},Bh.quadraticCurveTo=function(t,e,i,n){this.path.push(["Q",t,e,i,n])},Bh.rect=function(t,e,i,n){this.path.push(["M",t,e],["L",t+i,e],["L",t+i,e+n],["L",t,e+n],["z"])},Bh.restore=function(){this.Wi=this.stack.pop(),this.path=this.stack.pop();var t=this.stack.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.lx=t.lx,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign},Bh.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lx:this.lx,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var t=[],e=0;e<this.path.length;e++)t.push(this.path[e]);this.stack.push(t),this.stack.push(this.Wi.copy())},Bh.setTransform=function(t,e,i,n,r,o){1===t&&0===e&&0===i&&1===n&&0===r&&0===o||H(this,t,e,i,n,r,o)},Bh.scale=function(){},Bh.stroke=function(){q(this,"stroke",this.path,this.Wi)},Bh.strokeRect=function(t,e,i,n){z(this,"stroke",[t,e,i,n],this.Wi)},Bh.addElement=function(t,e,i){return t=I(this,t,e,i),0<this.uf.length?this.uf[this.uf.length-1].appendChild(t):this.Ml.appendChild(t),this.ix=t},Bh.ab=function(){if(0!==this.shadowOffsetX||0!==this.shadowOffsetY||0!==this.shadowBlur){var t,e,i,n,r,o="SHADOW"+Uh.Sl++,s=this.addElement("filter",{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},null);t=I(this,"feGaussianBlur",{"in":"SourceAlpha",result:"blur",yL:this.shadowBlur/2}),e=I(this,"feFlood",{"in":"blur",result:"flood","flood-color":this.shadowColor}),i=I(this,"feComposite",{"in":"flood",in2:"blur",operator:"in",result:"comp"}),n=I(this,"feOffset",{"in":"comp",result:"offsetBlur",dx:this.shadowOffsetX,dy:this.shadowOffsetY}),r=I(this,"feMerge",{}),r.appendChild(I(this,"feMergeNode",{"in":"offsetBlur"})),r.appendChild(I(this,"feMergeNode",{"in":"SourceGraphic"})),s.appendChild(t),s.appendChild(e),s.appendChild(i),s.appendChild(n),s.appendChild(r),0<this.uf.length&&this.uf[this.uf.length-1].setAttributeNS(null,"filter","url(#"+o+")")}},Bh=B.prototype,Bh.getContext=function(){return this.dH},Bh.toDataURL=function(t,e){return this.Od.toDataURL(t,e)},Bh.getBoundingClientRect=function(){return this.Od.getBoundingClientRect()},Bh.focus=function(){return this.Od.focus()},Bh.addEventListener=function(t,e,i){this.Od.addEventListener(t,e,i)},Bh.removeEventListener=function(t,e,i){this.Od.removeEventListener(t,e,i)},Uh.defineProperty(B,{width:"width"},function(){return this.Od.width},function(t){this.Od.width=t}),Uh.defineProperty(B,{height:"height"},function(){return this.Od.height},function(t){this.Od.height=t}),Uh.defineProperty(B,{style:"style"},function(){return this.Od.style},function(t){this.Od.style=t});var _u={Da:4*((Math.sqrt(2)-1)/3),mk:new b(0,0).Fa(),Yx:new T(0,0,0,0).Fa(),Wp:new D(0,0,0,0).Fa(),dG:new D(2,2,2,2).Fa(),bG:new b(6,6).Fa(),YF:new b(-1/0,-1/0).Fa(),XF:new b(1/0,1/0).Fa(),Xp:new k(0,0).Fa(),Vx:new k(1,1).Fa(),Vp:new k(6,6).Fa(),Sx:new k(8,8).Fa(),cG:new k(10,10).Fa(),eG:new k(1/0,1/0).Fa(),ZF:new b(0/0,0/0).Fa(),dB:new k(0/0,0/0).Fa(),$F:new T(0/0,0/0,0/0,0/0).Fa(),Wx:new n,ij:new n,fB:null,sqrt:function(t){if(0>=t)return 0;var e=_u.fB;if(null===e){for(var e=[],i=0;2e3>=i;i++)e[i]=Math.sqrt(i);_u.fB=e}return 1>t?(i=1/t,2e3>=i?1/e[0|i]:Math.sqrt(t)):2e3>=t?e[0|t]:Math.sqrt(t)},G:function(t,e){var i=t-e;return.5>i&&i>-.5},Qa:function(t,e){var i=t-e;return 5e-8>i&&i>-5e-8},Dd:function(t,e,i,n,r,o,s){0>=r&&(r=1e-6);var a=0,l=0,h=0,u=0;if(i>t?(l=t,a=i):(l=i,a=t),n>e?(u=e,h=n):(u=n,h=e),t===i)return s>=u&&h>=s&&o>=t-r&&t+r>=o;if(e===n)return o>=l&&a>=o&&s>=e-r&&e+r>=s;if(a+=r,l-=r,o>=l&&a>=o&&(h+=r,u-=r,s>=u&&h>=s))if(a-l>h-u){if(!(t-i>r||i-t>r))return!0;if(o=(n-e)/(i-t)*(o-t)+e,s>=o-r&&o+r>=s)return!0}else{if(!(e-n>r||n-e>r))return!0;if(s=(i-t)/(n-e)*(s-e)+t,o>=s-r&&s+r>=o)return!0}return!1},Ew:function(t,e,i,n,r,o,s,a,l,h,u,c){if(_u.Dd(t,e,s,a,c,i,n)&&_u.Dd(t,e,s,a,c,r,o))return _u.Dd(t,e,s,a,c,h,u);var f=(t+i)/2,d=(e+n)/2,p=(i+r)/2,g=(n+o)/2;r=(r+s)/2,o=(o+a)/2,n=(f+p)/2,i=(d+g)/2;var p=(p+r)/2,g=(g+o)/2,v=(n+p)/2,m=(i+g)/2;return _u.Ew(t,e,f,d,n,i,v,m,l,h,u,c)||_u.Ew(v,m,p,g,r,o,s,a,l,h,u,c)},TG:function(t,e,i,n,r,o,s,a,l){var h=(i+r)/2,u=(n+o)/2;return l.x=(((t+i)/2+h)/2+(h+(r+s)/2)/2)/2,l.y=(((e+n)/2+u)/2+(u+(o+a)/2)/2)/2,l},SG:function(t,e,i,n,r,o,s,a){var l=(i+r)/2,h=(n+o)/2;return Jh(((t+i)/2+l)/2,((e+n)/2+h)/2,(l+(r+s)/2)/2,(h+(o+a)/2)/2)},So:function(t,e,i,n,r,o,s,a,l,h){if(_u.Dd(t,e,s,a,l,i,n)&&_u.Dd(t,e,s,a,l,r,o))P(h,t,e,0,0),P(h,s,a,0,0);else{var u=(t+i)/2,c=(e+n)/2,f=(i+r)/2,d=(n+o)/2;r=(r+s)/2,o=(o+a)/2,n=(u+f)/2,i=(c+d)/2;var f=(f+r)/2,d=(d+o)/2,p=(n+f)/2,g=(i+d)/2;_u.So(t,e,u,c,n,i,p,g,l,h),_u.So(p,g,f,d,r,o,s,a,l,h)}return h},pe:function(t,e,i,n,r,o,s,a,l,h){if(_u.Dd(t,e,s,a,l,i,n)&&_u.Dd(t,e,s,a,l,r,o))0===h.length&&(h.push(t),h.push(e)),h.push(s),h.push(a);else{var u=(t+i)/2,c=(e+n)/2,f=(i+r)/2,d=(n+o)/2;r=(r+s)/2,o=(o+a)/2,n=(u+f)/2,i=(c+d)/2;var f=(f+r)/2,d=(d+o)/2,p=(n+f)/2,g=(i+d)/2;_u.pe(t,e,u,c,n,i,p,g,l,h),_u.pe(p,g,f,d,r,o,s,a,l,h)}return h},tA:function(t,e,i,n,r,o,s,a,l,h){if(_u.Dd(t,e,r,o,h,i,n))return _u.Dd(t,e,r,o,h,a,l);var u=(t+i)/2,c=(e+n)/2;i=(i+r)/2,n=(n+o)/2;var f=(u+i)/2,d=(c+n)/2;return _u.tA(t,e,u,c,f,d,s,a,l,h)||_u.tA(f,d,i,n,r,o,s,a,l,h)},qL:function(t,e,i,n,r,o,s){return s.x=((t+i)/2+(i+r)/2)/2,s.y=((e+n)/2+(n+o)/2)/2,s},sA:function(t,e,i,n,r,o,s,a){if(_u.Dd(t,e,r,o,s,i,n))P(a,t,e,0,0),P(a,r,o,0,0);else{var l=(t+i)/2,h=(e+n)/2;i=(i+r)/2,n=(n+o)/2;var u=(l+i)/2,c=(h+n)/2;_u.sA(t,e,l,h,u,c,s,a),_u.sA(u,c,i,n,r,o,s,a)}return a},Ep:function(t,e,i,n,r,o,s,a){if(_u.Dd(t,e,r,o,s,i,n))0===a.length&&(a.push(t),a.push(e)),a.push(r),a.push(o);else{var l=(t+i)/2,h=(e+n)/2;i=(i+r)/2,n=(n+o)/2;var u=(l+i)/2,c=(h+n)/2;_u.Ep(t,e,l,h,u,c,s,a),_u.Ep(u,c,i,n,r,o,s,a)}return a},bt:function(t,e,i,n,r,o,s,a,l,h,u,c,f,d){if(0>=f&&(f=1e-6),_u.Dd(t,e,s,a,f,i,n)&&_u.Dd(t,e,s,a,f,r,o)){var p=(t-s)*(h-c)-(e-a)*(l-u);if(0===p)return!1;if(f=((t*a-e*s)*(l-u)-(t-s)*(l*c-h*u))/p,p=((t*a-e*s)*(h-c)-(e-a)*(l*c-h*u))/p,(h>c?h-c:c-h)>(l>u?l-u:u-l)){if(s=l=0,a>e?(l=e,s=a):(l=a,s=e),l>p||p>s)return!1}else if(s>t?l=t:(l=s,s=t),l>f||f>s)return!1;return d.x=f,d.y=p,!0}var p=(t+i)/2,g=(e+n)/2;i=(i+r)/2,n=(n+o)/2,r=(r+s)/2,o=(o+a)/2;var v=(p+i)/2,m=(g+n)/2;i=(i+r)/2,n=(n+o)/2;var y=(v+i)/2,b=(m+n)/2,x=(u-l)*(u-l)+(c-h)*(c-h),w=!1;return _u.bt(t,e,p,g,v,m,y,b,l,h,u,c,f,d)&&(e=(d.x-l)*(d.x-l)+(d.y-h)*(d.y-h),x>e&&(x=e,w=!0)),t=d.x,p=d.y,_u.bt(y,b,i,n,r,o,s,a,l,h,u,c,f,d)&&(e=(d.x-l)*(d.x-l)+(d.y-h)*(d.y-h),x>e?w=!0:(d.x=t,d.y=p)),w},ct:function(t,e,i,n,r,o,s,a,l,h,u,c,f){var d=0;if(0>=f&&(f=1e-6),_u.Dd(t,e,s,a,f,i,n)&&_u.Dd(t,e,s,a,f,r,o)){if(f=(t-s)*(h-c)-(e-a)*(l-u),0===f)return d;var p=((t*a-e*s)*(l-u)-(t-s)*(l*c-h*u))/f,g=((t*a-e*s)*(h-c)-(e-a)*(l*c-h*u))/f;if(p>=u)return d;if((h>c?h-c:c-h)>(l>u?l-u:u-l)){if(t=l=0,a>e?(l=e,t=a):(l=a,t=e),l>g||g>t)return d}else if(s>t?(l=t,t=s):l=s,l>p||p>t)return d;f>0?d++:0>f&&d--}else{var p=(t+i)/2,g=(e+n)/2,v=(i+r)/2,m=(n+o)/2;r=(r+s)/2,o=(o+a)/2,n=(p+v)/2,i=(g+m)/2;var v=(v+r)/2,m=(m+o)/2,y=(n+v)/2,b=(i+m)/2,d=d+_u.ct(t,e,p,g,n,i,y,b,l,h,u,c,f),d=d+_u.ct(y,b,v,m,r,o,s,a,l,h,u,c,f)}return d},fn:function(t,e,i,n,r,o,s){if(_u.Qa(t,i)){var a=0;return i=0,n>e?(a=e,i=n):(a=n,i=e),n=o,a>n?(s.x=t,s.y=a,!1):n>i?(s.x=t,s.y=i,!1):(s.x=t,s.y=n,!0)}return _u.Qa(e,n)?(i>t?a=t:(a=i,i=t),n=r,a>n?(s.x=a,s.y=e,!1):n>i?(s.x=i,s.y=e,!1):(s.x=n,s.y=e,!0)):(a=((t-r)*(t-i)+(e-o)*(e-n))/((i-t)*(i-t)+(n-e)*(n-e)),-5e-6>a?(s.x=t,s.y=e,!1):a>1.000005?(s.x=i,s.y=n,!1):(s.x=t+a*(i-t),s.y=e+a*(n-e),!0))},jh:function(t,e,i,n,r,o,s,a,l){return _u.G(t,i)&&_u.G(e,n)?(l.x=t,l.y=e,!1):_u.Qa(r,s)?_u.Qa(t,i)?(_u.fn(t,e,i,n,r,o,l),!1):(o=(n-e)/(i-t)*(r-t)+e,_u.fn(t,e,i,n,r,o,l)):(a=(a-o)/(s-r),_u.Qa(t,i)?(o=a*(t-r)+o,i=s=0,n>e?(s=e,i=n):(s=n,i=e),s>o?(l.x=t,l.y=s,!1):o>i?(l.x=t,l.y=i,!1):(l.x=t,l.y=o,!0)):(s=(n-e)/(i-t),_u.Qa(a,s)?(_u.fn(t,e,i,n,r,o,l),!1):(r=(s*t-a*r+o-e)/(s-a),_u.Qa(s,0)?(i>t?s=t:(s=i,i=t),s>r?(l.x=s,l.y=e,!1):r>i?(l.x=i,l.y=e,!1):(l.x=r,l.y=e,!0)):(o=s*(r-t)+e,_u.fn(t,e,i,n,r,o,l)))))},RK:function(t,e,i,n,r){return _u.jh(i.x,i.y,n.x,n.y,t.x,t.y,e.x,e.y,r)},CK:function(t,e,i,n,r,o,s,a,l,h){function u(i,n){var r=(i-t)*(i-t)+(n-e)*(n-e);c>r&&(c=r,l.x=i,l.y=n)}var c=1/0;u(l.x,l.y);var f=0,d=0,p=0,g=0;if(s>r?(f=r,d=s):(f=s,d=r),a>o?(p=r,g=s):(p=s,g=r),f=(d-f)/2+h,h=(g-p)/2+h,r=(r+s)/2,o=(o+a)/2,0===f||0===h)return l;if(.5>(i>t?i-t:t-i)){if(f=1-(i-r)*(i-r)/(f*f),0>f)return l;f=Math.sqrt(f),n=-h*f+o,u(i,h*f+o),u(i,n)}else{if(i=(n-e)/(i-t),n=1/(f*f)+i*i/(h*h),a=2*i*(e-i*t)/(h*h)-2*i*o/(h*h)-2*r/(f*f),f=a*a-4*n*(2*i*t*o/(h*h)-2*e*o/(h*h)+o*o/(h*h)+r*r/(f*f)-1+(e-i*t)*(e-i*t)/(h*h)),0>f)return l;f=Math.sqrt(f),h=(-a+f)/(2*n),u(h,i*h-i*t+e),f=(-a-f)/(2*n),u(f,i*f-i*t+e)}return l},wl:function(t,e,i,n,r,o,s,a,l){var h=1e21,u=t,c=e;if(_u.jh(t,e,t,n,r,o,s,a,l)){var f=(l.x-r)*(l.x-r)+(l.y-o)*(l.y-o);h>f&&(h=f,u=l.x,c=l.y)}return _u.jh(i,e,i,n,r,o,s,a,l)&&(f=(l.x-r)*(l.x-r)+(l.y-o)*(l.y-o),h>f&&(h=f,u=l.x,c=l.y)),_u.jh(t,e,i,e,r,o,s,a,l)&&(f=(l.x-r)*(l.x-r)+(l.y-o)*(l.y-o),h>f&&(h=f,u=l.x,c=l.y)),_u.jh(t,n,i,n,r,o,s,a,l)&&(f=(l.x-r)*(l.x-r)+(l.y-o)*(l.y-o),h>f&&(h=f,u=l.x,c=l.y)),l.x=u,l.y=c,1e21>h},Yw:function(t,e,i){var n=e.x,r=e.y,o=i.x,s=i.y,a=t.left,l=t.right,h=t.top,u=t.bottom;return n===o?(o=t=0,s>r?(t=r,o=s):(t=s,o=r),n>=a&&l>=n&&u>=t&&o>=h):r===s?(o>n?t=n:(t=o,o=n),r>=h&&u>=r&&l>=t&&o>=a):t.Ga(e)||t.Ga(i)||_u.Xw(a,h,l,h,n,r,o,s)||_u.Xw(l,h,l,u,n,r,o,s)||_u.Xw(l,u,a,u,n,r,o,s)||_u.Xw(a,u,a,h,n,r,o,s)?!0:!1},Xw:function(t,e,i,n,r,o,s,a){return 0>=_u.Hw(t,e,i,n,r,o)*_u.Hw(t,e,i,n,s,a)&&0>=_u.Hw(r,o,s,a,t,e)*_u.Hw(r,o,s,a,i,n)},Hw:function(t,e,i,n,r,o){return i-=t,n-=e,t=r-t,e=o-e,o=t*n-e*i,0===o&&(o=t*i+e*n,o>0&&(o=(t-i)*i+(e-n)*n,0>o&&(o=0))),0>o?-1:o>0?1:0},Vt:function(t){return 0>t&&(t+=360),t>=360&&(t-=360),t},XD:function(t,e,i,n,r,o){var s=Math.PI;o||(n*=s/180,r*=s/180),o=r>n?1:-1;var a=[],l=s/2,h=n;for(n=Math.min(2*s,Math.abs(r-n));n>1e-5;)r=h+o*Math.min(n,l),a.push(_u.kH(i,h,r,t,e)),n-=Math.abs(r-h),h=r;return a},kH:function(t,e,i,n,r){var o=(i-e)/2,s=t*Math.cos(o),a=t*Math.sin(o),l=-a,h=s*s+l*l,u=h+s*s+l*a,h=4/3*(Math.sqrt(2*h*u)-u)/(s*a-l*s),a=s-h*l,s=l+h*s,l=-s,h=o+e,o=Math.cos(h),h=Math.sin(h);return[n+t*Math.cos(e),r+t*Math.sin(e),n+a*o-s*h,r+a*h+s*o,n+a*o-l*h,r+a*h+l*o,n+t*Math.cos(i),r+t*Math.sin(i)]},ot:function(t,e,i,n,r,o,s){i=Math.floor((t-i)/r)*r+i,n=Math.floor((e-n)/o)*o+n;var a=i;return r/2>i+r-t&&(a=i+r),t=n,o/2>n+o-e&&(t=n+o),s.m(a,t),s},pE:function(t,e){var i=Math.max(t,e),n=Math.min(t,e),r=1,o=1;do r=i%n,i=o=n,n=r;while(r>0);return o},sH:function(t,e,i,n){var r=0>i,o=0>n,s=0,a=s=0;e>t?(s=1,a=0):(s=0,a=1);var l=0,h=0,u=0,l=0===s?t:e,h=0===s?i:n;return(0===s?r:o)&&(h=-h),s=a,u=0===s?i:n,(0===s?r:o)&&(u=-u),_u.tH(l,0===s?t:e,h,u,0,0)},tH:function(t,e,i,n,r,o){if(r=0,n>0)if(i>0){o=t*t,r=e*e,t*=i;var s=e*n,a=-r+s,l=-r+Math.sqrt(t*t+s*s);e=a;for(var h=0;9999999999>h&&(e=.5*(a+l),e!==a&&e!==l);++h){var u=t/(e+o),c=s/(e+r),u=u*u+c*c-1;if(u>0)a=e;else{if(!(0>u))break;l=e}}i=o*i/(e+o)-i,n=r*n/(e+r)-n,r=Math.sqrt(i*i+n*n)}else r=Math.abs(n-e);else n=t*t-e*e,r=t*i,n>r?(n=r/n,r=t*n,o=e*Math.sqrt(Math.abs(1-n*n)),i=r-i,r=Math.sqrt(i*i+o*o)):r=Math.abs(i-t);return r}};Uh.ea("Geometry",V),Uh.Zh(V),V.prototype.copy=function(){var t=new V;t.ja=this.ja,t.wc=this.wc,t.Bc=this.Bc,t.yb=this.yb,t.Db=this.Db;for(var e=this.nj.n,i=e.length,n=t.nj,r=0;i>r;r++){var o=e[r].copy();n.add(o)}return t.fv=this.fv,t.Qu.assign(this.Qu),t.bb=this.bb,t.Li=this.Li.S(),t.Mi=this.Mi.S(),t.ao=this.ao,t.Zn=this.Zn,t.ri=this.ri,t};var ju;V.Line=ju=Uh.p(V,"Line",0);var Ou;V.Rectangle=Ou=Uh.p(V,"Rectangle",1);var Iu;V.Ellipse=Iu=Uh.p(V,"Ellipse",2);var Lu;V.Path=Lu=Uh.p(V,"Path",3),V.prototype.Fa=function(){return this.freeze(),Object.freeze(this),this},V.prototype.freeze=function(){this.D=!0;var t=this.Wb;t.freeze();for(var t=t.n,e=t.length,i=0;e>i;i++)t[i].freeze();return this},V.prototype.Oa=function(){Object.isFrozen(this)&&Uh.k("cannot thaw constant: "+this),this.D=!1;var t=this.Wb;t.Oa();for(var t=t.n,e=t.length,i=0;e>i;i++)t[i].Oa();return this},V.prototype.equalsApprox=V.prototype.od=function(t){if(!(t instanceof V))return!1;if(this.type!==t.type)return this.type===ju&&t.type===Lu?U(this,t):t.type===ju&&this.type===Lu?U(t,this):!1;if(this.type===Lu){var e=this.Wb.n;t=t.Wb.n;var i=e.length;if(i!==t.length)return!1;for(var n=0;i>n;n++)if(!e[n].od(t[n]))return!1;return!0}return _u.G(this.za,t.za)&&_u.G(this.xa,t.xa)&&_u.G(this.I,t.I)&&_u.G(this.J,t.J)};var Fu;V.stringify=Fu=function(t){return t.toString()},V.prototype.toString=function(t){switch(void 0===t&&(t=-1),this.type){case ju:return 0>t?"M"+this.za.toString()+" "+this.xa.toString()+"L"+this.I.toString()+" "+this.J.toString():"M"+this.za.toFixed(t)+" "+this.xa.toFixed(t)+"L"+this.I.toFixed(t)+" "+this.J.toFixed(t);case Ou:var e=new T(this.za,this.xa,0,0);return e.PF(this.I,this.J,0,0),0>t?"M"+e.x.toString()+" "+e.y.toString()+"H"+e.right.toString()+"V"+e.bottom.toString()+"H"+e.left.toString()+"z":"M"+e.x.toFixed(t)+" "+e.y.toFixed(t)+"H"+e.right.toFixed(t)+"V"+e.bottom.toFixed(t)+"H"+e.left.toFixed(t)+"z";case Iu:if(e=new T(this.za,this.xa,0,0),e.PF(this.I,this.J,0,0),0>t){var i=e.left.toString()+" "+(e.y+e.height/2).toString(),n=e.right.toString()+" "+(e.y+e.height/2).toString();return"M"+i+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+n+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+i}return i=e.left.toFixed(t)+" "+(e.y+e.height/2).toFixed(t),n=e.right.toFixed(t)+" "+(e.y+e.height/2).toFixed(t),"M"+i+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+n+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+i;case Lu:for(var e="",i=this.Wb.n,n=i.length,r=0;n>r;r++){var o=i[r];r>0&&(e+=" x "),o.Et&&(e+="F "),e+=o.toString(t)}return e;default:return this.type.toString()}},V.fillPath=function(t){"string"!=typeof t&&Uh.Ed(t,"string",V,"fillPath:str"),t=t.split(/[Xx]/);for(var e=t.length,i="",n=0;e>n;n++)var r=t[n],i=null!==r.match(/[Ff]/)?0===n?i+r:i+("X"+(" "===r[0]?"":" ")+r):i+((0===n?"":"X ")+"F"+(" "===r[0]?"":" ")+r);return i};var zu;V.parse=zu=function(t,e){function i(){return h>=g-1?!0:null!==l[h+1].match(/[A-Za-z]/)}function n(){return h++,l[h]}function r(){var t=new b(parseFloat(n()),parseFloat(n()));return u===u.toLowerCase()&&(t.x=p.x+t.x,t.y=p.y+t.y),t}function o(){return p=r()}function s(){return d=r()}function a(){return"c"!==c.toLowerCase()&&"s"!==c.toLowerCase()?p:new b(2*p.x-d.x,2*p.y-d.y)}void 0===e&&(e=!1),"string"!=typeof t&&Uh.Ed(t,"string",V,"parse:str"),t=t.replace(/,/gm," "),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([^\s])/gm,"$1 $2"),t=t.replace(/([^\s])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),t=t.replace(/([0-9])([+\-])/gm,"$1 $2"),t=t.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),t=t.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),t=t.replace(/[\s\r\t\n]+/gm," "),t=t.replace(/^\s+|\s+$/g,"");for(var l=t.split(" "),h=-1,u="",c="",f=new b(0,0),d=new b(0,0),p=new b(0,0),g=l.length,v=Uh.q(),m=!1,y=!1,x=!0;!(h>=g-1);)if(c=u,u=n(),""!==u)switch(u.toUpperCase()){case"X":x=!0,y=m=!1;break;case"M":var w=o();for(null===v.Tb||!0===x?(ss(v,w.x,w.y,m,!1,!y),x=!1):v.moveTo(w.x,w.y),f=p;!i();)w=o(),v.lineTo(w.x,w.y);break;case"L":for(;!i();)w=o(),v.lineTo(w.x,w.y);break;case"H":for(;!i();)p=w=new b((u===u.toLowerCase()?p.x:0)+parseFloat(n()),p.y),v.lineTo(p.x,p.y);break;case"V":for(;!i();)p=w=new b(p.x,(u===u.toLowerCase()?p.y:0)+parseFloat(n())),v.lineTo(p.x,p.y);break;case"C":for(;!i();){var k=r(),T=s(),w=o();hs(v,k.x,k.y,T.x,T.y,w.x,w.y)}break;case"S":for(;!i();)k=a(),T=s(),w=o(),hs(v,k.x,k.y,T.x,T.y,w.x,w.y);break;case"Q":for(;!i();)T=s(),w=o(),us(v,T.x,T.y,w.x,w.y);break;case"T":for(;!i();)d=T=a(),w=o(),us(v,T.x,T.y,w.x,w.y);break;case"B":for(;!i();){var w=parseFloat(n()),k=parseFloat(n()),T=parseFloat(n()),$=parseFloat(n()),C=parseFloat(n()),M=C,S=!1;i()||(M=parseFloat(n()),i()||(S=0!==parseFloat(n()))),u===u.toLowerCase()&&(T+=p.x,$+=p.y),v.arcTo(w,k,T,$,C,M,S)}break;case"A":for(;!i();)k=Math.abs(parseFloat(n())),T=Math.abs(parseFloat(n())),$=parseFloat(n()),C=!!parseFloat(n()),M=!!parseFloat(n()),w=o(),cs(v,k,T,$,C,M,w.x,w.y);break;case"Z":w=v.o.Wb.n[v.o.Wb.length-1],as(v),p=f;break;case"F":for(w="",k=1;l[h+k];)if(null!==l[h+k].match(/[Uu]/))k++;else{if(null!==l[h+k].match(/[A-Za-z]/)){w=l[h+k];break}k++}w.match(/[Mm]/)?m=!0:ls(v);break;case"U":for(w="",k=1;l[h+k];)if(null!==l[h+k].match(/[Ff]/))k++;else{if(null!==l[h+k].match(/[A-Za-z]/)){w=l[h+k];break}k++}w.match(/[Mm]/)?y=!0:v.ab(!1)}if(f=v.o,Uh.s(v),e)for(v=f.Wb.i;v.next();)w=v.value,w.Et=!0;return f},V.prototype.Zz=function(){if(this.bb||this.fv!==this.Wb.F)return!0;for(var t=this.Wb.n,e=t.length,i=0;e>i;i++)if(t[i].Zz())return!0;return!1},V.prototype.VA=function(){this.bb=!1,this.fv=this.Wb.F;for(var t=this.Wb.n,e=t.length,i=0;e>i;i++)t[i].VA()},V.prototype.ah=function(){var t=this.Qu;t.Oa(),isNaN(this.ao)||isNaN(this.Zn)?t.m(0,0,0,0):t.m(0,0,this.ao,this.Zn),W(this,t,!1),P(t,0,0,0,0),t.freeze()},V.prototype.computeBoundsWithoutOrigin=V.prototype.bH=function(){var t=new T;return W(this,t,!0),t},V.prototype.normalize=V.prototype.normalize=function(){this.D&&Uh.la(this);var t=this.bH();return this.offset(-t.x,-t.y),new b(-t.x,-t.y)},V.prototype.offset=V.prototype.offset=function(t,e){return this.D&&Uh.la(this),this.transform(1,0,0,1,t,e),this},V.prototype.scale=V.prototype.scale=function(t,e){return this.D&&Uh.la(this),this.transform(t,0,0,e,0,0),this},V.prototype.rotate=V.prototype.rotate=function(t,e,i){this.D&&Uh.la(this),void 0===e&&(e=0),void 0===i&&(i=0);var n=Uh.th();return n.reset(),n.rotate(t,e,i),this.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),Uh.cf(n),this},V.prototype.transform=V.prototype.transform=function(t,e,i,n,r,o){var s=0,a=0;
switch(this.type){case ju:case Ou:case Iu:s=this.wc,a=this.Bc,this.wc=s*t+a*i+r,this.Bc=s*e+a*n+o,s=this.yb,a=this.Db,this.yb=s*t+a*i+r,this.Db=s*e+a*n+o;break;case Lu:for(var l=this.Wb.n,h=l.length,u=0;h>u;u++){var c=l[u],s=c.za,a=c.xa;c.za=s*t+a*i+r,c.xa=s*e+a*n+o;for(var c=c.vb.n,f=c.length,d=0;f>d;d++){var p=c[d];switch(p.type){case Ru:case qu:s=p.I,a=p.J,p.I=s*t+a*i+r,p.J=s*e+a*n+o;break;case Hu:s=p.rc,a=p.Kc,p.rc=s*t+a*i+r,p.Kc=s*e+a*n+o,s=p.oh,a=p.ph,p.oh=s*t+a*i+r,p.ph=s*e+a*n+o,s=p.I,a=p.J,p.I=s*t+a*i+r,p.J=s*e+a*n+o;break;case Bu:s=p.rc,a=p.Kc,p.rc=s*t+a*i+r,p.Kc=s*e+a*n+o,s=p.I,a=p.J,p.I=s*t+a*i+r,p.J=s*e+a*n+o;break;case Vu:s=p.oa,a=p.va,p.oa=s*t+a*i+r,p.va=s*e+a*n+o,0!==e&&(s=180*Math.atan2(e,t)/Math.PI,0>s&&(s+=360),p.ye+=s),0>t&&(p.ye=180-p.ye,p.Bf=-p.Bf),0>n&&(p.ye=-p.ye,p.Bf=-p.Bf),p.radiusX*=Math.sqrt(t*t+i*i),void 0!==p.radiusY&&(p.radiusY*=Math.sqrt(e*e+n*n));break;case Uu:s=p.I,a=p.J,p.I=s*t+a*i+r,p.J=s*e+a*n+o,0!==e&&(s=180*Math.atan2(e,t)/Math.PI,0>s&&(s+=360),p.hj+=s),0>t&&(p.hj=180-p.hj,p.Al=!p.Al),0>n&&(p.hj=-p.hj,p.Al=!p.Al),p.radiusX*=Math.sqrt(t*t+i*i),p.radiusY*=Math.sqrt(e*e+n*n);break;default:Uh.k("Unknown Segment type: "+p.type)}}}}return this.bb=!0,this},V.prototype.Ga=function(t,e,i,n){var r=t.x,o=t.y,s=this.ob.x-20;t=t.y;for(var a=0,l=0,h=0,u=0,c=0,f=0,d=this.Wb.n,p=d.length,g=0;p>g;g++){var v=d[g];if(v.Et){if(i&&v.Ga(r,o,e))return!0;for(var m=v.vb,l=v.za,h=v.xa,y=l,b=h,x=m.n,w=0;w<=m.length;w++){var k,T;switch(w!==m.length?(k=x[w],T=k.type,c=k.I,f=k.J):(T=Ru,c=y,f=b),T){case qu:if(u=K(r,o,s,t,l,h,y,b),isNaN(u))return!0;a+=u,y=c,b=f;break;case Ru:if(u=K(r,o,s,t,l,h,c,f),isNaN(u))return!0;a+=u;break;case Hu:u=_u.ct(l,h,k.rc,k.Kc,k.oh,k.ph,c,f,s,t,r,o,.5),a+=u;break;case Bu:u=_u.ct(l,h,(l+2*k.rc)/3,(h+2*k.Kc)/3,(2*k.rc+c)/3,(2*k.Kc+f)/3,c,f,s,t,r,o,.5),a+=u;break;case Vu:case Uu:T=k.type===Vu?Q(k,v):Z(k,v,l,h);var $=T.length;if(0===$){if(u=K(r,o,s,t,l,h,k.oa,k.va),isNaN(u))return!0;a+=u;break}for(var C=null,M=0;$>M;M++){if(C=T[M],0===M){if(u=K(r,o,s,t,l,h,C[0],C[1]),isNaN(u))return!0;a+=u}u=_u.ct(C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],s,t,r,o,.5),a+=u}null!==C&&(c=C[6],f=C[7]);break;default:Uh.k("Unknown Segment type: "+k.type)}l=c,h=f}if(0!==a)return!0;a=0}else if(v.Ga(r,o,n?e:e+2))return!0}return 0!==a},V.prototype.getPointAlongPath=function(t){(0>t||t>1)&&Uh.wa(t,"0 <= fraction <= 1",V,"getPointAlongPath:fraction");var e=this.Wb.first(),i=Uh.mb(),n=[];n.push(e.za),n.push(e.xa);for(var r=e.za,o=e.xa,s=r,a=o,l=e.vb.n,h=l.length,u=0;h>u;u++){var c=l[u];switch(c.ja){case qu:i.push(n),n=[],n.push(c.I),n.push(c.J),r=c.I,o=c.J,s=r,a=o;break;case Ru:n.push(c.I),n.push(c.J),r=c.I,o=c.J;break;case Hu:_u.pe(r,o,c.vd,c.Je,c.Vg,c.mg,c.yb,c.Db,.5,n),r=c.I,o=c.J;break;case Bu:_u.Ep(r,o,c.vd,c.Je,c.yb,c.Db,.5,n),r=c.I,o=c.J;break;case Vu:var f=Q(c,e),d=f.length;if(0===d){n.push(c.oa),n.push(c.va),r=c.oa,o=c.va;break}for(var p=0;d>p;p++){var g=f[p];_u.pe(r,o,g[2],g[3],g[4],g[5],g[6],g[7],.5,n),r=g[6],o=g[7]}break;case Uu:for(f=Z(c,e,r,o),d=f.length,p=0;d>p;p++)g=f[p],_u.pe(r,o,g[2],g[3],g[4],g[5],g[6],g[7],.5,n),r=g[6],o=g[7];break;default:Uh.k("Segment not of valid type")}c.Ih&&(n.push(s),n.push(a))}for(i.push(n),f=0,s=i.length,a=n=e=0;s>a;a++)for(l=i[a],h=l.length,u=0;h>u;u+=2)r=l[u],o=l[u+1],0!==u&&(c=Math.sqrt(Yh(e,n,r,o)),f+=c),e=r,n=o;for(t*=f,a=f=0;s>a;a++)for(l=i[a],h=l.length,u=0;h>u;u++){if(r=l[u],o=l[u+1],0!==u){if(c=Math.sqrt(Yh(e,n,r,o)),f+c>t)return u=(t-f)/c,Uh.ta(i),new b(e+(r-e)*u,n+(o-n)*u);f+=c}e=r,n=o}return Uh.ta(i),null},Uh.defineProperty(V,{type:"type"},function(){return this.ja},function(t){this.ja!==t&&(this.D&&Uh.la(this,t),this.ja=t,this.bb=!0)}),Uh.defineProperty(V,{za:"startX"},function(){return this.wc},function(t){this.wc!==t&&(this.D&&Uh.la(this,t),this.wc=t,this.bb=!0)}),Uh.defineProperty(V,{xa:"startY"},function(){return this.Bc},function(t){this.Bc!==t&&(this.D&&Uh.la(this,t),this.Bc=t,this.bb=!0)}),Uh.defineProperty(V,{I:"endX"},function(){return this.yb},function(t){this.yb!==t&&(this.D&&Uh.la(this,t),this.yb=t,this.bb=!0)}),Uh.defineProperty(V,{J:"endY"},function(){return this.Db},function(t){this.Db!==t&&(this.D&&Uh.la(this,t),this.Db=t,this.bb=!0)}),Uh.defineProperty(V,{Wb:"figures"},function(){return this.nj},function(t){this.nj!==t&&(this.D&&Uh.la(this,t),this.nj=t,this.bb=!0)}),V.prototype.add=V.prototype.add=function(t){return this.nj.add(t),this},Uh.defineProperty(V,{B:"spot1"},function(){return this.Li},function(t){this.D&&Uh.la(this,t),this.Li=t.S()}),Uh.defineProperty(V,{C:"spot2"},function(){return this.Mi},function(t){this.D&&Uh.la(this,t),this.Mi=t.S()}),Uh.defineProperty(V,{Md:"defaultStretch"},function(){return this.ri},function(t){this.D&&Uh.la(this,t),this.ri=t}),Uh.u(V,{ob:"bounds"},function(){return this.Zz()&&(this.VA(),this.ah()),this.Qu}),Uh.ea("PathFigure",J),Uh.Zh(J),J.prototype.copy=function(){var t=new J;t.bm=this.bm,t.bo=this.bo,t.wc=this.wc,t.Bc=this.Bc;for(var e=this.yo.n,i=e.length,n=t.yo,r=0;i>r;r++){var o=e[r].copy();n.add(o)}return t.fw=this.fw,t.bb=this.bb,t},J.prototype.equalsApprox=J.prototype.od=function(t){if(!(t instanceof J&&_u.G(this.za,t.za)&&_u.G(this.xa,t.xa)))return!1;var e=this.vb.n;t=t.vb.n;var i=e.length;if(i!==t.length)return!1;for(var n=0;i>n;n++)if(!e[n].od(t[n]))return!1;return!0},Bh=J.prototype,Bh.toString=function(t){void 0===t&&(t=-1);for(var e=0>t?"M"+this.za.toString()+" "+this.xa.toString():"M"+this.za.toFixed(t)+" "+this.xa.toFixed(t),i=this.vb.n,n=i.length,r=0;n>r;r++)e+=" "+i[r].toString(t);return e},Bh.freeze=function(){this.D=!0;var t=this.vb;t.freeze();for(var e=t.n,t=t.length,i=0;t>i;i++)e[i].freeze();return this},Bh.Oa=function(){this.D=!1;var t=this.vb;t.Oa();for(var t=t.n,e=t.length,i=0;e>i;i++)t[i].Oa();return this},Bh.Zz=function(){if(this.bb)return!0;var t=this.vb;if(this.fw!==t.F)return!0;for(var t=t.n,e=t.length,i=0;e>i;i++)if(t[i].bb)return!0;return!1},Bh.VA=function(){this.bb=!1;var t=this.vb;this.fw=t.F;for(var t=t.n,e=t.length,i=0;e>i;i++){var n=t[i];n.bb=!1,n.cg=null}},Uh.defineProperty(J,{Et:"isFilled"},function(){return this.bm},function(t){this.D&&Uh.la(this,t),this.bm=t}),Uh.defineProperty(J,{Dl:"isShadowed"},function(){return this.bo},function(t){this.D&&Uh.la(this,t),this.bo=t}),Uh.defineProperty(J,{za:"startX"},function(){return this.wc},function(t){this.D&&Uh.la(this,t),this.wc=t,this.bb=!0}),Uh.defineProperty(J,{xa:"startY"},function(){return this.Bc},function(t){this.D&&Uh.la(this,t),this.Bc=t,this.bb=!0}),Uh.defineProperty(J,{vb:"segments"},function(){return this.yo},function(t){this.D&&Uh.la(this,t),this.yo=t,this.bb=!0}),J.prototype.add=J.prototype.add=function(t){return this.yo.add(t),this},J.prototype.Ga=function(t,e,i){for(var n=this.za,r=this.xa,o=n,s=r,a=this.vb.n,l=a.length,h=0;l>h;h++){var u=a[h];switch(u.type){case qu:o=u.I,s=u.J,n=u.I,r=u.J;break;case Ru:if(_u.Dd(n,r,u.I,u.J,i,t,e))return!0;n=u.I,r=u.J;break;case Hu:if(_u.Ew(n,r,u.rc,u.Kc,u.oh,u.ph,u.I,u.J,.5,t,e,i))return!0;n=u.I,r=u.J;break;case Bu:if(_u.tA(n,r,u.rc,u.Kc,u.I,u.J,.5,t,e,i))return!0;n=u.I,r=u.J;break;case Vu:case Uu:var c=u.type===Vu?Q(u,this):Z(u,this,n,r),f=c.length;if(0===f){if(_u.Dd(n,r,u.oa,u.va,i,t,e))return!0;n=u.oa,r=u.va;break}for(var d=null,p=0;f>p;p++)if(d=c[p],0===p&&_u.Dd(n,r,d[0],d[1],i,t,e)||_u.Ew(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],.5,t,e,i))return!0;null!==d&&(n=d[6],r=d[7]);break;default:Uh.k("Unknown Segment type: "+u.type)}if(u.$w&&(n!==o||r!==s)&&_u.Dd(n,r,o,s,i,t,e))return!0}return!1},Uh.ea("PathSegment",X),Uh.Zh(X),X.prototype.copy=function(){var t=new X;return t.ja=this.ja,t.yb=this.yb,t.Db=this.Db,t.vd=this.vd,t.Je=this.Je,t.Vg=this.Vg,t.mg=this.mg,t.io=this.io,t.zn=this.zn,t.Ih=this.Ih,t.bb=this.bb,t},X.prototype.equalsApprox=X.prototype.od=function(t){if(!(t instanceof X)||this.type!==t.type||this.$w!==t.$w)return!1;switch(this.type){case qu:case Ru:return _u.G(this.I,t.I)&&_u.G(this.J,t.J);case Hu:return _u.G(this.I,t.I)&&_u.G(this.J,t.J)&&_u.G(this.rc,t.rc)&&_u.G(this.Kc,t.Kc)&&_u.G(this.oh,t.oh)&&_u.G(this.ph,t.ph);case Bu:return _u.G(this.I,t.I)&&_u.G(this.J,t.J)&&_u.G(this.rc,t.rc)&&_u.G(this.Kc,t.Kc);case Vu:return _u.G(this.ye,t.ye)&&_u.G(this.Bf,t.Bf)&&_u.G(this.oa,t.oa)&&_u.G(this.va,t.va)&&_u.G(this.radiusX,t.radiusX)&&_u.G(this.radiusY,t.radiusY);case Uu:return this.Al===t.Al&&this.ex===t.ex&&_u.G(this.hj,t.hj)&&_u.G(this.I,t.I)&&_u.G(this.J,t.J)&&_u.G(this.radiusX,t.radiusX)&&_u.G(this.radiusY,t.radiusY);default:return!1}},X.prototype.toString=function(t){void 0===t&&(t=-1);var e="";switch(this.type){case qu:e=0>t?"M"+this.I.toString()+" "+this.J.toString():"M"+this.I.toFixed(t)+" "+this.J.toFixed(t);break;case Ru:e=0>t?"L"+this.I.toString()+" "+this.J.toString():"L"+this.I.toFixed(t)+" "+this.J.toFixed(t);break;case Hu:e=0>t?"C"+this.rc.toString()+" "+this.Kc.toString()+" "+this.oh.toString()+" "+this.ph.toString()+" "+this.I.toString()+" "+this.J.toString():"C"+this.rc.toFixed(t)+" "+this.Kc.toFixed(t)+" "+this.oh.toFixed(t)+" "+this.ph.toFixed(t)+" "+this.I.toFixed(t)+" "+this.J.toFixed(t);break;case Bu:e=0>t?"Q"+this.rc.toString()+" "+this.Kc.toString()+" "+this.I.toString()+" "+this.J.toString():"Q"+this.rc.toFixed(t)+" "+this.Kc.toFixed(t)+" "+this.I.toFixed(t)+" "+this.J.toFixed(t);break;case Vu:e=0>t?"B"+this.ye.toString()+" "+this.Bf.toString()+" "+this.oa.toString()+" "+this.va.toString()+" "+this.radiusX:"B"+this.ye.toFixed(t)+" "+this.Bf.toFixed(t)+" "+this.oa.toFixed(t)+" "+this.va.toFixed(t)+" "+this.radiusX;break;case Uu:e=0>t?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.hj.toString()+" "+(this.ex?1:0)+" "+(this.Al?1:0)+" "+this.I.toString()+" "+this.J.toString():"A"+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t)+" "+this.hj.toFixed(t)+" "+(this.ex?1:0)+" "+(this.Al?1:0)+" "+this.I.toFixed(t)+" "+this.J.toFixed(t);break;default:e=this.type.toString()}return e+(this.Ih?"z":"")};var qu;X.Move=qu=Uh.p(X,"Move",0);var Ru;X.Line=Ru=Uh.p(X,"Line",1);var Hu;X.Bezier=Hu=Uh.p(X,"Bezier",2);var Bu;X.QuadraticBezier=Bu=Uh.p(X,"QuadraticBezier",3);var Vu;X.Arc=Vu=Uh.p(X,"Arc",4);var Uu;X.SvgArc=Uu=Uh.p(X,"SvgArc",4),X.prototype.freeze=function(){return this.D=!0,this},X.prototype.Oa=function(){return this.D=!1,this},X.prototype.close=X.prototype.close=function(){return this.Ih=!0,this},Uh.defineProperty(X,{$w:"isClosed"},function(){return this.Ih},function(t){this.Ih!==t&&(this.Ih=t,this.bb=!0)}),Uh.defineProperty(X,{type:"type"},function(){return this.ja},function(t){this.D&&Uh.la(this,t),this.ja=t,this.bb=!0}),Uh.defineProperty(X,{I:"endX"},function(){return this.yb},function(t){this.D&&Uh.la(this,t),this.yb=t,this.bb=!0}),Uh.defineProperty(X,{J:"endY"},function(){return this.Db},function(t){this.D&&Uh.la(this,t),this.Db=t,this.bb=!0}),Uh.defineProperty(X,{rc:"point1X"},function(){return this.vd},function(t){this.D&&Uh.la(this,t),this.vd=t,this.bb=!0}),Uh.defineProperty(X,{Kc:"point1Y"},function(){return this.Je},function(t){this.D&&Uh.la(this,t),this.Je=t,this.bb=!0}),Uh.defineProperty(X,{oh:"point2X"},function(){return this.Vg},function(t){this.D&&Uh.la(this,t),this.Vg=t,this.bb=!0}),Uh.defineProperty(X,{ph:"point2Y"},function(){return this.mg},function(t){this.D&&Uh.la(this,t),this.mg=t,this.bb=!0}),Uh.defineProperty(X,{oa:"centerX"},function(){return this.vd},function(t){this.D&&Uh.la(this,t),this.vd=t,this.bb=!0}),Uh.defineProperty(X,{va:"centerY"},function(){return this.Je},function(t){this.D&&Uh.la(this,t),this.Je=t,this.bb=!0}),Uh.defineProperty(X,{radiusX:"radiusX"},function(){return this.Vg},function(t){0>t&&Uh.wa(t,">= zero",X,"radiusX"),this.D&&Uh.la(this,t),this.Vg=t,this.bb=!0}),Uh.defineProperty(X,{radiusY:"radiusY"},function(){return this.mg},function(t){0>t&&Uh.wa(t,">= zero",X,"radiusY"),this.D&&Uh.la(this,t),this.mg=t,this.bb=!0}),Uh.defineProperty(X,{ye:"startAngle"},function(){return this.yb},function(t){this.yb!==t&&(this.D&&Uh.la(this,t),t%=360,0>t&&(t+=360),this.yb=t,this.bb=!0)}),Uh.defineProperty(X,{Bf:"sweepAngle"},function(){return this.Db},function(t){this.D&&Uh.la(this,t),t>360&&(t=360),-360>t&&(t=-360),this.Db=t,this.bb=!0}),Uh.defineProperty(X,{Al:"isClockwiseArc"},function(){return this.zn},function(t){this.D&&Uh.la(this,t),this.zn=t,this.bb=!0}),Uh.defineProperty(X,{ex:"isLargeArc"},function(){return this.io},function(t){this.D&&Uh.la(this,t),this.io=t,this.bb=!0}),Uh.defineProperty(X,{hj:"xAxisRotation"},function(){return this.vd},function(t){t%=360,0>t&&(t+=360),this.D&&Uh.la(this,t),this.vd=t,this.bb=!0}),Uh.ea("InputEvent",te),te.prototype.copy=function(){var t=new te;return t.U=this.U,t.nz.assign(this.mf),t.xy.assign(this.da),t.Jv=this.Jv,t.Mu=this.Mu,t.Nu=this.Nu,t.yv=this.yv,t.cv=this.cv,t.qw=this.qw,t.Pu=this.Pu,t.Zu=this.Zu,t.uv=this.uv,t.kv=this.kv,t.jj=this.jj,t.Pq=this.Pq,t.ow=this.ow,t.nw=this.nw,t.ng=this.ng,t},te.prototype.toString=function(){var t="^";return 0!==this.sd&&(t+="M:"+this.sd),0!==this.button&&(t+="B:"+this.button),""!==this.key&&(t+="K:"+this.key),0!==this.Ze&&(t+="C:"+this.Ze),0!==this.nl&&(t+="D:"+this.nl),this.Fc&&(t+="h"),this.bubbles&&(t+="b"),null!==this.da&&(t+="@"+this.da.toString()),t},Uh.defineProperty(te,{g:"diagram"},function(){return this.U},function(t){this.U=t}),Uh.defineProperty(te,{mf:"viewPoint"},function(){return this.nz},function(t){Uh.A(t,b,te,"viewPoint"),this.nz.assign(t)}),Uh.defineProperty(te,{da:"documentPoint"},function(){return this.xy},function(t){Uh.A(t,b,te,"documentPoint"),this.xy.assign(t)}),Uh.defineProperty(te,{sd:"modifiers"},function(){return this.Jv},function(t){this.Jv=t}),Uh.defineProperty(te,{button:"button"},function(){return this.Mu},function(t){if(this.Mu=t,null===this.event)switch(t){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}),Uh.defineProperty(te,{buttons:"buttons"},function(){return this.Nu},function(t){this.Nu=t}),Uh.defineProperty(te,{key:"key"},function(){return this.yv},function(t){this.yv=t}),Uh.defineProperty(te,{pl:"down"},function(){return this.cv},function(t){this.cv=t}),Uh.defineProperty(te,{up:"up"},function(){return this.qw},function(t){this.qw=t}),Uh.defineProperty(te,{Ze:"clickCount"},function(){return this.Pu},function(t){this.Pu=t}),Uh.defineProperty(te,{nl:"delta"},function(){return this.Zu},function(t){this.Zu=t}),Uh.defineProperty(te,{Gt:"isMultiTouch"},function(){return this.uv},function(t){this.uv=t}),Uh.defineProperty(te,{Fc:"handled"},function(){return this.kv},function(t){this.kv=t}),Uh.defineProperty(te,{bubbles:"bubbles"},function(){return this.jj},function(t){this.jj=t}),Uh.defineProperty(te,{event:"event"},function(){return this.Pq},function(t){this.Pq=t}),Uh.u(te,{aj:"isTouchEvent"},function(){var e=t.TouchEvent;return e&&this.event instanceof e?!0:(e=t.PointerEvent)&&this.event instanceof e&&"touch"===this.event.pointerType}),Uh.u(te,{fk:"isMac"},function(){return Uh.fk}),Uh.defineProperty(te,{timestamp:"timestamp"},function(){return this.ow},function(t){this.ow=t}),Uh.defineProperty(te,{Fg:"targetDiagram"},function(){return this.nw},function(t){this.nw=t}),Uh.defineProperty(te,{ze:"targetObject"},function(){return this.ng},function(t){this.ng=t}),Uh.defineProperty(te,{control:"control"},function(){return 0!==(1&this.sd)},function(t){this.sd=t?1|this.sd:-2&this.sd}),Uh.defineProperty(te,{shift:"shift"},function(){return 0!==(4&this.sd)},function(t){this.sd=t?4|this.sd:-5&this.sd}),Uh.defineProperty(te,{alt:"alt"},function(){return 0!==(2&this.sd)},function(t){this.sd=t?2|this.sd:-3&this.sd}),Uh.defineProperty(te,{Pt:"meta"},function(){return 0!==(8&this.sd)},function(t){this.sd=t?8|this.sd:-9&this.sd}),Uh.defineProperty(te,{left:"left"},function(){var t=this.event;return null!==t&&t instanceof MouseEvent&&("mousedown"===t.type||"mouseup"===t.type)?0===this.button:0!==(1&this.buttons)},function(t){this.buttons=t?1|this.buttons:-2&this.buttons}),Uh.defineProperty(te,{right:"right"},function(){var t=this.event;return null!==t&&t instanceof MouseEvent&&("mousedown"===t.type||"mouseup"===t.type)?2===this.button:0!==(2&this.buttons)},function(t){this.buttons=t?2|this.buttons:-3&this.buttons}),Uh.defineProperty(te,{$K:"middle"},function(){var t=this.event;return null!==t&&t instanceof MouseEvent&&("mousedown"===t.type||"mouseup"===t.type)?1===this.button:0!==(4&this.buttons)},function(t){this.buttons=t?4|this.buttons:-5&this.buttons}),Uh.ea("DiagramEvent",ee),ee.prototype.copy=function(){var t=new ee;return t.U=this.U,t.Pb=this.Pb,t.kw=this.kw,t.Sv=this.Sv,t.Ou=this.Ou,t},ee.prototype.toString=function(){var t="*"+this.name;return this.cancel&&(t+="x"),null!==this.NA&&(t+=":"+this.NA.toString()),null!==this.rA&&(t+="("+this.rA.toString()+")"),t},Uh.defineProperty(ee,{g:"diagram"},function(){return this.U},function(t){this.U=t}),Uh.defineProperty(ee,{name:"name"},function(){return this.Pb},function(t){this.Pb=t}),Uh.defineProperty(ee,{NA:"subject"},function(){return this.kw},function(t){this.kw=t}),Uh.defineProperty(ee,{rA:"parameter"},function(){return this.Sv},function(t){this.Sv=t}),Uh.defineProperty(ee,{cancel:"cancel"},function(){return this.Ou},function(t){this.Ou=t}),Uh.ea("ChangedEvent",ie);var Gu;ie.Transaction=Gu=Uh.p(ie,"Transaction",-1);var Wu;ie.Property=Wu=Uh.p(ie,"Property",0);var Ku;ie.Insert=Ku=Uh.p(ie,"Insert",1);var Yu;ie.Remove=Yu=Uh.p(ie,"Remove",2),ie.prototype.clear=ie.prototype.clear=function(){this.Mr=this.Nr=this.Rr=this.Sr=this.Qr=this.U=this.Vd=null},ie.prototype.copy=function(){var t=new ie;t.mq=this.mq,t.Iv=this.Iv,t.um=this.um,t.Vd=this.Vd,t.U=this.U,t.Qr=this.Qr;var e=this.Sr;return t.Sr=Uh.Va(e)&&"function"==typeof e.S?e.S():e,e=this.Rr,t.Rr=Uh.Va(e)&&"function"==typeof e.S?e.S():e,e=this.Nr,t.Nr=Uh.Va(e)&&"function"==typeof e.S?e.S():e,e=this.Mr,t.Mr=Uh.Va(e)&&"function"==typeof e.S?e.S():e,t},ie.prototype.toString=function(){var t="",t=this.xc===Gu?t+"* ":this.xc===Wu?t+(null!==this.Z?"!m":"!d"):t+((null!==this.Z?"!m":"!d")+this.xc);return this.propertyName&&"string"==typeof this.propertyName&&(t+=" "+this.propertyName),this.lf&&this.lf!==this.propertyName&&(t+=" "+this.lf),t+=": ",this.xc===Gu?null!==this.oldValue&&(t+=" "+this.oldValue):(null!==this.object&&(t+=Zu(this.object)),null!==this.oldValue&&(t+="  old: "+Zu(this.oldValue)),null!==this.Cg&&(t+=" "+this.Cg),null!==this.newValue&&(t+="  new: "+Zu(this.newValue)),null!==this.Ag&&(t+=" "+this.Ag)),t},ie.prototype.getValue=ie.prototype.ka=function(t){return t?this.oldValue:this.newValue},ie.prototype.getParam=function(t){return t?this.Cg:this.Ag},ie.prototype.canUndo=ie.prototype.canUndo=function(){return null!==this.Z||null!==this.g?!0:!1},ie.prototype.undo=ie.prototype.undo=function(){this.canUndo()&&(null!==this.Z?this.Z.Km(this,!0):null!==this.g&&this.g.Km(this,!0))},ie.prototype.canRedo=ie.prototype.canRedo=function(){return null!==this.Z||null!==this.g?!0:!1},ie.prototype.redo=ie.prototype.redo=function(){this.canRedo()&&(null!==this.Z?this.Z.Km(this,!1):null!==this.g&&this.g.Km(this,!1))},Uh.defineProperty(ie,{Z:"model"},function(){return this.Vd},function(t){this.Vd=t}),Uh.defineProperty(ie,{g:"diagram"},function(){return this.U},function(t){this.U=t}),Uh.defineProperty(ie,{xc:"change"},function(){return this.mq},function(t){this.mq=t}),Uh.defineProperty(ie,{lf:"modelChange"},function(){return this.Iv},function(t){this.Iv=t}),Uh.defineProperty(ie,{propertyName:"propertyName"},function(){return this.um},function(t){this.um=t}),Uh.u(ie,{KE:"isTransactionFinished"},function(){return this.mq===Gu&&("CommittedTransaction"===this.um||"FinishedUndo"===this.um||"FinishedRedo"===this.um)}),Uh.defineProperty(ie,{object:"object"},function(){return this.Qr},function(t){this.Qr=t}),Uh.defineProperty(ie,{oldValue:"oldValue"},function(){return this.Sr},function(t){this.Sr=t}),Uh.defineProperty(ie,{Cg:"oldParam"},function(){return this.Rr},function(t){this.Rr=t}),Uh.defineProperty(ie,{newValue:"newValue"},function(){return this.Nr},function(t){this.Nr=t}),Uh.defineProperty(ie,{Ag:"newParam"},function(){return this.Mr},function(t){this.Mr=t}),Uh.ea("Model",ne),ne.prototype.cloneProtected=function(t){t.Pb=this.Pb,t.Bq=this.Bq,t.xi=this.xi,t.Gj=this.Gj,t.mo=this.mo,t.Dn=this.Dn,t.JJ=this.Su,t.tq=this.tq,t.dq=this.dq,t.pm=this.pm},ne.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},ne.prototype.clear=ne.prototype.clear=function(){this.Jf=[],this.uc.clear(),this.si.clear(),this.ma.clear()},Bh=ne.prototype,Bh.toString=function(t){if(void 0===t&&(t=0),t>1)return this.QA();var e=(""!==this.name?this.name:"")+" Model";if(t>0){e+="\n node data:",t=this.Yf;for(var i=Uh.Xa(t),n=0;i>n;n++)var r=Uh.Pa(t,n),e=e+(" "+this.jb(r)+":"+Zu(r))}return e},Bh.qn=function(){var t="";return""!==this.name&&(t+=',\n  "name": '+this.quote(this.name)),""!==this.ll&&(t+=',\n  "dataFormat": '+this.quote(this.ll)),this.cb&&(t+=',\n  "isReadOnly": '+this.cb),"key"!==this.Gl&&"string"==typeof this.Gl&&(t+=',\n  "nodeKeyProperty": '+this.quote(this.Gl)),this.Ez&&(t+=',\n  "copiesArrays": true'),this.Dz&&(t+=',\n  "copiesArrayObjects": true'),"category"!==this.gn&&"string"==typeof this.gn&&(t+=',\n  "nodeCategoryProperty": '+this.quote(this.gn)),t},Bh.Yt=function(t){t.name&&(this.name=t.name),t.dataFormat&&(this.ll=t.dataFormat),t.isReadOnly&&(this.cb=t.isReadOnly),t.nodeKeyProperty&&(this.Gl=t.nodeKeyProperty),t.copiesArrays&&(this.Ez=t.copiesArrays),t.copiesArrayObjects&&(this.Dz=t.copiesArrayObjects),t.nodeCategoryProperty&&(this.gn=t.nodeCategoryProperty)},Bh.YA=function(){var t,e=this.gk,i=!1;for(t in e)if(!he(t,e[t])){i=!0;break}return e="",i&&(e=re(this)),e+',\n  "nodeDataArray": '+le(this,this.Yf,!0)},Bh.wA=function(t){oe(this,t),t=t.nodeDataArray,Uh.isArray(t)&&(this.au(t),this.Yf=t)},Bh.ZA=function(t){ae(this,t,"nodeKeyProperty"),this instanceof ke&&ae(this,t,"nodeParentKeyProperty");for(var e=new f,i=new f,n=(new f).Tc(this.uc.ME),r=new y,o=t.Yf,s=0;s<o.length;s++){var a=o[s],l=t.jb(a);if(void 0!==l){n.remove(l);var h=this.$d(l);null===h?(e.add(l),i.add(a)):se(this,h,a,r)||i.add(a)}else this.eA(a),l=this.jb(a),e.add(l),i.add(a)}return o="",se(this,this.gk,t.gk,r)||(o+=re(this)),0<e.count&&(o+=this.ey+le(this,e.dc(),!0)),0<i.count&&(o+=this.kB+le(this,i.dc(),!0)),0<n.count&&(o+=this.hy+le(this,n.dc(),!0)),o},ne.prototype.computeJsonDifference=ne.prototype.computeJSONDifference=function(t,e){return Uh.A(t,ne,ne,"computeJsonDifference:newmodel"),void 0===e&&(e=this.constructor===ne?"go.Model":this.constructor===xe?"go.GraphLinksModel":this.constructor===ke?"go.TreeModel":Uh.df(this)),'{ "class": '+this.quote(e)+', "incremental": 1'+this.qn()+this.ZA(t)+"}"},Bh=ne.prototype,Bh.ey=',\n  "insertedNodeKeys": ',Bh.kB=',\n  "modifiedNodeData": ',Bh.hy=',\n  "removedNodeKeys": ',Bh.XA=function(t,e){var i=this,n=!1,r=new f,o=new f,s=new f;t.Of.each(function(t){t.Z===i&&("nodeDataArray"===t.lf?t.xc===Ku?r.add(t.newValue):t.xc===Yu&&s.add(t.oldValue):i.Le(t.object)?o.add(t.object):i.gk===t.object&&t.xc===Wu&&(n=!0))});var a=new f;r.each(function(t){a.add(i.jb(t)),e||o.add(t)});var l=new f;s.each(function(t){l.add(i.jb(t)),e&&o.add(t)});var h="";return n&&(h+=re(this)),0<a.count&&(h+=(e?this.hy:this.ey)+le(this,a.dc(),!0)),0<o.count&&(h+=this.kB+le(this,o.dc(),!0)),0<l.count&&(h+=(e?this.ey:this.hy)+le(this,l.dc(),!0)),h},Bh.vA=function(t){oe(this,t);var e=t.insertedNodeKeys;if(Uh.isArray(e))for(var i=Uh.Xa(e),n=0;i>n;n++){var r=Uh.Pa(e,n),o=this.$d(r);null===o&&(o=this.copyNodeData({}),this.Ix(o,r),this.cl(o))}if(e=t.modifiedNodeData,Uh.isArray(e))for(i=Uh.Xa(e),n=0;i>n;n++){var s=Uh.Pa(e,n),r=this.jb(s),o=this.$d(r);if(null!==o)for(var a in s)"__gohashid"!==a&&a!==this.Gl&&this.setDataProperty(o,a,s[a])}if(t=t.removedNodeKeys,Uh.isArray(t))for(i=Uh.Xa(t),n=0;i>n;n++)r=Uh.Pa(t,n),o=this.$d(r),null!==o&&this.Ax(o)},ne.prototype.toIncrementalJson=ne.prototype.toIncrementalJSON=function(t,e){Uh.A(t,ie,ne,"toIncrementalJson:e"),t.xc!==Gu&&Uh.k("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());var i=t.object;return t.KE&&i instanceof Ce?(void 0===e&&(e=this.constructor===ne?"go.Model":this.constructor===xe?"go.GraphLinksModel":this.constructor===ke?"go.TreeModel":Uh.df(this)),'{ "class": '+this.quote(e)+', "incremental": 1'+this.qn()+this.XA(i,"FinishedUndo"===t.propertyName)+"}"):'{ "incremental": 0 }'},ne.prototype.toJson=ne.prototype.toJSON=ne.prototype.QA=function(t){return void 0===t&&(t=this.constructor===ne?"go.Model":this.constructor===xe?"go.GraphLinksModel":this.constructor===ke?"go.TreeModel":Uh.df(this)),'{ "class": '+this.quote(t)+this.qn()+this.YA()+"}"},ne.prototype.applyIncrementalJson=ne.prototype.applyIncrementalJSON=function(e){var i=null;if("string"==typeof e)if(t.JSON&&t.JSON.parse)try{i=t.JSON.parse(e)}catch(n){}else Uh.trace("WARNING: no JSON.parse available");else"object"==typeof e?i=e:Uh.k("Unable to modify a Model from: "+e);var r=i.incremental;"number"!=typeof r&&Uh.k("Unable to apply non-incremental changes to Model: "+e),0!==r&&(this.Rb("applyIncrementalJson"),this.vA(i),this.Ad("applyIncrementalJson"))},ne.fromJson=ne.fromJSON=function(e,i){void 0===i&&(i=null),null!==i&&Uh.A(i,ne,ne,"fromJson:model");var n=null;if("string"==typeof e)if(t.JSON&&t.JSON.parse)try{n=t.JSON.parse(e)}catch(r){}else Uh.trace("WARNING: no JSON.parse available");else"object"==typeof e?n=e:Uh.k("Unable to construct a Model from: "+e);if(null===i){var o;o=null;var s=n["class"];if("string"==typeof s)try{var a=null;0===s.indexOf("go.")?(s=s.substr(3),a=Vh[s]):(a=Vh[s],void 0===a&&(a=t[s])),"function"==typeof a&&(o=new a)}catch(l){}null===o||o instanceof ne?i=o:Uh.k("Unable to construct a Model of declared class: "+n["class"])}return null===i&&(i=new xe),i.Yt(n),i.wA(n),i},ne.prototype.replaceJsonObjects=ne.prototype.au=function(t){if(Uh.isArray(t))for(var e=Uh.Xa(t),i=0;e>i;i++){var n=Uh.Pa(t,i);Uh.Va(n)&&Uh.HD(t,i,this.au(n))}else if(Uh.Va(t)){for(i in t)if(n=t[i],Uh.Va(n)&&(n=this.au(n),t[i]=n,"points"===i&&Array.isArray(n))){for(var r=0===n.length%2,o=0;o<n.length;o++)if("number"!=typeof n[o]){r=!1;break}if(r){for(r=new u(b),o=0;o<n.length/2;o++)r.add(new b(n[2*o],n[2*o+1]));r.freeze(),t[i]=r}}if("object"==typeof t){if(i=t,n=t["class"],"NaN"===n)i=0/0;else if("Date"===n)i=new Date(t.value);else if("go.Point"===n)i=new b(fe(t.x),fe(t.y));else if("go.Size"===n)i=new k(fe(t.width),fe(t.height));else if("go.Rect"===n)i=new T(fe(t.x),fe(t.y),fe(t.width),fe(t.height));else if("go.Margin"===n)i=new D(fe(t.top),fe(t.right),fe(t.bottom),fe(t.left));else if("go.Spot"===n)i="string"==typeof t["enum"]?Qh(t["enum"]):new E(fe(t.x),fe(t.y),fe(t.offsetX),fe(t.offsetY));else if("go.Brush"===n){if(i=new Ar,i.type=Gh(Ar,t.type),"string"==typeof t.color&&(i.color=t.color),t.start instanceof E&&(i.start=t.start),t.end instanceof E&&(i.end=t.end),"number"==typeof t.startRadius&&(i.nu=fe(t.startRadius)),"number"==typeof t.endRadius&&(i.kt=fe(t.endRadius)),t=t.colorStops,Uh.Va(t))for(e in t)i.addColorStop(parseFloat(e),t[e])}else"go.Geometry"===n?(e=null,e="string"==typeof t.path?zu(t.path):new V,e.type=Gh(V,t.type),"number"==typeof t.startX&&(e.za=fe(t.startX)),"number"==typeof t.startY&&(e.xa=fe(t.startY)),"number"==typeof t.endX&&(e.I=fe(t.endX)),"number"==typeof t.endY&&(e.J=fe(t.endY)),t.spot1 instanceof E&&(e.B=t.spot1),t.spot2 instanceof E&&(e.C=t.spot2),i=e):"go.EnumValue"===n&&(e=t.classType,0===e.indexOf("go.")&&(e=e.substr(3)),i=Gh(Vh[e],t.name));t=i}}return t},ne.prototype.quote=function(t){for(var e="",i=t.length,n=0;i>n;n++){var r=t[n];if('"'===r||"\\"===r)e+="\\"+r;else if("\b"===r)e+="\\b";else if("\f"===r)e+="\\f";else if("\n"===r)e+="\\n";else if("\r"===r)e+="\\r";else if("	"===r)e+="\\t";else var o=t.charCodeAt(n),e=16>o?e+("\\u000"+t.charCodeAt(n).toString(16)):32>o?e+("\\u00"+t.charCodeAt(n).toString(16)):8232===o?e+"\\u2028":8233===o?e+"\\u2029":e+r}return'"'+e+'"'},ne.prototype.writeJsonValue=ne.prototype.tu=function(t){return void 0===t?"undefined":null===t?"null":!0===t?"true":!1===t?"false":"string"==typeof t?this.quote(t):"number"==typeof t?1/0===t?"9e9999":-1/0===t?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.tu(t.valueOf()):Uh.isArray(t)?le(this,t):Uh.Va(t)?ce(this,t):"function"==typeof t?"null":t.toString()},Uh.defineProperty(ne,{name:"name"},function(){return this.Pb},function(t){var e=this.Pb;e!==t&&(Uh.j(t,"string",ne,"name"),this.Pb=t,this.h("name",e,t))}),Uh.defineProperty(ne,{ll:"dataFormat"},function(){return this.Bq},function(t){var e=this.Bq;e!==t&&(Uh.j(t,"string",ne,"dataFormat"),this.Bq=t,this.h("dataFormat",e,t))}),Uh.defineProperty(ne,{cb:"isReadOnly"},function(){return this.xi},function(t){var e=this.xi;e!==t&&(Uh.j(t,"boolean",ne,"isReadOnly"),this.xi=t,this.h("isReadOnly",e,t))}),Uh.defineProperty(ne,{gk:"modelData"},function(){return this.Wy},function(t){var e=this.Wy;e!==t&&(Uh.j(t,"object",ne,"modelData"),this.Wy=t,this.h("modelData",e,t),this.Jb(t))}),ne.prototype.addChangedListener=ne.prototype.Fm=function(t){Uh.j(t,"function",ne,"addChangedListener:listener"),null===this.Aj&&(this.Aj=new u("function")),this.Aj.add(t)},ne.prototype.removeChangedListener=ne.prototype.Zt=function(t){Uh.j(t,"function",ne,"removeChangedListener:listener"),null!==this.Aj&&(this.Aj.remove(t),0===this.Aj.count&&(this.Aj=null))},ne.prototype.Fw=function(t){if(this.wb||this.ma.uE(t),null!==this.Aj){var e=this.Aj,i=e.length;if(1===i)(e=e.ha(0))(t);else if(0!==i)for(var n=e.dc(),r=0;i>r;r++)(e=n[r])(t)}},ne.prototype.raiseChangedEvent=ne.prototype.Lc=function(t,e,i,n,r,o,s){de(this,"",t,e,i,n,r,o,s)},ne.prototype.raiseChanged=ne.prototype.h=function(t,e,i,n,r){de(this,"",Wu,t,this,e,i,n,r)},ne.prototype.raiseDataChanged=ne.prototype.uA=function(t,e,i,n,r,o){de(this,"",Wu,e,t,i,n,r,o)},Uh.defineProperty(ne,{ma:"undoManager"},function(){return this.mz},function(t){var e=this.mz;e!==t&&(Uh.A(t,Me,ne,"undoManager"),null!==e&&e.WI(this),this.mz=t,null!==t&&t.JG(this))}),Uh.defineProperty(ne,{wb:"skipsUndoManager"},function(){return this.Ki},function(t){Uh.j(t,"boolean",ne,"skipsUndoManager"),this.Ki=t}),ne.prototype.Km=function(t,e){if(null!==t&&t.Z===this)if(t.xc===Wu){var i=t.object,n=t.propertyName,r=t.ka(e);Uh.Ka(i,n,r)}else t.xc===Ku?"nodeDataArray"===t.lf?(i=t.newValue,Uh.Va(i)&&(n=this.jb(i),void 0!==n&&(e?(Uh.Yh(this.Jf,t.Ag),this.uc.remove(n)):(Uh.Si(this.Jf,t.Ag,i),this.uc.add(n,i))))):""===t.lf?(i=t.object,!Uh.isArray(i)&&t.propertyName&&(i=Uh.sb(t.object,t.propertyName)),Uh.isArray(i)&&(n=t.newValue,r=t.Ag,e?Uh.Yh(i,r):Uh.Si(i,r,n))):Uh.k("unknown ChangedEvent.Insert object: "+t.toString()):t.xc===Yu?"nodeDataArray"===t.lf?(i=t.oldValue,Uh.Va(i)&&(n=this.jb(i),void 0!==n&&(e?(Uh.Si(this.Jf,t.Cg,i),this.uc.add(n,i)):(Uh.Yh(this.Jf,t.Cg),this.uc.remove(n))))):""===t.lf?(i=t.object,!Uh.isArray(i)&&t.propertyName&&(i=Uh.sb(t.object,t.propertyName)),Uh.isArray(i)&&(n=t.oldValue,r=t.Cg,e?Uh.Si(i,r,n):Uh.Yh(i,r))):Uh.k("unknown ChangedEvent.Remove object: "+t.toString()):t.xc!==Gu&&Uh.k("unknown ChangedEvent: "+t.toString())},ne.prototype.startTransaction=ne.prototype.Rb=function(t){return this.ma.Rb(t)},ne.prototype.commitTransaction=ne.prototype.Ad=function(t){return this.ma.Ad(t)},ne.prototype.rollbackTransaction=ne.prototype.Ip=function(){return this.ma.Ip()},ne.prototype.updateTargetBindings=ne.prototype.Jb=function(t,e){void 0===e&&(e=""),de(this,"SourceChanged",Gu,e,t,null,null)},Uh.defineProperty(ne,{Gl:"nodeKeyProperty"},function(){return this.Gj},function(t){var e=this.Gj;e!==t&&(pe(t,ne,"nodeKeyProperty"),""===t&&Uh.k("Model.nodeKeyProperty may not be the empty string"),0<this.uc.count&&Uh.k("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Gj=t,this.h("nodeKeyProperty",e,t))}),ne.prototype.getKeyForNodeData=ne.prototype.jb=function(t){if(null!==t){var e=this.Gj;if(""!==e&&(e=Uh.sb(t,e),void 0!==e)){if(ge(e))return e;Uh.k("Key value for node data "+t+" is not a number or a string: "+e)}}},ne.prototype.setKeyForNodeData=ne.prototype.Ix=function(t,e){if(void 0!==e&&null!==e&&ge(e)||Uh.Ed(e,"number or string",ne,"setKeyForNodeData:key"),null!==t){var i=this.Gj;
if(""!==i)if(this.Le(t)){var n=Uh.sb(t,i);n!==e&&null===this.$d(e)&&(Uh.Ka(t,i,e),this.uc.remove(n),this.uc.add(e,t),de(this,"nodeKey",Wu,i,t,n,e),"string"==typeof i&&this.Jb(t,i),this.$t(n,e))}else Uh.Ka(t,i,e)}},Uh.defineProperty(ne,{TK:"makeUniqueKeyFunction"},function(){return this.mo},function(t){var e=this.mo;e!==t&&(null!==t&&Uh.j(t,"function",ne,"makeUniqueKeyFunction"),this.mo=t,this.h("makeUniqueKeyFunction",e,t))}),ne.prototype.containsNodeData=ne.prototype.Le=function(t){var e=this.jb(t);return void 0===e?!1:this.uc.ka(e)===t},ne.prototype.findNodeDataForKey=ne.prototype.$d=function(t){return null===t&&Uh.k("Model.findNodeDataForKey:key must not be null"),void 0!==t&&ge(t)?this.uc.ka(t):null},Uh.defineProperty(ne,{Yf:"nodeDataArray"},function(){return this.Jf},function(t){var e=this.Jf;if(e!==t){Uh.yz(t,ne,"nodeDataArray"),this.uc.clear(),this.TA();for(var i=Uh.Xa(t),n=0;i>n;n++){var r=Uh.Pa(t,n);if(!Uh.Va(r))return void Uh.k("Model.nodeDataArray must only contain Objects, not: "+r);Uh.zt(r)}this.Jf=t;for(var o=new u(Object),n=0;i>n;n++){var r=Uh.Pa(t,n),s=this.jb(r);void 0===s?o.add(r):null!==this.uc.ka(s)?o.add(r):this.uc.add(s,r)}for(n=o.i;n.next();)r=n.value,this.eA(r),o=this.jb(r),void 0!==o&&this.uc.add(o,r);for(de(this,"nodeDataArray",Wu,"nodeDataArray",this,e,t),n=0;i>n;n++)r=Uh.Pa(t,n),this.Hp(r),this.Gp(r);this.ND(),Uh.fI(t)||(this.cb=!0)}}),ne.prototype.makeNodeDataKeyUnique=ne.prototype.eA=function(t){if(null!==t){var e=this.Gj;if(""!==e){var i=this.jb(t);if(void 0===i||this.uc.contains(i)){var n=this.mo;if(null!==n&&(i=n(this,t),void 0!==i&&null!==i&&!this.uc.contains(i)))return void Uh.Ka(t,e,i);if("string"==typeof i){for(n=2;this.uc.contains(i+n);)n++;Uh.Ka(t,e,i+n)}else if(void 0===i||"number"==typeof i){for(n=-this.uc.count-1;this.uc.contains(n);)n--;Uh.Ka(t,e,n)}else Uh.k("Model.getKeyForNodeData returned something other than a string or a number: "+i)}}}},ne.prototype.addNodeData=ne.prototype.cl=function(t){if(null!==t){Uh.zt(t);var e=this.jb(t);(void 0===e||this.uc.ka(e)!==t)&&(this.eA(t),e=this.jb(t),void 0===e?Uh.k("Model.makeNodeDataKeyUnique failed on "+t+".  Data not added to Model."):(this.uc.add(e,t),e=Uh.Xa(this.Jf),Uh.Si(this.Jf,e,t),de(this,"nodeDataArray",Ku,"nodeDataArray",this,null,t,null,e),this.Hp(t),this.Gp(t)))}},ne.prototype.addNodeDataCollection=function(t){if(Uh.isArray(t))for(var e=Uh.Xa(t),i=0;e>i;i++)this.cl(Uh.Pa(t,i));else for(t=t.i;t.next();)this.cl(t.value)},ne.prototype.removeNodeData=ne.prototype.Ax=function(t){if(null!==t){var e=this.jb(t);void 0!==e&&this.uc.contains(e)&&(this.uc.remove(e),e=Uh.xz(this.Jf,t),0>e||(Uh.Yh(this.Jf,e),de(this,"nodeDataArray",Yu,"nodeDataArray",this,t,null,e,null),this.ru(t)))}},ne.prototype.removeNodeDataCollection=function(t){if(Uh.isArray(t))for(var e=Uh.Xa(t),i=0;e>i;i++)this.Ax(Uh.Pa(t,i));else for(t=t.i;t.next();)this.Ax(t.value)},Bh=ne.prototype,Bh.$t=function(t,e){var i=ye(this,t);i instanceof f&&this.si.add(e,i)},Bh.TA=function(){},Bh.Hp=function(){},Bh.Gp=function(){},Bh.ru=function(){},ne.prototype.clearUnresolvedReferences=ne.prototype.ND=function(t){void 0===t?this.si.clear():this.si.remove(t)},Uh.defineProperty(ne,{kK:"copyNodeDataFunction"},function(){return this.Dn},function(t){var e=this.Dn;e!==t&&(null!==t&&Uh.j(t,"function",ne,"copyNodeDataFunction"),this.Dn=t,this.h("copyNodeDataFunction",e,t))}),Uh.defineProperty(ne,{Ez:"copiesArrays"},function(){return this.Su},function(t){var e=this.Su;e!==t&&(null!==t&&Uh.j(t,"boolean",ne,"copiesArrays"),this.Su=t,this.h("copiesArrays",e,t))}),Uh.defineProperty(ne,{Dz:"copiesArrayObjects"},function(){return this.tq},function(t){var e=this.tq;e!==t&&(null!==t&&Uh.j(t,"boolean",ne,"copiesArrayObjects"),this.tq=t,this.h("copiesArrayObjects",e,t))}),ne.prototype.copyNodeData=function(t){if(null===t)return null;var e=null,e=this.Dn,e=null!==e?e(t,this):be(this,t,!0);return Uh.Va(e)&&Uh.ec(e),e},Uh.defineProperty(ne,{LG:"afterCopyFunction"},function(){return this.dq},function(t){var e=this.dq;e!==t&&(null!==t&&Uh.j(t,"function",ne,"afterCopyFunction"),this.dq=t,this.h("afterCopyFunction",e,t))});var Ju=!1;ne.prototype.setDataProperty=function(t,e,i){if(this.Le(t)){if(e===this.Gl)this.Ix(t,i);else if(e===this.gn)return void this.Fx(t,i)}else!Ju&&t instanceof Er&&(Ju=!0,Uh.trace('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Uh.trace("  Is that really your intent?"));var n=Uh.sb(t,e);n!==i&&(Uh.Ka(t,e,i),this.uA(t,e,n,i))},ne.prototype.addArrayItem=function(t,e){this.$H(t,-1,e)},ne.prototype.insertArrayItem=ne.prototype.$H=function(t,e,i){t===this.Jf&&Uh.k("Model.insertArrayItem or Model.addArrayItem should not be called on the Model.nodeDataArray"),0>e&&(e=Uh.Xa(t)),Uh.Si(t,e,i),de(this,"",Ku,"",t,null,i,null,e)},ne.prototype.removeArrayItem=function(t,e){void 0===e&&(e=-1),t===this.Jf&&Uh.k("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===e&&(e=Uh.Xa(t)-1);var i=Uh.Pa(t,e);Uh.Yh(t,e),de(this,"",Yu,"",t,i,null,e,null)},Uh.defineProperty(ne,{gn:"nodeCategoryProperty"},function(){return this.pm},function(t){var e=this.pm;e!==t&&(pe(t,ne,"nodeCategoryProperty"),this.pm=t,this.h("nodeCategoryProperty",e,t))}),ne.prototype.getCategoryForNodeData=ne.prototype.Pz=function(t){if(null===t)return"";var e=this.pm;return""===e?"":(e=Uh.sb(t,e),void 0===e?"":"string"==typeof e?e:(Uh.k("getCategoryForNodeData found a non-string category for "+t+": "+e),""))},ne.prototype.setCategoryForNodeData=ne.prototype.Fx=function(t,e){if(Uh.j(e,"string",ne,"setCategoryForNodeData:cat"),null!==t){var i=this.pm;if(""!==i)if(this.Le(t)){var n=Uh.sb(t,i);void 0===n&&(n=""),n!==e&&(Uh.Ka(t,i,e),de(this,"nodeCategory",Wu,i,t,n,e))}else Uh.Ka(t,i,e)}},Uh.Ja(xe,ne),Uh.ea("GraphLinksModel",xe),xe.prototype.cloneProtected=function(t){ne.prototype.cloneProtected.call(this,t),t.Pk=this.Pk,t.no=this.no,t.Cn=this.Cn,t.Kh=this.Kh,t.Lh=this.Lh,t.lm=this.lm,t.mm=this.mm,t.km=this.km,t.ig=this.ig,t.ro=this.ro,t.Sg=this.Sg,t.uq=this.uq},xe.prototype.clear=xe.prototype.clear=function(){ne.prototype.clear.call(this),this.Hf=[],this.Yc.clear(),this.ko.clear()},Bh=xe.prototype,Bh.toString=function(t){if(void 0===t&&(t=0),t>=2)return this.QA();var e=(""!==this.name?this.name:"")+" GraphLinksModel";if(t>0){e+="\n node data:",t=this.Yf;for(var i=Uh.Xa(t),n=0,n=0;i>n;n++)var r=Uh.Pa(t,n),e=e+(" "+this.jb(r)+":"+Zu(r));for(e+="\n link data:",t=this.yg,i=Uh.Xa(t),n=0;i>n;n++)r=Uh.Pa(t,n),e+=" "+this.ul(r)+"-->"+this.xl(r)}return e},Bh.qn=function(){var t=ne.prototype.qn.call(this),e="";return"category"!==this.Lt&&"string"==typeof this.Lt&&(e+=',\n  "linkCategoryProperty": '+this.quote(this.Lt)),""!==this.cj&&"string"==typeof this.cj&&(e+=',\n  "linkKeyProperty": '+this.quote(this.cj)),"from"!==this.qp&&"string"==typeof this.qp&&(e+=',\n  "linkFromKeyProperty": '+this.quote(this.qp)),"to"!==this.sp&&"string"==typeof this.sp&&(e+=',\n  "linkToKeyProperty": '+this.quote(this.sp)),""!==this.Mt&&"string"==typeof this.Mt&&(e+=',\n  "linkFromPortIdProperty": '+this.quote(this.Mt)),""!==this.Ot&&"string"==typeof this.Ot&&(e+=',\n  "linkToPortIdProperty": '+this.quote(this.Ot)),""!==this.Nt&&"string"==typeof this.Nt&&(e+=',\n  "linkLabelKeysProperty": '+this.quote(this.Nt)),"isGroup"!==this.Ut&&"string"==typeof this.Ut&&(e+=',\n  "nodeIsGroupProperty": '+this.quote(this.Ut)),"group"!==this.Cp&&"string"==typeof this.Cp&&(e+=',\n  "nodeGroupKeyProperty": '+this.quote(this.Cp)),t+e},Bh.Yt=function(t){ne.prototype.Yt.call(this,t),t.linkKeyProperty&&(this.cj=t.linkKeyProperty),t.linkFromKeyProperty&&(this.qp=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.sp=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.Mt=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.Ot=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.Lt=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.Nt=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.Ut=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.Cp=t.nodeGroupKeyProperty)},Bh.YA=function(){var t=ne.prototype.YA.call(this),e=',\n  "linkDataArray": '+le(this,this.yg,!0);return t+e},Bh.wA=function(t){ne.prototype.wA.call(this,t),t=t.linkDataArray,Uh.isArray(t)&&(this.au(t),this.yg=t)},Bh.ZA=function(t){t instanceof xe||Uh.k("Model.computeJsonDifference: newmodel must be a GraphLinksModel"),""===this.cj&&Uh.k("GraphLinksModel.linkKeyProperty must not be an empty string for .computeJsonDifference() to succeed.");var e=ne.prototype.ZA.call(this,t);ae(this,t,"linkKeyProperty"),ae(this,t,"linkFromKeyProperty"),ae(this,t,"linkToKeyProperty"),ae(this,t,"linkLabelKeysProperty"),ae(this,t,"nodeIsGroupProperty"),ae(this,t,"nodeGroupKeyProperty");for(var i=new f,n=new f,r=(new f).Tc(this.Yc.ME),o=new y,s=t.yg,a=0;a<s.length;a++){var l=s[a],h=t.ef(l);if(void 0!==h){r.remove(h);var u=this.nt(h);null===u?(i.add(h),n.add(l)):se(this,u,l,o)||n.add(l)}else this.dA(l),h=this.ef(l),i.add(h),n.add(l)}return t=e,0<i.count&&(t+=this.by+le(this,i.dc(),!0)),0<n.count&&(t+=this.jB+le(this,n.dc(),!0)),0<r.count&&(t+=this.gy+le(this,r.dc(),!0)),t},Bh.by=',\n  "insertedLinkKeys": ',Bh.jB=',\n  "modifiedLinkData": ',Bh.gy=',\n  "removedLinkKeys": ',Bh.XA=function(t,e){""===this.cj&&Uh.k("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.");var i=ne.prototype.XA.call(this,t,e),n=this,r=new f,o=new f,s=new f;t.Of.each(function(t){t.Z===n&&("linkDataArray"===t.lf?t.xc===Ku?r.add(t.newValue):t.xc===Yu&&s.add(t.oldValue):n.bh(t.object)&&o.add(t.object))});var a=new f;r.each(function(t){a.add(n.ef(t)),e||o.add(t)});var l=new f;return s.each(function(t){l.add(n.ef(t)),e&&o.add(t)}),0<a.count&&(i+=(e?this.gy:this.by)+le(this,a.dc(),!0)),0<o.count&&(i+=this.jB+le(this,o.dc(),!0)),0<l.count&&(i+=(e?this.by:this.gy)+le(this,l.dc(),!0)),i},Bh.vA=function(t){ne.prototype.vA.call(this,t);var e=t.insertedLinkKeys;if(Uh.isArray(e))for(var i=Uh.Xa(e),n=0;i>n;n++){var r=Uh.Pa(e,n),o=this.nt(r);null===o&&(o=this.Jw({}),this.vF(o,r),this.Vs(o))}if(e=t.modifiedLinkData,Uh.isArray(e))for(i=Uh.Xa(e),n=0;i>n;n++){var s=Uh.Pa(e,n),r=this.ef(s),o=this.nt(r);if(null!==o)for(var a in s)"__gohashid"!==a&&a!==this.cj&&this.setDataProperty(o,a,s[a])}if(t=t.removedLinkKeys,Uh.isArray(t))for(i=Uh.Xa(t),n=0;i>n;n++)r=Uh.Pa(t,n),o=this.nt(r),null!==o&&this.zx(o)},Bh.Km=function(t,e){var i=null;if(t.xc===Ku){if("linkDataArray"===t.lf?i=this.Hf:"linkLabelKeys"===t.lf&&(i=this.dk(t.object)),Uh.isArray(i)){if(e)Uh.Yh(i,t.Ag),i===this.Hf&&(i=this.ef(t.newValue),void 0!==i&&this.Yc.remove(i));else if(Uh.Si(i,t.Ag,t.newValue),i===this.Hf){var n=t.newValue,i=this.ef(n);void 0!==i&&this.Yc.add(i,n)}return}}else if(t.xc===Yu&&("linkDataArray"===t.lf?i=this.Hf:"linkLabelKeys"===t.lf&&(i=this.dk(t.object)),Uh.isArray(i)))return void(e?(Uh.Si(i,t.Cg,t.oldValue),i===this.Hf&&(n=t.newValue,i=this.ef(n),void 0!==i&&this.Yc.add(i,n))):(Uh.Yh(i,t.Cg),i===this.Hf&&(i=this.ef(t.newValue),void 0!==i&&this.Yc.remove(i))));ne.prototype.Km.call(this,t,e)},Uh.defineProperty(xe,{wz:"archetypeNodeData"},function(){return this.Ul},function(t){var e=this.Ul;e!==t&&(null!==t&&Uh.A(t,Object,xe,"archetypeNodeData"),this.Ul=t,this.h("archetypeNodeData",e,t))}),xe.prototype.en=function(t){if(void 0!==t){var e=this.Ul;if(null!==e){var i=this.$d(t);null===i&&(i=this.copyNodeData(e),Uh.Ka(i,this.Gj,t),this.cl(i))}return t}},Uh.defineProperty(xe,{qp:"linkFromKeyProperty"},function(){return this.Kh},function(t){var e=this.Kh;e!==t&&(pe(t,xe,"linkFromKeyProperty"),this.Kh=t,this.h("linkFromKeyProperty",e,t))}),xe.prototype.getFromKeyForLinkData=xe.prototype.ul=function(t){if(null!==t){var e=this.Kh;if(""!==e&&(e=Uh.sb(t,e),void 0!==e)){if(ge(e))return e;Uh.k("FromKey value for link data "+t+" is not a number or a string: "+e)}}},xe.prototype.setFromKeyForLinkData=xe.prototype.Gx=function(t,e){if(null===e&&(e=void 0),void 0===e||ge(e)||Uh.Ed(e,"number or string",xe,"setFromKeyForLinkData:key"),null!==t){var i=this.Kh;if(""!==i)if(e=this.en(e),this.bh(t)){var n=Uh.sb(t,i);n!==e&&(me(this,n,t),Uh.Ka(t,i,e),null===this.$d(e)&&ve(this,e,t),de(this,"linkFromKey",Wu,i,t,n,e),"string"==typeof i&&this.Jb(t,i))}else Uh.Ka(t,i,e)}},Uh.defineProperty(xe,{sp:"linkToKeyProperty"},function(){return this.Lh},function(t){var e=this.Lh;e!==t&&(pe(t,xe,"linkToKeyProperty"),this.Lh=t,this.h("linkToKeyProperty",e,t))}),xe.prototype.getToKeyForLinkData=xe.prototype.xl=function(t){if(null!==t){var e=this.Lh;if(""!==e&&(e=Uh.sb(t,e),void 0!==e)){if(ge(e))return e;Uh.k("ToKey value for link data "+t+" is not a number or a string: "+e)}}},xe.prototype.setToKeyForLinkData=xe.prototype.Kx=function(t,e){if(null===e&&(e=void 0),void 0===e||ge(e)||Uh.Ed(e,"number or string",xe,"setToKeyForLinkData:key"),null!==t){var i=this.Lh;if(""!==i)if(e=this.en(e),this.bh(t)){var n=Uh.sb(t,i);n!==e&&(me(this,n,t),Uh.Ka(t,i,e),null===this.$d(e)&&ve(this,e,t),de(this,"linkToKey",Wu,i,t,n,e),"string"==typeof i&&this.Jb(t,i))}else Uh.Ka(t,i,e)}},Uh.defineProperty(xe,{Mt:"linkFromPortIdProperty"},function(){return this.lm},function(t){var e=this.lm;e!==t&&(pe(t,xe,"linkFromPortIdProperty"),this.lm=t,this.h("linkFromPortIdProperty",e,t))}),xe.prototype.getFromPortIdForLinkData=xe.prototype.IH=function(t){if(null===t)return"";var e=this.lm;return""===e?"":(t=Uh.sb(t,e),void 0===t?"":t)},xe.prototype.setFromPortIdForLinkData=xe.prototype.HA=function(t,e){if(Uh.j(e,"string",xe,"setFromPortIdForLinkData:portname"),null!==t){var i=this.lm;if(""!==i)if(this.bh(t)){var n=Uh.sb(t,i);void 0===n&&(n=""),n!==e&&(Uh.Ka(t,i,e),de(this,"linkFromPortId",Wu,i,t,n,e),"string"==typeof i&&this.Jb(t,i))}else Uh.Ka(t,i,e)}},Uh.defineProperty(xe,{Ot:"linkToPortIdProperty"},function(){return this.mm},function(t){var e=this.mm;e!==t&&(pe(t,xe,"linkToPortIdProperty"),this.mm=t,this.h("linkToPortIdProperty",e,t))}),xe.prototype.getToPortIdForLinkData=xe.prototype.LH=function(t){if(null===t)return"";var e=this.mm;return""===e?"":(t=Uh.sb(t,e),void 0===t?"":t)},xe.prototype.setToPortIdForLinkData=xe.prototype.KA=function(t,e){if(Uh.j(e,"string",xe,"setToPortIdForLinkData:portname"),null!==t){var i=this.mm;if(""!==i)if(this.bh(t)){var n=Uh.sb(t,i);void 0===n&&(n=""),n!==e&&(Uh.Ka(t,i,e),de(this,"linkToPortId",Wu,i,t,n,e),"string"==typeof i&&this.Jb(t,i))}else Uh.Ka(t,i,e)}},Uh.defineProperty(xe,{Nt:"linkLabelKeysProperty"},function(){return this.ig},function(t){var e=this.ig;e!==t&&(pe(t,xe,"linkLabelKeysProperty"),this.ig=t,this.h("linkLabelKeysProperty",e,t))}),xe.prototype.getLabelKeysForLinkData=xe.prototype.dk=function(t){if(null===t)return Uh.wh;var e=this.ig;return""===e?Uh.wh:(t=Uh.sb(t,e),void 0===t?Uh.wh:t)},xe.prototype.setLabelKeysForLinkData=xe.prototype.wF=function(t,e){if(Uh.yz(e,xe,"setLabelKeysForLinkData:arr"),null!==t){var i=this.ig;if(""!==i)if(this.bh(t)){var n=Uh.sb(t,i);if(void 0===n&&(n=Uh.wh),n!==e){for(var r=Uh.Xa(n),o=0;r>o;o++){var s=Uh.Pa(n,o);me(this,s,t)}for(Uh.Ka(t,i,e),r=Uh.Xa(e),o=0;r>o;o++)s=Uh.Pa(e,o),null===this.$d(s)&&ve(this,s,t);de(this,"linkLabelKeys",Wu,i,t,n,e),"string"==typeof i&&this.Jb(t,i)}}else Uh.Ka(t,i,e)}},xe.prototype.addLabelKeyForLinkData=xe.prototype.sz=function(t,e){if(null!==e&&void 0!==e&&(ge(e)||Uh.Ed(e,"number or string",xe,"addLabelKeyForLinkData:key"),null!==t)){var i=this.ig;if(""!==i){var n=Uh.sb(t,i);void 0===n?(i=[],i.push(e),this.wF(t,i)):Uh.isArray(n)?0<=Uh.xz(n,e)||(Uh.Si(n,1/0,e),this.bh(t)&&(null===this.$d(e)&&ve(this,e,t),de(this,"linkLabelKeys",Ku,i,t,null,e))):Uh.k(i+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}}},xe.prototype.removeLabelKeyForLinkData=xe.prototype.dF=function(t,e){if(null!==e&&void 0!==e&&(ge(e)||Uh.Ed(e,"number or string",xe,"removeLabelKeyForLinkData:key"),null!==t)){var i=this.ig;if(""!==i){var n=Uh.sb(t,i);if(Uh.isArray(n)){var r=Uh.xz(n,e);0>r||(Uh.Yh(n,r),this.bh(t)&&(me(this,e,t),de(this,"linkLabelKeys",Yu,i,t,e,null)))}else void 0!==n&&Uh.k(i+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}}},Uh.defineProperty(xe,{yg:"linkDataArray"},function(){return this.Hf},function(t){var e=this.Hf;if(e!==t){Uh.yz(t,xe,"linkDataArray"),this.Yc.clear();for(var i=Uh.Xa(t),n=0;i>n;n++){var r=Uh.Pa(t,n);if(!Uh.Va(r))return void Uh.k("GraphLinksModel.linkDataArray must only contain Objects, not: "+r);Uh.zt(r)}if(this.Hf=t,""!==this.cj){for(var o=new u(Object),n=0;i>n;n++){var r=Uh.Pa(t,n),s=this.ef(r);void 0===s?o.add(r):null!==this.Yc.ka(s)?o.add(r):this.Yc.add(s,r)}for(n=o.i;n.next();)r=n.value,this.dA(r),o=this.ef(r),void 0!==o&&this.Yc.add(o,r)}for(o=new f(Object),n=0;i>n;n++)r=Uh.Pa(t,n),o.add(r);for(this.ko=o,de(this,"linkDataArray",Wu,"linkDataArray",this,e,t),n=0;i>n;n++)r=Uh.Pa(t,n),we(this,r)}}),Uh.defineProperty(xe,{cj:"linkKeyProperty"},function(){return this.Pk},function(t){var e=this.Pk;if(e!==t){pe(t,xe,"linkKeyProperty"),this.Pk=t,this.Yc.clear();for(var i=Uh.Xa(this.yg),n=0;i>n;n++){var r=Uh.Pa(this.yg,n),o=this.ef(r);void 0!==o&&this.Yc.add(o,r)}this.h("linkKeyProperty",e,t)}}),xe.prototype.getKeyForLinkData=xe.prototype.ef=function(t){if(null!==t){var e=this.Pk;if(""!==e&&(e=Uh.sb(t,e),void 0!==e)){if(ge(e))return e;Uh.k("Key value for link data "+t+" is not a number or a string: "+e)}}},xe.prototype.setKeyForLinkData=xe.prototype.vF=function(t,e){if(void 0!==e&&null!==e&&ge(e)||Uh.Ed(e,"number or string",xe,"setKeyForLinkData:key"),null!==t){var i=this.Pk;if(""!==i)if(this.bh(t)){var n=Uh.sb(t,i);n!==e&&null===this.nt(e)&&(Uh.Ka(t,i,e),this.Yc.remove(n),this.Yc.add(e,t),de(this,"linkKey",Wu,i,t,n,e),"string"==typeof i&&this.Jb(t,i))}else Uh.Ka(t,i,e)}},Uh.defineProperty(xe,{UK:"makeUniqueLinkKeyFunction"},function(){return this.no},function(t){var e=this.no;e!==t&&(null!==t&&Uh.j(t,"function",xe,"makeUniqueLinkKeyFunction"),this.no=t,this.h("makeUniqueLinkKeyFunction",e,t))}),xe.prototype.findLinkDataForKey=xe.prototype.nt=function(t){return null===t&&Uh.k("GraphLinksModel.findLinkDataForKey:key must not be null"),void 0!==t&&ge(t)?this.Yc.ka(t):null},xe.prototype.makeLinkDataKeyUnique=xe.prototype.dA=function(t){if(null!==t){var e=this.Pk;if(""!==e){var i=this.ef(t);if(void 0===i||this.Yc.contains(i)){var n=this.no;if(null!==n&&(i=n(this,t),void 0!==i&&null!==i&&!this.Yc.contains(i)))return void Uh.Ka(t,e,i);if("string"==typeof i){for(n=2;this.Yc.contains(i+n);)n++;Uh.Ka(t,e,i+n)}else if(void 0===i||"number"==typeof i){for(n=-this.Yc.count-1;this.Yc.contains(n);)n--;Uh.Ka(t,e,n)}else Uh.k("GraphLinksModel.getKeyForLinkData returned something other than a string or a number: "+i)}}}},xe.prototype.containsLinkData=xe.prototype.bh=function(t){return null===t?!1:this.ko.contains(t)},xe.prototype.addLinkData=xe.prototype.Vs=function(t){if(null!==t){if(void 0===Uh.pd(t))Uh.ec(t);else if(this.bh(t))return;if(""!==this.cj){var e=this.ef(t);if(void 0!==e&&this.Yc.ka(e)===t)return;if(this.dA(t),e=this.ef(t),void 0===e)return void Uh.k("GraphLinksModel.makeLinkDataKeyUnique failed on "+t+". Data not added to model.");this.Yc.add(e,t)}this.ko.add(t),e=Uh.Xa(this.Hf),Uh.Si(this.Hf,e,t),de(this,"linkDataArray",Ku,"linkDataArray",this,null,t,null,e),we(this,t)}},xe.prototype.addLinkDataCollection=function(t){if(Uh.isArray(t))for(var e=Uh.Xa(t),i=0;e>i;i++)this.Vs(Uh.Pa(t,i));else for(t=t.i;t.next();)this.Vs(t.value)},xe.prototype.removeLinkData=xe.prototype.zx=function(t){if(null!==t){this.ko.remove(t);var e=this.ef(t);if(void 0!==e&&this.Yc.remove(e),e=this.Hf.indexOf(t),!(0>e)){Uh.Yh(this.Hf,e),de(this,"linkDataArray",Yu,"linkDataArray",this,t,null,e,null),e=this.ul(t),me(this,e,t),e=this.xl(t),me(this,e,t);var i=this.dk(t);if(Uh.isArray(i))for(var n=Uh.Xa(i),r=0;n>r;r++)e=Uh.Pa(i,r),me(this,e,t)}}},xe.prototype.removeLinkDataCollection=function(t){if(Uh.isArray(t))for(var e=Uh.Xa(t),i=0;e>i;i++)this.zx(Uh.Pa(t,i));else for(t=t.i;t.next();)this.zx(t.value)},Uh.defineProperty(xe,{jK:"copyLinkDataFunction"},function(){return this.Cn},function(t){var e=this.Cn;e!==t&&(null!==t&&Uh.j(t,"function",xe,"copyLinkDataFunction"),this.Cn=t,this.h("copyLinkDataFunction",e,t))}),xe.prototype.copyLinkData=xe.prototype.Jw=function(t){if(null===t)return null;var e=null,e=this.Cn,e=null!==e?e(t,this):be(this,t,!0);return Uh.Va(e)&&(Uh.ec(e),""!==this.Kh&&Uh.Ka(e,this.Kh,void 0),""!==this.Lh&&Uh.Ka(e,this.Lh,void 0),""!==this.ig&&Uh.Ka(e,this.ig,[])),e},Uh.defineProperty(xe,{Ut:"nodeIsGroupProperty"},function(){return this.ro},function(t){var e=this.ro;e!==t&&(pe(t,xe,"nodeIsGroupProperty"),this.ro=t,this.h("nodeIsGroupProperty",e,t))}),xe.prototype.isGroupForNodeData=xe.prototype.Xz=function(t){if(null===t)return!1;var e=this.ro;return""===e?!1:Uh.sb(t,e)?!0:!1},Uh.defineProperty(xe,{Cp:"nodeGroupKeyProperty"},function(){return this.Sg},function(t){var e=this.Sg;e!==t&&(pe(t,xe,"nodeGroupKeyProperty"),this.Sg=t,this.h("nodeGroupKeyProperty",e,t))}),Uh.defineProperty(xe,{Om:"copiesGroupKeyOfNodeData"},function(){return this.uq},function(t){this.uq!==t&&(Uh.j(t,"boolean",xe,"copiesGroupKeyOfNodeData"),this.uq=t)}),xe.prototype.getGroupKeyForNodeData=xe.prototype.Xm=function(t){if(null!==t){var e=this.Sg;if(""!==e&&(e=Uh.sb(t,e),void 0!==e)){if(ge(e))return e;Uh.k("GroupKey value for node data "+t+" is not a number or a string: "+e)}}},xe.prototype.setGroupKeyForNodeData=xe.prototype.Hx=function(t,e){if(null===e&&(e=void 0),void 0===e||ge(e)||Uh.Ed(e,"number or string",xe,"setGroupKeyForNodeData:key"),null!==t){var i=this.Sg;if(""!==i)if(this.Le(t)){var n=Uh.sb(t,i);n!==e&&(me(this,n,t),Uh.Ka(t,i,e),null===this.$d(e)&&ve(this,e,t),de(this,"nodeGroupKey",Wu,i,t,n,e),"string"==typeof i&&this.Jb(t,i))}else Uh.Ka(t,i,e)}},xe.prototype.copyNodeData=function(t){return null===t?null:(t=ne.prototype.copyNodeData.call(this,t),this.Om||""===this.Sg||void 0===Uh.sb(t,this.Sg)||Uh.Ka(t,this.Sg,void 0),t)},xe.prototype.setDataProperty=function(t,e,i){if(this.Le(t))if(e===this.Gl)this.Ix(t,i);else{if(e===this.gn)return void this.Fx(t,i);if(e===this.Cp)return void this.Hx(t,i);e===this.Ut&&Uh.k("GraphLinksModel.setDataProperty: property name must not be the nodeIsGroupProperty: "+e)}else if(this.bh(t)){if(e===this.qp)return void this.Gx(t,i);if(e===this.sp)return void this.Kx(t,i);if(e===this.Mt)return void this.HA(t,i);if(e===this.Ot)return void this.KA(t,i);if(e===this.cj)return void this.vF(t,i);if(e===this.Lt)return void this.uF(t,i);if(e===this.Nt)return void this.wF(t,i)}else!Ju&&t instanceof Er&&(Ju=!0,Uh.trace('GraphLinksModel.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Uh.trace("  Is that really your intent?"));var n=Uh.sb(t,e);n!==i&&(Uh.Ka(t,e,i),this.uA(t,e,n,i))},Bh=xe.prototype,Bh.$t=function(t,e){ne.prototype.$t.call(this,t,e);for(var i=this.uc.i;i.next();)this.CA(i.value,t,e);for(i=this.ko.i;i.next();){var n=i.value,r=t,o=e;if(this.ul(n)===r){var s=this.Kh;Uh.Ka(n,s,o),de(this,"linkFromKey",Wu,s,n,r,o),"string"==typeof s&&this.Jb(n,s)}this.xl(n)===r&&(s=this.Lh,Uh.Ka(n,s,o),de(this,"linkToKey",Wu,s,n,r,o),"string"==typeof s&&this.Jb(n,s));var a=this.dk(n);if(Uh.isArray(a))for(var l=Uh.Xa(a),s=this.ig,h=0;l>h;h++)Uh.Pa(a,h)===r&&(Uh.HD(a,h,o),de(this,"linkLabelKeys",Ku,s,n,r,o))}},Bh.CA=function(t,e,i){if(this.Xm(t)===e){var n=this.Sg;Uh.Ka(t,n,i),de(this,"nodeGroupKey",Wu,n,t,e,i),"string"==typeof n&&this.Jb(t,n)}},Bh.TA=function(){ne.prototype.TA.call(this);for(var t=this.yg,e=Uh.Xa(t),i=0;e>i;i++){var n=Uh.Pa(t,i);we(this,n)}},Bh.Hp=function(t){ne.prototype.Hp.call(this,t),t=this.jb(t);var e=ye(this,t);if(null!==e){for(var i=new u(Object),e=e.i;e.next();){var n=e.value;if(this.Le(n)){if(this.Xm(n)===t){var r=this.Sg;de(this,"nodeGroupKey",Wu,r,n,t,t),"string"==typeof r&&this.Jb(n,r),i.add(n)}}else{this.ul(n)===t&&(r=this.Kh,de(this,"linkFromKey",Wu,r,n,t,t),"string"==typeof r&&this.Jb(n,r),i.add(n)),this.xl(n)===t&&(r=this.Lh,de(this,"linkToKey",Wu,r,n,t,t),"string"==typeof r&&this.Jb(n,r),i.add(n));var o=this.dk(n);if(Uh.isArray(o))for(var s=Uh.Xa(o),r=this.ig,a=0;s>a;a++)Uh.Pa(o,a)===t&&(de(this,"linkLabelKeys",Ku,r,n,t,t),i.add(n))}}for(i=i.i;i.next();)me(this,t,i.value)}},Bh.Gp=function(t){ne.prototype.Gp.call(this,t);var e=this.Xm(t);null===this.$d(e)&&ve(this,e,t)},Bh.ru=function(t){ne.prototype.ru.call(this,t);var e=this.Xm(t);me(this,e,t)},Uh.defineProperty(xe,{Lt:"linkCategoryProperty"},function(){return this.km},function(t){var e=this.km;e!==t&&(pe(t,xe,"linkCategoryProperty"),this.km=t,this.h("linkCategoryProperty",e,t))}),xe.prototype.getCategoryForLinkData=xe.prototype.Vw=function(t){if(null===t)return"";var e=this.km;return""===e?"":(e=Uh.sb(t,e),void 0===e?"":"string"==typeof e?e:(Uh.k("getCategoryForLinkData found a non-string category for "+t+": "+e),""))},xe.prototype.setCategoryForLinkData=xe.prototype.uF=function(t,e){if(Uh.j(e,"string",xe,"setCategoryForLinkData:cat"),null!==t){var i=this.km;if(""!==i)if(this.bh(t)){var n=Uh.sb(t,i);void 0===n&&(n=""),n!==e&&(Uh.Ka(t,i,e),de(this,"linkCategory",Wu,i,t,n,e),"string"==typeof i&&this.Jb(t,i))}else Uh.Ka(t,i,e)}},Uh.Ja(ke,ne),Uh.ea("TreeModel",ke),ke.prototype.cloneProtected=function(t){ne.prototype.cloneProtected.call(this,t),t.Tg=this.Tg,t.vq=this.vq,t.rm=this.rm},ke.prototype.toString=function(t){if(void 0===t&&(t=0),t>=2)return this.QA();var e=(""!==this.name?this.name:"")+" TreeModel";if(t>0){e+="\n node data:",t=this.Yf;for(var i=Uh.Xa(t),n=0;i>n;n++)var r=Uh.Pa(t,n),e=e+(" "+this.jb(r)+":"+Zu(r))}return e},ke.prototype.qn=function(){var t=ne.prototype.qn.call(this),e="";return"parent"!==this.Dp&&"string"==typeof this.Dp&&(e+=',\n  "nodeParentKeyProperty": '+this.quote(this.Dp)),t+e},ke.prototype.Yt=function(t){ne.prototype.Yt.call(this,t),t.nodeParentKeyProperty&&(this.Dp=t.nodeParentKeyProperty)},ke.prototype.en=function(t){return t},Uh.defineProperty(ke,{Dp:"nodeParentKeyProperty"},function(){return this.Tg},function(t){var e=this.Tg;e!==t&&(pe(t,ke,"nodeParentKeyProperty"),this.Tg=t,this.h("nodeParentKeyProperty",e,t))}),Uh.defineProperty(ke,{Pm:"copiesParentKeyOfNodeData"},function(){return this.vq},function(t){this.vq!==t&&(Uh.j(t,"boolean",ke,"copiesParentKeyOfNodeData"),this.vq=t)}),ke.prototype.getParentKeyForNodeData=ke.prototype.Ym=function(t){if(null!==t){var e=this.Tg;if(""!==e&&(e=Uh.sb(t,e),void 0!==e)){if(ge(e))return e;Uh.k("ParentKey value for node data "+t+" is not a number or a string: "+e)}}},ke.prototype.setParentKeyForNodeData=ke.prototype.sh=function(t,e){if(null===e&&(e=void 0),void 0===e||ge(e)||Uh.Ed(e,"number or string",ke,"setParentKeyForNodeData:key"),null!==t){var i=this.Tg;if(""!==i)if(e=this.en(e),this.Le(t)){var n=Uh.sb(t,i);n!==e&&(me(this,n,t),Uh.Ka(t,i,e),null===this.$d(e)&&ve(this,e,t),de(this,"nodeParentKey",Wu,i,t,n,e),"string"==typeof i&&this.Jb(t,i))}else Uh.Ka(t,i,e)}},Uh.defineProperty(ke,{nL:"parentLinkCategoryProperty"},function(){return this.rm},function(t){var e=this.rm;e!==t&&(pe(t,ke,"parentLinkCategoryProperty"),this.rm=t,this.h("parentLinkCategoryProperty",e,t))}),ke.prototype.getParentLinkCategoryForNodeData=ke.prototype.KH=function(t){if(null===t)return"";var e=this.rm;return""===e?"":(e=Uh.sb(t,e),void 0===e?"":"string"==typeof e?e:(Uh.k("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+e),""))},ke.prototype.setParentLinkCategoryForNodeData=ke.prototype.lJ=function(t,e){if(Uh.j(e,"string",ke,"setParentLinkCategoryForNodeData:cat"),null!==t){var i=this.rm;if(""!==i)if(this.Le(t)){var n=Uh.sb(t,i);void 0===n&&(n=""),n!==e&&(Uh.Ka(t,i,e),de(this,"parentLinkCategory",Wu,i,t,n,e),"string"==typeof i&&this.Jb(t,i))}else Uh.Ka(t,i,e)}},ke.prototype.copyNodeData=function(t){return null===t?null:(t=ne.prototype.copyNodeData.call(this,t),this.Pm||""===this.Tg||void 0===Uh.sb(t,this.Tg)||Uh.Ka(t,this.Tg,void 0),t)},ke.prototype.setDataProperty=function(t,e,i){if(this.Le(t))if(e===this.Gl)this.Ix(t,i);else{if(e===this.gn)return void this.Fx(t,i);if(e===this.Dp)return void this.sh(t,i)}else!Ju&&t instanceof Er&&(Ju=!0,Uh.trace('TreeModel.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Uh.trace("  Is that really your intent?"));var n=Uh.sb(t,e);n!==i&&(Uh.Ka(t,e,i),this.uA(t,e,n,i))},Bh=ke.prototype,Bh.$t=function(t,e){ne.prototype.$t.call(this,t,e);for(var i=this.uc.i;i.next();)this.CA(i.value,t,e)},Bh.CA=function(t,e,i){if(this.Ym(t)===e){var n=this.Tg;Uh.Ka(t,n,i),de(this,"nodeParentKey",Wu,n,t,e,i),"string"==typeof n&&this.Jb(t,n)}},Bh.Hp=function(t){ne.prototype.Hp.call(this,t),t=this.jb(t);var e=ye(this,t);if(null!==e){for(var i=new u(Object),e=e.i;e.next();){var n=e.value;if(this.Le(n)&&this.Ym(n)===t){var r=this.Tg;de(this,"nodeParentKey",Wu,r,n,t,t),"string"==typeof r&&this.Jb(n,r),i.add(n)}}for(i=i.i;i.next();)me(this,t,i.value)}},Bh.Gp=function(t){ne.prototype.Gp.call(this,t);var e=this.Ym(t),e=this.en(e);null===this.$d(e)&&ve(this,e,t)},Bh.ru=function(t){ne.prototype.ru.call(this,t);var e=this.Ym(t);me(this,e,t)},Uh.ea("Binding",Te),Te.prototype.copy=function(){var t=new Te;return t.Ko=this.Ko,t.Gs=this.Gs,t.Jo=this.Jo,t.hw=this.hw,t.hr=this.hr,t.Ao=this.Ao,t.sq=this.sq,t.Er=this.Er,t.lq=this.lq,t};var Xu;Te.OneWay=Xu=Uh.p(Te,"OneWay",1);var Qu;Te.TwoWay=Qu=Uh.p(Te,"TwoWay",2),Te.parseEnum=function(t,e){return Uh.j(t,"function",Te,"parseEnum:ctor"),Uh.rb(e,t,Te,"parseEnum:defval"),function(i){return i=Gh(t,i),null===i?e:i}};var Zu;Te.toString=Zu=function(t){var e=t;return Uh.Va(t)&&(t.text?e=t.text:t.name?e=t.name:void 0!==t.key?e=t.key:void 0!==t.id?e=t.id:t.constructor===Object&&(t.Text?e=t.Text:t.Name?e=t.Name:void 0!==t.Key?e=t.Key:void 0!==t.Id?e=t.Id:void 0!==t.ID&&(e=t.ID))),void 0===e?"undefined":null===e?"null":e.toString()},Te.prototype.toString=function(){return"Binding("+this.Nx+":"+this.AF+(-1!==this.Nl?" "+this.Nl:"")+" "+this.mode.name+")"},Te.prototype.freeze=function(){return this.D=!0,this},Te.prototype.Oa=function(){return this.D=!1,this},Uh.defineProperty(Te,{Nl:null},function(){return this.cD},function(t){this.D&&Uh.la(this),Uh.j(t,"number",Te,"targetId"),this.cD=t}),Uh.defineProperty(Te,{Nx:"targetProperty"},function(){return this.Ko},function(t){this.D&&Uh.la(this),Uh.j(t,"string",Te,"targetProperty"),this.Ko=t}),Uh.defineProperty(Te,{mn:"sourceName"},function(){return this.hw},function(t){this.D&&Uh.la(this),null!==t&&Uh.j(t,"string",Te,"sourceName"),this.hw=t,null!==t&&(this.hr=!1)}),Uh.defineProperty(Te,{It:"isToModel"},function(){return this.hr},function(t){this.D&&Uh.la(this),Uh.j(t,"boolean",Te,"isToModel"),this.hr=t}),Uh.defineProperty(Te,{AF:"sourceProperty"},function(){return this.Ao},function(t){this.D&&Uh.la(this),Uh.j(t,"string",Te,"sourceProperty"),this.Ao=t}),Uh.defineProperty(Te,{eH:"converter"},function(){return this.sq},function(t){this.D&&Uh.la(this),null!==t&&Uh.j(t,"function",Te,"converter"),this.sq=t}),Uh.defineProperty(Te,{RG:"backConverter"},function(){return this.lq},function(t){this.D&&Uh.la(this),null!==t&&Uh.j(t,"function",Te,"backConverter"),this.lq=t}),Uh.defineProperty(Te,{mode:"mode"},function(){return this.Er},function(t){this.D&&Uh.la(this),Uh.rb(t,Te,Te,"mode"),this.Er=t}),Te.prototype.makeTwoWay=Te.prototype.vI=function(t){return void 0===t&&(t=null),null!==t&&Uh.j(t,"function",Te,"makeTwoWay"),this.mode=Qu,this.RG=t,this},Te.prototype.ofObject=Te.prototype.px=function(t){return void 0===t&&(t=""),this.mn=t,this.It=!1,this},Te.prototype.ofModel=function(){return this.mn=null,this.It=!0,this},Te.prototype.ofData=function(){return this.mn=null,this.It=!1,this},Te.prototype.updateTarget=Te.prototype.RF=function(t,e,i){var n=this.Ao;if(void 0===i||n===i){i=this.Ko;var r=this.sq;if(null===r&&""===i)Uh.trace("Binding error: target property is the empty string: "+this.toString());else{var o=e;if(""!==n&&(o=Uh.sb(e,n)),void 0!==o)if(null===r)""!==i&&Uh.Ka(t,i,o);else try{if(""!==i){var s=r(o,t);Uh.Ka(t,i,s)}else r(o,t)}catch(a){}}}},Te.prototype.updateSource=Te.prototype.Ox=function(t,e,i,n){if(void 0===n&&(n=null),this.Er===Qu){var r=this.Ko;if(void 0===i||r===i){i=this.Ao;var o=this.lq;if(null!==o||""!==i){var s=t;if(""!==r&&(s=Uh.sb(t,r)),void 0!==s)if(null===o)null!==n&&null!==n.Z?n.Z.setDataProperty(e,i,s):Uh.Ka(e,i,s);
else try{if(""!==i){var a=o(s,e);null!==n&&null!==n.Z?n.Z.setDataProperty(e,i,a):Uh.Ka(e,i,a)}else o(s,e)}catch(l){}}}}},Uh.ea("Transaction",Ce),Ce.prototype.toString=function(t){var e="Transaction: "+this.name+" "+this.Of.count.toString()+(this.Dt?"":", incomplete");if(void 0!==t&&t>0){t=this.Of.count;for(var i=0;t>i;i++){var n=this.Of.ha(i);null!==n&&(e+="\n  "+n.toString())}}return e},Ce.prototype.clear=Ce.prototype.clear=function(){var t=this.Of;t.Oa();for(var e=t.count-1;e>=0;e--){var i=t.ha(e);null!==i&&i.clear()}t.clear(),t.freeze()},Ce.prototype.canUndo=Ce.prototype.canUndo=function(){return this.Dt},Ce.prototype.undo=Ce.prototype.undo=function(){if(this.canUndo())for(var t=this.Of.count-1;t>=0;t--){var e=this.Of.ha(t);null!==e&&e.undo()}},Ce.prototype.canRedo=Ce.prototype.canRedo=function(){return this.Dt},Ce.prototype.redo=Ce.prototype.redo=function(){if(this.canRedo())for(var t=this.Of.count,e=0;t>e;e++){var i=this.Of.ha(e);null!==i&&i.redo()}},Uh.u(Ce,{Of:"changes"},function(){return this.fG}),Uh.defineProperty(Ce,{name:"name"},function(){return this.Pb},function(t){this.Pb=t}),Uh.defineProperty(Ce,{Dt:"isComplete"},function(){return this.hC},function(t){this.hC=t}),Uh.ea("UndoManager",Me),Me.prototype.toString=function(t){for(var e="UndoManager "+this.Zi+"<"+this.history.count+"<="+this.RE,e=e+"[",i=this.WE.count,n=0;i>n;n++)n>0&&(e+=" "),e+=this.WE.ha(n);if(e+="]",void 0!==t&&t>0)for(i=this.history.count,n=0;i>n;n++)e+="\n "+this.history.ha(n).toString(t-1);return e},Me.prototype.clear=Me.prototype.clear=function(){var t=this.history;t.Oa();for(var e=t.count-1;e>=0;e--){var i=t.ha(e);null!==i&&i.clear()}t.clear(),this.Mg=-1,t.freeze(),this.yi=!1,this.Yu=null,this.al=0,this.Rg.Oa(),this.Rg.clear(),this.Rg.freeze(),this.qo.clear()},Me.prototype.addModel=Me.prototype.JG=function(t){this.Xy.add(t)},Me.prototype.removeModel=Me.prototype.WI=function(t){this.Xy.remove(t)},Me.prototype.startTransaction=Me.prototype.Rb=function(t){if(void 0===t&&(t=""),null===t&&(t=""),this.lb)return!1;!0===this.Fy&&(this.Fy=!1,this.al++,this.ad("StartingFirstTransaction",t,this.Vi),0<this.al&&this.al--),this.isEnabled&&(this.Rg.Oa(),this.Rg.add(t),this.Rg.freeze(),this.qo.add(null===this.Vi?0:this.Vi.Of.count)),this.al++;var e=1===this.vh;return e&&this.ad("StartedTransaction",t,this.Vi),e},Me.prototype.commitTransaction=Me.prototype.Ad=function(t){return void 0===t&&(t=""),Se(this,!0,t)},Me.prototype.rollbackTransaction=Me.prototype.Ip=function(){return Se(this,!1,"")},Me.prototype.canUndo=Me.prototype.canUndo=function(){if(!this.isEnabled||0<this.vh||this.lb)return!1;var t=this.LF;return null!==t&&t.canUndo()?!0:!1},Me.prototype.undo=Me.prototype.undo=function(){if(this.canUndo()){var t=this.LF;try{this.ad("StartingUndo","Undo",t),this.yi=!0,this.Mg--,t.undo()}catch(e){Uh.trace("undo error: "+e.toString())}finally{this.yi=!1,this.ad("FinishedUndo","Undo",t)}}},Me.prototype.canRedo=Me.prototype.canRedo=function(){if(!this.isEnabled||0<this.vh||this.lb)return!1;var t=this.KF;return null!==t&&t.canRedo()?!0:!1},Me.prototype.redo=Me.prototype.redo=function(){if(this.canRedo()){var t=this.KF;try{this.ad("StartingRedo","Redo",t),this.yi=!0,this.Mg++,t.redo()}catch(e){Uh.trace("redo error: "+e.toString())}finally{this.yi=!1,this.ad("FinishedRedo","Redo",t)}}},Me.prototype.ad=function(t,e,i){void 0===i&&(i=null);var n=new ie;for(n.xc=Gu,n.propertyName=t,n.object=i,n.oldValue=e,t=this.EI;t.next();)e=t.value,n.Z=e,e.Fw(n)},Me.prototype.handleChanged=Me.prototype.uE=function(t){if(this.isEnabled&&!this.lb&&!this.skipsEvent(t)){var e=this.Vi;null===e&&(this.Yu=e=new Ce);var i=t.copy(),e=e.Of;e.Oa(),e.add(i),e.freeze(),this.zz&&0>=this.vh&&!this.Fy&&(t=t.g,null!==t&&!1===t.bn||Uh.trace("Change not within a transaction: "+i.toString()))}},Me.prototype.skipsEvent=function(t){if(null===t||0>t.xc.value)return!0;if(t=t.object,t instanceof Er){if(t=t.layer,null!==t&&t.Gc)return!0}else if(t instanceof Ki&&t.Gc)return!0;return!1},Uh.u(Me,{EI:"models"},function(){return this.Xy.i}),Uh.defineProperty(Me,{isEnabled:"isEnabled"},function(){return this.Ue},function(t){this.Ue=t}),Uh.u(Me,{LF:"transactionToUndo"},function(){return 0<=this.Zi&&this.Zi<=this.history.count-1?this.history.ha(this.Zi):null}),Uh.u(Me,{KF:"transactionToRedo"},function(){return this.Zi<this.history.count-1?this.history.ha(this.Zi+1):null}),Uh.u(Me,{lb:"isUndoingRedoing"},function(){return this.yi}),Uh.u(Me,{history:"history"},function(){return this.jG}),Uh.defineProperty(Me,{RE:"maxHistoryLength"},function(){return this.wC},function(t){this.wC=t}),Uh.u(Me,{Zi:"historyIndex"},function(){return this.Mg}),Uh.u(Me,{Vi:"currentTransaction"},function(){return this.Yu}),Uh.u(Me,{vh:"transactionLevel"},function(){return this.al}),Uh.u(Me,{GE:"isInTransaction"},function(){return 0<this.al}),Uh.defineProperty(Me,{zz:"checksTransactionLevel"},function(){return this.vB},function(t){this.vB=t}),Uh.u(Me,{WE:"nestedTransactionNames"},function(){return this.Rg}),Uh.ea("CommandHandler",Pe);var tc=null,ec="";Pe.prototype.toString=function(){return"CommandHandler"},Uh.u(Pe,{g:"diagram"},function(){return this.U}),Pe.prototype.Mc=function(t){this.U=t},Pe.prototype.doKeyDown=function(){var t=this.g;if(null!==t){var e=t.P,i=Uh.fk?e.Pt:e.control,n=e.shift,r=e.alt,o=e.key;!i||"C"!==o&&"Insert"!==o?i&&"X"===o||n&&"Del"===o?this.canCutSelection()&&this.cutSelection():i&&"V"===o||n&&"Insert"===o?this.canPasteSelection()&&this.pasteSelection():i&&"Y"===o||r&&n&&"Backspace"===o?this.canRedo()&&this.redo():i&&"Z"===o||r&&"Backspace"===o?this.canUndo()&&this.undo():"Del"===o||"Backspace"===o?this.canDeleteSelection()&&this.deleteSelection():i&&"A"===o?this.canSelectAll()&&this.selectAll():"Esc"===o?this.canStopCommand()&&this.stopCommand():"Up"===o?t.oe&&(i?t.scroll("pixel","up"):t.scroll("line","up")):"Down"===o?t.oe&&(i?t.scroll("pixel","down"):t.scroll("line","down")):"Left"===o?t.ne&&(i?t.scroll("pixel","left"):t.scroll("line","left")):"Right"===o?t.ne&&(i?t.scroll("pixel","right"):t.scroll("line","right")):"PageUp"===o?n&&t.ne?t.scroll("page","left"):t.oe&&t.scroll("page","up"):"PageDown"===o?n&&t.ne?t.scroll("page","right"):t.oe&&t.scroll("page","down"):"Home"===o?i&&t.oe?t.scroll("document","up"):!i&&t.ne&&t.scroll("document","left"):"End"===o?i&&t.oe?t.scroll("document","down"):!i&&t.ne&&t.scroll("document","right"):" "===o?this.canScrollToPart()&&this.scrollToPart():"Subtract"===o?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===o?this.canIncreaseZoom()&&this.increaseZoom():i&&"0"===o?this.canResetZoom()&&this.resetZoom():n&&"Z"===o?this.canZoomToFit()&&this.zoomToFit():i&&!n&&"G"===o?this.canGroupSelection()&&this.groupSelection():i&&n&&"G"===o?this.canUngroupSelection()&&this.ungroupSelection():e.event&&113===e.event.which?this.canEditTextBlock()&&this.editTextBlock():e.event&&93===e.event.which?this.canShowContextMenu()&&this.showContextMenu():e.bubbles=!0:this.canCopySelection()&&this.copySelection()}},Pe.prototype.doKeyUp=function(){var t=this.g;null!==t&&(t.P.bubbles=!0)},Pe.prototype.stopCommand=function(){var t=this.g;if(null!==t){var e=t.Za;e instanceof Ei&&t.qf&&t.Gw(),null!==e&&e.doCancel()}},Pe.prototype.canStopCommand=function(){return!0},Pe.prototype.selectAll=function(){var t=this.g;if(null!==t){t.qa();try{t.Zb="wait",t.Ba("ChangingSelection");for(var e=t.ik;e.next();)e.value.kb=!0;for(var i=t.Bg;i.next();)i.value.kb=!0;for(var n=t.links;n.next();)n.value.kb=!0}finally{t.Ba("ChangedSelection"),t.Zb=""}}},Pe.prototype.canSelectAll=function(){var t=this.g;return null!==t&&t.qf},Pe.prototype.deleteSelection=function(){var t=this.g;if(null!==t&&!t.Ba("SelectionDeleting",t.selection))try{t.Zb="wait",t.Rb("Delete"),t.Ba("ChangingSelection");for(var e=new f(fs),i=t.selection.i;i.next();)De(e,i.value,!0,this.qH?1/0:0,this.dE,function(t){return t.canDelete()});t.BA(e,!0),t.Ba("SelectionDeleted",e)}finally{t.Ba("ChangedSelection"),t.Ad("Delete"),t.Zb=""}},Pe.prototype.canDeleteSelection=function(){var t=this.g;return null===t||t.cb||t.xf||!t.Gm||0===t.selection.count?!1:!0},Pe.prototype.Yo=function(t,e,i){var n=new y(fs,fs);for(t=t.i;t.next();)Ae(this,t.value,e,n,i);if(null!==e){i=e.Z,t=!1,null!==e.eb.Zd&&(t=e.eb.Zd.Xi);for(var r=new f(Ws),o=new y(Ws,Ws),s=n.i;s.next();){var a=s.value;if(a instanceof Ws){var l=a;t||null!==l.V&&null!==l.ba||r.add(l)}else if(i instanceof ke&&a instanceof js&&null!==a.data){var l=i,h=a,a=s.key,u=a.Vm();null!==u&&(u=n.ka(u),null!==u?(l.sh(h.data,l.jb(u.data)),l=e.tf(h.data),a=a.rt(),null!==a&&null!==l&&o.add(a,l)):l.sh(h.data,void 0))}}if(0<r.count&&e.BA(r,!1),0<o.count)for(i=o.i;i.next();)n.add(i.key,i.value)}if(null!==e&&(e=e.Z,i=e.LG,null!==i)){var c=new y;n.each(function(t){null!==t.key.data&&c.add(t.key.data,t.value.data)}),i(c,e,this.g.Z)}for(e=n.i;e.next();)e.value.Jb();return n},Pe.prototype.copySelection=function(){var t=this.g;if(null!==t){for(var e=new f(fs),t=t.selection.i;t.next();)De(e,t.value,!0,this.iH?1/0:0,this.gH,function(t){return t.canCopy()});this.copyToClipboard(e)}},Pe.prototype.canCopySelection=function(){var t=this.g;return null!==t&&t.Xj&&t.uz&&0!==t.selection.count?!0:!1},Pe.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},Pe.prototype.canCutSelection=function(){var t=this.g;return null!==t&&!t.cb&&!t.xf&&t.Xj&&t.Gm&&t.uz&&0!==t.selection.count?!0:!1},Pe.prototype.copyToClipboard=function(t){var e=this.g;if(null!==e){var i=null;if(null===t)tc=null,ec="";else{var i=e.Z,n=!1,r=!1,o=null;try{if(i instanceof ke){var s=i,n=s.Pm;s.Pm=this.WD}i instanceof xe&&(s=i,r=s.Om,s.Om=this.VD),o=e.Yo(t,null,!0)}finally{i instanceof ke&&(i.Pm=n),i instanceof xe&&(i.Om=r),i=new u(fs),i.Tc(o),tc=i,ec=e.Z.ll}}e.Ba("ClipboardChanged",i)}},Pe.prototype.pasteFromClipboard=function(){var t=new f(fs),e=tc;if(null===e)return t;var i=this.g;if(null===i||ec!==i.Z.ll)return t;var n=i.Z,r=!1,o=!1,s=null;try{if(n instanceof ke){var a=n,r=a.Pm;a.Pm=this.WD}n instanceof xe&&(a=n,o=a.Om,a.Om=this.VD),s=i.Yo(e,i,!1)}finally{for(n instanceof ke&&(n.Pm=r),n instanceof xe&&(n.Om=o),e=s.i;e.next();)i=e.value,n=e.key,i.location.K()||(n.location.K()?i.location=n.location:!i.position.K()&&n.position.K()&&(i.position=n.position)),t.add(i)}return t},Pe.prototype.pasteSelection=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Zb="wait",e.Rb("Paste"),e.Ba("ChangingSelection");var i=this.pasteFromClipboard();0<i.count&&In(e);for(var n=i.i;n.next();)n.value.kb=!0;if(e.Ba("ChangedSelection"),null!==t){var r=e.computePartsBounds(e.selection);if(r){var o=e.eb.Zd;null===o&&(o=new je,o.Mc(e));var s=o.computeEffectiveCollection(e.selection);o.moveParts(s,new b(t.x-r.oa,t.y-r.va),!1)}}e.Ba("ClipboardPasted",i)}finally{e.Ad("Paste"),e.Zb=""}},Pe.prototype.canPasteSelection=function(){var t=this.g;return null===t||t.cb||t.xf||!t.Qo||!t.uz||null===tc||ec!==t.Z.ll?!1:!0},Pe.prototype.undo=function(){var t=this.g;null!==t&&t.ma.undo()},Pe.prototype.canUndo=function(){var t=this.g;return null===t||t.cb||t.xf?!1:t.DD&&t.ma.canUndo()},Pe.prototype.redo=function(){var t=this.g;null!==t&&t.ma.redo()},Pe.prototype.canRedo=function(){var t=this.g;return null===t||t.cb||t.xf?!1:t.DD&&t.ma.canRedo()},Pe.prototype.decreaseZoom=function(t){void 0===t&&(t=1/this.Qx),Uh.Ye(t,Pe,"decreaseZoom:factor");var e=this.g;null!==e&&e.gl===Dc&&(t*=e.scale,t<e.hh||t>e.gh||(e.scale=t))},Pe.prototype.canDecreaseZoom=function(t){void 0===t&&(t=1/this.Qx),Uh.Ye(t,Pe,"canDecreaseZoom:factor");var e=this.g;return null===e||e.gl!==Dc?!1:(t*=e.scale,t<e.hh||t>e.gh?!1:e.Cw)},Pe.prototype.increaseZoom=function(t){void 0===t&&(t=this.Qx),Uh.Ye(t,Pe,"increaseZoom:factor");var e=this.g;null!==e&&e.gl===Dc&&(t*=e.scale,t<e.hh||t>e.gh||(e.scale=t))},Pe.prototype.canIncreaseZoom=function(t){void 0===t&&(t=this.Qx),Uh.Ye(t,Pe,"canIncreaseZoom:factor");var e=this.g;return null===e||e.gl!==Dc?!1:(t*=e.scale,t<e.hh||t>e.gh?!1:e.Cw)},Pe.prototype.resetZoom=function(t){void 0===t&&(t=this.Lw),Uh.Ye(t,Pe,"resetZoom:newscale");var e=this.g;null===e||t<e.hh||t>e.gh||(e.scale=t)},Pe.prototype.canResetZoom=function(t){void 0===t&&(t=this.Lw),Uh.Ye(t,Pe,"canResetZoom:newscale");var e=this.g;return null===e||t<e.hh||t>e.gh?!1:e.Cw},Pe.prototype.zoomToFit=function(){var t=this.g;if(null!==t){var e=t.scale,i=t.position;e===this.qz&&!isNaN(this.Sy)&&t.Bd.L(this.pz)?(t.scale=this.Sy,t.position=this.tC,this.qz=0/0,this.pz=_u.Yx):(this.Sy=e,this.tC=i.copy(),t.zoomToFit(),this.qz=t.scale,this.pz=t.Bd.copy())}},Pe.prototype.canZoomToFit=function(){var t=this.g;return null===t?!1:t.Cw},Pe.prototype.scrollToPart=function(t){void 0===t&&(t=null),null!==t&&Uh.A(t,fs,Pe,"part");var e=this.g;if(null!==e){if(null===t){try{null!==this.Jj&&(this.Jj.next()?t=this.Jj.value:this.Jj=null)}catch(i){}null===t&&(0<e.Zm.count?this.Jj=e.Zm.i:0<e.selection.count&&(this.Jj=e.selection.i),null!==this.Jj&&this.Jj.next()&&(t=this.Jj.value))}if(null!==t){var n=e.Sa;n.jn("Scroll To Part");var r=e.position.copy();e.UG(t.Y),r.od(e.position)&&n.di()}}},Pe.prototype.canScrollToPart=function(t){return void 0===t&&(t=null),null!==t&&Uh.A(t,fs,Pe,"part"),t=this.g,null===t||0===t.selection.count&&0===t.Zm.count?!1:t.ne&&t.oe},Pe.prototype.collapseTree=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Rb("Collapse Tree"),e.Sa.jn("Collapse Tree");var i=new u(js);if(null!==t&&t.qd)t.collapseTree(),i.add(t);else for(var n=e.selection.i;n.next();){var r=n.value;r instanceof js&&(t=r,t.qd&&(t.collapseTree(),i.add(t)))}e.Ba("TreeCollapsed",i)}finally{e.Ad("Collapse Tree")}},Pe.prototype.canCollapseTree=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.cb)return!1;if(null!==t){if(!t.qd)return!1;if(0<t.Uw().count)return!0}else for(t=e.selection.i;t.next();)if(e=t.value,e instanceof js&&e.qd&&0<e.Uw().count)return!0;return!1},Pe.prototype.expandTree=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Rb("Expand Tree"),e.Sa.jn("Expand Tree");var i=new u(js);if(null===t||t.qd)for(var n=e.selection.i;n.next();){var r=n.value;r instanceof js&&(t=r,t.qd||(t.expandTree(),i.add(t)))}else t.expandTree(),i.add(t);e.Ba("TreeExpanded",i)}finally{e.Ad("Expand Tree")}},Pe.prototype.canExpandTree=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.cb)return!1;if(null!==t){if(t.qd)return!1;if(0<t.Uw().count)return!0}else for(t=e.selection.i;t.next();)if(e=t.value,e instanceof js&&!e.qd&&0<e.Uw().count)return!0;return!1},Pe.prototype.groupSelection=function(){var t=this.g;if(null!==t){var e=t.Z;if(e instanceof xe){var i=this.ED;if(null!==i){var n=null;try{t.Zb="wait",t.Rb("Group"),t.Ba("ChangingSelection");for(var r=new u(fs),o=t.selection.i;o.next();){var s=o.value;s.Pd()&&s.canGroup()&&r.add(s)}for(var a=new u(fs),l=r.i;l.next();){for(var h=l.value,o=!1,c=r.i;c.next();)if(h.bi(c.value)){o=!0;break}o||a.add(h)}if(0<a.count){var f=a.first().Ua;if(null!==f)for(;null!==f;){for(var r=!1,d=a.i;d.next();)if(!d.value.bi(f)){r=!0;break}if(!r)break;f=f.Ua}if(i instanceof Na)So(i),n=i.copy(),null!==n&&t.add(n);else if(e.Xz(i)){var p=e.copyNodeData(i);Uh.Va(p)&&(e.cl(p),n=t.Tw(p))}if(null!==n){null!==f&&this.isValidMember(f,n)&&(n.Ua=f);for(var g=a.i;g.next();){var v=g.value;this.isValidMember(n,v)&&(v.Ua=n)}t.select(n)}}t.Ba("ChangedSelection"),t.Ba("SelectionGrouped",n)}finally{t.Ad("Group"),t.Zb=""}}}}},Pe.prototype.canGroupSelection=function(){var t=this.g;if(null===t||t.cb||t.xf||!t.Qo||!t.xw||!(t.Z instanceof xe)||null===this.ED)return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.Pd()&&e.canGroup())return!0}return!1},Pe.prototype.isValidMember=function(t,e){if(null===e||t===e||e instanceof Ws)return!1;if(null!==t){if(t===e||t.bi(e))return!1;var i=t.gA;if(null!==i&&!i(t,e)||null===t.data&&null!==e.data||null!==t.data&&null===e.data)return!1}return i=this.gA,null!==i?i(t,e):!0},Pe.prototype.ungroupSelection=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e){var i=e.Z;if(i instanceof xe)try{e.Zb="wait",e.Rb("Ungroup"),e.Ba("ChangingSelection");var n=new u(Na);if(null!==t)n.add(t);else for(var r=e.selection.i;r.next();){var o=r.value;o instanceof Na&&(t=o,t.canUngroup()&&n.add(t))}if(0<n.count){e.Gw();for(var s=n.i;s.next();){var a=s.value;a.expandSubGraph();var l=a.Ua,h=null!==l&&null!==l.data?i.jb(l.data):void 0,c=new u(fs);c.Tc(a.Ic);for(var f=c.i;f.next();){var d=f.value;if(d.kb=!0,!(d instanceof Ws)){var p=d.data;null!==p?i.Hx(p,h):d.Ua=l}}e.remove(a)}}e.Ba("ChangedSelection"),e.Ba("SelectionUngrouped",n,c)}finally{e.Ad("Ungroup"),e.Zb=""}}},Pe.prototype.canUngroupSelection=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.cb||e.xf||!e.Gm||!e.Bw||!(e.Z instanceof xe))return!1;if(null!==t){if(t.canUngroup())return!0}else for(t=e.selection.i;t.next();)if(e=t.value,e instanceof Na&&e.canUngroup())return!0;return!1},Pe.prototype.addTopLevelParts=function(t,e){for(var i=!0,n=Ee(t).i;n.next();){var r=n.value;null!==r.Ua&&(!e||this.isValidMember(null,r)?r.Ua=null:i=!1)}return i},Pe.prototype.collapseSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Rb("Collapse SubGraph"),e.Sa.jn("Collapse SubGraph");var i=new u(Na);if(null!==t&&t.ee)t.collapseSubGraph(),i.add(t);else for(var n=e.selection.i;n.next();){var r=n.value;r instanceof Na&&(t=r,t.ee&&(t.collapseSubGraph(),i.add(t)))}e.Ba("SubGraphCollapsed",i)}finally{e.Ad("Collapse SubGraph")}},Pe.prototype.canCollapseSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.cb)return!1;if(null!==t)return t.ee?!0:!1;for(t=e.selection.i;t.next();)if(e=t.value,e instanceof Na&&e.ee)return!0;return!1},Pe.prototype.expandSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Rb("Expand SubGraph"),e.Sa.jn("Expand SubGraph");var i=new u(Na);if(null===t||t.ee)for(var n=e.selection.i;n.next();){var r=n.value;r instanceof Na&&(t=r,t.ee||(t.expandSubGraph(),i.add(t)))}else t.expandSubGraph(),i.add(t);e.Ba("SubGraphExpanded",i)}finally{e.Ad("Expand SubGraph")}},Pe.prototype.canExpandSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.cb)return!1;if(null!==t)return t.ee?!1:!0;for(t=e.selection.i;t.next();)if(e=t.value,e instanceof Na&&!e.ee)return!0;return!1},Pe.prototype.editTextBlock=function(t){void 0===t&&(t=null),null!==t&&Uh.A(t,Bo,Pe,"editTextBlock");var e=this.g;if(null!==e){var i=e.eb.OA;if(null!==i){if(null===t){t=null;for(var n=e.selection.i;n.next();){var r=n.value;if(r.canEdit()){t=r;break}}if(null===t)return;t=t.lt(function(t){return t instanceof Bo&&t.Jz})}null!==t&&(e.Za=null,i.Ce=t,e.Za=i)}}},Pe.prototype.canEditTextBlock=function(t){void 0===t&&(t=null),null!==t&&Uh.A(t,Bo,Pe,"canEditTextBlock");var e=this.g;if(null===e||e.cb||e.xf||!e.Aw||null===e.eb.OA)return!1;if(null!==t){if(t=t.aa,null!==t&&t.canEdit())return!0}else for(e=e.selection.i;e.next();)if(t=e.value,t.canEdit()&&(t=t.lt(function(t){return t instanceof Bo&&t.Jz}),null!==t))return!0;return!1},Pe.prototype.showContextMenu=function(t){var e=this.g;if(null!==e){var i=e.eb.Cz;if(null!==i&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),t=i.findObjectWithContextMenu(t),null!==t)){var n=new te,r=null;t instanceof Er?r=t.$a(ou):e.gI||(r=e.tb,r=new b(r.x+r.width/2,r.y+r.height/2)),null!==r&&(n.g=e,n.mf=e.MF(r),n.da=r,n.left=!1,n.right=!0,n.up=!0,e.P=n),e.Za=i,Ci(i,!1,t)}}},Pe.prototype.canShowContextMenu=function(t){var e=this.g;if(null===e)return!1;var i=e.eb.Cz;return null===i?!1:(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null===i.findObjectWithContextMenu(t)?!1:!0)},Uh.defineProperty(Pe,{fH:"copiesClipboardData"},function(){return this.yB},function(t){Uh.j(t,"boolean",Pe,"copiesClipboardData"),this.yB=t}),Uh.defineProperty(Pe,{gH:"copiesConnectedLinks"},function(){return this.zB},function(t){Uh.j(t,"boolean",Pe,"copiesConnectedLinks"),this.zB=t}),Uh.defineProperty(Pe,{dE:"deletesConnectedLinks"},function(){return this.PB},function(t){Uh.j(t,"boolean",Pe,"deletesConnectedLinks"),this.PB=t}),Uh.defineProperty(Pe,{iH:"copiesTree"},function(){return this.DB},function(t){Uh.j(t,"boolean",Pe,"copiesTree"),this.DB=t}),Uh.defineProperty(Pe,{qH:"deletesTree"},function(){return this.QB},function(t){Uh.j(t,"boolean",Pe,"deletesTree"),this.QB=t}),Uh.defineProperty(Pe,{WD:"copiesParentKey"},function(){return this.CB},function(t){Uh.j(t,"boolean",Pe,"copiesParentKey"),this.CB=t}),Uh.defineProperty(Pe,{VD:"copiesGroupKey"},function(){return this.BB},function(t){Uh.j(t,"boolean",Pe,"copiesGroupKey"),this.BB=t}),Uh.defineProperty(Pe,{ED:"archetypeGroupData"},function(){return this.oB},function(t){null!==t&&Uh.A(t,Object,Pe,"archetypeGroupData");var e=this.g;null!==e&&(e=e.Z,e instanceof xe&&(t instanceof Na||e.Xz(t)||Uh.k("CommandHandler.archetypeGroupData must be either a Group or a data object for which GraphLinksModel.isGroupForNodeData is true: "+t))),this.oB=t}),Uh.defineProperty(Pe,{gA:"memberValidation"},function(){return this.Tk},function(t){null!==t&&Uh.j(t,"function",Pe,"memberValidation"),this.Tk=t}),Uh.defineProperty(Pe,{Lw:"defaultScale"},function(){return this.NB},function(t){Uh.Ye(t,Pe,"defaultScale"),t>0||Uh.k("defaultScale must be larger than zero, not: "+t),this.NB=t}),Uh.defineProperty(Pe,{Qx:"zoomFactor"},function(){return this.vD},function(t){Uh.Ye(t,Pe,"zoomFactor"),t>1||Uh.k("zoomFactor must be larger than 1.0, not: "+t),this.vD=t}),Uh.ea("Tool",Ne),Ne.prototype.Mc=function(t){this.U=t},Ne.prototype.toString=function(){return""!==this.name?this.name+" Tool":Uh.df(Object.getPrototypeOf(this))},Ne.prototype.updateAdornments=function(){},Ne.prototype.canStart=function(){return this.isEnabled},Ne.prototype.doStart=function(){},Ne.prototype.doActivate=function(){this.ra=!0},Ne.prototype.doDeactivate=function(){this.ra=!1},Ne.prototype.doStop=function(){},Ne.prototype.doCancel=function(){this.stopTool()},Ne.prototype.stopTool=function(){var t=this.g;null!==t&&t.Za===this&&(t.Za=null,t.Zb="")},Ne.prototype.doMouseDown=function(){!this.ra&&this.canStart()&&this.doActivate()},Ne.prototype.doMouseMove=function(){},Ne.prototype.doMouseUp=function(){this.stopTool()},Ne.prototype.doMouseWheel=function(){},Ne.prototype.canStartMultiTouch=function(){return!0},Ne.prototype.standardPinchZoomStart=function(){var t=this.g;if(null!==t){var e=t.P.event,i=null,n=null;if(void 0!==e.targetTouches){if(2>e.targetTouches.length)return;i=e.targetTouches[0],n=e.targetTouches[1]}else{if(null===t.Kf[0])return;i=t.Kf[0],n=t.Kf[1]}if(this.doCancel(),t.hp("hasGestureZoom")){t.Gy=!0,t.FC=t.scale;var r=En(t),o=i,s=o.clientX-r.x,i=o.clientY-r.y,o=n,n=o.clientX-r.x,o=o.clientY-r.y;Uh.v(r),r=n-s,i=o-i,r=Math.sqrt(r*r+i*i),t.$C=r,e.preventDefault(),e.cancelBubble=!0}}},Ne.prototype.standardPinchZoomMove=function(){var t=this.g;if(null!==t){var e=t.P.event;this.doCancel();var i=null,n=null;if(void 0!==e.targetTouches){if(2>e.targetTouches.length)return;i=e.targetTouches[0],n=e.targetTouches[1]}else{if(null===t.Kf[0])return;i=t.Kf[0],n=t.Kf[1]}if(t.hp("hasGestureZoom")&&t.Gy){var r=En(t),o=i,i=o.clientX-r.x,s=o.clientY-r.y,o=n,n=o.clientX-r.x,o=o.clientY-r.y;Uh.v(r);var r=n-i,a=o-s,r=Math.sqrt(r*r+a*a)/t.$C,i=new b((Math.min(n,i)+Math.max(n,i))/2,(Math.min(o,s)+Math.max(o,s))/2),s=t.FC*r,n=t.pb;s!==t.scale&&n.canResetZoom(s)&&(r=t.Rl,t.Rl=i,n.resetZoom(s),t.Rl=r),e.preventDefault(),e.cancelBubble=!0}}},Ne.prototype.doKeyDown=function(){var t=this.g;null!==t&&"Esc"===t.P.key&&this.doCancel()},Ne.prototype.doKeyUp=function(){},Ne.prototype.startTransaction=Ne.prototype.Rb=function(t){void 0===t&&(t=this.name),this.Cf=null;var e=this.g;return null===e?!1:e.Rb(t)},Ne.prototype.stopTransaction=Ne.prototype.kk=function(){var t=this.g;return null===t?!1:null===this.Cf?t.Ip():t.Ad(this.Cf)},Ne.prototype.standardMouseSelect=function(){var t=this.g;if(null!==t&&t.qf){var e=t.P,i=t.qt(e.da,!1);if(null!==i){if(Uh.fk?e.Pt:e.control){for(t.Ba("ChangingSelection"),e=i;null!==e&&!e.canSelect();)e=e.Ua;null!==e&&(e.kb=!e.kb),t.Ba("ChangedSelection")}else if(e.shift){if(!i.kb){for(t.Ba("ChangingSelection"),e=i;null!==e&&!e.canSelect();)e=e.Ua;null!==e&&(e.kb=!0),t.Ba("ChangedSelection")}}else if(!i.kb){for(e=i;null!==e&&!e.canSelect();)e=e.Ua;null!==e&&t.select(e)}}else!e.left||(Uh.fk?e.Pt:e.control)||e.shift||t.Gw()}},Ne.prototype.standardMouseClick=function(t,e){void 0===t&&(t=null),void 0===e&&(e=function(t){return!t.layer.Gc});var i=this.g;if(null!==i){var n=i.P,r=i.re(n.da,t,e);n.ze=r,_e(r,n,i)}},Ne.prototype.standardMouseOver=function(){var t=this.g;if(null!==t){var e=t.P;if(null!==e.g&&!0!==t.Sa.vc){var i=t.wb;t.wb=!0;var n=t.re(e.da,null,null);e.ze=n;var r=!1;if(n!==t.En){var o=t.En,s=o;for(t.En=n,this.doCurrentObjectChanged(o,n),e.Fc=!1;null!==o;){var a=o.Rt;if(null!==a){if(n===o)break;if(null!==n&&n.Bl(o))break;if(a(e,o,n),r=!0,e.Fc)break}o=o.T}for(o=s,e.Fc=!1;null!==n;){if(a=n.Qt,null!==a){if(o===n)break;if(null!==o&&o.Bl(n))break;if(a(e,n,o),r=!0,e.Fc)break}n=n.T}n=t.En}if(null!==n){for(o=n,a="";null!==o&&(a=o.cursor,""===a);)o=o.T;for(t.Zb=a,e.Fc=!1,o=n;null!==o&&(a=o.kA,null===a||(a(e,o),r=!0,!e.Fc));)o=o.T}else t.Zb="",a=t.kA,null!==a&&(a(e),r=!0);r&&t.ve(),t.wb=i}}},Ne.prototype.doCurrentObjectChanged=function(){},Ne.prototype.standardMouseWheel=function(){var t=this.g;if(null!==t){var e=t.P,i=e.nl;if(0!==i&&t.Bd.K()){var n=t.pb,r=t.eb.St;if((r===$c&&!e.shift||r===Tc&&e.control)&&(i>0?n.canIncreaseZoom():n.canDecreaseZoom()))r=t.Rl,t.Rl=e.mf,i>0?n.increaseZoom():n.decreaseZoom(),t.Rl=r,e.bubbles=!1;else if(r===$c&&e.shift||r===Tc&&!e.control){var n=t.position.copy(),r=i>0?i:-i,o=e.event.deltaX,s=e.event.deltaY;void 0===o||void 0===s||0===o&&0===s?!e.shift&&t.oe?(o=t.eu,r=r/40*o,i>0?t.scroll("pixel","up",r):t.scroll("pixel","down",r)):e.shift&&t.ne&&(o=t.du,r=r/40*o,i>0?t.scroll("pixel","left",r):t.scroll("pixel","right",r)):(0!==o&&t.ne&&(o>0?t.scroll("pixel","left",-o):t.scroll("pixel","right",o)),0!==s&&t.oe&&(s>0?t.scroll("pixel","up",-s):t.scroll("pixel","down",s))),t.position.L(n)||(e.bubbles=!1)}}}},Ne.prototype.standardWaitAfter=function(t,e){Uh.j(t,"number",Ne,"standardWaitAfter:delay"),this.cancelWaitAfter();var i=this,n=e.copy();this.tw=Uh.setTimeout(function(){i.doWaitAfter(n)},t)},Ne.prototype.cancelWaitAfter=function(){-1!==this.tw&&Uh.clearTimeout(this.tw),this.tw=-1},Ne.prototype.doWaitAfter=function(){},Ne.prototype.findToolHandleAt=function(t,e){var i=this.g;return null===i?null:(i=i.re(t,function(t){for(;null!==t&&!(t.T instanceof _s);)t=t.T;return t}),null===i?null:i.T.Ec===e?i:null)},Ne.prototype.isBeyondDragSize=function(t,e){var i=this.g;if(null===i)return!1;void 0===t&&(t=i.yc.mf),void 0===e&&(e=i.P.mf);var n=i.eb.vH,r=n.width,n=n.height;return i.yc.aj&&(r+=6,n+=6),Math.abs(e.x-t.x)>r||Math.abs(e.y-t.y)>n},Uh.u(Ne,{g:"diagram"},function(){return this.U}),Uh.defineProperty(Ne,{name:"name"},function(){return this.Pb},function(t){Uh.j(t,"string",Ne,"name"),this.Pb=t}),Uh.defineProperty(Ne,{isEnabled:"isEnabled"},function(){return this.Ue},function(t){Uh.j(t,"boolean",Ne,"isEnabled"),this.Ue=t}),Uh.defineProperty(Ne,{ra:"isActive"},function(){return this.fC},function(t){Uh.j(t,"boolean",Ne,"isActive"),this.fC=t}),Uh.defineProperty(Ne,{Cf:"transactionResult"},function(){return this.rD},function(t){null!==t&&Uh.j(t,"string",Ne,"transactionResult"),this.rD=t}),Uh.Ja(je,Ne),Uh.ea("DraggingTool",je),Uh.defineProperty(je,{DE:"isCopyEnabled"},function(){return this.jC},function(t){Uh.j(t,"boolean",je,"isCopyEnabled"),this.jC=t}),Uh.defineProperty(je,{hH:"copiesEffectiveCollection"},function(){return this.AB},function(t){Uh.j(t,"boolean",je,"copiesEffectiveCollection"),this.AB=t}),Uh.defineProperty(je,{wH:"dragsTree"},function(){return this.WB},function(t){Uh.j(t,"boolean",je,"dragsTree"),this.WB=t}),Uh.defineProperty(je,{bx:"isGridSnapEnabled"},function(){return this.br},function(t){Uh.j(t,"boolean",je,"isGridSnapEnabled"),this.br=t}),Uh.defineProperty(je,{aI:"isComplexRoutingRealtime"},function(){return this.iC},function(t){Uh.j(t,"boolean",je,"isComplexRoutingRealtime"),this.iC=t}),Uh.defineProperty(je,{cI:"isGridSnapRealtime"},function(){return this.nC},function(t){Uh.j(t,"boolean",je,"isGridSnapRealtime"),this.nC=t}),Uh.defineProperty(je,{tE:"gridSnapCellSize"},function(){return this.Hy},function(t){Uh.A(t,k,je,"gridSnapCellSize"),this.Hy.L(t)||(this.Hy=t=t.S())}),Uh.defineProperty(je,{MH:"gridSnapCellSpot"},function(){return this.Iy},function(t){Uh.A(t,E,je,"gridSnapCellSpot"),this.Iy.L(t)||(this.Iy=t=t.S())}),Uh.defineProperty(je,{NH:"gridSnapOrigin"},function(){return this.Jy},function(t){Uh.A(t,b,je,"gridSnapOrigin"),this.Jy.L(t)||(this.Jy=t=t.S())}),Uh.defineProperty(je,{Xi:"dragsLink"},function(){return this.VB},function(t){Uh.j(t,"boolean",je,"dragsLink"),this.VB=t}),Uh.defineProperty(je,{Sm:"currentPart"},function(){return this.HB},function(t){null!==t&&Uh.A(t,fs,je,"currentPart"),this.HB=t}),Uh.defineProperty(je,{hc:"copiedParts"},function(){return this.xB},function(t){this.xB=t}),Uh.defineProperty(je,{ac:"draggedParts"},function(){return this.UB},function(t){this.UB=t}),Uh.u(je,{zK:"draggingParts"},function(){return null!==this.hc?this.hc.fj():null!==this.ac?this.ac.fj():this.iG}),Uh.defineProperty(je,{bd:"draggedLink"},function(){return this.TB},function(t){null!==t&&Uh.A(t,Ws,je,"draggedLink"),this.TB=t}),Uh.defineProperty(je,{ax:"isDragOutStarted"},function(){return this.lC},function(t){this.lC=t}),Uh.defineProperty(je,{jk:"startPoint"},function(){return this.iw},function(t){Uh.A(t,b,je,"startPoint"),this.iw.L(t)||(this.iw=t=t.S())}),Uh.defineProperty(je,{$D:"delay"},function(){return this.On},function(t){Uh.j(t,"number",je,"delay"),this.On=t}),je.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.cb&&!t.Zs||!t.fl&&!t.Xj&&!t.Zs||!t.qf)return!1;var e=t.P;return!e.left||t.Za!==this&&(!this.isBeyondDragSize()||e.aj&&e.timestamp-t.yc.timestamp<this.On)?!1:null!==this.findDraggablePart()},je.prototype.findDraggablePart=function(){var t=this.g;if(null===t)return null;if(t=t.qt(t.yc.da,!1),null===t)return null;for(;null!==t&&!t.canSelect();)t=t.Ua;return null!==t&&(t.canMove()||t.canCopy())?t:null},je.prototype.standardMouseSelect=function(){var t=this.g;if(null!==t&&t.qf){var e=t.qt(t.yc.da,!1);if(null!==e){for(;null!==e&&!e.canSelect();)e=e.Ua;this.Sm=e,this.Sm.kb||(t.Ba("ChangingSelection"),e=t.P,(Uh.fk?e.Pt:e.control)||e.shift||In(t),this.Sm.kb=!0,t.Ba("ChangedSelection"))}}},je.prototype.doActivate=function(){var t=this.g;if(null!==t){null===this.Sm&&this.standardMouseSelect();var e=this.Sm;null!==e&&(e.canMove()||e.canCopy())&&(this.ra=!0,this.Do.set(t.position),Oe(this,t.selection),this.mj.length=0,this.ac=this.computeEffectiveCollection(t.selection),t.mu=!0,qe(this,this.ac),this.Rb("Drag"),this.jk=t.yc.da,t.Qe=!0,t.Zs&&(this.ax=!0,this.Lq=!1,nc=this,rc=this.g,this.doSimulatedDragOut()))}},je.prototype.computeEffectiveCollection=function(t){var e=null!==this.g&&this.g.Za===this,i=new y(fs);if(null===t)return i;for(var n=t.i;n.next();)Le(this,i,n.value,e);if(null!==this.bd&&this.Xi)return i;for(n=t.i;n.next();)t=n.value,t instanceof Ws&&(e=t.V,null===e||i.contains(e)?(e=t.ba,null===e||i.contains(e)||i.remove(t)):i.remove(t));return i},je.prototype.doDeactivate=function(){this.ra=!1;var t=this.g;if(null!==t&&br(t),Fe(this),Re(this,this.ac),this.ac=this.Sm=null,this.Lq=this.ax=!1,0<ic.count){for(var e=ic.length,i=0;e>i;i++){var n=ic.ha(i);Ue(n),Ve(n),Fe(n),null!==n.g&&br(n.g)}ic.clear()}Ue(this),this.Do.m(0/0,0/0),nc=rc=null,Ve(this),t.Qe=!1,t.Zb="",t.mu=!1,this.kk()},je.prototype.doCancel=function(){Ve(this),Ke(this);var t=this.g;null!==t&&this.Do.K()&&(t.position=this.Do),this.stopTool()},je.prototype.doKeyDown=function(){var t=this.g;null!==t&&(t=t.P,null!==t&&this.ra&&("Esc"===t.key?this.doCancel():this.doMouseMove()))},je.prototype.doKeyUp=function(){var t=this.g;null!==t&&null!==t.P&&this.ra&&this.doMouseMove()},je.prototype.moveParts=function(t,e,i){if(null!==t&&(Uh.A(t,y,je,"moveParts:parts"),0!==t.count)){var n=Uh.M(),r=Uh.M();r.assign(e),isNaN(r.x)&&(r.x=0),isNaN(r.y)&&(r.y=0),(e=this.lw)||qe(this,t);for(var o=new u(ri),s=new u(v),a=t.i;a.next();){var l=a.key;
if(l.Pd()){var h=We(this,l,t);if(null!==h)o.add(new ri(l,a.value,h));else if(!i||l.canMove()){h=a.value.point,n.assign(h);var c=Uh.M(),f=this.computeMove(l,n.add(r),t,c);l.location=f,a.value.xF=c.ou(h),Uh.v(c)}}else a.key instanceof Ws&&s.add(a.gb)}for(i=o.i;i.next();)o=i.value,h=o.info.point,n.assign(h),o.Jc.location=n.add(o.OH.xF);for(i=Uh.M(),h=Uh.M(),s=s.i;s.next();)a=s.value,o=a.key,o instanceof Ws&&(o.Sp?(l=o.V,c=o.ba,null!==this.bd&&this.Xi?(a=a.value.point,t.add(o,Ie(r)),l=r.x-a.x,a=r.y-a.y,o.Fl(l,a)):(null!==l&&(i.assign(l.location),f=t.ka(l),null!==f&&i.ou(f.point)),null!==c&&(h.assign(c.location),f=t.ka(c),null!==f&&h.ou(f.point)),null!==l&&null!==c?i.od(h)?(a=a.value.point,l=n,l.assign(i),l.ou(a),t.add(o,Ie(i)),o.Fl(l.x,l.y)):(o.Sp=!1,o.jc()):(a=a.value.point,c=null!==l?i:null!==c?h:r,t.add(o,Ie(c)),l=c.x-a.x,a=c.y-a.y,o.Fl(l,a)))):(null===o.V||null===o.ba)&&(a=a.value.point,t.add(o,Ie(r)),l=r.x-a.x,a=r.y-a.y,o.Fl(l,a)));Uh.v(n),Uh.v(r),Uh.v(i),Uh.v(h),e||Re(this,t)}},je.prototype.computeMove=function(t,e,i,n){if(void 0===n&&(n=new b),n.assign(e),null===t)return n;void 0===i&&(i=null);var r=e;if(this.bx&&(this.cI||null===i||this.g.P.up)&&(r=Uh.M(),i=r,i.assign(e),null!==t)){var o=this.g;if(null!==o){var s=o.xt,a=this.tE,o=a.width,a=a.height,l=this.NH,h=l.x,l=l.y,u=this.MH;if(null!==s){var c=s.Ww;isNaN(o)&&(o=c.width),isNaN(a)&&(a=c.height),s=s.sE,isNaN(h)&&(h=s.x),isNaN(l)&&(l=s.y)}s=Uh.Sb(0,0),s.ku(0,0,o,a,u),_u.ot(e.x,e.y,h+s.x,l+s.y,o,a,i),Uh.v(s)}}return i=null!==t.eE?t.eE(t,e,r):r,a=t.DI,o=a.x,isNaN(o)&&(o=t.location.x),a=a.y,isNaN(a)&&(a=t.location.y),s=t.yI,h=s.x,isNaN(h)&&(h=t.location.x),s=s.y,isNaN(s)&&(s=t.location.y),n.m(Math.max(o,Math.min(i.x,h)),Math.max(a,Math.min(i.y,s))),r!==e&&Uh.v(r),n},je.prototype.doDragOver=function(){},je.prototype.doDropOnto=function(){},je.prototype.doMouseMove=function(){if(this.ra){var t=this.g;if(null!==t&&null!==this.Sm&&null!==this.ac){var e=!1,i=!1;this.mayCopy()?(e=!0,t.Zb="copy",Be(this,!1),qe(this,this.hc),Ge(this,this.hc,!1),Re(this,this.hc)):this.mayMove()?(i=!0,t.Zb="default",Ve(this),Ge(this,this.ac,!0)):this.mayDragOut()?(t.Zb="no-drop",Be(this,!1),Ge(this,this.hc,!1)):Ve(this),Je(this,t.P.da,i,e)}}},je.prototype.doMouseUp=function(){if(this.ra){var t=this.g;if(null!==t){var e=!1,i=this.mayCopy();if(i&&null!==this.hc?(Ve(this),Be(this,!0),qe(this,this.hc),Ge(this,this.hc,!1),Re(this,this.hc),null!==this.hc&&t.sF(this.hc.fj())):(e=!0,Ve(this),this.mayMove()&&(Ge(this,this.ac,!0),Je(this,t.P.da,!0,!1))),this.Lq=!0,ei(this,t.P.da),this.ra){if(this.hc=null,e&&null!==this.ac)for(e=this.ac.i;e.next();){var n=e.key;n instanceof js&&(n=n.Ua,null===n||null===n.placeholder||this.ac.contains(n)||n.SD&&n.Q())}t.pc(),Re(this,this.ac),this.Cf=i?"Copy":"Move",t.Ba(i?"SelectionCopied":"SelectionMoved",t.selection)}this.stopTool()}}},je.prototype.mayCopy=function(){if(!this.DE)return!1;var t=this.g;if(null===t||t.cb||t.xf||!t.Qo||!t.Xj||(Uh.fk?!t.P.alt:!t.P.control))return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.Pd()&&e.canCopy())return!0}return null!==this.bd&&this.Xi&&this.bd.canCopy()?!0:!1},je.prototype.mayDragOut=function(){if(!this.DE)return!1;var t=this.g;if(null===t||!t.Zs||!t.Xj||t.fl)return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.Pd()&&e.canCopy())return!0}return null!==this.bd&&this.Xi&&this.bd.canCopy()?!0:!1},je.prototype.mayMove=function(){var t=this.g;if(null===t||t.cb||!t.fl)return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.Pd()&&e.canMove())return!0}return null!==this.bd&&this.Xi&&this.bd.canMove()?!0:!1};var ic=new u(je),nc=null,rc=null;je.prototype.mayDragIn=function(){var t=this.g;if(null===t||!t.CD||t.cb||t.xf||!t.Qo)return!1;var e=nc;return null===e||e.g.Z.ll!==t.Z.ll?!1:!0},je.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var t=this.g;t.Sa.di(),bn(t),t=nc,null!==t&&(t.g.Zb="copy")}},je.prototype.doSimulatedDragLeave=function(){var t=nc;null!==t&&t.doSimulatedDragOut(),this.doCancel()},je.prototype.doSimulatedDragOver=function(){var t=this.g;if(null!==t){var e=nc;null!==e&&null!==e.ac&&this.mayDragIn()&&(t.Zb="copy",ii(this,e.ac.fj(),!1),Ge(this,this.hc,!1),Je(this,t.P.da,!1,!0))}},je.prototype.doSimulatedDrop=function(){var t=this.g;if(null!==t){var e=nc;if(null!==e){var i=e.g;e.Lq=!0,Ve(this),this.mayDragIn()&&(this.Rb("Drop"),ii(this,e.ac.fj(),!0),Ge(this,this.hc,!1),null!==this.hc&&t.sF(this.hc.fj()),ei(this,t.P.da),t.pc(),e=t.selection,null!==this.hc?this.Cf="ExternalCopy":e=new f(fs),this.hc=null,t.focus(),t.Ba("ExternalObjectsDropped",e,i),this.kk())}}},je.prototype.doSimulatedDragOut=function(){var t=this.g;null!==t&&(t.Zb=this.mayCopy()||this.mayMove()?"":"no-drop")},Uh.ea("DraggingInfo",ni),Uh.Ja(oi,Ne),Uh.ea("LinkingBaseTool",oi),oi.prototype.doStop=function(){var t=this.g;null!==t&&br(t),this.nh=this.mh=this.lh=this.kh=this.qc=null,this.Px.clear(),this.$f=null},Uh.defineProperty(oi,{ZE:"portGravity"},function(){return this.PC},function(t){Uh.j(t,"number",oi,"portGravity"),t>=0&&(this.PC=t)}),Uh.defineProperty(oi,{op:"isUnconnectedLinkValid"},function(){return this.rC},function(t){Uh.j(t,"boolean",oi,"isUnconnectedLinkValid"),this.rC=t}),Uh.defineProperty(oi,{Gg:"temporaryLink"},function(){return this.jD},function(t){Uh.A(t,Ws,oi,"temporaryLink"),this.jD=t}),Uh.defineProperty(oi,{Ae:"temporaryFromNode"},function(){return this.hD},function(t){Uh.A(t,js,oi,"temporaryFromNode"),this.hD=t}),Uh.defineProperty(oi,{nn:"temporaryFromPort"},function(){return this.iD},function(t){Uh.A(t,Er,oi,"temporaryFromPort"),this.iD=t}),Uh.defineProperty(oi,{Be:"temporaryToNode"},function(){return this.kD},function(t){Uh.A(t,js,oi,"temporaryToNode"),this.kD=t}),Uh.defineProperty(oi,{on:"temporaryToPort"},function(){return this.lD},function(t){Uh.A(t,Er,oi,"temporaryToPort"),this.lD=t}),Uh.defineProperty(oi,{qc:"originalLink"},function(){return this.IC},function(t){null!==t&&Uh.A(t,Ws,oi,"originalLink"),this.IC=t}),Uh.defineProperty(oi,{kh:"originalFromNode"},function(){return this.GC},function(t){null!==t&&Uh.A(t,js,oi,"originalFromNode"),this.GC=t}),Uh.defineProperty(oi,{lh:"originalFromPort"},function(){return this.HC},function(t){null!==t&&Uh.A(t,Er,oi,"originalFromPort"),this.HC=t}),Uh.defineProperty(oi,{mh:"originalToNode"},function(){return this.LC},function(t){null!==t&&Uh.A(t,js,oi,"originalToNode"),this.LC=t}),Uh.defineProperty(oi,{nh:"originalToPort"},function(){return this.MC},function(t){null!==t&&Uh.A(t,Er,oi,"originalToPort"),this.MC=t}),Uh.defineProperty(oi,{ce:"isForwards"},function(){return this.mC},function(t){Uh.j(t,"boolean",oi,"isForwards"),this.mC=t}),Uh.u(oi,{Px:"validPortsCache"},function(){return this.AG}),Uh.defineProperty(oi,{$f:"targetPort"},function(){return this.dD},function(t){null!==t&&Uh.A(t,Er,oi,"targetPort"),this.dD=t}),oi.prototype.copyPortProperties=function(t,e,i,n,r){if(null!==t&&null!==e&&null!==i&&null!==n){n.ya=e.Y.size,r?(n.Bb=e.Bb,n.Pl=e.Pl):(n.Ab=e.Ab,n.rl=e.rl),i.gf=ou;var o=Uh.M();i.location=e.$a(ou,o),Uh.v(o),n.angle=e.tl(),null!==this.wx&&this.wx(t,e,i,n,r)}},oi.prototype.setNoTargetPortProperties=function(t,e,i){null!==e&&(e.ya=_u.Vx,e.Ab=Zh,e.Bb=Zh),null!==t&&(t.location=this.g.P.da),null!==this.wx&&this.wx(null,null,t,e,i)},oi.prototype.doMouseDown=function(){this.ra&&this.doMouseMove()},oi.prototype.doMouseMove=function(){if(this.ra){var t=this.g;if(null!==t){if(this.$f=this.findTargetPort(this.ce),null!==this.$f){var e=this.$f.aa;if(e instanceof js)return void(this.ce?this.copyPortProperties(e,this.$f,this.Be,this.on,!0):this.copyPortProperties(e,this.$f,this.Ae,this.nn,!1))}this.ce?this.setNoTargetPortProperties(this.Be,this.on,!0):this.setNoTargetPortProperties(this.Ae,this.nn,!1),(t.ne||t.oe)&&mr(t,t.P.mf)}}},oi.prototype.findValidLinkablePort=function(t,e){if(null===t)return null;var i=t.aa;if(!(i instanceof js))return null;for(;null!==t;){var n=e?t.EF:t.nE;if(!0===n&&(null!==t.Sd||t instanceof js)&&(e?this.isValidTo(i,t):this.isValidFrom(i,t)))return t;if(!1===n)break;t=t.T}return null},oi.prototype.findTargetPort=function(t){var e=this.g,i=e.P.da,n=this.ZE;0>=n&&(n=.1);for(var r=this,o=e.Um(i,n,function(e){return r.findValidLinkablePort(e,t)},null,!0),n=1/0,e=null,o=o.i;o.next();){var s=o.value,a=s.aa;if(a instanceof js){var l=s.$a(ou,Uh.M()),h=i.x-l.x,u=i.y-l.y;Uh.v(l),l=h*h+u*u,n>l&&(h=this.Px.ka(s),null!==h?h&&(e=s,n=l):t&&this.isValidLink(this.kh,this.lh,a,s)||!t&&this.isValidLink(a,s,this.mh,this.nh)?(this.Px.add(s,!0),e=s,n=l):this.Px.add(s,!1))}}return null!==e&&(i=e.aa,i instanceof js&&(null===i.layer||i.layer.$s))?e:null},oi.prototype.isValidFrom=function(t,e){if(null===t||null===e)return this.op;if(this.g.Za===this&&(null!==t.layer&&!t.layer.$s||!0!==e.nE))return!1;var i=e.GH;if(1/0>i){if(null!==this.qc&&t===this.kh&&e===this.lh)return!0;var n=e.Sd;if(null===n&&(n=""),t.Sw(n).count>=i)return!1}return!0},oi.prototype.isValidTo=function(t,e){if(null===t||null===e)return this.op;if(this.g.Za===this&&(null!==t.layer&&!t.layer.$s||!0!==e.EF))return!1;var i=e.AJ;if(1/0>i){if(null!==this.qc&&t===this.mh&&e===this.nh)return!0;var n=e.Sd;if(null===n&&(n=""),t.tg(n).count>=i)return!1}return!0},oi.prototype.isInSameNode=function(t,e){if(null===t||null===e)return!1;if(t===e)return!0;var i=t.aa,n=e.aa;return null!==i&&i===n},oi.prototype.isLinked=function(t,e){if(null===t||null===e)return!1;var i=t.aa;if(!(i instanceof js))return!1;var n=t.Sd;null===n&&(n="");var r=e.aa;if(!(r instanceof js))return!1;var o=e.Sd;for(null===o&&(o=""),r=r.tg(o);r.next();)if(o=r.value,o.V===i&&o.vg===n)return!0;return!1},oi.prototype.isValidLink=function(t,e,i,n){if(!this.isValidFrom(t,e)||!this.isValidTo(i,n)||!(null===e||null===n||(e.FH&&n.zJ||!this.isInSameNode(e,n))&&(e.EH&&n.yJ||!this.isLinked(e,n)))||null!==this.qc&&(null!==t&&this.isLabelDependentOnLink(t,this.qc)||null!==i&&this.isLabelDependentOnLink(i,this.qc))||null!==t&&null!==i&&(null===t.data&&null!==i.data||null!==t.data&&null===i.data)||!this.isValidCycle(t,i,this.qc))return!1;if(null!==t){var r=t.mx;if(null!==r&&!r(t,e,i,n,this.qc))return!1}return null===i||(r=i.mx,null===r||r(t,e,i,n,this.qc))?(r=this.mx,null!==r?r(t,e,i,n,this.qc):!0):!1},oi.prototype.isLabelDependentOnLink=function(t,e){if(null===t)return!1;var i=t.fe;if(null===i)return!1;if(i===e)return!0;var n=new f(js);return n.add(t),si(this,i,e,n)},oi.prototype.isValidCycle=function(t,e,i){if(void 0===i&&(i=null),null===t||null===e)return this.op;var n=this.g.GJ;if(n!==Nc){if(n===Ic){if(null!==i&&!i.Hc)return!0;for(n=e.ue;n.next();){var r=n.value;if(r!==i&&r.Hc&&r.ba===e)return!1}return!ai(this,t,e,i,!0)}if(n===Lc){if(null!==i&&!i.Hc)return!0;for(n=t.ue;n.next();)if(r=n.value,r!==i&&r.Hc&&r.V===t)return!1;return!ai(this,t,e,i,!0)}if(n===_c)return t===e?t=!0:(n=new f(js),n.add(e),t=li(this,n,t,e,i)),!t;if(n===jc)return!ai(this,t,e,i,!1);if(n===Oc)return t===e?t=!0:(n=new f(js),n.add(e),t=hi(this,n,t,e,i)),!t}return!0},Uh.defineProperty(oi,{mx:"linkValidation"},function(){return this.Qk},function(t){null!==t&&Uh.j(t,"function",oi,"linkValidation"),this.Qk=t}),Uh.defineProperty(oi,{wx:"portTargeted"},function(){return this.QC},function(t){null!==t&&Uh.j(t,"function",oi,"portTargeted"),this.QC=t}),Uh.Ja(ui,oi),Uh.ea("LinkingTool",ui);var oc;ui.Either=oc=Uh.p(ui,"Either",0);var sc;ui.ForwardsOnly=sc=Uh.p(ui,"ForwardsOnly",0);var ac;ui.BackwardsOnly=ac=Uh.p(ui,"BackwardsOnly",0),Uh.defineProperty(ui,{NG:"archetypeLinkData"},function(){return this.qB},function(t){null!==t&&Uh.A(t,Object,ui,"archetypeLinkData"),t instanceof Er&&Uh.A(t,Ws,ui,"archetypeLinkData"),this.qB=t}),Uh.defineProperty(ui,{FD:"archetypeLabelNodeData"},function(){return this.pB},function(t){null!==t&&Uh.A(t,Object,ui,"archetypeLabelNodeData"),t instanceof Er&&Uh.A(t,js,ui,"archetypeLabelNodeData"),this.pB=t}),Uh.defineProperty(ui,{direction:"direction"},function(){return this.ca},function(t){Uh.rb(t,ui,ui,"direction"),this.ca=t}),Uh.defineProperty(ui,{BF:"startObject"},function(){return this.aD},function(t){null!==t&&Uh.A(t,Er,ui,"startObject"),this.aD=t}),ui.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.cb||t.xf||!t.$s)return!1;var e=t.Z;return(e instanceof xe||e instanceof ke)&&t.P.left&&(t.Za===this||this.isBeyondDragSize())?null!==this.findLinkablePort():!1},ui.prototype.findLinkablePort=function(){var t=this.g;if(null===t)return null;var e=this.BF;if(null===e&&(e=t.re(t.yc.da,null,null)),null===e||!(e.aa instanceof js))return null;if(t=this.direction,t===oc||t===sc){var i=this.findValidLinkablePort(e,!1);if(null!==i)return this.ce=!0,i}return t!==oc&&t!==ac||(i=this.findValidLinkablePort(e,!0),null===i)?null:(this.ce=!1,i)},ui.prototype.doActivate=function(){var t=this.g;if(null!==t){var e=this.findLinkablePort();null!==e&&(this.Rb(this.name),t.Qe=!0,t.Zb="pointer",this.ce?(this.lh=e,e=this.lh.aa,e instanceof js&&(this.kh=e),this.copyPortProperties(this.kh,this.lh,this.Ae,this.nn,!1)):(this.nh=e,e=this.nh.aa,e instanceof js&&(this.mh=e),this.copyPortProperties(this.mh,this.nh,this.Be,this.on,!0)),t.add(this.Ae),t.add(this.Be),null!==this.Gg&&(null!==this.Ae&&(this.Gg.V=this.Ae),null!==this.Be&&(this.Gg.ba=this.Be),this.Gg.jc(),t.add(this.Gg)),this.ra=!0)}},ui.prototype.doDeactivate=function(){this.ra=!1;var t=this.g;null!==t&&(t.remove(this.Gg),t.remove(this.Ae),t.remove(this.Be),t.Qe=!1,t.Zb="",this.kk())},ui.prototype.doStop=function(){oi.prototype.doStop.call(this),this.BF=null},ui.prototype.doMouseUp=function(){if(this.ra){var t=this.g;if(null===t)return;var e=this.Cf=null,i=null,n=null,r=null,o=this.$f=this.findTargetPort(this.ce);if(null!==o){var s=o.aa;s instanceof js&&(this.ce?(null!==this.kh&&(e=this.kh,i=this.lh),n=s,r=o):(e=s,i=o,null!==this.mh&&(n=this.mh,r=this.nh)))}else this.ce?null!==this.kh&&this.op&&(e=this.kh,i=this.lh):null!==this.mh&&this.op&&(n=this.mh,r=this.nh);(null!==e||null!==n)&&(e=this.insertLink(e,i,n,r),null!==e?(null===o&&(this.ce?e.Mn=t.P.da.copy():e.In=t.P.da.copy()),t.qf&&t.select(e),this.Cf=this.name,t.Ba("LinkDrawn",e)):t.Z.ND())}this.stopTool()},ui.prototype.insertLink=function(t,e,i,n){var r=this.g;if(null===r)return null;var o=r.Z;if(o instanceof ke){var s=t;if(e=i,r.Qd||(s=i,e=t),null!==s&&null!==e)return o.sh(e.data,o.jb(s.data)),e.rt()}else if(o instanceof xe)if(s="",null!==t&&(null===e&&(e=t),s=e.Sd,null===s&&(s="")),e="",null!==i&&(null===n&&(n=i),e=n.Sd,null===e&&(e="")),n=this.NG,n instanceof Ws){if(So(n),o=n.copy(),null!==o)return o.V=t,o.vg=s,o.ba=i,o.uh=e,r.add(o),t=this.FD,t instanceof js&&(So(t),t=t.copy(),null!==t&&(t.fe=o,r.add(t))),o}else if(null!==n&&(n=o.Jw(n),Uh.Va(n)))return null!==t&&o.Gx(n,o.jb(t.data)),o.HA(n,s),null!==i&&o.Kx(n,o.jb(i.data)),o.KA(n,e),o.Vs(n),t=this.FD,null===t||t instanceof js||(t=o.copyNodeData(t),Uh.Va(t)&&(o.cl(t),t=o.jb(t),void 0!==t&&o.sz(n,t))),o=r.tf(n);return null},Uh.Ja(ci,oi),Uh.ea("RelinkingTool",ci),ci.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Ws){var e="RelinkFrom",i=null;if(t.kb&&!this.g.cb){var n=t.gu;null!==n&&t.canRelinkFrom()&&t.Y.K()&&t.isVisible()&&n.Y.K()&&n.El()&&(i=t.cp(e),null===i&&(i=this.makeAdornment(n,!1),null!==i&&(i.Ec=e),t.bl(e,i)))}null===i&&t.Il(e),e="RelinkTo",i=null,t.kb&&!this.g.cb&&(n=t.gu,null!==n&&t.canRelinkTo()&&t.Y.K()&&t.isVisible()&&n.Y.K()&&n.El()&&(i=t.cp(e),null===i&&(i=this.makeAdornment(n,!0),null!==i&&(i.Ec=e),t.bl(e,i)))),null===i&&t.Il(e)}},ci.prototype.makeAdornment=function(t,e){var i=new _s;i.type=vf;var n=e?this.xJ:this.DH;return null!==n&&i.add(n.copy()),i.gc=t,i},Uh.defineProperty(ci,{DH:"fromHandleArchetype"},function(){return this.$B},function(t){null!==t&&Uh.A(t,Er,ci,"fromHandleArchetype"),this.$B=t}),Uh.defineProperty(ci,{xJ:"toHandleArchetype"},function(){return this.mD},function(t){null!==t&&Uh.A(t,Er,ci,"toHandleArchetype"),this.mD=t}),Uh.u(ci,{handle:"handle"},function(){return this.Ub}),ci.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.cb||t.xf||!t.Hm)return!1;var e=t.Z;return(e instanceof xe||e instanceof ke)&&t.P.left?(e=this.findToolHandleAt(t.yc.da,"RelinkFrom"),null===e&&(e=this.findToolHandleAt(t.yc.da,"RelinkTo")),null!==e):!1},ci.prototype.doActivate=function(){var t=this.g;if(null!==t){if(null===this.qc){var e=this.findToolHandleAt(t.yc.da,"RelinkFrom");if(null===e&&(e=this.findToolHandleAt(t.yc.da,"RelinkTo")),null===e)return;var i=e.aa;if(!(i instanceof _s&&i.Yg instanceof Ws))return;this.Ub=e,this.ce=null===i||"RelinkTo"===i.Ec,this.qc=i.Yg}this.Rb(this.name),t.Qe=!0,t.Zb="pointer",this.lh=this.qc.cd,this.kh=this.qc.V,this.nh=this.qc.Fd,this.mh=this.qc.ba,this.JC.set(this.qc.Y),null!==this.qc&&0<this.qc.pa&&(null===this.qc.V&&(null!==this.nn&&(this.nn.ya=_u.Xp),null!==this.Ae&&(this.Ae.location=this.qc.l(0))),null===this.qc.ba&&(null!==this.on&&(this.on.ya=_u.Xp),null!==this.Be&&(this.Be.location=this.qc.l(this.qc.pa-1)))),this.copyPortProperties(this.kh,this.lh,this.Ae,this.nn,!1),this.copyPortProperties(this.mh,this.nh,this.Be,this.on,!0),t.add(this.Ae),t.add(this.Be),null!==this.Gg&&(null!==this.Ae&&(this.Gg.V=this.Ae),null!==this.Be&&(this.Gg.ba=this.Be),this.copyLinkProperties(this.qc,this.Gg),this.Gg.jc(),t.add(this.Gg)),this.ra=!0}},ci.prototype.copyLinkProperties=function(t,e){if(null!==t&&null!==e){e.Xs=t.Xs,e.Fz=t.Fz;var i=t.Me;(i===ed||i===td)&&(i=Qf),e.Me=i,e.Kw=t.Kw,e.Cx=t.Cx,e.Qp=t.Qp,e.Ab=t.Ab,e.rl=t.rl,e.vt=t.vt,e.wt=t.wt,e.Bb=t.Bb,e.Pl=t.Pl,e.pu=t.pu,e.qu=t.qu}},ci.prototype.doDeactivate=function(){this.ra=!1;var t=this.g;null!==t&&(t.remove(this.Gg),t.remove(this.Ae),t.remove(this.Be),t.Qe=!1,t.Zb="",this.kk())},ci.prototype.doStop=function(){oi.prototype.doStop.call(this),this.Ub=null},ci.prototype.doMouseUp=function(){if(this.ra){var t=this.g;if(null===t)return;this.Cf=null;var e=this.kh,i=this.lh,n=this.mh,r=this.nh,o=this.qc;if(this.$f=this.findTargetPort(this.ce),null!==this.$f){var s=this.$f.aa;s instanceof js&&(this.ce?(n=s,r=this.$f):(e=s,i=this.$f))}else this.op?this.ce?r=n=null:i=e=null:o=null;null!==o&&(this.reconnectLink(o,this.ce?n:e,this.ce?r:i,this.ce),null===this.$f&&(this.ce?o.Mn=t.P.da.copy():o.In=t.P.da.copy(),o.jc()),t.qf&&(o.kb=!0),this.Cf=this.name,t.Ba("LinkRelinked",o,this.ce?this.nh:this.lh)),pa(this.qc,this.JC)}this.stopTool()},ci.prototype.reconnectLink=function(t,e,i,n){return null===this.g?!1:(i=null!==i&&null!==i.Sd?i.Sd:"",n?(t.ba=e,t.uh=i):(t.V=e,t.vg=i),!0)},Uh.Ja(di,Ne),Uh.ea("LinkReshapingTool",di);var lc;di.None=lc=Uh.p(di,"None",0);var hc;di.Horizontal=hc=Uh.p(di,"Horizontal",1);var uc;di.Vertical=uc=Uh.p(di,"Vertical",2);var cc;di.All=cc=Uh.p(di,"All",3),di.prototype.getReshapingBehavior=di.prototype.rE=function(t){return t&&t.SC?t.SC:lc},di.prototype.setReshapingBehavior=di.prototype.ju=function(t,e){Uh.A(t,Er,di,"setReshapingBehavior:obj"),Uh.rb(e,di,di,"setReshapingBehavior:behavior"),t.SC=e},di.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Ws){if(t.kb&&!this.g.cb){var e=t.path;if(null!==e&&t.canReshape()&&t.Y.K()&&t.isVisible()&&e.Y.K()&&e.El()){var i=t.cp(this.name);if((null===i||i.pG!==t.pa||i.CG!==t.bu)&&(i=this.makeAdornment(e),null!==i&&(i.pG=t.pa,i.CG=t.bu,t.bl(this.name,i))),null!==i)return void(i.location=t.position)}}t.Il(this.name)}},di.prototype.makeAdornment=function(t){var e=t.aa,i=e.pa,n=e.kc,r=null;if(null!==e.points&&i>1){r=new _s,r.type=vf;var i=e.st,o=e.jx,s=n?1:0;if(e.bu&&e.Me!==Zf)for(var a=i+s;o-s>a;a++){var l=this.makeResegmentHandle(t,a);null!==l&&(l.we=a,l.Ex=.5,r.add(l))}for(a=i+1;o>a;a++)if(l=this.makeHandle(t,a),null!==l){if(l.we=a,a!==i)if(a===i+1&&n){var s=e.l(i),h=e.l(i+1);_u.G(s.x,h.x)&&_u.G(s.y,h.y)&&(h=e.l(i-1)),_u.G(s.x,h.x)?(this.ju(l,uc),l.cursor="n-resize"):_u.G(s.y,h.y)&&(this.ju(l,hc),l.cursor="w-resize")}else a===o-1&&n?(s=e.l(o-1),h=e.l(o),_u.G(s.x,h.x)&&_u.G(s.y,h.y)&&(s=e.l(o+1)),_u.G(s.x,h.x)?(this.ju(l,uc),l.cursor="n-resize"):_u.G(s.y,h.y)&&(this.ju(l,hc),l.cursor="w-resize")):a!==o&&(this.ju(l,cc),l.cursor="move");r.add(l)}r.Ec=this.name,r.gc=t}return r},di.prototype.makeHandle=function(){var t=this.yt;return null===t?null:t.copy()},Uh.defineProperty(di,{yt:"handleArchetype"},function(){return this.Gk},function(t){null!==t&&Uh.A(t,Er,di,"handleArchetype"),this.Gk=t}),di.prototype.makeResegmentHandle=function(){var t=this.CI;return null===t?null:t.copy()},Uh.defineProperty(di,{CI:"midHandleArchetype"},function(){return this.xC},function(t){null!==t&&Uh.A(t,Er,di,"midHandleArchetype"),this.xC=t}),Uh.u(di,{handle:"handle"},function(){return this.Ub}),Uh.u(di,{Ys:"adornedLink"},function(){return this.jy}),di.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return null!==t&&!t.cb&&t.yw&&t.P.left?null!==this.findToolHandleAt(t.yc.da,this.name):!1},di.prototype.doActivate=function(){var t=this.g;if(null!==t&&(this.Ub=this.findToolHandleAt(t.yc.da,this.name),null!==this.Ub)){var e=this.Ub.aa.Yg;if(e instanceof Ws){if(this.jy=e,t.Qe=!0,this.Rb(this.name),e.bu&&.5===this.Ub.Ex){var i=e.points.copy(),n=this.Ub.$a(ou);if(i.Cd(this.Ub.we+1,n),e.kc&&i.Cd(this.Ub.we+1,n),e.points=i,e.be(),this.Ub=this.findToolHandleAt(t.yc.da,this.name),null===this.Ub)return void this.doDeactivate()}this.KC=e.l(this.Ub.we),this.Pv=e.points.copy(),this.ra=!0}}},di.prototype.doDeactivate=function(){this.kk(),this.jy=this.Ub=null;var t=this.g;null!==t&&(t.Qe=!1),this.ra=!1},di.prototype.doCancel=function(){var t=this.Ys;null!==t&&(t.points=this.Pv),this.stopTool()},di.prototype.doMouseMove=function(){var t=this.g;this.ra&&null!==t&&(t=this.computeReshape(t.P.da),this.reshape(t))},di.prototype.doMouseUp=function(){var t=this.g;if(this.ra&&null!==t){var e=this.computeReshape(t.P.da);if(this.reshape(e),e=this.Ys,null!==e&&e.bu){var i=this.handle.we,n=e.l(i-1),r=e.l(i),o=e.l(i+1);if(e.kc){if(i>e.st+1&&i<e.jx-1){var s=e.l(i-2);if(Math.abs(n.x-r.x)<this.qh&&Math.abs(n.y-r.y)<this.qh&&(pi(this,s,n,r,o,!0)||pi(this,s,n,r,o,!1))){var a=e.points.copy();pi(this,s,n,r,o,!0)?(a.Eg(i-2,new b(s.x,(o.y+s.y)/2)),a.Eg(i+1,new b(o.x,(o.y+s.y)/2))):(a.Eg(i-2,new b((o.x+s.x)/2,s.y)),a.Eg(i+1,new b((o.x+s.x)/2,o.y))),a.Vc(i),a.Vc(i-1),e.points=a,e.be()}else s=e.l(i+2),Math.abs(r.x-o.x)<this.qh&&Math.abs(r.y-o.y)<this.qh&&(pi(this,n,r,o,s,!0)||pi(this,n,r,o,s,!1))&&(a=e.points.copy(),pi(this,n,r,o,s,!0)?(a.Eg(i-1,new b(n.x,(n.y+s.y)/2)),a.Eg(i+2,new b(s.x,(n.y+s.y)/2))):(a.Eg(i-1,new b((n.x+s.x)/2,n.y)),a.Eg(i+2,new b((n.x+s.x)/2,s.y))),a.Vc(i+1),a.Vc(i),e.points=a,e.be())}}else s=Uh.M(),_u.fn(n.x,n.y,o.x,o.y,r.x,r.y,s)&&s.$j(r)<this.qh*this.qh&&(a=e.points.copy(),a.Vc(i),e.points=a,e.be()),Uh.v(s)}t.pc(),this.Cf=this.name,t.Ba("LinkReshaped",this.Ys,this.Pv)}this.stopTool()},Uh.defineProperty(di,{qh:"resegmentingDistance"},function(){return this.RC},function(t){Uh.j(t,"number",di,"resegmentingDistance"),this.RC=t}),di.prototype.reshape=function(t){var e=this.Ys;e.Ll();var i=this.handle.we,n=this.rE(this.handle);if(e.kc)if(i===e.st+1)i=e.st+1,n===uc?(e.W(i,e.l(i-1).x,t.y),e.W(i+1,e.l(i+2).x,t.y)):n===hc&&(e.W(i,t.x,e.l(i-1).y),e.W(i+1,t.x,e.l(i+2).y));else if(i===e.jx-1)i=e.jx-1,n===uc?(e.W(i-1,e.l(i-2).x,t.y),e.W(i,e.l(i+1).x,t.y)):n===hc&&(e.W(i-1,t.x,e.l(i-2).y),e.W(i,t.x,e.l(i+1).y));else{var n=i,r=e.l(n),o=e.l(n-1),s=e.l(n+1);_u.G(o.x,r.x)&&_u.G(r.y,s.y)?(_u.G(o.x,e.l(n-2).x)&&!_u.G(o.y,e.l(n-2).y)?(e.w(n,t.x,o.y),i++,n++):e.W(n-1,t.x,o.y),_u.G(s.y,e.l(n+2).y)&&!_u.G(s.x,e.l(n+2).x)?e.w(n+1,s.x,t.y):e.W(n+1,s.x,t.y)):_u.G(o.y,r.y)&&_u.G(r.x,s.x)?(_u.G(o.y,e.l(n-2).y)&&!_u.G(o.x,e.l(n-2).x)?(e.w(n,o.x,t.y),i++,n++):e.W(n-1,o.x,t.y),_u.G(s.x,e.l(n+2).x)&&!_u.G(s.y,e.l(n+2).y)?e.w(n+1,t.x,s.y):e.W(n+1,t.x,s.y)):_u.G(o.x,r.x)&&_u.G(r.x,s.x)?(_u.G(o.x,e.l(n-2).x)&&!_u.G(o.y,e.l(n-2).y)?(e.w(n,t.x,o.y),i++,n++):e.W(n-1,t.x,o.y),_u.G(s.x,e.l(n+2).x)&&!_u.G(s.y,e.l(n+2).y)?e.w(n+1,t.x,s.y):e.W(n+1,t.x,s.y)):_u.G(o.y,r.y)&&_u.G(r.y,s.y)&&(_u.G(o.y,e.l(n-2).y)&&!_u.G(o.x,e.l(n-2).x)?(e.w(n,o.x,t.y),i++,n++):e.W(n-1,o.x,t.y),_u.G(s.y,e.l(n+2).y)&&!_u.G(s.x,e.l(n+2).x)?e.w(n+1,s.x,t.y):e.W(n+1,s.x,t.y)),e.W(i,t.x,t.y)}else e.W(i,t.x,t.y),1===i&&e.computeSpot(!0).te()&&(r=e.V,o=e.cd,null===r||r.isVisible()||(r=r.findVisibleNode(),r!==e.V&&(o=r.ql(""))),n=o.$a(ou,Uh.M()),r=e.getLinkPointFromPoint(r,o,n,t,!0,Uh.M()),e.W(0,r.x,r.y),Uh.v(n),Uh.v(r)),i===e.pa-2&&e.computeSpot(!1).te()&&(i=e.ba,r=e.Fd,null===i||i.isVisible()||(i=i.findVisibleNode(),i!==e.ba&&(r=i.ql(""))),n=r.$a(ou,Uh.M()),r=e.getLinkPointFromPoint(i,r,n,t,!1,Uh.M()),e.W(e.pa-1,r.x,r.y),Uh.v(n),Uh.v(r));e.Ui()},di.prototype.computeReshape=function(t){var e=this.Ys,i=this.handle.we;switch(this.rE(this.handle)){case cc:return t;case uc:return e=e.l(i),new b(e.x,t.y);case hc:return e=e.l(i),new b(t.x,e.y);default:case lc:return e.l(i)}},Uh.u(di,{jL:"originalPoint"},function(){return this.KC}),Uh.u(di,{kL:"originalPoints"},function(){return this.Pv}),Uh.Ja(gi,Ne),Uh.ea("ResizingTool",gi),gi.prototype.updateAdornments=function(t){if(!(null===t||t instanceof Ws)){if(t.kb&&!this.g.cb){var e=t.jF;if(null!==e&&t.canResize()&&t.Y.K()&&t.isVisible()&&e.Y.K()&&e.El()){var i=t.cp(this.name);if((null===i||i.gc!==e)&&(i=this.makeAdornment(e)),null!==i){var n=e.tl();i.angle=n;var r=e.$a(i.gf,Uh.M()),o=e.Yi();if(i.location=r,Uh.v(r),r=i.placeholder,null!==r){var e=e.Ia,s=Uh.Ol();s.m(e.width*o,e.height*o),r.ya=s,Uh.ck(s)}return vi(this,i,n),void t.bl(this.name,i)}}}t.Il(this.name)}},gi.prototype.makeAdornment=function(t){var e=null,e=t.aa.iF;if(null===e){e=new _s,e.type=cf,e.gf=ou;var i=new La;i.Rf=!0,e.add(i),e.add(this.makeHandle(t,eu)),e.add(this.makeHandle(t,nu)),e.add(this.makeHandle(t,hu)),e.add(this.makeHandle(t,au)),e.add(this.makeHandle(t,uu)),e.add(this.makeHandle(t,fu)),e.add(this.makeHandle(t,du)),e.add(this.makeHandle(t,cu))}else if(So(e),e=e.copy(),null===e)return null;return e.Ec=this.name,e.gc=t,e},gi.prototype.makeHandle=function(t,e){var i=this.yt;return null===i?null:(i=i.copy(),i.alignment=e,i)},Uh.defineProperty(gi,{yt:"handleArchetype"},function(){return this.Gk},function(t){null!==t&&Uh.A(t,Er,gi,"handleArchetype"),this.Gk=t}),Uh.u(gi,{handle:"handle"},function(){return this.Ub}),Uh.defineProperty(gi,{gc:"adornedObject"},function(){return this.Fb},function(t){null!==t&&Uh.A(t,Er,gi,"adornedObject"),this.Fb=t}),gi.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return null!==t&&!t.cb&&t.at&&t.P.left&&null!==this.findToolHandleAt(t.yc.da,this.name)?!0:!1},gi.prototype.doActivate=function(){var t=this.g;null!==t&&(this.Ub=this.findToolHandleAt(t.yc.da,this.name),null!==this.Ub&&(this.Fb=this.Ub.aa.gc,this.az.set(this.Fb.aa.location),this.Ov.set(this.Fb.ya),this.Cy=this.computeCellSize(),this.Ey=this.computeMinSize(),this.Dy=this.computeMaxSize(),t.Qe=!0,this.DC=t.Sa.isEnabled,t.Sa.isEnabled=!1,this.Rb(this.name),this.ra=!0))},gi.prototype.doDeactivate=function(){var t=this.g;null!==t&&(this.kk(),this.Fb=this.Ub=null,this.ra=t.Qe=!1,t.Sa.isEnabled=this.DC)},gi.prototype.doCancel=function(){this.Fb.ya=this.Ov,this.Fb.aa.location=this.az,this.stopTool()},gi.prototype.doMouseMove=function(){var t=this.g;if(this.ra&&null!==t){var e=this.Ey,i=this.Dy,n=this.Cy,r=this.Fb.qE(t.P.da,Uh.M()),o=Xc;this.Fb instanceof jo&&(o=Fo(this.Fb)),e=this.computeResize(r,this.Ub.alignment,e,i,n,!(o===nf||o===rf||t.P.shift)),this.resize(e),t.Uf(),Uh.v(r)}},gi.prototype.doMouseUp=function(){var t=this.g;if(this.ra&&null!==t){var e=this.Ey,i=this.Dy,n=this.Cy,r=this.Fb.qE(t.P.da,Uh.M()),o=Xc;this.Fb instanceof jo&&(o=Fo(this.Fb)),e=this.computeResize(r,this.Ub.alignment,e,i,n,!(o===nf||o===rf||t.P.shift)),this.resize(e),Uh.v(r),t.pc(),this.Cf=this.name,t.Ba("PartResized",this.Fb,this.Ov)}this.stopTool()},gi.prototype.resize=function(t){if(null!==this.g){var e=this.gc,i=e.aa,n=e.tl(),r=e.Yi(),o=Math.PI*n/180,s=Math.cos(o),o=Math.sin(o),a=n>0&&180>n?1:0,l=n>90&&270>n?1:0,n=n>180&&360>n?1:0,h=e.Ia.width,u=e.Ia.height;e.ya=t.size;var c=i.position.copy();i.sf(),h=e.Ia.width-h,u=e.Ia.height-u,(0!==h||0!==u)&&(0!==h&&(c.x+=r*((t.x+h*l)*s-(t.y+u*a)*o)),0!==u&&(c.y+=r*((t.x+h*n)*o+(t.y+u*l)*s)),i.move(c),i instanceof js&&i.ff())}},gi.prototype.computeResize=function(t,e,i,n,r,o){e.te()&&(e=ou);var s=this.gc.Ia,a=s.x,l=s.y,h=s.x+s.width,u=s.y+s.height,c=1;if(!o){var c=s.width,f=s.height;0>=c&&(c=1),0>=f&&(f=1),c=f/c}return f=Uh.M(),_u.ot(t.x,t.y,a,l,r.width,r.height,f),t=s.copy(),0>=e.x?0>=e.y?(t.x=Math.max(f.x,h-n.width),t.x=Math.min(t.x,h-i.width),t.width=Math.max(h-t.x,i.width),t.y=Math.max(f.y,u-n.height),t.y=Math.min(t.y,u-i.height),t.height=Math.max(u-t.y,i.height),o||(e=t.height/t.width,e>c?(t.height=c*t.width,t.y=u-t.height):(t.width=t.height/c,t.x=h-t.width))):1<=e.y?(t.x=Math.max(f.x,h-n.width),t.x=Math.min(t.x,h-i.width),t.width=Math.max(h-t.x,i.width),t.height=Math.max(Math.min(f.y-l,n.height),i.height),o||(e=t.height/t.width,e>c?t.height=c*t.width:(t.width=t.height/c,t.x=h-t.width))):(t.x=Math.max(f.x,h-n.width),t.x=Math.min(t.x,h-i.width),t.width=h-t.x,o||(t.height=c*t.width,t.y=l+.5*(u-l-t.height))):1<=e.x?0>=e.y?(t.width=Math.max(Math.min(f.x-a,n.width),i.width),t.y=Math.max(f.y,u-n.height),t.y=Math.min(t.y,u-i.height),t.height=Math.max(u-t.y,i.height),o||(e=t.height/t.width,e>c?(t.height=c*t.width,t.y=u-t.height):t.width=t.height/c)):1<=e.y?(t.width=Math.max(Math.min(f.x-a,n.width),i.width),t.height=Math.max(Math.min(f.y-l,n.height),i.height),o||(e=t.height/t.width,e>c?t.height=c*t.width:t.width=t.height/c)):(t.width=Math.max(Math.min(f.x-a,n.width),i.width),o||(t.height=c*t.width,t.y=l+.5*(u-l-t.height))):0>=e.y?(t.y=Math.max(f.y,u-n.height),t.y=Math.min(t.y,u-i.height),t.height=u-t.y,o||(t.width=t.height/c,t.x=a+.5*(h-a-t.width))):1<=e.y&&(t.height=Math.max(Math.min(f.y-l,n.height),i.height),o||(t.width=t.height/c,t.x=a+.5*(h-a-t.width))),Uh.v(f),t},gi.prototype.computeMinSize=function(){var t=this.gc.zg.copy(),e=this.zg;return!isNaN(e.width)&&e.width>t.width&&(t.width=e.width),!isNaN(e.height)&&e.height>t.height&&(t.height=e.height),t},gi.prototype.computeMaxSize=function(){var t=this.gc.jf.copy(),e=this.jf;return!isNaN(e.width)&&e.width<t.width&&(t.width=e.width),!isNaN(e.height)&&e.height<t.height&&(t.height=e.height),t},gi.prototype.computeCellSize=function(){var t=new k(0/0,0/0),e=this.gc.aa;if(null!==e){var i=e.ZI;!isNaN(i.width)&&0<i.width&&(t.width=i.width),!isNaN(i.height)&&0<i.height&&(t.height=i.height)}return i=this.Uo,isNaN(t.width)&&!isNaN(i.width)&&0<i.width&&(t.width=i.width),isNaN(t.height)&&!isNaN(i.height)&&0<i.height&&(t.height=i.height),e=this.g,(isNaN(t.width)||isNaN(t.height))&&e&&(i=e.eb.Zd,null!==i&&i.bx&&(i=i.tE,isNaN(t.width)&&!isNaN(i.width)&&0<i.width&&(t.width=i.width),isNaN(t.height)&&!isNaN(i.height)&&0<i.height&&(t.height=i.height)),e=e.xt,null!==e&&e.visible&&this.bx&&(i=e.Ww,isNaN(t.width)&&!isNaN(i.width)&&0<i.width&&(t.width=i.width),isNaN(t.height)&&!isNaN(i.height)&&0<i.height&&(t.height=i.height))),(isNaN(t.width)||0===t.width||1/0===t.width)&&(t.width=1),(isNaN(t.height)||0===t.height||1/0===t.height)&&(t.height=1),t},Uh.defineProperty(gi,{zg:"minSize"},function(){return this.Ej},function(t){if(Uh.A(t,k,gi,"minSize"),!this.Ej.L(t)){var e=t.width;isNaN(e)&&(e=0),t=t.height,isNaN(t)&&(t=0),this.Ej.m(e,t)}}),Uh.defineProperty(gi,{jf:"maxSize"},function(){return this.Cj},function(t){if(Uh.A(t,k,gi,"maxSize"),!this.Cj.L(t)){var e=t.width;isNaN(e)&&(e=1/0),t=t.height,isNaN(t)&&(t=1/0),this.Cj.m(e,t)}}),Uh.defineProperty(gi,{Uo:"cellSize"},function(){return this.kj},function(t){Uh.A(t,k,gi,"cellSize"),this.kj.L(t)||this.kj.assign(t)}),Uh.defineProperty(gi,{bx:"isGridSnapEnabled"},function(){return this.br},function(t){Uh.j(t,"boolean",gi,"isGridSnapEnabled"),this.br=t}),Uh.u(gi,{hL:"originalDesiredSize"},function(){return this.Ov}),Uh.u(gi,{iL:"originalLocation"},function(){return this.az}),Uh.Ja(mi,Ne),Uh.ea("RotatingTool",mi),mi.prototype.updateAdornments=function(t){if(!(null===t||t instanceof Ws)){if(t.kb&&!this.g.cb){var e=t.mF;if(null!==e&&t.canRotate()&&t.Y.K()&&t.isVisible()&&e.Y.K()&&e.El()){var i=t.cp(this.name);if((null===i||i.gc!==e)&&(i=this.makeAdornment(e)),null!==i){i.angle=e.tl();var n=null,r=null;
e===t||e===t.bc?(n=t.bc,r=t.gf):(n=e,r=ou);for(var o=n.Ia,r=Uh.Sb(o.width*r.x+r.offsetX,o.height*r.y+r.offsetY);null!==n&&n!==e;)n.transform.xb(r),n=n.T;var n=r.y,o=Math.max(r.x-e.Ia.width,0),s=Uh.M();return i.location=e.$a(new E(1,0,50+o,n),s),Uh.v(s),Uh.v(r),void t.bl(this.name,i)}}}t.Il(this.name)}},mi.prototype.makeAdornment=function(t){var e=null,e=t.aa.bJ;if(null===e){e=new _s,e.type=hf,e.gf=ou;var i=this.yt;null!==i&&e.add(i.copy())}else if(So(e),e=e.copy(),null===e)return null;return e.Ec=this.name,e.gc=t,e},Uh.defineProperty(mi,{yt:"handleArchetype"},function(){return this.Gk},function(t){null!==t&&Uh.A(t,Er,mi,"handleArchetype"),this.Gk=t}),Uh.u(mi,{handle:"handle"},function(){return this.Ub}),Uh.defineProperty(mi,{gc:"adornedObject"},function(){return this.Fb},function(t){null!==t&&Uh.A(t,Er,mi,"adornedObject"),this.Fb=t}),mi.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return null!==t&&!t.cb&&t.zw&&t.P.left&&null!==this.findToolHandleAt(t.yc.da,this.name)?!0:!1},mi.prototype.doActivate=function(){var t=this.g;if(null!==t&&(this.Ub=this.findToolHandleAt(t.yc.da,this.name),null!==this.Ub)){this.Fb=this.Ub.aa.gc;var e=this.Fb.aa,i=e.bc;this.TC=this.Fb===e||this.Fb===i?i.$a(e.gf):this.Fb.$a(ou),this.Nv=this.Fb.angle,t.Qe=!0,t.Iz=!0,this.Rb(this.name),this.ra=!0}},mi.prototype.doDeactivate=function(){var t=this.g;null!==t&&(this.kk(),this.Fb=this.Ub=null,this.ra=t.Qe=!1)},mi.prototype.doCancel=function(){var t=this.g;null!==t&&(t.Iz=!1),this.rotate(this.Nv),this.stopTool()},mi.prototype.doMouseMove=function(){var t=this.g;this.ra&&null!==t&&(t=this.computeRotate(t.P.da),this.rotate(t))},mi.prototype.doMouseUp=function(){var t=this.g;if(this.ra&&null!==t){t.Iz=!1;var e=this.computeRotate(t.P.da);this.rotate(e),t.pc(),this.Cf=this.name,t.Ba("PartRotated",this.Fb,this.Nv)}this.stopTool()},mi.prototype.rotate=function(t){null!==this.Fb&&(this.Fb.angle=t)},mi.prototype.computeRotate=function(t){t=this.TC.dh(t);var e=this.Fb.T;null!==e&&(t-=e.tl(),t>=360?t-=360:0>t&&(t+=360));var e=Math.min(Math.abs(this.qJ),180),i=Math.min(Math.abs(this.pJ),e/2);return!this.g.P.shift&&e>0&&i>0&&(i>t%e?t=Math.floor(t/e)*e:t%e>e-i&&(t=(Math.floor(t/e)+1)*e)),t>=360?t-=360:0>t&&(t+=360),t},Uh.defineProperty(mi,{qJ:"snapAngleMultiple"},function(){return this.ZC},function(t){Uh.j(t,"number",mi,"snapAngleMultiple"),this.ZC=t}),Uh.defineProperty(mi,{pJ:"snapAngleEpsilon"},function(){return this.YC},function(t){Uh.j(t,"number",mi,"snapAngleEpsilon"),this.YC=t}),Uh.u(mi,{gL:"originalAngle"},function(){return this.Nv}),Uh.Ja(yi,Ne),Uh.ea("ClickSelectingTool",yi),yi.prototype.canStart=function(){return!this.isEnabled||null===this.g||this.isBeyondDragSize()?!1:!0},yi.prototype.doMouseUp=function(){this.ra&&(this.standardMouseSelect(),this.standardMouseClick(),this.g.P.aj&&this.g.eb.doToolTip()),this.stopTool()},Uh.Ja(bi,Ne),Uh.ea("ActionTool",bi),bi.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t)return!1;var e=t.P,i=t.re(e.da,function(t){for(;null!==t.T&&!t.Zw;)t=t.T;return t});return null!==i&&i.Zw?(this.vn=i,t.En=t.re(e.da,null,null),!0):!1},bi.prototype.doMouseDown=function(){if(this.ra){var t=this.g.P,e=this.vn;null!==e&&(t.ze=e,null!==e.xD&&e.xD(t,e))}else this.canStart()&&this.doActivate()},bi.prototype.doMouseMove=function(){if(this.ra){var t=this.g.P,e=this.vn;null!==e&&(t.ze=e,null!==e.yD&&e.yD(t,e))}},bi.prototype.doMouseUp=function(){if(this.ra){var t=this.g,e=t.P,i=this.vn;if(null===i)return;e.ze=i,null!==i.zD&&i.zD(e,i),this.isBeyondDragSize()||_e(i,e,t)}this.stopTool()},bi.prototype.doCancel=function(){var t=this.g;if(null!==t){var t=t.P,e=this.vn;if(null===e)return;t.ze=e,null!==e.wD&&e.wD(t,e)}this.stopTool()},bi.prototype.doStop=function(){this.vn=null},Uh.Ja(xi,Ne),Uh.ea("ClickCreatingTool",xi),xi.prototype.canStart=function(){if(!this.isEnabled||null===this.wz)return!1;var t=this.g;if(null===t||t.cb||t.xf||!t.Qo||!t.P.left||this.isBeyondDragSize())return!1;if(this.bI){if(1===t.P.Ze&&(this.ZB=t.P.mf.copy()),2!==t.P.Ze||this.isBeyondDragSize(this.ZB))return!1}else if(1!==t.P.Ze)return!1;return t.Za!==this&&null!==t.qt(t.P.da,!0)?!1:!0},xi.prototype.doMouseUp=function(){var t=this.g;this.ra&&null!==t&&this.insertPart(t.P.da),this.stopTool()},xi.prototype.insertPart=function(t){var e=this.g;if(null===e)return null;var i=this.wz;if(null===i)return null;this.Rb(this.name);var n=null;return i instanceof fs?i.Pd()&&(So(i),n=i.copy(),null!==n&&e.add(n)):null!==i&&(i=e.Z.copyNodeData(i),Uh.Va(i)&&(e.Z.cl(i),n=e.ug(i))),null!==n&&(n.location=t,e.qf&&e.select(n)),e.pc(),this.Cf=this.name,e.Ba("PartCreated",n),this.kk(),n},Uh.defineProperty(xi,{wz:"archetypeNodeData"},function(){return this.Ul},function(t){null!==t&&Uh.A(t,Object,xi,"archetypeNodeData"),this.Ul=t}),Uh.defineProperty(xi,{bI:"isDoubleClick"},function(){return this.kC},function(t){Uh.j(t,"boolean",xi,"isDoubleClick"),this.kC=t}),Uh.Ja(ki,Ne),Uh.ea("ContextMenuTool",ki),Uh.ZD=!1,Uh.et=null,Uh.ft=null,ki.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return null===t||this.isBeyondDragSize()||!t.P.right?!1:null!==this.Nn&&t.P.aj||null!==this.findObjectWithContextMenu()?!0:!1},ki.prototype.doStart=function(){var t=this.g;null!==t&&this.BC.set(t.yc.da)},ki.prototype.doStop=function(){this.hideDefaultContextMenu(),this.hideContextMenu(),this.Fn=null},ki.prototype.findObjectWithContextMenu=function(t){void 0===t&&(t=null);var e=this.g;if(null===e)return null;var i=e.P,n=null;if(t instanceof Qi||(n=t instanceof Er?t:e.re(i.da,null,function(t){return!t.layer.Gc})),null!==n){for(t=n;null!==t;){if(i=t.contextMenu,null!==i)return t;t=t.T}if(null!==this.Nn&&e.P.aj)return n.aa}else if(i=e.contextMenu,null!==i)return e;return null},ki.prototype.doActivate=function(){},ki.prototype.doMouseDown=function(){Ne.prototype.doMouseDown.call(this),null!==this.g&&this.g.eb.Re.contains(this)&&$i(this)},ki.prototype.doMouseUp=function(){$i(this)},ki.prototype.doMouseMove=function(){this.ra&&this.g.eb.doMouseMove()},ki.prototype.showContextMenu=function(t,e){Uh.A(t,_s,ki,"showContextMenu:contextmenu"),null!==e&&Uh.A(e,Er,ki,"showContextMenu:obj");var i=this.g;if(null!==i){if(t!==this.Pf&&this.hideContextMenu(),t.Tf="Tool",t.Jl=!1,t.scale=1/i.scale,t.Ec=this.name,i.add(t),null!==e){var i=null,n=e.ep();null!==n&&(i=n.data),t.gc=e,t.data=i}else t.data=i.Z;t.sf(),this.positionContextMenu(t,e),this.Pf=t}},ki.prototype.positionContextMenu=function(t){if(null===t.placeholder){var e=this.g;if(null!==e){var i=e.P.da.copy(),n=t.Ca,r=e.tb;e.P.aj&&(i.x-=n.width),i.x+n.width>r.right&&(i.x-=n.width+5),i.x<r.x&&(i.x=r.x),i.y+n.height>r.bottom&&(i.y-=n.height+5),i.y<r.y&&(i.y=r.y),t.position=i}}},ki.prototype.hideContextMenu=function(){var t=this.g;null!==t&&null!==this.Pf&&(this.Pf.data=null,this.Pf.gc=null,t.remove(this.Pf),this.Pf=null,this.standardMouseOver())},ki.prototype.showDefaultContextMenu=function(){var t=this.g;if(null!==t){null===this.sy&&(this.sy=Mi(this)),this.Nn!==this.Pf&&this.hideContextMenu(),Uh.ft.innerHTML="",Uh.et.addEventListener("click",this.nD,!1);var e=this,i=Uh.createElement("ul");i.className="defaultCXul",Uh.ft.appendChild(i),i.innerHTML="";for(var n=this.sy.i;n.next();){var r=n.value,o=r.text,s=r.visible;if("function"==typeof r.QD&&("function"!=typeof s||s(t))){s=Uh.createElement("li"),s.className="defaultCXli";var a=Uh.createElement("a");a.className="defaultCXa",a.href="#",a.gG=r.QD,a.addEventListener("click",function(i){return this.gG(t),e.stopTool(),i.preventDefault(),!1},!1),a.textContent=o,s.appendChild(a),i.appendChild(s)}}Uh.ft.style.display="block",Uh.et.style.display="block",this.Pf=this.Nn}},ki.prototype.hideDefaultContextMenu=function(){null!==this.Pf&&this.Pf===this.Nn&&(Uh.ft.style.display="none",Uh.et.style.display="none",Uh.et.removeEventListener("click",this.nD,!1),this.Pf=null)},Uh.defineProperty(ki,{Pf:"currentContextMenu"},function(){return this.EB},function(t){null!==t&&Uh.A(t,_s,ki,"currentContextMenu"),this.EB=t}),Uh.defineProperty(ki,{mK:"currentObject"},function(){return this.Fn},function(t){null!==t&&Uh.A(t,Er,ki,"currentObject"),this.Fn=t}),Uh.u(ki,{bL:"mouseDownPoint"},function(){return this.BC}),Uh.Ja(Si,Ne),Uh.ea("DragSelectingTool",Si),Si.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||!t.qf)return!1;var e=t.P;return!e.left||t.Za!==this&&(!this.isBeyondDragSize()||e.timestamp-t.yc.timestamp<this.$D||null!==t.qt(e.da,!0))?!1:!0},Si.prototype.doActivate=function(){var t=this.g;null!==t&&(this.ra=!0,t.Qe=!0,t.wb=!0,t.add(this.$g),this.doMouseMove())},Si.prototype.doDeactivate=function(){var t=this.g;null!==t&&(t.remove(this.$g),t.wb=!1,this.ra=t.Qe=!1)},Si.prototype.doMouseMove=function(){if(null!==this.g&&this.ra&&null!==this.$g){var t=this.computeBoxBounds(),e=this.$g.ae("SHAPE");null===e&&(e=this.$g.af()),e.ya=t.size,this.$g.position=t.position}},Si.prototype.doMouseUp=function(){if(this.ra){var t=this.g;t.remove(this.$g);try{t.Zb="wait",this.selectInRect(this.computeBoxBounds())}finally{t.Zb=""}}this.stopTool()},Si.prototype.computeBoxBounds=function(){var t=this.g;return null===t?new T(0,0,0,0):new T(t.yc.da,t.P.da)},Si.prototype.selectInRect=function(t){var e=this.g;if(null!==e){var i=e.P;if(e.Ba("ChangingSelection"),t=e.bk(t,null,function(t){return t instanceof fs?t.canSelect():!1},this.iI),Uh.fk?i.Pt:i.control)if(i.shift)for(t=t.i;t.next();)i=t.value,i.kb&&(i.kb=!1);else for(t=t.i;t.next();)i=t.value,i.kb=!i.kb;else{if(!i.shift){for(var i=new u(fs),n=e.selection.i;n.next();){var r=n.value;t.contains(r)||i.add(r)}for(i=i.i;i.next();)i.value.kb=!1}for(t=t.i;t.next();)i=t.value,i.kb||(i.kb=!0)}e.Ba("ChangedSelection")}},Uh.defineProperty(Si,{$D:"delay"},function(){return this.On},function(t){Uh.j(t,"number",Si,"delay"),this.On=t}),Uh.defineProperty(Si,{iI:"isPartialInclusion"},function(){return this.pC},function(t){Uh.j(t,"boolean",Si,"isPartialInclusion"),this.pC=t}),Uh.defineProperty(Si,{$g:"box"},function(){return this.Wl},function(t){null!==t&&Uh.A(t,fs,Si,"box"),this.Wl=t}),Uh.Ja(Pi,Ne),Uh.ea("PanningTool",Pi),Pi.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return null===t||!t.ne&&!t.oe||!t.P.left||t.Za!==this&&!this.isBeyondDragSize()?!1:!0},Pi.prototype.doActivate=function(){var e=this.g;null!==e&&(this.jj?(e.P.bubbles=!0,t.document.addEventListener("scroll",this.bD,!1)):(e.Zb="move",e.Qe=!0,this.bz=e.position.copy()),this.ra=!0)},Pi.prototype.doDeactivate=function(){var t=this.g;null!==t&&(t.Zb="",this.ra=t.Qe=!1)},Pi.prototype.doCancel=function(){var t=this.g;null!==t&&(t.position=this.bz,t.Qe=!1),this.stopTool()},Pi.prototype.doMouseMove=function(){this.move()},Pi.prototype.doMouseUp=function(){this.move(),this.stopTool()},Pi.prototype.move=function(){var t=this.g;if(this.ra&&t)if(this.jj)t.P.bubbles=!0;else{var e=t.position,i=t.yc.da,n=t.P.da,r=e.x+i.x-n.x,i=e.y+i.y-n.y;t.ne||(r=e.x),t.oe||(i=e.y),t.position=new b(r,i)}},Uh.defineProperty(Pi,{bubbles:"bubbles"},function(){return this.jj},function(t){Uh.j(t,"boolean",Pi,"bubbles"),this.jj=t}),Uh.u(Pi,{lL:"originalPosition"},function(){return this.bz}),Uh.ea("TextEditingTool",Di),Uh.Ja(Di,Ne);var fc;Di.LostFocus=fc=Uh.p(Di,"LostFocus",0);var dc;Di.MouseDown=dc=Uh.p(Di,"MouseDown",1);var pc;Di.Tab=pc=Uh.p(Di,"Tab",2);var gc;Di.Enter=gc=Uh.p(Di,"Enter",3),Di.SingleClick=Uh.p(Di,"SingleClick",0);var vc;Di.SingleClickSelected=vc=Uh.p(Di,"SingleClickSelected",1);var mc=Uh.p(Di,"StateNone",0),yc=Uh.p(Di,"StateActive",1),bc=Uh.p(Di,"StateEditing",2),xc=Uh.p(Di,"StateEditing2",3),wc=Uh.p(Di,"StateValidating",4),kc=Uh.p(Di,"StateValidated",5);Uh.defineProperty(Di,{Ce:"textBlock"},function(){return this.kz},function(t){null!==t&&Uh.A(t,Bo,Di,"textBlock"),this.kz=t}),Uh.defineProperty(Di,{rg:"currentTextEditor"},function(){return this.IB},function(t){this.IB=t}),Uh.defineProperty(Di,{oH:"defaultTextEditor"},function(){return this.OB},function(t){Uh.A(t,Element,Di,"defaultTextEditor"),this.OB=t}),Uh.defineProperty(Di,{MA:"starting"},function(){return this.Eo},function(t){Uh.rb(t,Di,Di,"starting"),this.Eo=t}),Di.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return null===t||t.cb||!t.P.left||this.isBeyondDragSize()?!1:(t=t.re(t.P.da,null,function(t){return t instanceof Bo}),null!==t&&t.Jz&&t.aa.canEdit()?(t=t.aa,null===t||this.MA===vc&&!t.kb?!1:!0):!1)},Di.prototype.doStart=function(){this.ra||null===this.Ce||this.doActivate()},Di.prototype.doActivate=function(){if(!this.ra){var t=this.g;if(null!==t){var e=this.Ce;if(null===e&&(e=t.re(t.P.da,function(t){return t instanceof Bo?t:null})),null!==e&&(this.Ce=e,null!==e.aa)){this.ra=!0,this.hb=yc;var i=this.oH,n=!1;null!==e.DF&&(i=e.DF),null===i||i.lB||(n=!0),this.fD=this.Ce.copy();var r=new T(this.Ce.$a(eu),this.Ce.$a(hu));if(t.gJ(r),i.lB){var o=e.$a(ou),s=t.position,a=t.scale,l=e.Yi()*a;l<this.UE&&(l=this.UE);var r=e.Ia.width*l,h=e.Ia.height*l,u=(o.x-s.x)*a,o=(o.y-s.y)*a;i.value=e.text,t.ol.style.font=e.font,i.style.font="inherit",i.style.fontSize=100*l+"%",i.style.lineHeight="normal",i.style.width=r+6+"px",i.style.height=h+2+"px",i.style.left=(u-r/2|0)-1+"px",i.style.top=(o-h/2|0)-1+"px",i.style.textAlign=e.textAlign,i.style.margin="0",i.style.padding="1px",i.style.border="0",i.style.outline="none",i.style["white-space"]="pre-wrap",i.style.overflow="hidden"}t.ol.appendChild(i),i.style.position="absolute",i.style.zIndex=100,i.className="start",i.textEditingTool=this,i.wJ=l,n&&"function"==typeof i.onActivate&&i.onActivate(),this.rg=i,"function"==typeof i.focus&&i.focus(),"function"==typeof i.select&&this.GA&&(i.select(),i.setSelectionRange(0,9999))}}}},Di.prototype.doCancel=function(){null!==this.Wk&&(this.rg.style.border=this.Wk,this.Wk=null),this.stopTool()},Di.prototype.doMouseUp=function(){!this.ra&&this.canStart()&&this.doActivate()},Di.prototype.doMouseDown=function(){this.ra&&this.acceptText(dc)},Di.prototype.acceptText=function(t){switch(t){case dc:this.hb===kc||this.hb===xc?"function"==typeof this.rg.focus&&this.rg.focus():(this.hb===yc||this.hb===bc)&&(this.hb=wc,Ai(this));break;case fc:case gc:case pc:if(gc===t&&!0===this.kz.gx)break;(this.hb===yc||this.hb===bc)&&(this.hb=wc,Ai(this))}},Di.prototype.doDeactivate=function(){var t=this.g;if(null!==t){if(this.hb=mc,this.Ce=null,null!==this.rg){var e=this.rg;"function"==typeof e.onDeactivate&&e.onDeactivate(),null!==e&&t.ol.removeChild(e)}this.ra=!1}},Di.prototype.isValidText=function(t,e,i){Uh.A(t,Bo,Di,"isValidText:textblock");var n=this.PA;return null===n||n(t,e,i)?(n=t.PA,null===n||n(t,e,i)?!0:!1):!1},Uh.defineProperty(Di,{PA:"textValidation"},function(){return this.Zk},function(t){null!==t&&Uh.j(t,"function",Di,"textValidation"),this.Zk=t}),Uh.defineProperty(Di,{UE:"minimumEditorScale"},function(){return this.yC},function(t){null!==t&&Uh.j(t,"number",Di,"minimumEditorScale"),this.yC=t}),Uh.defineProperty(Di,{GA:"selectsTextOnActivate"},function(){return this.WC},function(t){null!==t&&Uh.j(t,"boolean",Di,"selectsTextOnActivate"),this.WC=t}),Uh.Ja(Ei,Ne),Uh.ea("ToolManager",Ei);var Tc;Ei.WheelScroll=Tc=Uh.p(Ei,"WheelScroll",0);var $c;Ei.WheelZoom=$c=Uh.p(Ei,"WheelZoom",1),Ei.WheelNone=Uh.p(Ei,"WheelNone",2);var Cc;Ei.GestureZoom=Cc=Uh.p(Ei,"GestureZoom",3);var Mc;Ei.GestureCancel=Mc=Uh.p(Ei,"GestureCancel",4);var Sc;Ei.GestureNone=Sc=Uh.p(Ei,"GestureNone",5),Uh.defineProperty(Ei,{St:"mouseWheelBehavior"},function(){return this.CC},function(t){Uh.rb(t,Ei,Ei,"mouseWheelBehavior"),this.CC=t}),Uh.defineProperty(Ei,{gp:"gestureBehavior"},function(){return this.aC},function(t){Uh.rb(t,Ei,Ei,"gestureBehavior"),this.aC=t}),Ei.prototype.initializeStandardTools=function(){this.DG=new bi,this.aF=new ci,this.sI=new di,this.lF=new gi,this.dJ=new mi,this.QE=new ui,this.Zd=new je,this.uH=new Si,this.MI=new Pi,this.Cz=new ki,this.OA=new Di,this.VG=new xi,this.WG=new yi},Ei.prototype.doMouseDown=function(){var t=this.g;if(null!==t){var e=t.P;if(e.aj&&this.gp===Mc&&(e.bubbles=!1),e.Gt){if(this.gp===Sc)return void(e.bubbles=!0);if(this.gp===Mc)return;if(t.Za.canStartMultiTouch())return void t.Za.standardPinchZoomStart()}var i=t.ma;i.zz&&0!==i.vh&&Uh.trace("WARNING: In ToolManager.doMouseDown: UndoManager.transactionLevel is not zero");for(var i=this.Re.length,n=0;i>n;n++){var r=this.Re.ha(n);if(null===r.g&&r.Mc(this.g),r.canStart())return t.Za=r,void(t.Za===r&&(r.ra||r.doActivate(),r.doMouseDown()))}1===t.P.button&&(this.St===Tc?this.St=$c:this.St===$c&&(this.St=Tc)),this.doActivate(),this.standardWaitAfter(this.wE,e)}},Ei.prototype.doMouseMove=function(){var t=this.g;if(null!==t){var e=t.P;if(e.Gt){if(this.gp===Sc)return void(e.bubbles=!0);if(this.gp===Mc)return;if(t.Za.canStartMultiTouch())return void t.Za.standardPinchZoomMove()}if(this.ra)for(var i=this.Vf.length,n=0;i>n;n++){var r=this.Vf.ha(n);if(null===r.g&&r.Mc(this.g),r.canStart())return t.Za=r,void(t.Za===r&&(r.ra||r.doActivate(),r.doMouseMove()))}this.standardMouseOver(),this.isBeyondDragSize()&&this.standardWaitAfter(this.ra?this.wE:this.TH,e),e.bubbles=!0}},Ei.prototype.doCurrentObjectChanged=function(t,e){var i=this.kl;null===i||null!==e&&(e===i||e.Bl(i))||this.hideToolTip()},Ei.prototype.doWaitAfter=function(t){var e=this.g;null!==e&&e.ub&&(this.doMouseHover(),this.ra||this.doToolTip(),t.aj&&!e.P.Fc&&(t=t.copy(),t.button=2,t.buttons=2,e.P=t,e.mw=!0,e.doMouseUp()))},Ei.prototype.doMouseHover=function(){var t=this.g;if(null!==t){var e=t.P;null===e.ze&&(e.ze=t.re(e.da,null,null));var i=e.ze;if(null!==i)for(e.Fc=!1;null!==i&&(t=this.ra?i.iA:i.jA,null===t||(t(e,i),!e.Fc));)i=i.T;else t=this.ra?t.iA:t.jA,null!==t&&t(e)}},Ei.prototype.doToolTip=function(){var t=this.g;if(null!==t){var e=t.P;if(null===e.ze&&(e.ze=t.re(e.da,null,null)),e=e.ze,null!==e){if(e!==this.kl&&!e.Bl(this.kl)){for(;null!==e;){if(t=e.RA,null!==t)return void this.showToolTip(t,e);e=e.T}this.hideToolTip()}}else t=t.RA,null!==t?this.showToolTip(t,null):this.hideToolTip()}},Ei.prototype.showToolTip=function(t,e){Uh.A(t,_s,Ei,"showToolTip:tooltip"),null!==e&&Uh.A(e,Er,Ei,"showToolTip:obj");var i=this.g;if(null!==i){if(t!==this.kl&&this.hideToolTip(),t.Tf="Tool",t.Jl=!1,t.scale=1/i.scale,i.add(t),null!==e&&e!==this.Xu){var i=null,n=e.ep();null!==n&&(i=n.data),t.gc=e,t.data=i}else null===e&&(t.data=i.Z);if((null===e||e!==this.Xu)&&(t.sf(),this.positionToolTip(t,e)),this.qy=t,this.Xu=e,-1!==this.Dm&&(Uh.clearTimeout(this.Dm),this.Dm=-1),i=this.BJ,i>0&&1/0!==i){var r=this;this.Dm=Uh.setTimeout(function(){r.hideToolTip()},i)}}},Ei.prototype.positionToolTip=function(t){if(null===t.placeholder){var e=this.g;if(null!==e){var i=e.P.da.copy(),n=t.Ca,r=e.tb;e.P.aj&&(i.x-=n.width),i.x+n.width>r.right&&(i.x-=n.width+5),i.x<r.x&&(i.x=r.x),i.y=i.y+20+n.height>r.bottom?i.y-(n.height+5):i.y+20,i.y<r.y&&(i.y=r.y),t.position=i}}},Ei.prototype.hideToolTip=function(){if(-1!==this.Dm&&(Uh.clearTimeout(this.Dm),this.Dm=-1),null!==this.kl){var t=this.g;null!==t&&(this.kl.data=null,this.kl.gc=null,t.remove(this.kl),this.Xu=this.qy=null)}},Uh.u(Ei,{kl:"currentToolTip"},function(){return this.qy}),Ei.prototype.doMouseUp=function(){if(this.cancelWaitAfter(),this.ra){var t=this.g;if(null===t)return;for(var e=this.Wf.length,i=0;e>i;i++){var n=this.Wf.ha(i);if(null===n.g&&n.Mc(this.g),n.canStart())return t.Za=n,void(t.Za===n&&(n.ra||n.doActivate(),n.doMouseUp()))}}this.doDeactivate()},Ei.prototype.doMouseWheel=function(){this.standardMouseWheel()},Ei.prototype.doKeyDown=function(){var t=this.g;null!==t&&t.pb.doKeyDown()},Ei.prototype.doKeyUp=function(){var t=this.g;null!==t&&t.pb.doKeyUp()},Ei.prototype.doCancel=function(){null!==nc&&nc.doCancel(),Ne.prototype.doCancel.call(this)},Ei.prototype.findTool=function(t){Uh.j(t,"string",Ei,"findTool:name");for(var e=this.Re.length,i=0;e>i;i++){var n=this.Re.ha(i);if(n.name===t)return n}for(e=this.Vf.length,i=0;e>i;i++)if(n=this.Vf.ha(i),n.name===t)return n;for(e=this.Wf.length,i=0;e>i;i++)if(n=this.Wf.ha(i),n.name===t)return n;return null},Ei.prototype.replaceTool=function(t,e){Uh.j(t,"string",Ei,"replaceTool:name"),null!==e&&(Uh.A(e,Ne,Ei,"replaceTool:newtool"),e.g&&e.g!==this.g&&Uh.k("Cannot share tools between Diagrams: "+e.toString()),e.Mc(this.g));for(var i=this.Re.length,n=0;i>n;n++){var r=this.Re.ha(n);if(r.name===t)return null!==e?this.Re.Eg(n,e):this.Re.Vc(n),r}for(i=this.Vf.length,n=0;i>n;n++)if(r=this.Vf.ha(n),r.name===t)return null!==e?this.Vf.Eg(n,e):this.Vf.Vc(n),r;for(i=this.Wf.length,n=0;i>n;n++)if(r=this.Wf.ha(n),r.name===t)return null!==e?this.Wf.Eg(n,e):this.Wf.Vc(n),r;return null},Uh.u(Ei,{Re:"mouseDownTools"},function(){return this.lG}),Uh.u(Ei,{Vf:"mouseMoveTools"},function(){return this.mG}),Uh.u(Ei,{Wf:"mouseUpTools"},function(){return this.nG}),Uh.defineProperty(Ei,{TH:"hoverDelay"},function(){return this.dC},function(t){Uh.j(t,"number",Ei,"hoverDelay"),this.dC=t}),Uh.defineProperty(Ei,{wE:"holdDelay"},function(){return this.cC},function(t){Uh.j(t,"number",Ei,"holdDelay"),this.cC=t}),Uh.defineProperty(Ei,{vH:"dragSize"},function(){return this.SB},function(t){Uh.A(t,k,Ei,"dragSize"),this.SB=t.S()}),Uh.defineProperty(Ei,{BJ:"toolTipDuration"},function(){return this.oD},function(t){Uh.j(t,"number",Ei,"toolTipDuration"),this.oD=t}),Uh.defineProperty(Ei,{DG:"actionTool"},function(){return this.findTool("Action")},function(t){Ni(this,"Action",t,this.Re)}),Uh.defineProperty(Ei,{aF:"relinkingTool"},function(){return this.findTool("Relinking")},function(t){Ni(this,"Relinking",t,this.Re)}),Uh.defineProperty(Ei,{sI:"linkReshapingTool"},function(){return this.findTool("LinkReshaping")},function(t){Ni(this,"LinkReshaping",t,this.Re)}),Uh.defineProperty(Ei,{lF:"resizingTool"},function(){return this.findTool("Resizing")},function(t){Ni(this,"Resizing",t,this.Re)}),Uh.defineProperty(Ei,{dJ:"rotatingTool"},function(){return this.findTool("Rotating")},function(t){Ni(this,"Rotating",t,this.Re)}),Uh.defineProperty(Ei,{QE:"linkingTool"},function(){return this.findTool("Linking")},function(t){Ni(this,"Linking",t,this.Vf)}),Uh.defineProperty(Ei,{Zd:"draggingTool"},function(){return this.findTool("Dragging")},function(t){Ni(this,"Dragging",t,this.Vf)}),Uh.defineProperty(Ei,{uH:"dragSelectingTool"},function(){return this.findTool("DragSelecting")},function(t){Ni(this,"DragSelecting",t,this.Vf)}),Uh.defineProperty(Ei,{MI:"panningTool"},function(){return this.findTool("Panning")},function(t){Ni(this,"Panning",t,this.Vf)}),Uh.defineProperty(Ei,{Cz:"contextMenuTool"},function(){return this.findTool("ContextMenu")},function(t){Ni(this,"ContextMenu",t,this.Wf)}),Uh.defineProperty(Ei,{OA:"textEditingTool"},function(){return this.findTool("TextEditing")},function(t){Ni(this,"TextEditing",t,this.Wf)}),Uh.defineProperty(Ei,{VG:"clickCreatingTool"},function(){return this.findTool("ClickCreating")},function(t){Ni(this,"ClickCreating",t,this.Wf)}),Uh.defineProperty(Ei,{WG:"clickSelectingTool"},function(){return this.findTool("ClickSelecting")},function(t){Ni(this,"ClickSelecting",t,this.Wf)}),Uh.ea("AnimationManager",_i),_i.prototype.Mc=function(t){this.U=t},Uh.defineProperty(_i,{MA:"starting"},function(){return this.Eo},function(t){this.Eo!==t&&(null!==t&&Uh.j(t,"function",_i,"starting"),this.Eo=t)}),Uh.u(_i,{fK:"animationReasons"},function(){return this.Hu}),_i.prototype.prepareAutomaticAnimation=_i.prototype.jn=function(t){if(this.Ue&&(this.vj||this.U.bn)){this.Hu.add(t);var e=this.MA;(null===e||e(this,t))&&(this.uj&&this.di(),this.vc=!0,this.Ju=!1)}};var Pc={opacity:function(t,e,i,n,r,o){t.opacity=n(r,e,i-e,o)},position:function(t,e,i,n,r,o){r!==o?t.Jx(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o)):t.position=new b(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o))},"position:node":function(t,e,i,n,r,o){var s=t.Y,a=i.Y;i=a.x+a.width/2-s.width/2,s=a.y+a.height/2-s.height/2,r!==o?t.Jx(n(r,e.x,i-e.x,o),n(r,e.y,s-e.y,o)):t.position=new b(n(r,e.x,i-e.x,o),n(r,e.y,s-e.y,o))},"position:placeholder":function(t,e,i,n,r,o){r!==o?t.Jx(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o)):t.position=new b(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o))},scale:function(t,e,i,n,r,o){t.scale=n(r,e,i-e,o)},visible:function(t,e,i,n,r,o){t.visible=r!==o?e:i}};_i.prototype.stopAnimation=_i.prototype.di=function(){!0===this.vc&&(this.vc=!1,this.Ju&&this.U.ve()),this.uj&&this.Ue&&Hi(this)},Uh.defineProperty(_i,{isEnabled:"isEnabled"},function(){return this.Ue},function(t){Uh.j(t,"boolean",_i,"isEnabled"),this.Ue=t}),Uh.defineProperty(_i,{duration:"duration"},function(){return this.zy},function(t){Uh.j(t,"number",_i,"duration"),1>t&&Uh.wa(t,">= 1",_i,"duration"),this.zy=t}),Uh.u(_i,{vf:"isAnimating"},function(){return this.uj}),Uh.u(_i,{LK:"isTicking"},function(){return this.co}),Uh.defineProperty(_i,{HE:"isInitial"},function(){return this.vj},function(t){Uh.j(t,"boolean",_i,"isInitial"),this.vj=t}),Uh.ea("Layer",Ki),Ki.prototype.Mc=function(t){this.U=t},Ki.prototype.toString=function(t){void 0===t&&(t=0);var e='Layer "'+this.name+'"';if(0>=t)return e;for(var i=0,n=0,r=0,o=0,s=0,a=this.zb.i;a.next();){var l=a.value;l instanceof Na?r++:l instanceof js?n++:l instanceof Ws?o++:l instanceof _s?s++:i++}if(a="",i>0&&(a+=i+" Parts "),n>0&&(a+=n+" Nodes "),r>0&&(a+=r+" Groups "),o>0&&(a+=o+" Links "),s>0&&(a+=s+" Adornments "),t>1)for(t=this.zb.i;t.next();)i=t.value,a+="\n    "+i.toString(),n=i.data,null!==n&&Uh.pd(n)&&(a+=" #"+Uh.pd(n)),i instanceof js?a+=" "+Zu(n):i instanceof Ws&&(a+=" "+Zu(i.V)+" "+Zu(i.ba));return e+" "+this.zb.count+": "+a},Ki.prototype.findObjectAt=Ki.prototype.re=function(t,e,i){if(void 0===e&&(e=null),void 0===i&&(i=null),!1===this.Yk)return null;var n=!1;this.g.tb.Ga(t)&&(n=!0);for(var r=Uh.M(),o=this.zb.n,s=o.length;s--;){var a=o[s];if((!0!==n||!1!==Ss(a))&&a.isVisible()&&(r.assign(t),w(r,a.Zg),a=a.re(r,e,i),null!==a&&(null!==e&&(a=e(a)),null!==a&&(null===i||i(a)))))return Uh.v(r),a}return Uh.v(r),null},Ki.prototype.findObjectsAt=Ki.prototype.pt=function(t,e,i,n){if(void 0===e&&(e=null),void 0===i&&(i=null),n instanceof u||n instanceof f||(n=new f(Er)),!1===this.Yk)return n;var r=!1;this.g.tb.Ga(t)&&(r=!0);for(var o=Uh.M(),s=this.zb.n,a=s.length;a--;){var l=s[a];!0===r&&!1===Ss(l)||!l.isVisible()||(o.assign(t),w(o,l.Zg),l.pt(o,e,i,n)&&(null!==e&&(l=e(l)),null===l||null!==i&&!i(l)||n.add(l)))}return Uh.v(o),n},Ki.prototype.findObjectsIn=Ki.prototype.bk=function(t,e,i,n,r){if(void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=!1),r instanceof u||r instanceof f||(r=new f(Er)),!1===this.Yk)return r;var o=!1;this.g.tb.Zj(t)&&(o=!0);for(var s=this.zb.n,a=s.length;a--;){var l=s[a];(!0!==o||!1!==Ss(l))&&l.isVisible()&&l.bk(t,e,i,n,r)&&(null!==e&&(l=e(l)),null===l||null!==i&&!i(l)||r.add(l))}return r},Ki.prototype.Mz=function(t,e,i,n,r,o,s){if(!1===this.Yk)return r;for(var a=this.zb.n,l=a.length;l--;){var h=a[l];(!0!==s||!1!==Ss(h))&&o(h)&&h.isVisible()&&h.bk(t,e,i,n,r)&&(null!==e&&(h=e(h)),null===h||null!==i&&!i(h)||r.add(h))}return r},Ki.prototype.findObjectsNear=Ki.prototype.Um=function(t,e,i,n,r,o){if(void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof u||r instanceof f)&&(o=r),r=!0),o instanceof u||o instanceof f||(o=new f(Er)),!1===this.Yk)return o;var s=!1;this.g.tb.Ga(t)&&(s=!0);for(var a=Uh.M(),l=Uh.M(),h=this.zb.n,c=h.length;c--;){var d=h[c];!0===s&&!1===Ss(d)||!d.isVisible()||(a.assign(t),w(a,d.Zg),l.m(t.x+e,t.y),w(l,d.Zg),d.Um(a,l,i,n,r,o)&&(null!==i&&(d=i(d)),null===d||null!==n&&!n(d)||o.add(d)))}return Uh.v(a),Uh.v(l),o},Bh=Ki.prototype,Bh.zf=function(t,e){if(this.visible){var i;i=void 0===e?t.tb:e;for(var n=this.zb.n,r=n.length,o=0;r>o;o++){var s=n[o];if(s.vC=o,!(s instanceof Ws&&!1===s.Mf)){if(s instanceof _s){var a=s;if(null!==a.Yg)continue}if(S(s.Y,i))for(s.zf(!0),ps(s),s=s.ww;s.next();)a=s.value,Lr(a,1/0,1/0),a.Dc(),a.zf(!0);else s.zf(!1),null!==s.ww&&0<s.ww.count&&ps(s)}}}},Bh.$e=function(t,e,i){if(this.visible&&0!==this.Rc&&(void 0===i&&(i=!0),i||!this.Gc)){i=this.zb.n;var n=i.length;if(0!==n){1!==this.Rc&&(t.globalAlpha=this.Rc);var r=this.Qv;r.length=0;for(var o=e.scale,s=0;n>s;s++){var a=i[s];if(Ss(a)){if(a instanceof Ws){var l=a;if(l.kc&&r.push(l),!1===l.Mf)continue}l=a.Y,1<l.width*o||1<l.height*o?a.$e(t,e):ks(a,t)}}t.globalAlpha=1}}},Bh.h=function(t,e,i,n,r){var o=this.g;null!==o&&o.Lc(Wu,t,this,e,i,n,r)},Bh.lp=function(t,e,i){var n=this.zb;if(e.Av=this,t>=n.count)t=n.count;else if(n.ha(t)===e)return-1;return n.Cd(t,e),e.At(i),n=this.g,null!==n&&(i?n.qa():n.lp(e)),Ji(this,t,e),t},Bh.Pe=function(t,e,i){if(!i&&e.layer!==this&&null!==e.layer)return e.layer.Pe(t,e,i);var n=this.zb;if(0>t||t>=n.length){if(t=n.indexOf(e),0>t)return-1}else if(n.ha(t)!==e&&(t=n.indexOf(e),0>t))return-1;return e.Bt(i),n.Vc(t),n=this.g,null!==n&&(i?n.qa():n.Pe(e)),e.Av=null,t},Bh.clear=function(){for(var t=this.zb.dc(),e=t.length,i=0;e>i;i++)t[i].zf(!1),this.Pe(-1,t[i],!1)},Uh.u(Ki,{ik:"parts"},function(){return this.zb.i}),Uh.u(Ki,{oL:"partsBackwards"},function(){return this.zb.cn}),Uh.u(Ki,{g:"diagram"},function(){return this.U}),Uh.defineProperty(Ki,{name:"name"},function(){return this.Pb},function(t){Uh.j(t,"string",Ki,"name");var e=this.Pb;if(e!==t){var i=this.g;if(null!==i)for(""===e&&Uh.k("Cannot rename default Layer to: "+t),i=i.kx;i.next();)i.value.name===t&&Uh.k("Layer.name is already present in this diagram: "+t);for(this.Pb=t,this.h("name",e,t),t=this.zb.i;t.next();)t.value.Tf=this.Pb}}),Uh.defineProperty(Ki,{opacity:"opacity"},function(){return this.Rc},function(t){var e=this.Rc;e!==t&&(Uh.j(t,"number",Ki,"opacity"),(0>t||t>1)&&Uh.wa(t,"0 <= value <= 1",Ki,"opacity"),this.Rc=t,this.h("opacity",e,t),t=this.g,null!==t&&t.qa())}),Uh.defineProperty(Ki,{Gc:"isTemporary"},function(){return this.Qy},function(t){var e=this.Qy;e!==t&&(Uh.j(t,"boolean",Ki,"isTemporary"),this.Qy=t,this.h("isTemporary",e,t))}),Uh.defineProperty(Ki,{visible:"visible"},function(){return this.oz},function(t){var e=this.oz;if(e!==t){for(Uh.j(t,"boolean",Ki,"visible"),this.oz=t,this.h("visible",e,t),e=this.zb.i;e.next();)e.value.rd(t);t=this.g,null!==t&&t.qa()}}),Uh.defineProperty(Ki,{Dg:"pickable"},function(){return this.Yk},function(t){var e=this.Yk;e!==t&&(Uh.j(t,"boolean",Ki,"pickable"),this.Yk=t,this.h("pickable",e,t))}),Uh.defineProperty(Ki,{BE:"isBoundsIncluded"},function(){return this.Ly},function(t){this.Ly!==t&&(this.Ly=t,null!==this.g&&this.g.pc())}),Uh.defineProperty(Ki,{Xj:"allowCopy"},function(){return this.nk},function(t){var e=this.nk;e!==t&&(Uh.j(t,"boolean",Ki,"allowCopy"),this.nk=t,this.h("allowCopy",e,t))}),Uh.defineProperty(Ki,{Gm:"allowDelete"},function(){return this.ok},function(t){var e=this.ok;e!==t&&(Uh.j(t,"boolean",Ki,"allowDelete"),this.ok=t,this.h("allowDelete",e,t))}),Uh.defineProperty(Ki,{Aw:"allowTextEdit"},function(){return this.xk},function(t){var e=this.xk;e!==t&&(Uh.j(t,"boolean",Ki,"allowTextEdit"),this.xk=t,this.h("allowTextEdit",e,t))}),Uh.defineProperty(Ki,{xw:"allowGroup"},function(){return this.pk},function(t){var e=this.pk;e!==t&&(Uh.j(t,"boolean",Ki,"allowGroup"),this.pk=t,this.h("allowGroup",e,t))}),Uh.defineProperty(Ki,{Bw:"allowUngroup"},function(){return this.yk},function(t){var e=this.yk;e!==t&&(Uh.j(t,"boolean",Ki,"allowUngroup"),this.yk=t,this.h("allowUngroup",e,t))}),Uh.defineProperty(Ki,{$s:"allowLink"},function(){return this.qk},function(t){var e=this.qk;e!==t&&(Uh.j(t,"boolean",Ki,"allowLink"),this.qk=t,this.h("allowLink",e,t))}),Uh.defineProperty(Ki,{Hm:"allowRelink"},function(){return this.sk},function(t){var e=this.sk;e!==t&&(Uh.j(t,"boolean",Ki,"allowRelink"),this.sk=t,this.h("allowRelink",e,t))}),Uh.defineProperty(Ki,{fl:"allowMove"},function(){return this.rk},function(t){var e=this.rk;e!==t&&(Uh.j(t,"boolean",Ki,"allowMove"),this.rk=t,this.h("allowMove",e,t))}),Uh.defineProperty(Ki,{yw:"allowReshape"},function(){return this.tk},function(t){var e=this.tk;e!==t&&(Uh.j(t,"boolean",Ki,"allowReshape"),this.tk=t,this.h("allowReshape",e,t))}),Uh.defineProperty(Ki,{at:"allowResize"},function(){return this.uk},function(t){var e=this.uk;e!==t&&(Uh.j(t,"boolean",Ki,"allowResize"),this.uk=t,this.h("allowResize",e,t))}),Uh.defineProperty(Ki,{zw:"allowRotate"},function(){return this.vk
},function(t){var e=this.vk;e!==t&&(Uh.j(t,"boolean",Ki,"allowRotate"),this.vk=t,this.h("allowRotate",e,t))}),Uh.defineProperty(Ki,{qf:"allowSelect"},function(){return this.wk},function(t){var e=this.wk;e!==t&&(Uh.j(t,"boolean",Ki,"allowSelect"),this.wk=t,this.h("allowSelect",e,t))}),Uh.ea("Diagram",Qi),Qi.prototype.toString=function(t){void 0===t&&(t=0);var e="";if(this.id&&(e=this.id),this.ol&&this.ol.id&&(e=this.ol.id),e='Diagram "'+e+'"',0>=t)return e;for(var i=this.Yb.i;i.next();)e+="\n  "+i.value.toString(t-1);return e},Qi.fromDiv=function(e){var i=e;return"string"==typeof e&&(i=t.document.getElementById(e)),i instanceof HTMLDivElement&&i.U instanceof Qi?i.U:null},Uh.defineProperty(Qi,{ol:"div"},function(){return this.Nb},function(e){if(null!==e&&Uh.A(e,HTMLDivElement,Qi,"div"),this.Nb!==e){Ff=[];var i=this.Nb;null!==i?(i.U=void 0,i.innerHTML="",null!==this.ub&&(this.ub.removeEventListener("touchstart",this.JF,!1),this.ub.removeEventListener("touchmove",this.IF,!1),this.ub.removeEventListener("touchend",this.HF,!1),this.ub.Od.U=null),i=this.eb,null!==i&&(i.Re.each(function(t){t.cancelWaitAfter()}),i.Vf.each(function(t){t.cancelWaitAfter()}),i.Wf.each(function(t){t.cancelWaitAfter()})),i.cancelWaitAfter(),this.Za.doCancel(),this.Ah=this.ub=null,t.removeEventListener("resize",this.TF,!1),t.removeEventListener("mousemove",this.xp,!0),t.removeEventListener("mousedown",this.wp,!0),t.removeEventListener("mouseup",this.zp,!0),t.removeEventListener("mousewheel",this.ih,!0),t.removeEventListener("DOMMouseScroll",this.ih,!0),t.removeEventListener("mouseout",this.yp,!0)):this.Og=!1,this.Nb=null,null!==e&&((i=e.U)&&(i.ol=null),Tr(this,e),this.yA())}}),Qi.prototype.computePixelRatio=function(){return null!==this.Pj?this.Pj:this.oG},Qi.prototype.doMouseMove=function(){this.Za.doMouseMove()},Qi.prototype.doMouseDown=function(){this.Za.doMouseDown()},Qi.prototype.doMouseUp=function(){this.Za.doMouseUp()},Qi.prototype.doMouseWheel=function(){this.Za.doMouseWheel()},Qi.prototype.doKeyDown=function(){this.Za.doKeyDown()},Qi.prototype.doKeyUp=function(){this.Za.doKeyUp()},Qi.prototype.focus=Qi.prototype.focus=function(){this.ub&&this.ub.focus()},Qi.prototype.qG=function(){if(this.U.isEnabled){var t=this.U;if(t.cz&&null!==t.ub){t.$v=!0;var e,i=t.Bd,n=t.tb,r=i.width,o=n.width,s=i.height,a=n.height,l=i.right,h=n.right,u=i.bottom,c=n.bottom,f=i.x,d=n.x,i=i.y,n=n.y,p=t.scale;r>o||s>a?(e=Uh.Sb(t.position.x,t.position.y),t.ne&&t.UC!==this.scrollLeft&&(e.x=this.scrollLeft/p+f),t.oe&&t.VC!==this.scrollTop&&(e.y=this.scrollTop/p+i),t.position=e,Uh.v(e),t.$v=!1,t.am=!1):(e=Uh.M(),this.uG&&t.ne&&(d>f&&(t.position=e.m(this.scrollLeft+f,t.position.y)),l>h&&(t.position=e.m(-(t.dw.scrollWidth-t.Gb)+this.scrollLeft-t.Gb/p+t.Bd.right,t.position.y))),this.vG&&t.oe&&(n>i&&(t.position=e.m(t.position.x,this.scrollTop+i)),u>c&&(t.position=e.m(t.position.x,-(t.dw.scrollHeight-t.Lb)+this.scrollTop-t.Lb/p+t.Bd.bottom))),Uh.v(e),Pn(t),t.$v=!1,t.am=!1,i=t.Bd,n=t.tb,l=i.right,h=n.right,u=i.bottom,c=n.bottom,f=i.x,d=n.x,i=i.y,n=n.y,o>=r&&f>=d&&h>=l&&(t.ns.style.width="1px"),a>=s&&i>=n&&c>=u&&(t.ns.style.height="1px"))}}else Nn(this.U)},Qi.prototype.EC=function(t){this.U.isEnabled?(this.U.cz=!0,this.U.VC=t.target.scrollTop,this.U.UC=t.target.scrollLeft):Nn(this.U)},Qi.prototype.computeBounds=Qi.prototype.ah=function(){return 0<this.eg.count&&wn(this),an(this)},Qi.prototype.computePartsBounds=function(t){var e=null;for(t=t.i;t.next();){var i=t.value;i instanceof Ws||(i.sf(),null===e?e=i.Y.copy():e.fi(i.Y))}return null===e?new T(0/0,0/0,0,0):e},Qi.prototype.zoomToFit=Qi.prototype.zoomToFit=function(){this.scale=hn(this,Ac)},Qi.prototype.zoomToRect=function(t,e){void 0===e&&(e=Ac);var i=t.width,n=t.height;if(!(0===i||0===n||isNaN(i)&&isNaN(n))){var r=1;if(e===Ac||e===Ec)if(isNaN(i))r=this.tb.height*this.scale/n;else if(isNaN(n))r=this.tb.width*this.scale/i;else var r=this.Gb,o=this.Lb,r=e===Ec?o/n>r/i?(o-(this.sj?this.yd:0))/n:(r-(this.Hk?this.yd:0))/i:Math.min(o/n,r/i);this.scale=r,this.position=new b(t.x,t.y)}},Uh.defineProperty(Qi,{Wz:null},function(){return this.Pc},function(t){this.Pc=t}),Qi.prototype.alignDocument=function(t,e){this.tj&&or(this,this.ah());var i=this.Bd,n=this.tb;this.position=new b(i.x+(t.x*i.width+t.offsetX)-(e.x*n.width-e.offsetX),i.y+(t.y*i.height+t.offsetY)-(e.y*n.height-e.offsetY))},Qi.prototype.findPartAt=Qi.prototype.qt=function(t,e){var i=e?cn(this,t,function(t){return t.aa},function(t){return t.canSelect()}):cn(this,t,function(t){return t.aa});return i instanceof fs?i:null},Qi.prototype.findObjectAt=Qi.prototype.re=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),wn(this);for(var n=this.Yb.cn;n.next();){var r=n.value;if(r.visible&&(r=r.re(t,e,i),null!==r))return r}return null},Qi.prototype.findObjectsAt=Qi.prototype.pt=function(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),n instanceof u||n instanceof f||(n=new f(Er)),wn(this);for(var r=this.Yb.cn;r.next();){var o=r.value;o.visible&&o.pt(t,e,i,n)}return n},Qi.prototype.findObjectsIn=Qi.prototype.bk=function(t,e,i,n,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=!1),r instanceof u||r instanceof f||(r=new f(Er)),wn(this);for(var o=this.Yb.cn;o.next();){var s=o.value;s.visible&&s.bk(t,e,i,n,r)}return r},Qi.prototype.Mz=function(t,e,i,n,r,o){var s=new f(Er);wn(this);for(var a=this.Yb.cn;a.next();){var l=a.value;l.visible&&l.Mz(t,e,i,n,s,r,o)}return s},Qi.prototype.findObjectsNear=Qi.prototype.Um=function(t,e,i,n,r,o){void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof u||r instanceof f)&&(o=r),r=!0),o instanceof u||o instanceof f||(o=new f(Er)),wn(this);for(var s=this.Yb.cn;s.next();){var a=s.value;a.visible&&a.Um(t,e,i,n,r,o)}return o},Qi.prototype.acceptEvent=function(t){var e=this.Sc;return this.Sc=this.Ob,this.Ob=e,fn(this,this,t,e,t instanceof MouseEvent),e},Qi.prototype.lI=function(t){if(!this.U.isEnabled)return!1;var e=this.U.Ob;switch(fn(this.U,this.U,t,e,!1),e.key=String.fromCharCode(t.which),e.pl=!0,t.which){case 8:e.key="Backspace";break;case 33:e.key="PageUp";break;case 34:e.key="PageDown";break;case 35:e.key="End";break;case 36:e.key="Home";break;case 37:e.key="Left";break;case 38:e.key="Up";break;case 39:e.key="Right";break;case 40:e.key="Down";break;case 45:e.key="Insert";break;case 46:e.key="Del";break;case 48:e.key="0";break;case 187:case 61:case 107:e.key="Add";break;case 189:case 173:case 109:e.key="Subtract";break;case 27:e.key="Esc"}return this.U.doKeyDown(),187!==t.which&&189!==t.which&&48!==t.which&&107!==t.which&&109!==t.which&&61!==t.which&&173!==t.which||!0!==t.ctrlKey?gn(e,t):(t.cancelBubble=!0,t.preventDefault(),t.stopPropagation(),!1)},Qi.prototype.mI=function(t){if(!this.U.isEnabled)return!1;var e=this.U.Ob;switch(fn(this.U,this.U,t,e,!1),e.key=String.fromCharCode(t.which),e.up=!0,t.which){case 8:e.key="Backspace";break;case 33:e.key="PageUp";break;case 34:e.key="PageDown";break;case 35:e.key="End";break;case 36:e.key="Home";break;case 37:e.key="Left";break;case 38:e.key="Up";break;case 39:e.key="Right";break;case 40:e.key="Down";break;case 45:e.key="Insert";break;case 46:e.key="Del";break;case 93:t.preventDefault()}return this.U.doKeyUp(),gn(e,t)},Qi.prototype.Uq=function(t){var e=this.ub;if(null===e)return new b(0,0);var i=this.Gb,n=this.Lb,e=e.getBoundingClientRect(),i=t.clientX-i/e.width*e.left;return t=t.clientY-n/e.height*e.top,null!==this.me?(t=new b(i,t),w(t,this.me),t):new b(i,t)},Qi.prototype.invalidateDocumentBounds=Qi.prototype.pc=function(){this.tj||(this.tj=!0,this.ve(!0))},Qi.prototype.redraw=Qi.prototype.yA=function(){this.Pc||this.Kd||(this.qa(),Sn(this),Pn(this),this.pc(),this.Uf())},Qi.prototype.isUpdateRequested=function(){return this.Lf},Qi.prototype.delayInitialization=function(t){void 0===t&&(t=null);var e=this.Sa,i=e.isEnabled;e.di(),e.isEnabled=!1,bn(this),this.Og=!1,e.isEnabled=i,null!==t&&Uh.setTimeout(t,1)},Qi.prototype.requestUpdate=Qi.prototype.ve=function(t){if(void 0===t&&(t=!1),!0!==this.Lf&&!(this.Pc||!1===t&&this.Kd)){this.Lf=!0;var e=this;requestAnimationFrame(function(){e.Lf&&e.Uf()})}},Qi.prototype.maybeUpdate=Qi.prototype.Uf=function(){(!this.Tn||this.Lf)&&(this.Tn&&(this.Tn=!1),bn(this))},Uh.u(Qi,{bn:null},function(){return this.Og}),Qi.prototype.UA=function(t,e){for(t.reset();t.next();){var i=t.value;!i.Pd()||i instanceof Na||!i.isVisible()||(i.Cl()?(Lr(i,1/0,1/0),i.Dc()):e.add(i))}for(t.reset();t.next();)i=t.value,i instanceof Na&&i.isVisible()&&kn(this,i);for(t.reset();t.next();)i=t.value,i instanceof Ws&&i.isVisible()&&(i.Cl()?(Lr(i,1/0,1/0),i.Dc()):e.add(i));for(t.reset();t.next();)i=t.value,i instanceof _s&&i.isVisible()&&(i.Cl()?(Lr(i,1/0,1/0),i.Dc()):e.add(i))},Qi.prototype.zf=function(t,e,i,n){var r=this.Sa;if(this.Kk||r.vf)for(r=0;e>r;r++)t[r].zf(i,n)},Qi.prototype.$e=function(t,e){void 0===t&&(t=this.Ah),void 0===e&&(e=null),null===this.Nb&&Uh.k("No div specified");var i=this.ub;null===i&&Uh.k("No canvas specified");var n=this.Sa;if(!n.vc){Dn(this);var r=this.Yb.n,o=r.length,s=this;this.zf(r,o,s);var a=t!==this.Ah;if(a)rn(this,t),Pn(this);else if(!this.ke&&null===e&&!n.uj)return;var o=this.Ya,l=this.Vb,h=Math.round(o.x*l)/l,u=Math.round(o.y*l)/l,n=this.me;for(n.reset(),1!==l&&n.scale(l),0===o.x&&0===o.y||n.translate(-h,-u),l=this.Ie,Uh.an?(i.width=i.width,rn(this,t),t.scale(l,l)):(t.setTransform(l,0,0,l,0,0),t.clearRect(0,0,this.Gb,this.Lb)),t.setTransform(l,0,0,l,0,0),t.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),i=null!==e?function(i){var n=t,r=e;if(i.visible&&0!==i.Rc){var o=i.zb.n,a=o.length;if(0!==a){1!==i.Rc&&(n.globalAlpha=i.Rc),i=i.Qv,i.length=0;for(var l=s.scale,h=0;a>h;h++){var u=o[h];if(Ss(u)&&!r.contains(u)){if(u instanceof Ws){var c=u;if(c.kc&&i.push(c),!1===c.Mf)continue}c=u.Y,1<c.width*l||1<c.height*l?u.$e(n,s):ks(u,n)}}n.globalAlpha=1}}}:function(e){e.$e(t,s)},Cn(this,t),o=r.length,h=0;o>h;h++)t.setTransform(l,0,0,l,0,0),t.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),i(r[h]);this.Ik?this.Ik.Ql(this)&&this.iy():this.Uq=function(){return new b(0,0)},a?(rn(this),Pn(this)):this.ke=this.Kk=!1}},Qi.prototype.getRenderingHint=Qi.prototype.ek=function(t){return this.Ij[t]},Qi.prototype.setRenderingHint=Qi.prototype.mJ=function(t,e){this.Ij[t]=e,this.yA()},Qi.prototype.resetRenderingHints=Qi.prototype.hF=function(){this.Ij=new n,this.Ij.drawShadows=!0,this.Ij.textGreeking=!0,this.Ij.viewportOptimizations=Uh.FE?!1:!0,this.Ij.temporaryPixelRatio=!0,this.Ij.pictureRatioOptimization=!0},Qi.prototype.getInputOption=Qi.prototype.hp=function(t){return this.$n[t]},Qi.prototype.setInputOption=function(t,e){this.$n[t]=e},Qi.prototype.resetInputOptions=Qi.prototype.gF=function(){this.$n=new n,this.$n.extraTouchArea=10,this.$n.extraTouchThreshold=10,this.$n.hasGestureZoom=!0},Qi.prototype.setProperties=function(t){Uh.hu(this,t)},Qi.prototype.qa=function(t){if(void 0===t&&(t=null),null===t)this.ke=!0,this.ve();else{var e=this.tb;null!==t&&t.K()&&e.xg(t)&&(this.ke=!0,this.ve())}for(e=this.Rv.i;e.next();)e.value.qa(t)},Qi.prototype.zE=function(t,e){if(!0!==this.ke){this.ke=!0;var i=!0===this.ek("temporaryPixelRatio");if(!0===this.ek("viewportOptimizations")&&this.EA!==zc&&this.oF.Pw(0,0,0,0)&&e.width===t.width&&e.height===t.height){var n=this.scale,r=Uh.ag(),o=Math.max(t.x,e.x),s=Math.max(t.y,e.y),a=Math.min(t.x+t.width,e.x+e.width),l=Math.min(t.y+t.height,e.y+e.height);if(r.x=o,r.y=s,r.width=Math.max(0,a-o)*n,r.height=Math.max(0,l-s)*n,0<r.width&&0<r.height){if(!this.Kd&&(this.Lf=!1,null!==this.Nb)){this.Kd=!0,Mn(this),this.Bd.K()||or(this,this.ah());var h=this.ub;if(null!==h){var u=this.Ie,s=this.Gb*u,a=this.Lb*u,o=this.scale*u,n=Math.round(Math.round(e.x*o)-Math.round(t.x*o)),o=Math.round(Math.round(e.y*o)-Math.round(t.y*o)),l=this.yy,c=this.XB;l.width!==s&&(l.width=s),l.height!==a&&(l.height=a),c.clearRect(0,0,s,a);var l=190*this.Ie,f=70*this.Ie,d=Math.max(n,0),p=Math.max(o,0),g=Math.floor(s-d),v=Math.floor(a-p);c.xE=!1,c.drawImage(h.Od,d,p,g,v,0,0,g,v),this.Ik.Ql(this)&&c.clearRect(0,0,l,f);var h=Uh.mb(),c=Uh.mb(),v=Math.abs(n),g=Math.abs(o),m=0===d?0:s-v,d=Uh.Sb(m,0),v=Uh.Sb(v+m,a);c.push(new T(Math.min(d.x,v.x),Math.min(d.y,v.y),Math.abs(d.x-v.x),Math.abs(d.y-v.y)));var y=this.me;y.reset(),y.scale(u,u),1!==this.Vb&&y.scale(this.Vb),u=this.Ya,(0!==u.x||0!==u.y)&&isFinite(u.x)&&isFinite(u.y)&&y.translate(-u.x,-u.y),w(d,y),w(v,y),h.push(new T(Math.min(d.x,v.x),Math.min(d.y,v.y),Math.abs(d.x-v.x),Math.abs(d.y-v.y))),m=0===p?0:a-g,d.m(0,m),v.m(s,g+m),c.push(new T(Math.min(d.x,v.x),Math.min(d.y,v.y),Math.abs(d.x-v.x),Math.abs(d.y-v.y))),w(d,y),w(v,y),h.push(new T(Math.min(d.x,v.x),Math.min(d.y,v.y),Math.abs(d.x-v.x),Math.abs(d.y-v.y))),this.Ik.Ql(this)&&(s=n>0?0:-n,a=o>0?0:-o,d.m(s,a),v.m(l+s,f+a),c.push(new T(Math.min(d.x,v.x),Math.min(d.y,v.y),Math.abs(d.x-v.x),Math.abs(d.y-v.y))),w(d,y),w(v,y),h.push(new T(Math.min(d.x,v.x),Math.min(d.y,v.y),Math.abs(d.x-v.x),Math.abs(d.y-v.y)))),Uh.v(d),Uh.v(v),yn(this,!1),Tn(this,h,c,n,o),Uh.ta(h),Uh.ta(c),this.Kd=!1}}}else this.Uf();Uh.ic(r),i&&(this.Pj=1,this.Uf(),this.Pj=null,this.zA())}else i?(this.Pj=1,this.Uf(),this.Pj=null,this.zA()):this.Uf()}},Qi.prototype.add=Qi.prototype.add=function(t){Uh.A(t,fs,Qi,"add:part");var e=t.g;if(e!==this){null!==e&&Uh.k("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+e.toString()),this.bq&&(t.Nk="Tool");var i=t.Tf,e=this.mt(i);null===e&&(e=this.mt("")),null===e&&Uh.k('Cannot add a Part when unable find a Layer named "'+i+'" and there is no default Layer'),t.layer!==e&&(i=e.lp(99999999,t,t.g===this),i>=0&&this.Lc(Ku,"parts",e,null,t,null,i),e.Gc||this.pc(),t.H(qf),i=t.Jt,null!==i&&i(t,null,e))}},Qi.prototype.lp=function(t){if(t instanceof js){if(this.so.add(t),t instanceof Na){var e=t.Ua;null===e?this.$k.add(t):e.po.add(t),e=t.Qb,null!==e&&(e.g=this)}}else t instanceof Ws?this.lo.add(t):t instanceof _s||this.zb.add(t);var i=this;yo(t,function(t){Bn(i,t)}),t.Ib&&t.Q(),e=t.data,null!==e&&(t instanceof _s||(t instanceof Ws?this.Ck.add(e,t):this.pi.add(e,t)),yo(t,function(t){Rn(i,t)})),!0!==no(t)&&!0!==$s(t)||this.eg.add(t),ws(t,!0,this),Ns(t)?(t.Y.K()&&this.qa(ys(t,t.Y)),this.pc()):t.isVisible()&&t.Y.K()&&this.qa(ys(t,t.Y)),this.ve()},Qi.prototype.Pe=function(t){if(t.dt(),t instanceof js){if(this.so.remove(t),t instanceof Na){var e=t.Ua;null===e?this.$k.remove(t):e.po.remove(t),e=t.Qb,null!==e&&(e.g=null)}}else t instanceof Ws?this.lo.remove(t):t instanceof _s||this.zb.remove(t);var i=this;yo(t,function(t){Un(i,t)}),e=t.data,null!==e&&(t instanceof _s||(t instanceof Ws?this.Ck.remove(e):this.pi.remove(e)),yo(t,function(t){Hn(i,t)})),this.eg.remove(t),Ns(t)?(t.Y.K()&&this.qa(ys(t,t.Y)),this.pc()):t.isVisible()&&t.Y.K()&&this.qa(ys(t,t.Y)),this.ve()},Qi.prototype.remove=Qi.prototype.remove=function(t){Uh.A(t,fs,Qi,"remove:part"),t.kb=!1,t.fh=!1;var e=t.layer;if(null!==e&&e.g===this){t.H(Rf),t.Tm();var i=e.Pe(-1,t,!1);i>=0&&this.Lc(Yu,"parts",e,t,null,i,null),i=t.Jt,null!==i&&i(t,e,null)}},Qi.prototype.removeParts=Qi.prototype.BA=function(t,e){if(Uh.isArray(t))for(var i=Uh.Xa(t),n=0;i>n;n++){var r=Uh.Pa(t,n);e&&!r.canDelete()||this.remove(r)}else for(r=new f(fs),r.Tc(t),i=r.i;i.next();)r=i.value,e&&!r.canDelete()||this.remove(r)},Qi.prototype.copyParts=Qi.prototype.Yo=function(t,e,i){return this.pb.Yo(t,e,i)},Qi.prototype.moveParts=Qi.prototype.moveParts=function(t,e,i){Uh.A(e,b,Qi,"moveParts:offset");var n=this.eb;if(null!==n){n=n.Zd,null===n&&(n=new je,n.Mc(this));var r=new y(fs,Object);if(null!==t)t=t.i;else{for(t=this.ik;t.next();)Le(n,r,t.value,i);for(t=this.Bg;t.next();)Le(n,r,t.value,i);t=this.links}for(;t.next();)Le(n,r,t.value,i);n.moveParts(r,e,i)}},Qi.prototype.addLayer=Qi.prototype.Us=function(t){_n(this,t,null),t.Mc(this);var e=this.Yb,i=e.count-1;if(!t.Gc)for(;i>=0&&e.ha(i).Gc;)i--;e.Cd(i+1,t),null!==this.Vd&&this.Lc(Ku,"layers",this,null,t,null,i+1),this.qa(),this.pc()},Qi.prototype.addLayerBefore=Qi.prototype.IG=function(t,e){_n(this,t,e),t.Mc(this);var i=this.Yb,n=i.indexOf(t);n>=0&&(i.remove(t),null!==this.Vd&&this.Lc(Yu,"layers",this,t,null,n,null));for(var r=i.count,o=0;r>o;o++)if(i.ha(o)===e){i.Cd(o,t);break}null!==this.Vd&&this.Lc(Ku,"layers",this,null,t,null,o),this.qa(),0>n&&this.pc()},Qi.prototype.addLayerAfter=function(t,e){_n(this,t,e),t.Mc(this);var i=this.Yb,n=i.indexOf(t);n>=0&&(i.remove(t),null!==this.Vd&&this.Lc(Yu,"layers",this,t,null,n,null));for(var r=i.count,o=0;r>o;o++)if(i.ha(o)===e){i.Cd(o+1,t);break}null!==this.Vd&&this.Lc(Ku,"layers",this,null,t,null,o+1),this.qa(),0>n&&this.pc()},Qi.prototype.removeLayer=function(t){if(Uh.A(t,Ki,Qi,"removeLayer:layer"),t.g!==this&&Uh.k("Cannot remove a Layer from another Diagram: "+t+" of "+t.g),""!==t.name){var e=this.Yb,i=e.indexOf(t);if(e.remove(t)){for(e=t.zb.copy().i;e.next();){var n=e.value,r=n.Tf;n.Tf=r!==t.name?r:""}null!==this.Vd&&this.Lc(Yu,"layers",this,t,null,i,null),this.qa(),this.pc()}}},Qi.prototype.findLayer=Qi.prototype.mt=function(t){for(var e=this.kx;e.next();){var i=e.value;if(i.name===t)return i}return null},Qi.prototype.addModelChangedListener=Qi.prototype.KG=function(t){Uh.j(t,"function",Qi,"addModelChangedListener:listener"),null===this.Pg&&(this.Pg=new u("function")),this.Pg.add(t),this.Z.Fm(t)},Qi.prototype.removeModelChangedListener=function(t){Uh.j(t,"function",Qi,"removeModelChangedListener:listener"),null!==this.Pg&&(this.Pg.remove(t),0===this.Pg.count&&(this.Pg=null)),this.Z.Zt(t)},Qi.prototype.addChangedListener=Qi.prototype.Fm=function(t){Uh.j(t,"function",Qi,"addChangedListener:listener"),null===this.ji&&(this.ji=new u("function")),this.ji.add(t)},Qi.prototype.removeChangedListener=Qi.prototype.Zt=function(t){Uh.j(t,"function",Qi,"removeChangedListener:listener"),null!==this.ji&&(this.ji.remove(t),0===this.ji.count&&(this.ji=null))},Qi.prototype.Fw=function(t){if(this.wb||this.ma.uE(t),t.xc!==Gu&&(this.ci=!0),null!==this.ji){var e=this.ji,i=e.length;if(1===i)(e=e.ha(0))(t);else if(0!==i)for(var n=e.dc(),r=0;i>r;r++)(e=n[r])(t)}},Qi.prototype.raiseChangedEvent=Qi.prototype.Lc=function(t,e,i,n,r,o,s){void 0===o&&(o=null),void 0===s&&(s=null);var a=new ie;a.g=this,a.xc=t,a.propertyName=e,a.object=i,a.oldValue=n,a.Cg=o,a.newValue=r,a.Ag=s,this.Fw(a)},Qi.prototype.raiseChanged=Qi.prototype.h=function(t,e,i,n,r){this.Lc(Wu,t,this,e,i,n,r)},Uh.u(Qi,{Sa:"animationManager"},function(){return this.nB}),Uh.u(Qi,{ma:"undoManager"},function(){return this.Vd.ma}),Uh.defineProperty(Qi,{wb:"skipsUndoManager"},function(){return this.Ki},function(t){Uh.j(t,"boolean",Qi,"skipsUndoManager"),this.Ki=t,this.Vd.Ki=t}),Uh.defineProperty(Qi,{Iz:"delaysLayout"},function(){return this.uy},function(t){this.uy=t}),Qi.prototype.Km=function(t,e){if(null!==t&&t.g===this){var i=this.xe;try{this.xe=!0;var n,r=t.xc;if(r===Wu){var o=t.object,s=t.propertyName,a=t.ka(e);if(Uh.Ka(o,s,a),o instanceof Er){var l,h=o.aa;null!==h&&h.be()}this.ci=!0}else if(r===Ku){var u=t.object,c=t.Ag,o=t.newValue;if(u instanceof uo){if("number"==typeof c&&o instanceof Er){l=o;var f=u;e?f.Pe(c):f.Cd(c,l),h=u.aa,null!==h&&h.be()}else if("number"==typeof c&&o instanceof No){var d=o,f=u;e?d.de?f.fF(c):f.bF(c):(n=d.de?f.ed(d.index):f.dd(d.index),n.ht(d))}}else if(u instanceof Ki){var p=!0===t.Cg;if("number"==typeof c&&o instanceof fs){var h=o,g=u;e?(h.be(),g.Pe(p?c:-1,h,p)):g.lp(c,h,p)}}else if(u instanceof Qi){if("number"==typeof c&&o instanceof Ki){var v=o;e?this.Yb.Vc(c):(r=v,r.Mc(this),this.Yb.Cd(c,r))}}else Uh.k("unknown ChangedEvent.Insert object: "+t.toString());this.ci=!0}else r===Yu?(u=t.object,c=t.Cg,o=t.oldValue,u instanceof uo?"number"==typeof c&&o instanceof Er?(f=u,e?f.Cd(c,o):f.Pe(c)):"number"==typeof c&&o instanceof No&&(d=o,f=u,e?(n=d.de?f.ed(d.index):f.dd(d.index),n.ht(d)):d.de?f.fF(c):f.bF(c)):u instanceof Ki?(p=!0===t.Ag,"number"==typeof c&&o instanceof fs&&(h=o,g=u,e?g.lp(c,h,p):(h.be(),g.Pe(p?c:-1,h,p)))):u instanceof Qi?"number"==typeof c&&o instanceof Ki&&(v=o,e?(r=v,r.Mc(this),this.Yb.Cd(c,r)):this.Yb.Vc(c)):Uh.k("unknown ChangedEvent.Remove object: "+t.toString()),this.ci=!0):r!==Gu&&Uh.k("unknown ChangedEvent: "+t.toString())}finally{this.xe=i}}},Qi.prototype.startTransaction=Qi.prototype.Rb=function(t){return this.ma.Rb(t)},Qi.prototype.commitTransaction=Qi.prototype.Ad=function(t){return this.ma.Ad(t)},Qi.prototype.rollbackTransaction=Qi.prototype.Ip=function(){return this.ma.Ip()},Qi.prototype.updateAllTargetBindings=Qi.prototype.QF=function(t){void 0===t&&(t="");for(var e=this.ik;e.next();)e.value.Jb(t);for(e=this.Bg;e.next();)e.value.Jb(t);for(e=this.links;e.next();)e.value.Jb(t)},Qi.prototype.updateAllRelationshipsFromData=Qi.prototype.FJ=function(){if(0<arguments.length){for(var t=this.Z,e=new f,i=new f,n=t.Yf,r=0;r<n.length;r++){var o=n[r];i.add(o);var s=this.ug(o);null===s?(Kn(this,o,!1),e.add(this.ug(o))):e.add(s)}if(t instanceof xe){for(var s=new f,a=new f,e=t.yg,r=0;r<e.length;r++)o=e[r],a.add(o),t=this.tf(o),null===t?(Zn(this,o),s.add(this.tf(o))):s.add(t);var l=[];this.links.each(function(t){null===t.data||a.contains(t.data)||l.push(t.data)}),er(this,l)}var h=[];this.Bg.each(function(t){null===t.data||i.contains(t.data)||h.push(t.data)}),this.ik.each(function(t){null===t.data||i.contains(t.data)||h.push(t.data)}),er(this,h)}for(r=this.ik;r.next();)s=r.value,s.updateRelationshipsFromData();for(r=this.Bg;r.next();)r.value.updateRelationshipsFromData();for(r=this.links;r.next();)t=r.value,t.updateRelationshipsFromData()},Qi.prototype.Wt=function(t,e,i){if(!t.L(e)){void 0===i&&(i=!1),i||Sn(this),Pn(this);var n=this.Qb;null===n||!n.hx||this.gl!==Dc||i||t.width===e.width&&t.height===e.height||n.H(),n=this.Za,!0===this.cm&&n instanceof Ei&&(this.P.da=this.OF(this.P.mf),n.doMouseMove()),this.Pc||this.zE(t,e),On(this),this.Ba("ViewportBoundsChanged",i?Uh.wh:null,t)}},Qi.prototype.clearSelection=Qi.prototype.Gw=function(){var t=0<this.selection.count;t&&this.Ba("ChangingSelection"),In(this),t&&this.Ba("ChangedSelection")},Qi.prototype.select=Qi.prototype.select=function(t){null!==t&&(Uh.A(t,fs,Qi,"select:part"),t.layer.g===this&&(!t.kb||1<this.selection.count)&&(this.Ba("ChangingSelection"),In(this),t.kb=!0,this.Ba("ChangedSelection")))},Qi.prototype.selectCollection=Qi.prototype.sF=function(t){if(this.Ba("ChangingSelection"),In(this),Uh.isArray(t))for(var e=Uh.Xa(t),i=0;e>i;i++){var n=Uh.Pa(t,i);n instanceof fs||Uh.k("Diagram.selectCollection given something that is not a Part: "+n),n.kb=!0}else for(t=t.i;t.next();)n=t.value,n instanceof fs||Uh.k("Diagram.selectCollection given something that is not a Part: "+n),n.kb=!0;this.Ba("ChangedSelection")},Qi.prototype.clearHighlighteds=Qi.prototype.MD=function(){var t=this.Zm;if(0<t.count){for(var e=t.dc(),i=e.length,n=0;i>n;n++)e[n].fh=!1;t.Oa(),t.clear(),t.freeze()}},Qi.prototype.highlight=function(t){null!==t&&t.layer.g===this&&(Uh.A(t,fs,Qi,"highlight:part"),!t.fh||1<this.Zm.count)&&(this.MD(),t.fh=!0)},Qi.prototype.highlightCollection=function(t){if(this.MD(),Uh.isArray(t))for(var e=Uh.Xa(t),i=0;e>i;i++){var n=Uh.Pa(t,i);n instanceof fs||Uh.k("Diagram.highlightCollection given something that is not a Part: "+n),n.fh=!0}else for(t=t.i;t.next();)n=t.value,n instanceof fs||Uh.k("Diagram.highlightCollection given something that is not a Part: "+n),n.fh=!0},Qi.prototype.scroll=Qi.prototype.scroll=function(t,e,i){void 0===i&&(i=1);var n="up"===e||"down"===e,r=0;if("pixel"===t)r=i;else if("line"===t)r=i*(n?this.eu:this.du);else if("page"===t)t=n?this.tb.height:this.tb.width,t*=this.scale,0!==t&&(r=Math.max(t-(n?this.eu:this.du),0),r*=i);else{if("document"===t)return r=this.Bd,n=this.tb,i=Uh.M(),"up"===e?this.position=i.m(n.x,r.y):"left"===e?this.position=i.m(r.x,n.y):"down"===e?this.position=i.m(n.x,r.bottom-n.height):"right"===e&&(this.position=i.m(r.right-n.width,n.y)),void Uh.v(i);Uh.k("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t)}r/=this.scale,i=this.position.copy(),"up"===e?i.y=this.position.y-r:"down"===e?i.y=this.position.y+r:"left"===e?i.x=this.position.x-r:"right"===e?i.x=this.position.x+r:Uh.k("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+e),this.position=i},Qi.prototype.scrollToRect=Qi.prototype.gJ=function(t){var e=this.tb;e.Zj(t)||(t=t.hl,t.x-=e.width/2,t.y-=e.height/2,this.position=t)},Qi.prototype.centerRect=Qi.prototype.UG=function(t){var e=this.tb;t=t.hl,t.x-=e.width/2,t.y-=e.height/2,this.position=t},Qi.prototype.transformDocToView=Qi.prototype.MF=function(t){var e=this.me;e.reset(),1!==this.Vb&&e.scale(this.Vb);var i=this.Ya;return(0!==i.x||0!==i.y)&&isFinite(i.x)&&isFinite(i.y)&&e.translate(-i.x,-i.y),t.copy().transform(this.me)},Qi.prototype.transformViewToDoc=Qi.prototype.OF=function(t){var e=this.me;e.reset(),1!==this.Vb&&e.scale(this.Vb);var i=this.Ya;return(0!==i.x||0!==i.y)&&isFinite(i.x)&&isFinite(i.y)&&e.translate(-i.x,-i.y),w(t.copy(),this.me)};var Dc;Qi.None=Dc=Uh.p(Qi,"None",0);var Ac;Qi.Uniform=Ac=Uh.p(Qi,"Uniform",1);var Ec;Qi.UniformToFill=Ec=Uh.p(Qi,"UniformToFill",2);var Nc;Qi.CycleAll=Nc=Uh.p(Qi,"CycleAll",10);var _c;Qi.CycleNotDirected=_c=Uh.p(Qi,"CycleNotDirected",11);var jc;Qi.CycleNotDirectedFast=jc=Uh.p(Qi,"CycleNotDirectedFast",12);var Oc;Qi.CycleNotUndirected=Oc=Uh.p(Qi,"CycleNotUndirected",13);var Ic;Qi.CycleDestinationTree=Ic=Uh.p(Qi,"CycleDestinationTree",14);var Lc;Qi.CycleSourceTree=Lc=Uh.p(Qi,"CycleSourceTree",15);var Fc;Qi.DocumentScroll=Fc=Uh.p(Qi,"DocumentScroll",1);var zc;Qi.InfiniteScroll=zc=Uh.p(Qi,"InfiniteScroll",2);var qc;Qi.TreeParentCollapsed=qc=Uh.p(Qi,"TreeParentCollapsed",1),Qi.AllParentsCollapsed=Uh.p(Qi,"AllParentsCollapsed",2),Uh.defineProperty(Qi,{GJ:"validCycle"},function(){return this.rw},function(t){var e=this.rw;e!==t&&(Uh.rb(t,Qi,Qi,"validCycle"),this.rw=t,this.h("validCycle",e,t))}),Uh.u(Qi,{kx:"layers"},function(){return this.Yb.i}),Uh.defineProperty(Qi,{xf:"isModelReadOnly"},function(){var t=this.Vd;return null===t?!1:t.cb},function(t){var e=this.Vd;null!==e&&(e.cb=t)}),Uh.defineProperty(Qi,{cb:"isReadOnly"},function(){return this.xi},function(t){var e=this.xi;e!==t&&(Uh.j(t,"boolean",Qi,"isReadOnly"),this.xi=t,this.h("isReadOnly",e,t))}),Uh.defineProperty(Qi,{isEnabled:"isEnabled"},function(){return this.Ue},function(t){var e=this.Ue;e!==t&&(Uh.j(t,"boolean",Qi,"isEnabled"),this.Ue=t,this.h("isEnabled",e,t))}),Uh.defineProperty(Qi,{uz:"allowClipboard"},function(){return this.zu},function(t){var e=this.zu;e!==t&&(Uh.j(t,"boolean",Qi,"allowClipboard"),this.zu=t,this.h("allowClipboard",e,t))}),Uh.defineProperty(Qi,{Xj:"allowCopy"},function(){return this.nk},function(t){var e=this.nk;e!==t&&(Uh.j(t,"boolean",Qi,"allowCopy"),this.nk=t,this.h("allowCopy",e,t))}),Uh.defineProperty(Qi,{Gm:"allowDelete"},function(){return this.ok},function(t){var e=this.ok;e!==t&&(Uh.j(t,"boolean",Qi,"allowDelete"),this.ok=t,this.h("allowDelete",e,t))}),Uh.defineProperty(Qi,{Zs:"allowDragOut"},function(){return this.Au},function(t){var e=this.Au;e!==t&&(Uh.j(t,"boolean",Qi,"allowDragOut"),this.Au=t,this.h("allowDragOut",e,t))}),Uh.defineProperty(Qi,{CD:"allowDrop"},function(){return this.Bu},function(t){var e=this.Bu;e!==t&&(Uh.j(t,"boolean",Qi,"allowDrop"),this.Bu=t,this.h("allowDrop",e,t))}),Uh.defineProperty(Qi,{Aw:"allowTextEdit"},function(){return this.xk},function(t){var e=this.xk;e!==t&&(Uh.j(t,"boolean",Qi,"allowTextEdit"),this.xk=t,this.h("allowTextEdit",e,t))}),Uh.defineProperty(Qi,{xw:"allowGroup"},function(){return this.pk},function(t){var e=this.pk;e!==t&&(Uh.j(t,"boolean",Qi,"allowGroup"),this.pk=t,this.h("allowGroup",e,t))}),Uh.defineProperty(Qi,{Bw:"allowUngroup"},function(){return this.yk},function(t){var e=this.yk;e!==t&&(Uh.j(t,"boolean",Qi,"allowUngroup"),this.yk=t,this.h("allowUngroup",e,t))}),Uh.defineProperty(Qi,{Qo:"allowInsert"},function(){return this.Du},function(t){var e=this.Du;e!==t&&(Uh.j(t,"boolean",Qi,"allowInsert"),this.Du=t,this.h("allowInsert",e,t))}),Uh.defineProperty(Qi,{$s:"allowLink"},function(){return this.qk},function(t){var e=this.qk;e!==t&&(Uh.j(t,"boolean",Qi,"allowLink"),this.qk=t,this.h("allowLink",e,t))}),Uh.defineProperty(Qi,{Hm:"allowRelink"},function(){return this.sk},function(t){var e=this.sk;e!==t&&(Uh.j(t,"boolean",Qi,"allowRelink"),this.sk=t,this.h("allowRelink",e,t))}),Uh.defineProperty(Qi,{fl:"allowMove"},function(){return this.rk},function(t){var e=this.rk;e!==t&&(Uh.j(t,"boolean",Qi,"allowMove"),this.rk=t,this.h("allowMove",e,t))}),Uh.defineProperty(Qi,{yw:"allowReshape"},function(){return this.tk},function(t){var e=this.tk;e!==t&&(Uh.j(t,"boolean",Qi,"allowReshape"),this.tk=t,this.h("allowReshape",e,t))}),Uh.defineProperty(Qi,{at:"allowResize"},function(){return this.uk},function(t){var e=this.uk;e!==t&&(Uh.j(t,"boolean",Qi,"allowResize"),this.uk=t,this.h("allowResize",e,t))}),Uh.defineProperty(Qi,{zw:"allowRotate"},function(){return this.vk},function(t){var e=this.vk;e!==t&&(Uh.j(t,"boolean",Qi,"allowRotate"),this.vk=t,this.h("allowRotate",e,t))}),Uh.defineProperty(Qi,{qf:"allowSelect"},function(){return this.wk},function(t){var e=this.wk;e!==t&&(Uh.j(t,"boolean",Qi,"allowSelect"),this.wk=t,this.h("allowSelect",e,t))}),Uh.defineProperty(Qi,{DD:"allowUndo"},function(){return this.Eu},function(t){var e=this.Eu;e!==t&&(Uh.j(t,"boolean",Qi,"allowUndo"),this.Eu=t,this.h("allowUndo",e,t))}),Uh.defineProperty(Qi,{Cw:"allowZoom"},function(){return this.Gu},function(t){var e=this.Gu;e!==t&&(Uh.j(t,"boolean",Qi,"allowZoom"),this.Gu=t,this.h("allowZoom",e,t))}),Uh.defineProperty(Qi,{Tz:"hasVerticalScrollbar"},function(){return this.nv},function(t){var e=this.nv;e!==t&&(Uh.j(t,"boolean",Qi,"hasVerticalScrollbar"),this.nv=t,Sn(this),this.qa(),this.h("hasVerticalScrollbar",e,t),ln(this,!1))}),Uh.defineProperty(Qi,{Sz:"hasHorizontalScrollbar"},function(){return this.mv},function(t){var e=this.mv;e!==t&&(Uh.j(t,"boolean",Qi,"hasHorizontalScrollbar"),this.mv=t,Sn(this),this.qa(),this.h("hasHorizontalScrollbar",e,t),ln(this,!1))}),Uh.defineProperty(Qi,{ne:"allowHorizontalScroll"},function(){return this.Cu},function(t){var e=this.Cu;e!==t&&(Uh.j(t,"boolean",Qi,"allowHorizontalScroll"),this.Cu=t,this.h("allowHorizontalScroll",e,t),ln(this,!1))}),Uh.defineProperty(Qi,{oe:"allowVerticalScroll"},function(){return this.Fu},function(t){var e=this.Fu;e!==t&&(Uh.j(t,"boolean",Qi,"allowVerticalScroll"),this.Fu=t,this.h("allowVerticalScroll",e,t),ln(this,!1))}),Uh.defineProperty(Qi,{du:"scrollHorizontalLineChange"},function(){return this.aw},function(t){var e=this.aw;e!==t&&(Uh.j(t,"number",Qi,"scrollHorizontalLineChange"),0>t&&Uh.wa(t,">= 0",Qi,"scrollHorizontalLineChange"),this.aw=t,this.h("scrollHorizontalLineChange",e,t))}),Uh.defineProperty(Qi,{eu:"scrollVerticalLineChange"},function(){return this.ew},function(t){var e=this.ew;e!==t&&(Uh.j(t,"number",Qi,"scrollVerticalLineChange"),0>t&&Uh.wa(t,">= 0",Qi,"scrollVerticalLineChange"),this.ew=t,this.h("scrollVerticalLineChange",e,t))}),Uh.defineProperty(Qi,{P:"lastInput"},function(){return this.Ob},function(t){this.Ob=t}),Uh.defineProperty(Qi,{yc:"firstInput"},function(){return this.vi},function(t){this.vi=t}),Uh.defineProperty(Qi,{Zb:"currentCursor"},function(){return this.Uu},function(t){""===t&&(t=this.Fq),this.Uu!==t&&(Uh.j(t,"string",Qi,"currentCursor"),null!==this.ub&&(this.Uu=t,this.ub.style.cursor=t,this.Nb.style.cursor=t))}),Uh.defineProperty(Qi,{qK:"defaultCursor"},function(){return this.Fq},function(t){""===t&&(t="auto");var e=this.Fq;e!==t&&(Uh.j(t,"string",Qi,"defaultCursor"),this.Fq=t,this.h("defaultCursor",e,t))}),Uh.defineProperty(Qi,{click:"click"},function(){return this.ki},function(t){var e=this.ki;e!==t&&(null!==t&&Uh.j(t,"function",Qi,"click"),this.ki=t,this.h("click",e,t))}),Uh.defineProperty(Qi,{jt:"doubleClick"},function(){return this.ti},function(t){var e=this.ti;e!==t&&(null!==t&&Uh.j(t,"function",Qi,"doubleClick"),this.ti=t,this.h("doubleClick",e,t))}),Uh.defineProperty(Qi,{Bz:"contextClick"},function(){return this.ni},function(t){var e=this.ni;e!==t&&(null!==t&&Uh.j(t,"function",Qi,"contextClick"),this.ni=t,this.h("contextClick",e,t))}),Uh.defineProperty(Qi,{kA:"mouseOver"},function(){return this.Fi
},function(t){var e=this.Fi;e!==t&&(null!==t&&Uh.j(t,"function",Qi,"mouseOver"),this.Fi=t,this.h("mouseOver",e,t))}),Uh.defineProperty(Qi,{jA:"mouseHover"},function(){return this.Ei},function(t){var e=this.Ei;e!==t&&(null!==t&&Uh.j(t,"function",Qi,"mouseHover"),this.Ei=t,this.h("mouseHover",e,t))}),Uh.defineProperty(Qi,{iA:"mouseHold"},function(){return this.Di},function(t){var e=this.Di;e!==t&&(null!==t&&Uh.j(t,"function",Qi,"mouseHold"),this.Di=t,this.h("mouseHold",e,t))}),Uh.defineProperty(Qi,{HI:"mouseDragOver"},function(){return this.Kv},function(t){var e=this.Kv;e!==t&&(null!==t&&Uh.j(t,"function",Qi,"mouseDragOver"),this.Kv=t,this.h("mouseDragOver",e,t))}),Uh.defineProperty(Qi,{hA:"mouseDrop"},function(){return this.Ci},function(t){var e=this.Ci;e!==t&&(null!==t&&Uh.j(t,"function",Qi,"mouseDrop"),this.Ci=t,this.h("mouseDrop",e,t))}),Uh.defineProperty(Qi,{RA:"toolTip"},function(){return this.Ni},function(t){var e=this.Ni;e!==t&&(null!==t&&Uh.A(t,_s,Qi,"toolTip"),this.Ni=t,this.h("toolTip",e,t))}),Uh.defineProperty(Qi,{contextMenu:"contextMenu"},function(){return this.oi},function(t){var e=this.oi;e!==t&&(null!==t&&Uh.A(t,_s,Qi,"contextMenu"),this.oi=t,this.h("contextMenu",e,t))}),Uh.defineProperty(Qi,{pb:"commandHandler"},function(){return this.ly},function(t){var e=this.ly;e!==t&&(Uh.A(t,Pe,Qi,"commandHandler"),null!==t.g&&Uh.k("Cannot share CommandHandlers between Diagrams: "+t.toString()),null!==e&&e.Mc(null),this.ly=t,t.Mc(this))}),Uh.defineProperty(Qi,{eb:"toolManager"},function(){return this.lz},function(t){var e=this.lz;e!==t&&(Uh.A(t,Ei,Qi,"toolManager"),null!==t.g&&Uh.k("Cannot share ToolManagers between Diagrams: "+t.toString()),null!==e&&e.Mc(null),this.lz=t,t.Mc(this))}),Uh.defineProperty(Qi,{it:"defaultTool"},function(){return this.ty},function(t){var e=this.ty;e!==t&&(Uh.A(t,Ne,Qi,"defaultTool"),this.ty=t,this.Za===e&&(this.Za=t))}),Uh.defineProperty(Qi,{Za:"currentTool"},function(){return this.py},function(t){var e=this.py;null!==e&&(e.ra&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop()),null===t&&(t=this.it),null!==t&&(Uh.A(t,Ne,Qi,"currentTool"),this.py=t,t.Mc(this),t.doStart())}),Uh.u(Qi,{selection:"selection"},function(){return this.gw}),Uh.defineProperty(Qi,{zI:"maxSelectionCount"},function(){return this.Gv},function(t){var e=this.Gv;if(e!==t)if(Uh.j(t,"number",Qi,"maxSelectionCount"),t>=0&&!isNaN(t)){if(this.Gv=t,this.h("maxSelectionCount",e,t),!this.ma.lb&&(t=this.selection.count-t,t>0)){this.Ba("ChangingSelection");for(var e=this.selection.dc(),i=0;t>i;i++)e[i].kb=!1;this.Ba("ChangedSelection")}}else Uh.wa(t,">= 0",Qi,"maxSelectionCount")}),Uh.defineProperty(Qi,{KI:"nodeSelectionAdornmentTemplate"},function(){return this.Lv},function(t){var e=this.Lv;e!==t&&(Uh.A(t,_s,Qi,"nodeSelectionAdornmentTemplate"),this.Lv=t,this.h("nodeSelectionAdornmentTemplate",e,t))}),Uh.defineProperty(Qi,{PH:"groupSelectionAdornmentTemplate"},function(){return this.jv},function(t){var e=this.jv;e!==t&&(Uh.A(t,_s,Qi,"groupSelectionAdornmentTemplate"),this.jv=t,this.h("groupSelectionAdornmentTemplate",e,t))}),Uh.defineProperty(Qi,{tI:"linkSelectionAdornmentTemplate"},function(){return this.Cv},function(t){var e=this.Cv;e!==t&&(Uh.A(t,_s,Qi,"linkSelectionAdornmentTemplate"),this.Cv=t,this.h("linkSelectionAdornmentTemplate",e,t))}),Uh.u(Qi,{Zm:"highlighteds"},function(){return this.ov}),Uh.defineProperty(Qi,{ci:"isModified"},function(){var t=this.ma;return t.isEnabled?null!==t.Vi?!0:this.Py&&this.Mg!==t.Zi:this.Py},function(t){if(this.Py!==t){Uh.j(t,"boolean",Qi,"isModified"),this.Py=t;var e=this.ma;!t&&e.isEnabled&&(this.Mg=e.Zi),t||Ln(this)}}),Uh.defineProperty(Qi,{Z:"model"},function(){return this.Vd},function(t){var e=this.Vd;if(e!==t){Uh.A(t,ne,Qi,"model"),this.Za.doCancel(),null!==e&&e.ma!==t.ma&&e.ma.GE&&Uh.k("Do not replace a Diagram.model while a transaction is in progress."),this.Sa.di(),this.Gw(),this.Og=!1,this.Tn=!0,this.Mg=-2,this.Lf=!1;var i=this.Kd;this.Kd=!0,this.Sa.jn("Model"),null!==e&&(null!==this.Pg&&this.Pg.each(function(t){e.Zt(t)}),e.Zt(this.AC),e instanceof xe&&er(this,e.yg),er(this,e.Yf)),this.Vd=t,t.Fm(this.zC),Wn(this,t.Yf),t instanceof xe&&Qn(this,t.yg),t.Zt(this.zC),t.Fm(this.AC),null!==this.Pg&&this.Pg.each(function(e){t.Fm(e)}),this.Kd=i,this.Pc||this.qa(),null!==e&&(t.ma.isEnabled=e.ma.isEnabled)}}),Uh.defineProperty(Qi,{Ra:null},function(){return this.sC},function(t){this.sC=t}),Uh.u(Qi,{nx:null},function(){return this.kG}),Uh.defineProperty(Qi,{xe:"skipsModelSourceBindings"},function(){return this.XC},function(t){this.XC=t}),Uh.defineProperty(Qi,{mu:null},function(){return this.fz},function(t){this.fz=t}),Qi.prototype.clear=Qi.prototype.clear=function(){var t=null;null!==this.md&&(t=this.md.aa),this.Z.clear();for(var e=this.Yb.length,i=0;e>i;i++)this.Yb.n[i].clear();this.eg.clear(),this.Dk.clear(),this.so.clear(),this.$k.clear(),this.lo.clear(),this.zb.clear(),this.pi.clear(),this.Ck.clear(),this.fm.clear(),this.gw.Oa(),this.gw.clear(),this.gw.freeze(),this.ov.Oa(),this.ov.clear(),this.ov.freeze(),tc=this.En=null,ec="",this.av=new T(0/0,0/0,0/0,0/0).freeze(),null!==t&&(this.add(t),this.zb.remove(t)),this.qa()},Qi.prototype.reset=Qi.prototype.reset=function(){this.Pc=!0,this.clear(),this.Yb=new u(Ki),this.hF(),this.gF(),this.Ya=new b(0/0,0/0).freeze(),this.Vb=1,this.qv=new b(0/0,0/0).freeze(),this.rv=0/0,this.Hv=1e-4,this.Fv=100,this.uw=new b(0/0,0/0).freeze(),this.hv=new T(0/0,0/0,0/0,0/0).freeze(),this.bw=new D(0,0,0,0).freeze(),this.cw=Fc,this.Zv=this.Vv=null,this.Vl=Dc,this.Bn=tu,this.Jk=Dc,this.Xn=tu,this.sv=this.pv=eu,this.rB=250,this.Lu=new D(16,16,16,16).freeze(),this.xv=!0,this.pw=qc,this.rw=Nc,this.Fq="auto",this.oi=this.Ni=this.Ci=this.Kv=this.Di=this.Ei=this.Fi=this.ni=this.ti=this.ki=null,this.xi=!1,this.ok=this.nk=this.zu=this.Ue=!0,this.Bu=this.Au=!1,this.Fu=this.Cu=this.nv=this.mv=this.Gu=this.Eu=this.wk=this.vk=this.uk=this.tk=this.rk=this.sk=this.qk=this.Du=this.yk=this.pk=this.xk=!0,this.ew=this.aw=16,this.We=new D(5).freeze(),this.Gv=999999999,this.Ud=null,Zi(this),this.md=null,this.eb=new Ei,this.eb.initializeStandardTools(),this.Za=this.it=this.eb,this.pb=new Pe,this.Ki=!0,on(this),this.Qb=new Fa,this.Ki=!1,this.Z=new xe,this.Og=!1,this.Tn=!0,this.Pc=this.Lf=!1,this.qa(),this.Pg=this.ji=null,ur(this),this.Uu=""},Qi.prototype.rebuildParts=Qi.prototype.Hl=function(){for(var t=this.oA.i;t.next();){var e=t.value,i=t.key;(!e.Pd()||e instanceof Na)&&Uh.k('Invalid node template in Diagram.nodeTemplateMap: template for "'+i+'" must be a Node or a simple Part, not a Group or Link: '+e)}for(t=this.Rz.i;t.next();)e=t.value,i=t.key,e instanceof Na||Uh.k('Invalid group template in Diagram.groupTemplateMap: template for "'+i+'" must be a Group, not a normal Node or Link: '+e);for(t=this.aA.i;t.next();)e=t.value,i=t.key,e instanceof Ws||Uh.k('Invalid link template in Diagram.linkTemplateMap: template for "'+i+'" must be a Link, not a normal Node or simple Part: '+e);for(t=Uh.mb(),e=this.selection.i;e.next();)(i=e.value.data)&&t.push(i);for(var e=Uh.mb(),n=this.Zm.i;n.next();)(i=n.value.data)&&e.push(i);for(i=Uh.mb(),n=this.Bg.i;n.next();){var r=n.value;null!==r.data&&(i.push(r.data),i.push(r.location))}for(n=this.links.i;n.next();)r=n.value,null!==r.data&&(i.push(r.data),i.push(r.location));for(n=this.ik.i;n.next();)r=n.value,null!==r.data&&(i.push(r.data),i.push(r.location));for(n=this.Z,n instanceof xe&&er(this,n.yg),er(this,n.Yf),Wn(this,n.Yf),n instanceof xe&&Qn(this,n.yg),n=0;n<t.length;n++)r=this.ug(t[n]),null!==r&&(r.kb=!0);for(n=0;n<e.length;n++)r=this.ug(e[n]),null!==r&&(r.fh=!0);for(n=0;n<i.length;n+=2)r=this.ug(i[n]),null!==r&&(r.location=i[n+1]);Uh.ta(t),Uh.ta(e),Uh.ta(i)},Qi.prototype.Pz=function(t){return this.Z.Pz(t)};var Rc=!1,Hc=!1;Qi.prototype.Vw=function(t){var e=this.Z,i="";return e instanceof xe?i=e.Vw(t):e instanceof ke&&(i=e.KH(t)),i};var Bc=!1;Qi.prototype.findPartForKey=Qi.prototype.CH=function(t){return null===t||void 0===t?null:(t=this.Z.$d(t),null===t?null:this.pi.ka(t))},Qi.prototype.findNodeForKey=Qi.prototype.bf=function(t){return null===t||void 0===t?null:(t=this.Z.$d(t),null===t?null:(t=this.pi.ka(t),t instanceof js?t:null))},Qi.prototype.findPartForData=Qi.prototype.ug=function(t){if(null===t)return null;var e=this.pi.ka(t);return null!==e?e:e=this.Ck.ka(t)},Qi.prototype.findNodeForData=Qi.prototype.Tw=function(t){return null===t?null:(t=this.pi.ka(t),t instanceof js?t:null)},Qi.prototype.findLinkForData=Qi.prototype.tf=function(t){return null===t?null:this.Ck.ka(t)},Qi.prototype.findNodesByExample=function(){for(var t=new f,e=this.so.i;e.next();){var i=e.value,n=i.data;if(null!==n)for(var r=0;r<arguments.length;r++){var o=arguments[r];if(Uh.Va(o)&&nr(this,n,o)){t.add(i);break}}}return t.i},Qi.prototype.findLinksByExample=function(){for(var t=new f,e=this.lo.i;e.next();){var i=e.value,n=i.data;if(null!==n)for(var r=0;r<arguments.length;r++){var o=arguments[r];if(Uh.Va(o)&&nr(this,n,o)){t.add(i);break}}}return t.i},Uh.defineProperty(Qi,{dL:"nodeTemplate"},function(){return this.Gi.ka("")},function(t){var e=this.Gi.ka("");e!==t&&(Uh.A(t,fs,Qi,"nodeTemplate"),this.Gi.add("",t),this.h("nodeTemplate",e,t),this.ma.lb||this.Hl())}),Uh.defineProperty(Qi,{oA:"nodeTemplateMap"},function(){return this.Gi},function(t){var e=this.Gi;e!==t&&(Uh.A(t,y,Qi,"nodeTemplateMap"),this.Gi=t,this.h("nodeTemplateMap",e,t),this.ma.lb||this.Hl())}),Uh.defineProperty(Qi,{DK:"groupTemplate"},function(){return this.Fk.ka("")},function(t){var e=this.Fk.ka("");e!==t&&(Uh.A(t,Na,Qi,"groupTemplate"),this.Fk.add("",t),this.h("groupTemplate",e,t),this.ma.lb||this.Hl())}),Uh.defineProperty(Qi,{Rz:"groupTemplateMap"},function(){return this.Fk},function(t){var e=this.Fk;e!==t&&(Uh.A(t,y,Qi,"groupTemplateMap"),this.Fk=t,this.h("groupTemplateMap",e,t),this.ma.lb||this.Hl())}),Uh.defineProperty(Qi,{SK:"linkTemplate"},function(){return this.zj.ka("")},function(t){var e=this.zj.ka("");e!==t&&(Uh.A(t,Ws,Qi,"linkTemplate"),this.zj.add("",t),this.h("linkTemplate",e,t),this.ma.lb||this.Hl())}),Uh.defineProperty(Qi,{aA:"linkTemplateMap"},function(){return this.zj},function(t){var e=this.zj;e!==t&&(Uh.A(t,y,Qi,"linkTemplateMap"),this.zj=t,this.h("linkTemplateMap",e,t),this.ma.lb||this.Hl())}),Uh.defineProperty(Qi,{gI:null},function(){return this.cm},function(t){this.cm=t}),Uh.defineProperty(Qi,{Qe:"isMouseCaptured"},function(){return this.oC},function(e){var i=this.ub;null!==i&&(e?(this.P.bubbles=!1,i.removeEventListener("mousemove",this.xp,!1),i.removeEventListener("mousedown",this.wp,!1),i.removeEventListener("mouseup",this.zp,!1),i.removeEventListener("mousewheel",this.ih,!1),i.removeEventListener("DOMMouseScroll",this.ih,!1),i.removeEventListener("mouseout",this.yp,!1),t.addEventListener("mousemove",this.xp,!0),t.addEventListener("mousedown",this.wp,!0),t.addEventListener("mouseup",this.zp,!0),t.addEventListener("mousewheel",this.ih,!0),t.addEventListener("DOMMouseScroll",this.ih,!0),t.addEventListener("mouseout",this.yp,!0),t.addEventListener("selectstart",this.preventDefault,!1)):(t.removeEventListener("mousemove",this.xp,!0),t.removeEventListener("mousedown",this.wp,!0),t.removeEventListener("mouseup",this.zp,!0),t.removeEventListener("mousewheel",this.ih,!0),t.removeEventListener("DOMMouseScroll",this.ih,!0),t.removeEventListener("mouseout",this.yp,!0),t.removeEventListener("selectstart",this.preventDefault,!1),i.addEventListener("mousemove",this.xp,!1),i.addEventListener("mousedown",this.wp,!1),i.addEventListener("mouseup",this.zp,!1),i.addEventListener("mousewheel",this.ih,!1),i.addEventListener("DOMMouseScroll",this.ih,!1),i.addEventListener("mouseout",this.yp,!1)),this.oC=e)}),Uh.defineProperty(Qi,{position:"position"},function(){return this.Ya},function(t){var e=this.Ya;if(!e.L(t)){Uh.A(t,b,Qi,"position");var i=this.tb.copy();if(t=t.copy(),!this.Pc&&null!==this.ub){this.Pc=!0;var n=this.scale;un(this,t,this.Bd,this.Gb/n,this.Lb/n,this.Bn,!1),this.Pc=!1}this.Ya=t.S(),t=this.Sa,t.vc&&Ui(t,e,this.Ya),this.Pc||this.Wt(i,this.tb)}}),Uh.defineProperty(Qi,{WH:"initialPosition"},function(){return this.qv},function(t){this.qv.L(t)||(Uh.A(t,b,Qi,"initialPosition"),this.qv=t.S())}),Uh.defineProperty(Qi,{XH:"initialScale"},function(){return this.rv},function(t){this.rv!==t&&(Uh.j(t,"number",Qi,"initialScale"),this.rv=t)}),Uh.defineProperty(Qi,{xt:"grid"},function(){return null===this.md&&sn(this),this.md},function(t){var e=this.md;if(e!==t){null===e&&(sn(this),e=this.md),Uh.A(t,uo,Qi,"grid"),t.type!==mf&&Uh.k("Diagram.grid must be a Panel of type Panel.Grid");var i=e.T;null!==i&&i.remove(e),this.md=t,t.name="GRID",null!==i&&i.add(t),On(this),this.qa(),this.h("grid",e,t)}}),Uh.u(Qi,{tb:"viewportBounds"},function(){var t=this.tD;if(null===this.ub)return t;var e=this.Ya,i=this.Vb;return t.m(e.x,e.y,Math.max(this.Gb,0)/i,Math.max(this.Lb,0)/i),t}),Uh.defineProperty(Qi,{mE:"fixedBounds"},function(){return this.hv},function(t){var e=this.hv;e.L(t)||(Uh.A(t,T,Qi,"fixedBounds"),-1/0!==t.width&&1/0!==t.height&&-1/0!==t.height||Uh.k("fixedBounds width/height must not be Infinity"),this.hv=t=t.S(),this.pc(),this.h("fixedBounds",e,t))}),Uh.defineProperty(Qi,{oF:"scrollMargin"},function(){return this.bw},function(t){"number"==typeof t?t=new D(t):Uh.A(t,D,Qi,"scrollMargin");var e=this.bw;e.L(t)||(this.bw=t=t.S(),this.pc(),this.h("scrollMargin",e,t))}),Uh.defineProperty(Qi,{EA:"scrollMode"},function(){return this.cw},function(t){var e=this.cw;e!==t&&(Uh.rb(t,Qi,Qi,"scrollMode"),this.cw=t,t===Fc&&ln(this,!1),this.h("scrollMode",e,t))}),Uh.defineProperty(Qi,{$E:"positionComputation"},function(){return this.Vv},function(t){var e=this.Vv;e!==t&&(null!==t&&Uh.j(t,"function",Qi,"positionComputation"),this.Vv=t,ln(this,!1),this.h("positionComputation",e,t))}),Uh.defineProperty(Qi,{nF:"scaleComputation"},function(){return this.Zv},function(t){var e=this.Zv;e!==t&&(null!==t&&Uh.j(t,"function",Qi,"scaleComputation"),this.Zv=t,jn(this,this.scale,this.scale),this.h("scaleComputation",e,t))}),Uh.u(Qi,{Bd:"documentBounds"},function(){return this.av}),Uh.defineProperty(Qi,{scale:"scale"},function(){return this.Vb},function(t){var e=this.Vb;Uh.Ye(t,Qi,"scale"),e!==t&&jn(this,e,t)}),Uh.defineProperty(Qi,{gl:"autoScale"},function(){return this.Vl},function(t){var e=this.Vl;e!==t&&(Uh.rb(t,Qi,Qi,"autoScale"),this.Vl=t,this.h("autoScale",e,t),t!==Dc&&ln(this,!1))}),Uh.defineProperty(Qi,{FK:"initialAutoScale"},function(){return this.Jk},function(t){var e=this.Jk;e!==t&&(Uh.rb(t,Qi,Qi,"initialAutoScale"),this.Jk=t,this.h("initialAutoScale",e,t))}),Uh.defineProperty(Qi,{YH:"initialViewportSpot"},function(){return this.sv},function(t){var e=this.sv;e!==t&&(Uh.A(t,E,Qi,"initialViewportSpot"),t.fd()||Uh.k("initialViewportSpot must be a specific Spot: "+t),this.sv=t,this.h("initialViewportSpot",e,t))}),Uh.defineProperty(Qi,{VH:"initialDocumentSpot"},function(){return this.pv},function(t){var e=this.pv;e!==t&&(Uh.A(t,E,Qi,"initialDocumentSpot"),t.fd()||Uh.k("initialViewportSpot must be a specific Spot: "+t),this.pv=t,this.h("initialDocumentSpot",e,t))}),Uh.defineProperty(Qi,{hh:"minScale"},function(){return this.Hv},function(t){Uh.Ye(t,Qi,"minScale");var e=this.Hv;e!==t&&(t>0?(this.Hv=t,this.h("minScale",e,t),t>this.scale&&(this.scale=t)):Uh.wa(t,"> 0",Qi,"minScale"))}),Uh.defineProperty(Qi,{gh:"maxScale"},function(){return this.Fv},function(t){Uh.Ye(t,Qi,"maxScale");var e=this.Fv;e!==t&&(t>0?(this.Fv=t,this.h("maxScale",e,t),t<this.scale&&(this.scale=t)):Uh.wa(t,"> 0",Qi,"maxScale"))}),Uh.defineProperty(Qi,{Rl:"zoomPoint"},function(){return this.uw},function(t){this.uw.L(t)||(Uh.A(t,b,Qi,"zoomPoint"),this.uw=t=t.S())}),Uh.defineProperty(Qi,{UD:"contentAlignment"},function(){return this.Bn},function(t){var e=this.Bn;e.L(t)||(Uh.A(t,E,Qi,"contentAlignment"),this.Bn=t=t.S(),this.h("contentAlignment",e,t),ln(this,!1))}),Uh.defineProperty(Qi,{GK:"initialContentAlignment"},function(){return this.Xn},function(t){var e=this.Xn;e.L(t)||(Uh.A(t,E,Qi,"initialContentAlignment"),this.Xn=t=t.S(),this.h("initialContentAlignment",e,t))}),Uh.defineProperty(Qi,{padding:"padding"},function(){return this.We},function(t){"number"==typeof t?t=new D(t):Uh.A(t,D,Qi,"padding");var e=this.We;e.L(t)||(this.We=t=t.S(),this.pc(),this.h("padding",e,t))}),Uh.u(Qi,{Bg:"nodes"},function(){return this.so.i}),Uh.u(Qi,{links:"links"},function(){return this.lo.i}),Uh.u(Qi,{ik:"parts"},function(){return this.zb.i}),Qi.prototype.findTopLevelNodesAndLinks=function(){for(var t=new f(fs),e=this.so.i;e.next();){var i=e.value;i.np&&t.add(i)}for(e=this.lo.i;e.next();)i=e.value,i.np&&t.add(i);return t.i},Qi.prototype.findTopLevelGroups=function(){return this.$k.i},Uh.defineProperty(Qi,{Qb:"layout"},function(){return this.Ud},function(t){var e=this.Ud;e!==t&&(Uh.A(t,Fa,Qi,"layout"),null!==e&&(e.g=null,e.group=null),this.Ud=t,t.g=this,t.group=null,this.Iu=!0,this.h("layout",e,t),this.ve())}),Qi.prototype.layoutDiagram=function(t){wn(this),t&&sr(this,!0),lr(this,!1)},Uh.defineProperty(Qi,{Qd:"isTreePathToChildren"},function(){return this.xv},function(t){var e=this.xv;if(e!==t&&(Uh.j(t,"boolean",Qi,"isTreePathToChildren"),this.xv=t,this.h("isTreePathToChildren",e,t),!this.ma.lb))for(t=this.Bg;t.next();)qs(t.value)}),Qi.prototype.findTreeRoots=function(){for(var t=new u(js),e=this.Bg;e.next();){var i=e.value;i.np&&null===i.rt()&&t.add(i)}return t.i},Uh.defineProperty(Qi,{SA:"treeCollapsePolicy"},function(){return this.pw},function(t){var e=this.pw;e!==t&&(Uh.rb(t,Qi,Qi,"treeCollapsePolicy"),this.pw=t,this.h("treeCollapsePolicy",e,t))}),Uh.defineProperty(Qi,{eh:null},function(){return this.gC},function(t){this.gC=t}),Qi.prototype.addDiagramListener=Qi.prototype.rz=function(t,e){Uh.j(t,"string",Qi,"addDiagramListener:name"),Uh.j(e,"function",Qi,"addDiagramListener:listener");var i=fr(this,t);null!==i&&i.add(e)},Qi.prototype.removeDiagramListener=Qi.prototype.cF=function(t,e){Uh.j(t,"string",Qi,"removeDiagramListener:name"),Uh.j(e,"function",Qi,"addDiagramListener:listener");var i=fr(this,t);null!==i&&i.remove(e)},Qi.prototype.raiseDiagramEvent=Qi.prototype.Ba=function(t,e,i){var n=fr(this,t),r=new ee;if(r.g=this,r.name=cr(this,t),void 0!==e&&(r.NA=e),void 0!==i&&(r.rA=i),t=n.length,1===t)(n=n.ha(0))(r);else if(0!==t)for(e=n.dc(),i=0;t>i;i++)(n=e[i])(r);return r.cancel},Qi.prototype.isUnoccupied=Qi.prototype.pp=function(t,e){return void 0===e&&(e=null),pr(this,!1,null,e).pp(t.x,t.y,t.width,t.height)},Qi.prototype.simulatedMouseMove=Qi.prototype.Lx=function(t,e,i){if(null!==nc){var n=nc.g;i instanceof Qi||(i=null);var r=rc;return i!==r&&(null!==r&&r!==n&&null!==r.eb.Zd&&(br(r),nc.ax=!1,r.eb.Zd.doSimulatedDragLeave()),rc=i,null!==i&&i!==n&&null!==i.eb.Zd&&(ze(),r=i.eb.Zd,ic.contains(r)||ic.add(r),i.eb.Zd.doSimulatedDragEnter())),null!==i&&i!==n&&i.CD&&!i.cb&&i.Qo?(n=i.eb.Zd,null!==n&&(null!==t?e=i.Uq(t):null===e&&(e=new b),i.Ob.da=e,i.Ob.pl=!1,i.Ob.up=!1,n.doSimulatedDragOver()),!0):!1}return!1},Qi.prototype.simulatedMouseUp=Qi.prototype.yF=function(t,e,i,n){if(null!==nc){null===n&&(n=e),e=rc;var r=nc.g;if(n!==e){if(null!==e&&e!==r&&null!==e.eb.Zd)return br(e),nc.ax=!1,e.eb.Zd.doSimulatedDragLeave(),!1;rc=n,null!==n&&null!==n.eb.Zd&&(ze(),e=n.eb.Zd,ic.contains(e)||ic.add(e),n.eb.Zd.doSimulatedDragEnter())}if(null===n)return nc.doCancel(),!0;if(n!==this)return null!==t&&(i=n.Uq(t)),n.Ob.da=i,n.Ob.pl=!1,n.Ob.up=!0,t=n.eb.Zd,null!==t&&t.doSimulatedDrop(),t=nc,null!==t&&(n=t.mayCopy(),t.Cf=n?"Copy":"Move",t.stopTool()),!0}return!1},Uh.defineProperty(Qi,{JD:"autoScrollRegion"},function(){return this.Lu},function(t){"number"==typeof t?t=new D(t):Uh.A(t,D,Qi,"autoScrollRegion");var e=this.Lu;e.L(t)||(this.Lu=t=t.S(),this.pc(),this.h("autoScrollRegion",e,t))}),Qi.prototype.makeSVG=Qi.prototype.makeSvg=function(t){return void 0===t&&(t=new n),t.context="svg",t=wr(this,t),null!==t?t.Ml:null},Qi.prototype.makeImage=function(t){void 0===t&&(t=new n);var e=(t.document||document).createElement("img");return e.src=this.uI(t),e},Qi.prototype.makeImageData=Qi.prototype.uI=function(t){void 0===t&&(t=new n);var e=wr(this,t);return null!==e?e.toDataURL(t.type,t.details):""};var Vc=!1;Qi.inherit=function(t,e){Uh.j(t,"function",Qi,"inherit"),Uh.j(e,"function",Qi,"inherit"),e.wG&&Uh.k("Cannot inherit from "+Uh.df(e)),Uh.Ja(t,e)},kr.prototype.Ql=function(e){if(e.Ah.setTransform(e.Ie,0,0,e.Ie,0,0),null===this.Eh)t:{var i="f",n=t[Uh.sg("76a715b2f73f148a")][Uh.sg("72ba13b5")];if(e=Uh.sg,e("77bb5bb2f32603de")===t[e("76a715b2f73f148a")][e("6aba19a7ec351488")])try{if(this.Eh=!t[e("4da118b7ec2108")]([e("5bb806bfea351a904a84515e1b6d38b6")])([e("49bc19a1e6")])([e("59bd04a1e6380fa5539b")])([e("7bb8069ae7")]===e(Uh.adym)),!1===this.Eh)break t;if(this.Eh=!t[e("4da118b7ec2108")]([e("5bb806bfea351a904a84515e1b6d38b6")])([e("49bc19a1e6")])([e("59bd04a1e6380fa5539b6c7a197c31bb4cfd3e")])([e("7bb8069ae7")]===e(Uh.adym)),!1===this.Eh)break t}catch(r){}for(var o=n[e("76ad18b4f73e")],s=n[e("73a612b6fb191d")](e("35e7"))+2;o>s;s++)i+=n[s];n=i[e("73a612b6fb191d")](e(Uh.adym)),0>n&&e(Uh.adym)!==e("7da71ca0ad381e90")&&(n=i[e("73a612b6fb191d")](e("76a715b2ef3e149757"))),(this.Eh=!(n>=0&&n<i[e("73a612b6fb191d")](e("35"))))&&(i=t.document[e("79ba13b2f7333e8846865a7d00")]("div"),n=e("02cncncn"),"."===n[0]&&(n=n[e("69bd14a0f724128a44")](1)),i[e("79a417a0f0181a8946")]=n,t.document[e("78a712aa")]?(t.document[e("78a712aa")][e("7bb806b6ed32388c4a875b")](i),n=t[e("7dad0290ec3b0b91578e5b40007031bf")](i)[e("7dad0283f1390b81519f4645156528bf")](e("78a704b7e62456904c9b12701b6532a8")),t.document[e("78a712aa")][e("68ad1bbcf533388c4a875b")](i),n&&-1!==n.indexOf(e(Uh.YG))&&-1!==n.indexOf(e(Uh.ZG))&&(this.Eh=!1)):(this.Eh=null,this.Eh=!1))}return 0<this.Eh&&this!==this.xG?!0:!1},kr.prototype.t=function(){this.xG=null},Uh.Ja($r,Qi),Uh.ea("Palette",$r),Uh.Ja(Cr,Qi),Uh.ea("Overview",Cr),Cr.prototype.computePixelRatio=function(){return 1},Cr.prototype.$e=function(){if(null===this.Nb&&Uh.k("No div specified"),null===this.ub&&Uh.k("No canvas specified"),this.ke){var t=this.Hj;if(null!==t&&!t.Sa.vf){Dn(this);var e=t.xt;(null!==e&&e.visible&&isNaN(e.width)||isNaN(e.height))&&On(t);var i=this.ub,e=this.Ah,n=this.iz,r=this.yG;n.width=i.width,n.height=i.height,e.wu="",e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this.ub.width,this.ub.height),n=this.me,n.reset(),1!==this.scale&&n.scale(this.scale),0===this.position.x&&0===this.position.y||n.translate(-this.position.x,-this.position.y),e.setTransform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy);for(var n=this.dv,o=this.tb,s=t.Yb.n,a=s.length,t=0;a>t;t++){var l=s[t],h=e,u=o,c=n;if(l.visible&&0!==l.Rc&&(void 0===c&&(c=!0),c||!l.Gc)){1!==l.Rc&&(h.globalAlpha=l.Rc);for(var c=this.scale,l=l.zb.n,f=l.length,d=0;f>d;d++){var p=l[d],g=p.Y;g.xg(u)&&(1<g.width*c||1<g.height*c?p.$e(h,this):ks(p,h))}h.globalAlpha=1}}for(r.drawImage(i.Od,0,0),i=this.Yb.n,r=i.length,t=0;r>t;t++)i[t].$e(e,this);this.ke=this.Kk=!1}}},Uh.defineProperty(Cr,{qA:"observed"},function(){return this.Hj},function(t){var e=this.Hj;null!==t&&Uh.A(t,Qi,Cr,"observed"),t instanceof Cr&&Uh.k("Overview.observed Diagram may not be an Overview itself: "+t),e!==t&&(null!==e&&(this.remove(this.$g),e.cF("ViewportBoundsChanged",this.YE),e.cF("DocumentBoundsChanged",this.XE),e.Rv.remove(this)),this.Hj=t,null!==t&&(t.rz("ViewportBoundsChanged",this.YE),t.rz("DocumentBoundsChanged",this.XE),t.Rv.add(this),this.add(this.$g),Sr(this)),this.pc(),this.h("observed",e,t))}),Uh.defineProperty(Cr,{$g:"box"},function(){return this.Wl},function(t){var e=this.Wl;e!==t&&(this.Wl=t,this.remove(e),this.add(this.Wl),Sr(this),this.h("box",e,t))}),Uh.defineProperty(Cr,{AK:"drawsTemporaryLayers"},function(){return this.dv},function(t){this.dv!==t&&(this.dv=t,this.yA())}),Cr.prototype.ah=function(){var t=this.Hj;return null===t?_u.Yx:t.Bd},Cr.prototype.zE=function(){!0!==this.ke&&(this.ke=!0,Mr(this))},Cr.prototype.Wt=function(t){this.Pc||(Pn(this),this.qa(),Sn(this),this.pc(),Sr(this),this.Ba("ViewportBoundsChanged",null,t))},Uh.Ja(Pr,je),Pr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||!t.fl||!t.qf)return!1;var e=t.qA;if(null===e)return!1;if(null===this.findDraggablePart()){var i=e.tb;this.Vk=new b(i.width/2,i.height/2),t=t.yc.da,e.position=new b(t.x-this.Vk.x,t.y-this.Vk.y)}return!0},Pr.prototype.doActivate=function(){this.Vk=null,je.prototype.doActivate.call(this)},Pr.prototype.moveParts=function(){var t=this.g,e=t.qA;if(null!==e){var i=t.$g;if(null!==i){if(null===this.Vk){var n=t.yc.da,i=i.location;this.Vk=new b(n.x-i.x,n.y-i.y)}t=t.P.da,e.position=new b(t.x-this.Vk.x,t.y-this.Vk.y)}}},Uh.Ja(Dr,gi),Dr.prototype.resize=function(t){var e=this.g.qA;if(null!==e){var i=e.tb.copy();e.position=t.position,(i.width!==t.width||i.height!==t.height)&&0<t.width&&0<t.height&&(e.scale=Math.min(i.width/t.width,i.height/t.height))}},Uh.ea("Brush",Ar);var Uc;Ar.Solid=Uc=Uh.p(Ar,"Solid",0);var Gc;Ar.Linear=Gc=Uh.p(Ar,"Linear",1);var Wc;Ar.Radial=Wc=Uh.p(Ar,"Radial",2);var Kc;Ar.Pattern=Kc=Uh.p(Ar,"Pattern",4),Ar.prototype.copy=function(){var t=new Ar;return t.ja=this.ja,t.An=this.An,t.Co=this.Co.S(),t.Rn=this.Rn.S(),t.jw=this.jw,t.ev=this.ev,null!==this.Jg&&(t.Jg=this.Jg.copy()),t.Tv=this.Tv,t},Ar.prototype.Fa=function(){return this.freeze(),Object.freeze(this),this},Ar.prototype.freeze=function(){return this.D=!0,null!==this.Jg&&this.Jg.freeze(),this},Ar.prototype.Oa=function(){return Object.isFrozen(this)&&Uh.k("cannot thaw constant: "+this),this.D=!1,null!==this.Jg&&this.Jg.Oa(),this},Ar.prototype.toString=function(){var t="Brush(";if(this.type===Uc)t+=this.color;else if(t=this.type===Gc?t+"Linear ":this.type===Wc?t+"Radial ":this.type===Kc?t+"Pattern ":t+"(unknown) ",t+=this.start+" "+this.end,null!==this.gt)for(var e=this.gt.i;e.next();)t+=" "+e.key+":"+e.value;return t+")"},Ar.prototype.addColorStop=Ar.prototype.addColorStop=function(t,e){this.D&&Uh.la(this),("number"!=typeof t||!isFinite(t)||t>1||0>t)&&Uh.wa(t,"0 <= loc <= 1",Ar,"addColorStop:loc"),Uh.j(e,"string",Ar,"addColorStop:color"),null===this.Jg&&(this.Jg=new y("number","string")),this.Jg.add(t,e),this.ja===Uc&&(this.type=Gc),this.Kg=null},Uh.defineProperty(Ar,{type:"type"},function(){return this.ja},function(t){this.D&&Uh.la(this,t),Uh.rb(t,Ar,Ar,"type"),this.ja=t,this.start.te()&&(t===Gc?this.start=iu:t===Wc&&(this.start=ou)),this.end.te()&&(t===Gc?this.end=lu:t===Wc&&(this.end=ou)),this.Kg=null}),Uh.defineProperty(Ar,{color:"color"},function(){return this.An},function(t){this.D&&Uh.la(this,t),this.An=t,this.Kg=null}),Uh.defineProperty(Ar,{start:"start"},function(){return this.Co},function(t){this.D&&Uh.la(this,t),Uh.A(t,E,Ar,"start"),this.Co=t.S(),this.Kg=null}),Uh.defineProperty(Ar,{end:"end"},function(){return this.Rn},function(t){this.D&&Uh.la(this,t),Uh.A(t,E,Ar,"end"),this.Rn=t.S(),this.Kg=null}),Uh.defineProperty(Ar,{nu:"startRadius"},function(){return this.jw},function(t){this.D&&Uh.la(this,t),Uh.Ye(t,Ar,"startRadius"),0>t&&Uh.wa(t,">= zero",Ar,"startRadius"),this.jw=t,this.Kg=null}),Uh.defineProperty(Ar,{kt:"endRadius"},function(){return this.ev},function(t){this.D&&Uh.la(this,t),Uh.Ye(t,Ar,"endRadius"),0>t&&Uh.wa(t,">= zero",Ar,"endRadius"),this.ev=t,this.Kg=null}),Uh.defineProperty(Ar,{gt:"colorStops"},function(){return this.Jg},function(t){this.D&&Uh.la(this,t),this.Jg=t,this.Kg=null}),Uh.defineProperty(Ar,{pattern:"pattern"},function(){return this.Tv},function(t){this.D&&Uh.la(this,t),this.Tv=t,this.Kg=null}),Ar.randomColor=function(t,e){void 0===t&&(t=128),void 0===e&&(e=Math.max(t,255));var i=Math.abs(e-t),n=Math.floor(t+Math.random()*i).toString(16),r=Math.floor(t+Math.random()*i).toString(16),i=Math.floor(t+Math.random()*i).toString(16);return 2>n.length&&(n="0"+n),2>r.length&&(r="0"+r),2>i.length&&(i="0"+i),"#"+n+r+i};var Yc,Jc=Uh.createElement("canvas").getContext("2d");Ar.isValidColor=Yc=function(t){if("black"===t)return!0;if(""===t)return!1;Jc.fillStyle="#000000";var e=Jc.fillStyle;return Jc.fillStyle=t,Jc.fillStyle!==e?!0:(Jc.fillStyle="#FFFFFF",e=Jc.fillStyle,Jc.fillStyle=t,Jc.fillStyle!==e)},Uh.Zh(Er),Uh.ea("GraphObject",Er),Er.prototype.cloneProtected=function(t){t.fa=6144|this.fa,t.Rc=this.Rc,t.Pb=this.Pb,t.Kb=this.Kb,t.nc=this.nc,t.Ya.assign(this.Ya),t.of=this.of.S(),t.Ej=this.Ej.S(),t.Cj=this.Cj.S(),t.Rk=this.Rk.copy(),t.Vb=this.Vb,t.Tl=this.Tl,t.Vh=this.Vh,t.vr=this.vr.S(),t.Zc.assign(this.Zc),t.mc.assign(this.mc),t.Qc.assign(this.Qc),t.Xr=this.Xr,null!==this.ga&&(t.ga=this.ga.copy()),t.Qq=this.Qq,t.Is=this.Is,t.Rq=this.Rq,t.Js=this.Js,t.De=this.De.S(),t.eq=this.eq.S(),t.ks=this.ks,t.Ji=this.Ji,t.nq=this.nq,t.mi=this.mi,t.Cs=this.Cs,t.ps=this.ps,t.os=this.os,t.qs=this.qs.S(),t.rs=this.rs,t.yq=this.yq,null!==this.ia&&(t.ia=this.ia.copy()),t.sc=this.sc,t.yn=this.yn,null!==this.Bk&&(t.Bk=Uh.il(this.Bk)),null!==this.li&&(t.li=this.li.copy()),t.xs=this.xs},Er.prototype.addCopyProperty=Er.prototype.HG=function(t){var e=this.Bk;if(Uh.isArray(e)){for(var i=0;i<e.length;i++)if(e[i]===t)return}else this.Bk=e=[];e.push(t)},Er.prototype.$h=function(t){t.tm=null,t.sm=null,t.Q()},Er.prototype.clone=function(){var t=new this.constructor;if(this.cloneProtected(t),null!==this.Bk)for(var e=0;e<this.Bk.length;e++){var i=this.Bk[e];t[i]=this[i]}return t},Er.prototype.copy=function(){return this.clone()},Er.prototype.toString=function(){return Uh.df(Object.getPrototypeOf(this))+"#"+Uh.pd(this)};var Xc;Er.None=Xc=Uh.p(Er,"None",0);var Qc;Er.Default=Qc=Uh.p(Er,"Default",0);var Zc;Er.Vertical=Zc=Uh.p(Er,"Vertical",4);var tf;Er.Horizontal=tf=Uh.p(Er,"Horizontal",5);var ef;Er.Fill=ef=Uh.p(Er,"Fill",3);var nf;Er.Uniform=nf=Uh.p(Er,"Uniform",1);var rf;Er.UniformToFill=rf=Uh.p(Er,"UniformToFill",2),Er.prototype.Oe=function(){if(null===this.ga){var t=new Ea;t.rj=Zh,t.Tj=Zh,t.pj=10,t.Rj=10,t.oj=Wf,t.Qj=Wf,t.qj=0,t.Sj=0,this.ga=t}},Er.prototype.raiseChangedEvent=Er.prototype.Lc=function(t,e,i,n,r,o,s){var a=this.aa;null!==a&&(a.kn(t,e,i,n,r,o,s),0!==(1024&this.fa)&&i===this&&t===Wu&&jr(this,a,e))},Er.prototype.Rw=function(t){return this.yn===t?this:null},Er.prototype.raiseChanged=Er.prototype.h=function(t,e,i){this.Lc(Wu,t,this,e,i)},Er.prototype.kE=function(t,e,i){if(!1===this.Dg)return!1;var n=this.Ia;e=t.$j(e);var r=!1;return i&&(r=Kh(t.x,t.y,0,0,0,n.height)<e||Kh(t.x,t.y,0,n.height,n.width,n.height)<e||Kh(t.x,t.y,n.width,n.height,n.width,0)<e||Kh(t.x,t.y,n.width,0,0,0)<e),i||(r=Kh(t.x,t.y,0,0,0,n.height)<e&&Kh(t.x,t.y,0,n.height,n.width,n.height)<e&&Kh(t.x,t.y,n.width,n.height,n.width,0)<e&&Kh(t.x,t.y,n.width,0,0,0)<e),r},Er.prototype.Hg=function(){return!0},Er.prototype.containsPoint=Er.prototype.Ga=function(t){var e=Uh.M();e.assign(t),this.transform.xb(e);var i=this.Y;if(!i.K())return!1;var n=this.g;if(null!==n&&n.wv){var r=n.hp("extraTouchThreshold"),o=n.hp("extraTouchArea"),s=o/2,a=this.Ia,n=this.Yi()*n.scale,l=1/n;if(a.width*n<r&&a.height*n<r)return t=Xh(i.x-s*l,i.y-s*l,i.width+o*l,i.height+o*l,e.x,e.y),Uh.v(e),t}return(this instanceof _s||this instanceof jo?Xh(i.x-5,i.y-5,i.width+10,i.height+10,e.x,e.y):i.Ga(e))?this.li&&!this.li.Ga(e)?!1:null!==this.nc&&i.Ga(e)||null!==this.Kb&&this.Qc.Ga(t)?!0:(Uh.v(e),this.Yj(t)):(Uh.v(e),!1)},Er.prototype.Yj=function(t){var e=this.Ia;return Xh(0,0,e.width,e.height,t.x,t.y)},Er.prototype.containsRect=Er.prototype.Zj=function(t){if(0===this.angle)return this.Y.Zj(t);var e=this.Ia,e=Uh.lk(0,0,e.width,e.height),i=this.transform,n=!1,r=Uh.Sb(t.x,t.y);return e.Ga(i.ai(r))&&(r.m(t.x,t.bottom),e.Ga(i.ai(r))&&(r.m(t.right,t.bottom),e.Ga(i.ai(r))&&(r.m(t.right,t.y),e.Ga(i.ai(r))&&(n=!0)))),Uh.v(r),Uh.ic(e),n},Er.prototype.containedInRect=Er.prototype.Nm=function(t,e){if(void 0===e)return t.Zj(this.Y);var i=this.Ia,n=!1,r=Uh.Sb(0,0);return t.Ga(e.xb(r))&&(r.m(0,i.height),t.Ga(e.xb(r))&&(r.m(i.width,i.height),t.Ga(e.xb(r))&&(r.m(i.width,0),t.Ga(e.xb(r))&&(n=!0)))),n},Er.prototype.intersectsRect=Er.prototype.xg=function(t,e){if(void 0===e&&(e=this.transform,0===this.angle))return t.xg(this.Y);var i=this.Ia,n=e,r=Uh.Sb(0,0),o=Uh.Sb(0,i.height),s=Uh.Sb(i.width,i.height),a=Uh.Sb(i.width,0),l=!1;if(t.Ga(n.xb(r))||t.Ga(n.xb(o))||t.Ga(n.xb(s))||t.Ga(n.xb(a)))l=!0;
else{var i=Uh.lk(0,0,i.width,i.height),h=Uh.Sb(t.x,t.y);i.Ga(n.ai(h))?l=!0:(h.m(t.x,t.bottom),i.Ga(n.ai(h))?l=!0:(h.m(t.right,t.bottom),i.Ga(n.ai(h))?l=!0:(h.m(t.right,t.y),i.Ga(n.ai(h))&&(l=!0)))),Uh.v(h),Uh.ic(i),!l&&(_u.Yw(t,r,o)||_u.Yw(t,o,s)||_u.Yw(t,s,a)||_u.Yw(t,a,r))&&(l=!0)}return Uh.v(r),Uh.v(o),Uh.v(s),Uh.v(a),l},Er.prototype.getDocumentPoint=Er.prototype.$a=function(t,e){void 0===e&&(e=new b),t.te()&&Uh.k("getDocumentPoint:s Spot must be specific: "+t.toString());var i=this.Ia;return e.m(t.x*i.width+t.offsetX,t.y*i.height+t.offsetY),this.Zg.xb(e),e},Er.prototype.getDocumentAngle=Er.prototype.tl=function(){var t;return t=this.Zg,1===t.m11&&0===t.m12?t=0:(t=180*Math.atan2(t.m12,t.m11)/Math.PI,0>t&&(t+=360)),t},Er.prototype.getDocumentScale=Er.prototype.Yi=function(){if(0!==(4096&this.fa)==!1)return this.bv;var t=this.Vb;return null!==this.T?t*this.T.Yi():t},Er.prototype.getLocalPoint=Er.prototype.qE=function(t,e){return void 0===e&&(e=new b),e.assign(t),this.Zg.ai(e),e},Er.prototype.getNearestIntersectionPoint=Er.prototype.wl=function(t,e,i){return this.ip(t.x,t.y,e.x,e.y,i)},Bh=Er.prototype,Bh.ip=function(t,e,i,n,r){var o=this.transform,s=1/(o.m11*o.m22-o.m12*o.m21),a=o.m22*s,l=-o.m12*s,h=-o.m21*s,u=o.m11*s,c=s*(o.m21*o.dy-o.m22*o.dx),f=s*(o.m12*o.dx-o.m11*o.dy);return null!==this.Im?(o=this.Y,_u.wl(o.left,o.top,o.right,o.bottom,t,e,i,n,r)):(s=t*a+e*h+c,t=t*l+e*u+f,e=i*a+n*h+c,i=i*l+n*u+f,r.m(0,0),n=this.Ia,i=_u.wl(0,0,n.width,n.height,s,t,e,i,r),r.transform(o),i)},Bh.Dc=function(t,e,i,n,r){this.wi();var o=Uh.ag();if(o.assign(this.mc),this.mc.Oa(),!1===no(this)){var s=this.mc;s.x=t,s.y=e,s.width=i,s.height=n}else this.Ri(t,e,i,n);this.mc.freeze(),this.li=void 0===r?null:r,i=!1,void 0!==r?i=!0:null!==this.T&&(r=this.T.Qc,n=this.Ca,null!==this.Im&&(n=this.mc),i=e+n.height,n=t+n.width,i=!(t+.05>=0&&n<=r.width+.05&&e+.05>=0&&i<=r.height+.05),this instanceof Bo&&(t=this.Qc,this.Ev>t.height||this.Ok.Ve>t.width))&&(i=!0),this.fa=i?256|this.fa:-257&this.fa,this.mc.K()||Uh.k("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.mc.toString()),this.qx(o,this.mc),Uh.ic(o)},Bh.Ri=function(){},Bh.qx=function(t,e){ro(this,!1);var i=this.aa;if(null!==i&&null!==i.g){var n=this.aa;null!==n&&(n.gu!==this&&n.jF!==this&&n.mF!==this||Ms(n,!0)),this.qa(),t.L(e)||(i.yl(),this.Mv(i))}},Bh.Mv=function(t){null!==this.Sd&&Ms(t,!0)},Uh.defineProperty(Er,{Pp:"shadowVisible"},function(){return this.xs},function(t){var e=this.xs;e!==t&&(this.xs=t,this.h("shadowVisible",e,t))}),Er.prototype.$e=function(t,e){if(this.visible){var i=this.mc;if(0!==i.width&&0!==i.height&&!isNaN(i.x)&&!isNaN(i.y)){var n=this.opacity,r=1;if(1!==n){if(0===n)return;r=t.globalAlpha,t.globalAlpha=r*n}if(t instanceof O){t:if(this.visible){var o=null,s=t.ix;if(this instanceof uo&&(this.type===pf||this.type===gf))Rr(this,t,e);else{var a=this.mc;if(0!==a.width&&0!==a.height&&!isNaN(a.x)&&!isNaN(a.y)){var l=this.transform,h=this.T;0!==(4096&this.fa)==!0&&Ur(this);var i=0!==(256&this.fa),u=!1;if(this instanceof Bo&&Vo(this,t),i){if(u=h.Hg()?h.Ia:h.Y,null!==this.li)var c=this.li,f=c.x,d=c.y,p=c.width,c=c.height;else f=Math.max(a.x,u.x),d=Math.max(a.y,u.y),p=Math.min(a.right,u.right)-f,c=Math.min(a.bottom,u.bottom)-d;if(f>a.width+a.x||a.x>u.width+u.x||d>a.height+a.y||a.y>u.height+u.y)break t;u=!0,H(t,1,0,0,1,0,0),t.save(),t.beginPath(),t.rect(f,d,p,c),t.clip()}if(f=!1,this instanceof fs){var g=this,f=!0;if(!g.isVisible())break t}if(t.Wi.hf=[1,0,0,1,0,0],d=!1,f&&this.Dl&&e.ek("drawShadows")&&(p=this.Am,e.dz=p.x*e.scale*e.Ie,e.ez=p.y*e.scale*e.Ie,e.Sh=g.Sh,e.Wg=g.Wg,qr(e,t),t.shadowColor=e.Wg),g=!1,this.aa&&e.ek("drawShadows")&&(g=this.aa.Dl),!0===this.Pp?(qr(e,t),!1===d&&g&&(H(t,1,0,0,1,0,0),t.ab(),d=!0)):!1===this.Pp&&zr(t),null!==this.nc&&(Vr(this,t,this.nc,!0,!0),!1===d&&g&&(H(t,1,0,0,1,0,0),t.ab(),d=!0),this.nc instanceof Ar&&this.nc.type===Wc?(t.beginPath(),t.rect(a.x,a.y,a.width,a.height),Hr(t,this.nc)):t.fillRect(a.x,a.y,a.width,a.height)),this instanceof uo?H(t,l.m11,l.m12,l.m21,l.m22,l.dx,l.dy):t.Wi.hf=[l.m11,l.m12,l.m21,l.m22,l.dx,l.dy],null!==this.Kb){!1===d&&g&&(H(t,1,0,0,1,0,0),t.ab(),d=!0);var c=this.Ia,l=a=0,p=c.width,c=c.height,v=0;this instanceof jo&&(c=this.Ta.ob,a=c.x,l=c.y,p=c.width,c=c.height,v=this.Xg),Vr(this,t,this.Kb,!0,!1),this.Kb instanceof Ar&&this.Kb.type===Wc?(t.beginPath(),t.rect(a-v/2,l-v/2,p+v,c+v),Hr(t,this.Kb)):t.fillRect(a-v/2,l-v/2,p+v,c+v)}g&&(null!==this.Kb||null!==this.nc||null!==h&&0!==(512&h.fa)||null!==h&&(h.type===ff||h.type===cf)&&h.af()!==this)?(Xr(this,!0),null===this.Pp&&zr(t)):Xr(this,!1),this.ak(t,e),g&&0!==(512&this.fa)==!0&&qr(e,t),f&&g&&zr(t),i&&(t.restore(),u&&t.uf.pop(),rn(e,t)),this instanceof uo&&(o=t.uf.pop()),!0===d&&t.uf.pop(),null!==t.fE&&(null===o&&(s===t.ix?(H(t,1,0,0,1,0,0),o=t.uf.pop()):o=t.ix),t.fE(this,o))}}}}else{if(this instanceof uo&&(this.type===pf||this.type===gf))return Rr(this,t,e),void(1!==n&&(t.globalAlpha=r));if(this instanceof Ws&&this.dn(!1),o=this.transform,s=this.T,0!==(4096&this.fa)==!0&&Ur(this),h=0!==(256&this.fa),this instanceof Bo&&Vo(this,t),h){if(u=s.Hg()?s.Ia:s.Y,null!==this.li?(g=this.li,a=g.x,l=g.y,f=g.width,g=g.height):(a=Math.max(i.x,u.x),l=Math.max(i.y,u.y),f=Math.min(i.right,u.right)-a,g=Math.min(i.bottom,u.bottom)-l),a>i.width+i.x||i.x>u.width+u.x||l>i.height+i.y||i.y>u.height+u.y)return void(1!==n&&(t.globalAlpha=r));t.save(),t.beginPath(),t.rect(a,l,f,g),t.clip()}if(u=!1,this instanceof fs){if(u=!0,!this.isVisible())return void(1!==n&&(t.globalAlpha=r));this.Dl&&e.ek("drawShadows")&&(a=this.Am,e.dz=a.x*e.scale*e.Ie,e.ez=a.y*e.scale*e.Ie,e.Sh=this.Sh,e.Wg=this.Wg,qr(e,t),t.shadowColor=e.Wg)}a=!1,this.aa&&e.ek("drawShadows")&&(a=this.aa.Dl),!0===this.Pp?qr(e,t):!1===this.Pp&&zr(t),null!==this.nc&&(Vr(this,t,this.nc,!0,!0),this.nc instanceof Ar&&this.nc.type===Wc?(t.beginPath(),t.rect(i.x,i.y,i.width,i.height),Hr(t,this.nc)):t.fillRect(i.x,i.y,i.width,i.height)),o.Ft()||t.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),null!==this.Kb&&(g=this.Ia,l=i=0,f=g.width,g=g.height,d=0,this instanceof jo&&(g=this.Ta.ob,i=g.x,l=g.y,f=g.width,g=g.height,d=this.Xg),Vr(this,t,this.Kb,!0,!1),this.Kb instanceof Ar&&this.Kb.type===Wc?(t.beginPath(),t.rect(i-d/2,l-d/2,f+d,g+d),Hr(t,this.Kb)):t.fillRect(i-d/2,l-d/2,f+d,g+d)),a&&(null!==this.Kb||null!==this.nc||null!==s&&0!==(512&s.fa)||null!==s&&(s.type===ff||s.type===cf)&&s.af()!==this)?(Xr(this,!0),null===this.Pp&&zr(t)):Xr(this,!1),this.ak(t,e),a&&0!==(512&this.fa)==!0&&qr(e,t),u&&a&&zr(t),h?(t.restore(),this instanceof uo?rn(e,t,!0):rn(e,t,!1)):o.Ft()||(s=1/(o.m11*o.m22-o.m12*o.m21),t.transform(o.m22*s,-o.m12*s,-o.m21*s,o.m11*s,s*(o.m21*o.dy-o.m22*o.dx),s*(o.m12*o.dx-o.m11*o.dy)))}1!==n&&(t.globalAlpha=r)}}},Er.prototype.ak=function(){},Er.prototype.isContainedBy=Er.prototype.Bl=function(t){if(t instanceof uo)t:{if(this!==t&&null!==t)for(var e=this.T;null!==e;){if(e===t){t=!0;break t}e=e.T}t=!1}else t=!1;return t},Er.prototype.isVisibleObject=Er.prototype.El=function(){if(!this.visible)return!1;var t=this.T;return null!==t?t.El():!0},Bh=Er.prototype,Bh.Q=function(t){if(void 0===t&&(t=!1),!0!==eo(this)){io(this,!0),ro(this,!0);var e=this.T;if(null!==e?t||e.Q():(t=this.g,null!==t&&(t.eg.add(this),this instanceof js&&(t.ma.lb||this.ff(),null!==this.fe&&Wr(this.fe)),t.ve(!0))),this instanceof uo){(this.ja===ff||this.ja===vf)&&(t=this.af(),null!==t&&t.Q(!0)),t=this.Aa.n;for(var e=t.length,i=0;e>i;i++){var n=t[i];!0!==eo(n)&&(n.ya.K()||(n instanceof La||n instanceof uo||n instanceof Bo||Kr(n,!1)!==Xc)&&n.Q(!0))}}}},Bh.mp=function(){!1===eo(this)&&(io(this,!0),ro(this,!0))},Bh.wi=function(){0!==(2048&this.fa)==!1&&(Zr(this,!0),to(this,!0))},Bh.Uz=function(){to(this,!0)},Bh.qa=function(){var t=this.aa;null!==t&&t.qa()},Uh.defineProperty(Er,{fu:"segmentOrientation"},function(){return this.rs},function(t){var e=this.rs;e!==t&&(this.rs=t,this.Q(),this.h("segmentOrientation",e,t),t===Qf&&(this.angle=0))}),Uh.defineProperty(Er,{we:"segmentIndex"},function(){return this.ps},function(t){t=Math.round(t);var e=this.ps;e!==t&&(this.ps=t,this.Q(),this.h("segmentIndex",e,t))}),Uh.defineProperty(Er,{Ex:"segmentFraction"},function(){return this.os},function(t){isNaN(t)?t=0:0>t?t=0:t>1&&(t=1);var e=this.os;e!==t&&(this.os=t,this.Q(),this.h("segmentFraction",e,t))}),Uh.defineProperty(Er,{rF:"segmentOffset"},function(){return this.qs},function(t){var e=this.qs;e.L(t)||(this.qs=t=t.S(),this.Q(),this.h("segmentOffset",e,t))}),Uh.defineProperty(Er,{stretch:"stretch"},function(){return this.Vh},function(t){var e=this.Vh;e!==t&&(this.Vh=t,this.Q(),this.h("stretch",e,t))}),Uh.defineProperty(Er,{name:"name"},function(){return this.Pb},function(t){var e=this.Pb;e!==t&&(this.Pb=t,null!==this.aa&&(this.aa.om=null),this.h("name",e,t))}),Uh.defineProperty(Er,{opacity:"opacity"},function(){return this.Rc},function(t){var e=this.Rc;e!==t&&(Uh.j(t,"number",Er,"opacity"),(0>t||t>1)&&Uh.wa(t,"0 <= value <= 1",Er,"opacity"),this.Rc=t,this.h("opacity",e,t),t=this.g,e=this.aa,null!==t&&null!==e&&t.qa(ys(e,e.Y)))}),Uh.defineProperty(Er,{visible:"visible"},function(){return 0!==(1&this.fa)},function(t){var e=0!==(1&this.fa);e!==t&&(this.fa^=1,this.h("visible",e,t),e=this.T,null!==e?e.Q():this instanceof fs&&this.rd(t),this.qa(),ao(this))}),Uh.defineProperty(Er,{Dg:"pickable"},function(){return 0!==(2&this.fa)},function(t){var e=0!==(2&this.fa);e!==t&&(this.fa^=2,this.h("pickable",e,t))}),Uh.defineProperty(Er,{EH:"fromLinkableDuplicates"},function(){return 0!==(4&this.fa)},function(t){var e=0!==(4&this.fa);e!==t&&(this.fa^=4,this.h("fromLinkableDuplicates",e,t))}),Uh.defineProperty(Er,{FH:"fromLinkableSelfNode"},function(){return 0!==(8&this.fa)},function(t){var e=0!==(8&this.fa);e!==t&&(this.fa^=8,this.h("fromLinkableSelfNode",e,t))}),Uh.defineProperty(Er,{yJ:"toLinkableDuplicates"},function(){return 0!==(16&this.fa)},function(t){var e=0!==(16&this.fa);e!==t&&(this.fa^=16,this.h("toLinkableDuplicates",e,t))}),Uh.defineProperty(Er,{zJ:"toLinkableSelfNode"},function(){return 0!==(32&this.fa)},function(t){var e=0!==(32&this.fa);e!==t&&(this.fa^=32,this.h("toLinkableSelfNode",e,t))}),Uh.defineProperty(Er,{Rf:"isPanelMain"},function(){return 0!==(64&this.fa)},function(t){var e=0!==(64&this.fa);e!==t&&(this.fa^=64,this.Q(),this.h("isPanelMain",e,t))}),Uh.defineProperty(Er,{Zw:"isActionable"},function(){return 0!==(128&this.fa)},function(t){var e=0!==(128&this.fa);e!==t&&(this.fa^=128,this.h("isActionable",e,t))}),Uh.defineProperty(Er,{Im:"areaBackground"},function(){return this.nc},function(t){var e=this.nc;e!==t&&(t instanceof Ar&&t.freeze(),this.nc=t,this.qa(),this.h("areaBackground",e,t))}),Uh.defineProperty(Er,{background:"background"},function(){return this.Kb},function(t){var e=this.Kb;e!==t&&(t instanceof Ar&&t.freeze(),this.Kb=t,this.qa(),this.h("background",e,t))}),Uh.u(Er,{aa:"part"},function(){if(this instanceof fs)return this;if(null!==this.sm)return this.sm;var t;for(t=this.T;t;){if(t instanceof fs)return this.sm=t;t=t.T}return null}),Uh.u(Er,{T:"panel"},function(){return this.Ug}),Er.prototype.Kl=function(t){this.Ug=t},Uh.u(Er,{layer:"layer"},function(){var t=this.aa;return null!==t?t.layer:null},{configurable:!0}),Uh.u(Er,{g:"diagram"},function(){var t=this.aa;return null!==t?t.g:null},{configurable:!0}),Uh.defineProperty(Er,{position:"position"},function(){return this.Ya},function(t){var e=this.Ya;e.L(t)||(t=t.S(),this.JA(t,e)&&this.h("position",e,t))}),Er.prototype.JA=function(t){return this.Ya=t,Wr(this),this.wi(),!0},Er.prototype.Jx=function(t,e){this.Ya.m(t,e),gs(this,!0),this.wi()},Uh.u(Er,{Y:"actualBounds"},function(){return this.mc}),Uh.defineProperty(Er,{scale:"scale"},function(){return this.Vb},function(t){var e=this.Vb;e!==t&&(0>=t&&Uh.k("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.Vb=t,this.wi(),this.Q(),this.h("scale",e,t))}),Uh.defineProperty(Er,{angle:"angle"},function(){return this.Tl},function(t){var e=this.Tl;e!==t&&(t%=360,0>t&&(t+=360),e!==t&&(this.Tl=t,this.Q(),this.wi(),this.h("angle",e,t)))}),Uh.defineProperty(Er,{ya:"desiredSize"},function(){return this.of},function(t){var e=this.of;e.L(t)||(this.of=t=t.S(),this.Q(),this instanceof jo&&this.se(),this.h("desiredSize",e,t),t=this.aa,null!==t&&0!==(1024&this.fa)&&(jr(this,t,"width"),jr(this,t,"height")))}),Uh.defineProperty(Er,{width:"width"},function(){return this.of.width},function(t){if(this.of.width!==t){var e=this.of;this.of=t=new k(t,this.of.height).freeze(),this.Q(),this instanceof jo&&this.se(),this.h("desiredSize",e,t),e=this.aa,null!==e&&0!==(1024&this.fa)&&jr(this,e,"width")}}),Uh.defineProperty(Er,{height:"height"},function(){return this.of.height},function(t){if(this.of.height!==t){var e=this.of;this.of=t=new k(this.of.width,t).freeze(),this.Q(),this instanceof jo&&this.se(),this.h("desiredSize",e,t),e=this.aa,null!==e&&0!==(1024&this.fa)&&jr(this,e,"height")}}),Uh.defineProperty(Er,{zg:"minSize"},function(){return this.Ej},function(t){var e=this.Ej;e.L(t)||(t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.freeze(),this.Ej=t,this.Q(),this.h("minSize",e,t))}),Uh.defineProperty(Er,{jf:"maxSize"},function(){return this.Cj},function(t){var e=this.Cj;e.L(t)||(t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.freeze(),this.Cj=t,this.Q(),this.h("maxSize",e,t))}),Uh.u(Er,{Ca:"measuredBounds"},function(){return this.Zc}),Uh.u(Er,{Ia:"naturalBounds"},function(){return this.Qc},{configurable:!0}),Uh.defineProperty(Er,{margin:"margin"},function(){return this.vr},function(t){"number"==typeof t&&(t=new D(t));var e=this.vr;e.L(t)||(this.vr=t=t.S(),this.Q(),this.h("margin",e,t))}),Uh.u(Er,{transform:null},function(){return 0!==(2048&this.fa)==!0&&Ur(this),this.me}),Uh.u(Er,{Zg:null},function(){return 0!==(4096&this.fa)==!0&&Ur(this),this.fq}),Uh.defineProperty(Er,{alignment:"alignment"},function(){return this.De},function(t){var e=this.De;e.L(t)||(t.te()&&!t.Uc()&&Uh.k("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),this.De=t=t.S(),Wr(this),this.h("alignment",e,t))}),Uh.defineProperty(Er,{column:"column"},function(){return this.nq},function(t){t=Math.round(t);var e=this.nq;e!==t&&(0>t&&Uh.wa(t,">= 0",Er,"column"),this.nq=t,this.Q(),this.h("column",e,t))}),Uh.defineProperty(Er,{aH:"columnSpan"},function(){return this.mi},function(t){t=Math.round(t);var e=this.mi;e!==t&&(1>t&&Uh.wa(t,">= 1",Er,"columnSpan"),this.mi=t,this.Q(),this.h("columnSpan",e,t))}),Uh.defineProperty(Er,{cc:"row"},function(){return this.ks},function(t){t=Math.round(t);var e=this.ks;e!==t&&(0>t&&Uh.wa(t,">= 0",Er,"row"),this.ks=t,this.Q(),this.h("row",e,t))}),Uh.defineProperty(Er,{rowSpan:"rowSpan"},function(){return this.Ji},function(t){t=Math.round(t);var e=this.Ji;e!==t&&(1>t&&Uh.wa(t,">= 1",Er,"rowSpan"),this.Ji=t,this.Q(),this.h("rowSpan",e,t))}),Uh.defineProperty(Er,{Mx:"spanAllocation"},function(){return this.Cs},function(t){var e=this.Cs;e!==t&&(null!==t&&Uh.j(t,"function",Er,"spanAllocation"),this.Cs=t,this.h("spanAllocation",e,t))}),Uh.defineProperty(Er,{Wj:"alignmentFocus"},function(){return this.eq},function(t){var e=this.eq;e.L(t)||(!t.te()||t.Uc()||t.L(Zh)&&this instanceof js||Uh.k("GraphObject.alignmentFocus must be a real Spot or Spot.Default, not: "+t),this.eq=t=t.S(),this.Q(),this.h("alignmentFocus",e,t))}),Uh.defineProperty(Er,{Sd:"portId"},function(){return this.Xr},function(t){var e=this.Xr;if(e!==t){var i=this.aa;if(null===i||i instanceof js||(Uh.k("Cannot set portID on a Link: "+t),i=null),null!==e&&null!==i&&Hs(i,this),this.Xr=t,null!==t&&i){i.Gh=!0,null===i.Wd&&Rs(i);var n=this.Sd;null!==n&&i.Wd.add(n,this)}this.h("portId",e,t)}}),Uh.defineProperty(Er,{Bb:"toSpot"},function(){return null!==this.ga?this.ga.Tj:Zh},function(t){this.Oe();var e=this.ga.Tj;e.L(t)||(t=t.S(),this.ga.Tj=t,this.h("toSpot",e,t),ao(this))}),Uh.defineProperty(Er,{Pl:"toEndSegmentLength"},function(){return null!==this.ga?this.ga.Rj:10},function(t){this.Oe();var e=this.ga.Rj;e!==t&&(0>t&&Uh.wa(t,">= 0",Er,"toEndSegmentLength"),this.ga.Rj=t,this.h("toEndSegmentLength",e,t),ao(this))}),Uh.defineProperty(Er,{pu:"toEndSegmentDirection"},function(){return null!==this.ga?this.ga.Qj:Wf},function(t){this.Oe();var e=this.ga.Qj;e!==t&&(this.ga.Qj=t,this.h("toEndSegmentDirection",e,t),ao(this))}),Uh.defineProperty(Er,{qu:"toShortLength"},function(){return null!==this.ga?this.ga.Sj:0},function(t){this.Oe();var e=this.ga.Sj;e!==t&&(this.ga.Sj=t,this.h("toShortLength",e,t),ao(this))}),Uh.defineProperty(Er,{EF:"toLinkable"},function(){return this.Is},function(t){var e=this.Is;e!==t&&(this.Is=t,this.h("toLinkable",e,t))}),Uh.defineProperty(Er,{AJ:"toMaxLinks"},function(){return this.Js},function(t){var e=this.Js;e!==t&&(0>t&&Uh.wa(t,">= 0",Er,"toMaxLinks"),this.Js=t,this.h("toMaxLinks",e,t))}),Uh.defineProperty(Er,{Ab:"fromSpot"},function(){return null!==this.ga?this.ga.rj:Zh},function(t){this.Oe();var e=this.ga.rj;e.L(t)||(t=t.S(),this.ga.rj=t,this.h("fromSpot",e,t),ao(this))}),Uh.defineProperty(Er,{rl:"fromEndSegmentLength"},function(){return null!==this.ga?this.ga.pj:10},function(t){this.Oe();var e=this.ga.pj;e!==t&&(0>t&&Uh.wa(t,">= 0",Er,"fromEndSegmentLength"),this.ga.pj=t,this.h("fromEndSegmentLength",e,t),ao(this))}),Uh.defineProperty(Er,{vt:"fromEndSegmentDirection"},function(){return null!==this.ga?this.ga.oj:Wf},function(t){this.Oe();var e=this.ga.oj;e!==t&&(this.ga.oj=t,this.h("fromEndSegmentDirection",e,t),ao(this))}),Uh.defineProperty(Er,{wt:"fromShortLength"},function(){return null!==this.ga?this.ga.qj:0},function(t){this.Oe();var e=this.ga.qj;e!==t&&(this.ga.qj=t,this.h("fromShortLength",e,t),ao(this))}),Uh.defineProperty(Er,{nE:"fromLinkable"},function(){return this.Qq},function(t){var e=this.Qq;e!==t&&(this.Qq=t,this.h("fromLinkable",e,t))}),Uh.defineProperty(Er,{GH:"fromMaxLinks"},function(){return this.Rq},function(t){var e=this.Rq;e!==t&&(0>t&&Uh.wa(t,">= 0",Er,"fromMaxLinks"),this.Rq=t,this.h("fromMaxLinks",e,t))}),Uh.defineProperty(Er,{cursor:"cursor"},function(){return this.yq},function(t){var e=this.yq;e!==t&&(Uh.j(t,"string",Er,"cursor"),this.yq=t,this.h("cursor",e,t))}),Uh.defineProperty(Er,{click:"click"},function(){return null!==this.ia?this.ia.ki:null},function(t){Nr(this);var e=this.ia.ki;e!==t&&(null!==t&&Uh.j(t,"function",Er,"click"),this.ia.ki=t,this.h("click",e,t))}),Uh.defineProperty(Er,{jt:"doubleClick"},function(){return null!==this.ia?this.ia.ti:null},function(t){Nr(this);var e=this.ia.ti;e!==t&&(null!==t&&Uh.j(t,"function",Er,"doubleClick"),this.ia.ti=t,this.h("doubleClick",e,t))}),Uh.defineProperty(Er,{Bz:"contextClick"},function(){return null!==this.ia?this.ia.ni:null},function(t){Nr(this);var e=this.ia.ni;e!==t&&(null!==t&&Uh.j(t,"function",Er,"contextClick"),this.ia.ni=t,this.h("contextClick",e,t))}),Uh.defineProperty(Er,{Qt:"mouseEnter"},function(){return null!==this.ia?this.ia.Hr:null},function(t){Nr(this);var e=this.ia.Hr;e!==t&&(null!==t&&Uh.j(t,"function",Er,"mouseEnter"),this.ia.Hr=t,this.h("mouseEnter",e,t))}),Uh.defineProperty(Er,{Rt:"mouseLeave"},function(){return null!==this.ia?this.ia.Ir:null},function(t){Nr(this);var e=this.ia.Ir;e!==t&&(null!==t&&Uh.j(t,"function",Er,"mouseLeave"),this.ia.Ir=t,this.h("mouseLeave",e,t))}),Uh.defineProperty(Er,{kA:"mouseOver"},function(){return null!==this.ia?this.ia.Fi:null},function(t){Nr(this);var e=this.ia.Fi;e!==t&&(null!==t&&Uh.j(t,"function",Er,"mouseOver"),this.ia.Fi=t,this.h("mouseOver",e,t))}),Uh.defineProperty(Er,{jA:"mouseHover"},function(){return null!==this.ia?this.ia.Ei:null},function(t){Nr(this);var e=this.ia.Ei;e!==t&&(null!==t&&Uh.j(t,"function",Er,"mouseHover"),this.ia.Ei=t,this.h("mouseHover",e,t))}),Uh.defineProperty(Er,{iA:"mouseHold"},function(){return null!==this.ia?this.ia.Di:null},function(t){Nr(this);var e=this.ia.Di;e!==t&&(null!==t&&Uh.j(t,"function",Er,"mouseHold"),this.ia.Di=t,this.h("mouseHold",e,t))}),Uh.defineProperty(Er,{FI:"mouseDragEnter"},function(){return null!==this.ia?this.ia.Fr:null},function(t){Nr(this);var e=this.ia.Fr;e!==t&&(null!==t&&Uh.j(t,"function",Er,"mouseDragEnter"),this.ia.Fr=t,this.h("mouseDragEnter",e,t))}),Uh.defineProperty(Er,{GI:"mouseDragLeave"},function(){return null!==this.ia?this.ia.Gr:null},function(t){Nr(this);var e=this.ia.Gr;e!==t&&(null!==t&&Uh.j(t,"function",Er,"mouseDragLeave"),this.ia.Gr=t,this.h("mouseDragLeave",e,t))}),Uh.defineProperty(Er,{hA:"mouseDrop"},function(){return null!==this.ia?this.ia.Ci:null},function(t){Nr(this);var e=this.ia.Ci;e!==t&&(null!==t&&Uh.j(t,"function",Er,"mouseDrop"),this.ia.Ci=t,this.h("mouseDrop",e,t))}),Uh.defineProperty(Er,{xD:"actionDown"},function(){return null!==this.ia?this.ia.Zp:null},function(t){Nr(this);var e=this.ia.Zp;e!==t&&(null!==t&&Uh.j(t,"function",Er,"actionDown"),this.ia.Zp=t,this.h("actionDown",e,t))}),Uh.defineProperty(Er,{yD:"actionMove"},function(){return null!==this.ia?this.ia.$p:null},function(t){Nr(this);var e=this.ia.$p;e!==t&&(null!==t&&Uh.j(t,"function",Er,"actionMove"),this.ia.$p=t,this.h("actionMove",e,t))}),Uh.defineProperty(Er,{zD:"actionUp"},function(){return null!==this.ia?this.ia.aq:null},function(t){Nr(this);var e=this.ia.aq;e!==t&&(null!==t&&Uh.j(t,"function",Er,"actionUp"),this.ia.aq=t,this.h("actionUp",e,t))}),Uh.defineProperty(Er,{wD:"actionCancel"},function(){return null!==this.ia?this.ia.Yp:null},function(t){Nr(this);var e=this.ia.Yp;e!==t&&(null!==t&&Uh.j(t,"function",Er,"actionCancel"),this.ia.Yp=t,this.h("actionCancel",e,t))}),Uh.defineProperty(Er,{RA:"toolTip"},function(){return null!==this.ia?this.ia.Ni:null},function(t){Nr(this);var e=this.ia.Ni;e!==t&&(null!==t&&Uh.A(t,_s,Er,"toolTip"),this.ia.Ni=t,this.h("toolTip",e,t))}),Uh.defineProperty(Er,{contextMenu:"contextMenu"},function(){return null!==this.ia?this.ia.oi:null},function(t){Nr(this);var e=this.ia.oi;e!==t&&(null!==t&&Uh.A(t,_s,Er,"contextMenu"),this.ia.oi=t,this.h("contextMenu",e,t))}),Er.prototype.bind=Er.prototype.bind=function(t){t.ng=this;var e=this.ep();null!==e&&Mo(e)&&Uh.k("Cannot add a Binding to a template that has already been copied: "+t),null===this.sc&&(this.sc=new u(Te)),this.sc.add(t)},Er.prototype.findTemplateBinder=Er.prototype.ep=function(){for(var t=this instanceof uo?this:this.T;null!==t;){if(null!==t.zk)return t;t=t.T}return null},Er.prototype.setProperties=function(t){Uh.hu(this,t)};var of;Er.make=of=function(e){var i=arguments,n=null,r=null;if("function"==typeof e)r=e;else if("string"==typeof e){var o=sf.ka(e);"function"==typeof o?(i=Uh.il(arguments),n=o(i)):r=Vh[e]}if(null===n&&(void 0===r&&(n=t.$,void 0!==n&&void 0!==n.noop&&Uh.k("GraphObject.make failed to complete. Is it conflicting with another $ var? (such as jQuery)"),Uh.k("GraphObject.make failed to complete, it may be conflicting with another var.")),null!==r&&r.constructor||Uh.k("GraphObject.make requires a class function or class name, not: "+e),n=new r),o=1,n instanceof Qi&&1<i.length){var s=n,r=i[1];("string"==typeof r||r instanceof HTMLDivElement)&&(Tr(s,r),o++)}for(;o<i.length;o++)r=i[o],void 0===r?Uh.k("Undefined value at argument "+o+" for object being constructed by GraphObject.make: "+n):lo(n,r);return n};var sf=new y("string","function");Er.getBuilders=function(){var t,e=new y("string","function");for(t in sf)if(t!==t.toLowerCase()){var i=sf[t];"function"==typeof i&&e.add(t,i)}return e.freeze(),e};var af;Er.defineBuilder=af=function(t,e){Uh.j(t,"string",Er,"defineBuilder:name"),Uh.j(e,"function",Er,"defineBuilder:func");var i=t.toLowerCase();""!==t&&"none"!==i&&t!==i||Uh.k("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+t),sf.add(t,e)};var lf;Er.takeBuilderArgument=lf=function(t,e,i){void 0===i&&(i=null);var n=t[1];if("function"==typeof i?i(n):"string"==typeof n)return t.splice(1,1),n;if(void 0===e)throw Error("no "+("function"==typeof i?"satisfactory":"string")+" argument for GraphObject builder "+t[0]);return e},af("Button",function(){var t=new Ar(Gc);t.addColorStop(0,"white"),t.addColorStop(1,"lightgray");var e=new Ar(Gc);return e.addColorStop(0,"white"),e.addColorStop(1,"dodgerblue"),t=of(uo,ff,{Zw:!0},{_buttonFillNormal:t,_buttonStrokeNormal:"gray",_buttonFillOver:e,_buttonStrokeOver:"blue"},of(jo,{name:"ButtonBorder",Cb:"Rectangle",B:new E(0,0,2.761423749153968,2.761423749153968),C:new E(1,1,-2.761423749153968,-2.761423749153968),fill:t,stroke:"gray"})),t.Qt=function(t,e){var i=e.ae("ButtonBorder");if(i instanceof jo){var n=e._buttonFillOver;e._buttonFillNormal=i.fill,i.fill=n,n=e._buttonStrokeOver,e._buttonStrokeNormal=i.stroke,i.stroke=n}},t.Rt=function(t,e){var i=e.ae("ButtonBorder");i instanceof jo&&(i.fill=e._buttonFillNormal,i.stroke=e._buttonStrokeNormal)},t}),af("TreeExpanderButton",function(){var t=of("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},of(jo,{name:"ButtonIcon",Cb:"MinusLine",ya:_u.Vp},new Te("figure","isTreeExpanded",function(t,e){var i=e.T;return t?i._treeExpandedFigure:i._treeCollapsedFigure}).px()),{visible:!1},new Te("visible","isTreeLeaf",function(t){return!t}).px());return t.click=function(t,e){var i=e.aa;if(i instanceof _s&&(i=i.Yg),i instanceof js){var n=i.g;if(null!==n){if(n=n.pb,i.qd){if(!n.canCollapseTree(i))return}else if(!n.canExpandTree(i))return;t.Fc=!0,i.qd?n.collapseTree(i):n.expandTree(i)}}},t}),af("SubGraphExpanderButton",function(){var t=of("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},of(jo,{name:"ButtonIcon",Cb:"MinusLine",ya:_u.Vp},new Te("figure","isSubGraphExpanded",function(t,e){var i=e.T;return t?i._subGraphExpandedFigure:i._subGraphCollapsedFigure}).px()));return t.click=function(t,e){var i=e.aa;if(i instanceof _s&&(i=i.Yg),i instanceof Na){var n=i.g;if(null!==n){if(n=n.pb,i.ee){if(!n.canCollapseSubGraph(i))return}else if(!n.canExpandSubGraph(i))return;t.Fc=!0,i.ee?n.collapseSubGraph(i):n.expandSubGraph(i)}}},t}),af("ContextMenuButton",function(){var t=of("Button");t.stretch=tf;var e=t.ae("ButtonBorder");return e instanceof jo&&(e.Cb="Rectangle",e.B=new E(0,0,2,3),e.C=new E(1,1,-2,-2)),t}),af("PanelExpanderButton",function(t){var e=lf(t,"COLLAPSIBLE");t=of("Button",of(jo,"TriangleUp",{ya:new k(6,4)},new Te("figure","visible",function(t){return t?"TriangleUp":"TriangleDown"}).px(e)));var i=t.ae("ButtonBorder");return i instanceof jo&&(i.stroke=null,i.fill="transparent"),t.click=function(t,i){var n=i.g;if(null!==n&&!n.cb){var r=i.aa.ae(e);null!==r&&(n.Rb("Collapse/Expand Panel"),r.visible=!r.visible,n.Ad("Collapse/Expand Panel"))}},t}),af("CheckBoxButton",function(t){var e=lf(t);return t=of("Button",{"ButtonBorder.fill":"white","ButtonBorder.stroke":"gray",width:14,height:14},of(jo,{name:"ButtonIcon",HH:"M0 4 L3 9 9 0",nb:2,stretch:ef,Oz:nf,visible:!1},""!==e?new Te("visible",e).vI():[])),t.click=function(t,i){if(!(t.g.cb||""!==e&&t.g.Z.cb)){t.Fc=!0;var n=i.ae("ButtonIcon");n.g.Rb("checkbox"),n.visible=!n.visible,"function"==typeof i._doClick&&i._doClick(t,i),n.g.Ad("checkbox")}},t}),af("CheckBox",function(t){t=lf(t),t=of("CheckBoxButton",t,{name:"Button",margin:new D(0,1,0,0)});var e=of(uo,"Horizontal",t,{Zw:!0,margin:1,_buttonFillNormal:t._buttonFillNormal,_buttonStrokeNormal:t._buttonStrokeNormal,_buttonFillOver:t._buttonFillOver,_buttonStrokeOver:t._buttonStrokeOver,Qt:t.Qt,Rt:t.Rt,click:t.click,_buttonClick:t.click});return t.Qt=null,t.Rt=null,t.click=null,e}),ho.prototype.copy=function(){var t=new ho;return t.ki=this.ki,t.ti=this.ti,t.ni=this.ni,t.Hr=this.Hr,t.Ir=this.Ir,t.Fi=this.Fi,t.Ei=this.Ei,t.Di=this.Di,t.Fr=this.Fr,t.Gr=this.Gr,t.Ci=this.Ci,t.Zp=this.Zp,t.$p=this.$p,t.aq=this.aq,t.Yp=this.Yp,t.Ni=this.Ni,t.oi=this.oi,t},Uh.Ja(uo,Er),Uh.Zh(uo),Uh.ea("Panel",uo),uo.prototype.cloneProtected=function(t){if(Er.prototype.cloneProtected.call(this,t),t.ja=this.ja,t.We=this.We.S(),t.Ng=this.Ng,t.$q=this.$q,t.Cq=this.Cq.S(),t.ri=this.ri,t.ja===df){t.lj=this.lj.S(),t.Dh=this.Dh,t.qi=this.qi,t.$l=this.$l,t.Ch=this.Ch,t.Bh=this.Bh,t.Zl=this.Zl;var e=[];if(0<this.Ld.length)for(var i=this.Ld,n=i.length,r=0;n>r;r++)if(void 0!==i[r]){var o=i[r].copy();o.Kl(t),e[r]=o}if(t.Ld=e,e=[],0<this.Gd.length)for(i=this.Gd,n=i.length,r=0;n>r;r++)void 0!==i[r]&&(o=i[r].copy(),o.Kl(t),e[r]=o);t.Gd=e,t.ym=this.ym,t.Xl=this.Xl,t.Oi=this.Oi,t.Ai=this.Ai}t.Oo=this.Oo,t.Vq=this.Vq.S(),t.Wq=this.Wq.S(),t.je=this.je,t.zk=this.zk,t.mr=this.mr,t.wj=this.wj,t.gg=this.gg,t.fo=this.fo,t.Pi.assign(this.Pi),t.Gh=this.Gh,null!==this.ls&&(t.ls=this.ls)},uo.prototype.$h=function(t){Er.prototype.$h.call(this,t),t.Aa=this.Aa;for(var e=t.Aa.n,i=e.length,n=0;i>n;n++)e[n].Ug=t;t.Cm=null},uo.prototype.copy=function(){var t=Er.prototype.copy.call(this);if(null!==t){for(var e=this.Aa.n,i=e.length,n=0;i>n;n++){var r=e[n].copy(),o=t;r.Kl(o),r.sm=null;var s=o.Aa,a=s.count;if(s.Cd(a,r),s=o.aa,null!==s){s.om=null,null!==r.Sd&&s instanceof js&&(s.Gh=!0);var l=o.g;null!==l&&l.ma.lb||s.Lc(Ku,"elements",o,null,r,null,a)}}return t}return null},uo.prototype.toString=function(){return"Panel("+this.type+")#"+Uh.pd(this)};var hf;uo.Position=hf=Uh.p(uo,"Position",0),uo.Horizontal=Uh.p(uo,"Horizontal",1);var uf;uo.Vertical=uf=Uh.p(uo,"Vertical",2);var cf;uo.Spot=cf=Uh.p(uo,"Spot",3);var ff;uo.Auto=ff=Uh.p(uo,"Auto",4);var df;uo.Table=df=Uh.p(uo,"Table",5),uo.Viewbox=Uh.p(uo,"Viewbox",6);var pf;uo.TableRow=pf=Uh.p(uo,"TableRow",7);var gf;uo.TableColumn=gf=Uh.p(uo,"TableColumn",8);var vf;uo.Link=vf=Uh.p(uo,"Link",9);var mf;uo.Grid=mf=Uh.p(uo,"Grid",10),Uh.defineProperty(uo,{type:"type"},function(){return this.ja},function(t){var e=this.ja;e!==t&&(e!==pf&&e!==gf||Uh.k("Cannot change Panel.type when it is already a TableRow or a TableColumn: "+t),this.ja=t,this.ja===mf?this.Ng=!0:this.ja===df&&co(this),this.Q(),this.h("type",e,t))}),Uh.u(uo,{elements:"elements"},function(){return this.Aa.i}),Uh.u(uo,{Ia:"naturalBounds"},function(){return this.Qc}),Uh.defineProperty(uo,{padding:"padding"},function(){return this.We},function(t){"number"==typeof t?(0>t&&Uh.wa(t,">= 0",uo,"padding"),t=new D(t)):(Uh.A(t,D,uo,"padding"),0>t.left&&Uh.wa(t.left,">= 0",uo,"padding:value.left"),0>t.right&&Uh.wa(t.right,">= 0",uo,"padding:value.right"),0>t.top&&Uh.wa(t.top,">= 0",uo,"padding:value.top"),0>t.bottom&&Uh.wa(t.bottom,">= 0",uo,"padding:value.bottom"));var e=this.We;e.L(t)||(this.We=t=t.S(),this.Q(),this.h("padding",e,t))}),Uh.defineProperty(uo,{ml:"defaultAlignment"},function(){return this.Cq},function(t){var e=this.Cq;e.L(t)||(this.Cq=t=t.S(),this.Q(),this.h("defaultAlignment",e,t))}),Uh.defineProperty(uo,{Md:"defaultStretch"},function(){return this.ri},function(t){var e=this.ri;e!==t&&(Uh.rb(t,Er,uo,"defaultStretch"),this.ri=t,this.Q(),this.h("defaultStretch",e,t))}),Uh.defineProperty(uo,{wK:"defaultSeparatorPadding"},function(){return void 0===this.lj?_u.Wp:this.lj},function(t){if(void 0!==this.lj){"number"==typeof t&&(t=new D(t));var e=this.lj;e.L(t)||(this.lj=t=t.S(),this.h("defaultSeparatorPadding",e,t))}}),Uh.defineProperty(uo,{uK:"defaultRowSeparatorStroke"},function(){return void 0===this.qi?null:this.qi},function(t){var e=this.qi;e!==t&&(null===t||"string"==typeof t||t instanceof Ar)&&(t instanceof Ar&&t.freeze(),this.qi=t,this.h("defaultRowSeparatorStroke",e,t))}),Uh.defineProperty(uo,{vK:"defaultRowSeparatorStrokeWidth"},function(){return void 0===this.Dh?1:this.Dh},function(t){if(void 0!==this.Dh){var e=this.Dh;e!==t&&isFinite(t)&&t>=0&&(this.Dh=t,this.h("defaultRowSeparatorStrokeWidth",e,t))}}),Uh.defineProperty(uo,{tK:"defaultRowSeparatorDashArray"},function(){return void 0===this.$l?null:this.$l},function(t){if(void 0!==this.$l){var e=this.$l;if(e!==t){if(null===t||Array.isArray(t)||Uh.Ed(t,"Array",uo,"defaultRowSeparatorDashArray:value"),null!==t){for(var i=t.length,n=0,r=0;i>r;r++){var o=t[r];"number"==typeof o&&o>=0&&isFinite(o)||Uh.k("defaultRowSeparatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),n+=o}if(0===n){if(null===e)return;t=null}}this.$l=t,this.qa(),this.h("defaultRowSeparatorDashArray",e,t)}}}),Uh.defineProperty(uo,{oK:"defaultColumnSeparatorStroke"},function(){return void 0===this.Bh?null:this.Bh
},function(t){if(void 0!==this.Bh){var e=this.Bh;e!==t&&(null===t||"string"==typeof t||t instanceof Ar)&&(t instanceof Ar&&t.freeze(),this.Bh=t,this.h("defaultColumnSeparatorStroke",e,t))}}),Uh.defineProperty(uo,{pK:"defaultColumnSeparatorStrokeWidth"},function(){return void 0===this.Ch?1:this.Ch},function(t){if(void 0!==this.Ch){var e=this.Ch;e!==t&&isFinite(t)&&t>=0&&(this.Ch=t,this.h("defaultColumnSeparatorStrokeWidth",e,t))}}),Uh.defineProperty(uo,{nK:"defaultColumnSeparatorDashArray"},function(){return void 0===this.Zl?null:this.Zl},function(t){if(void 0!==this.Zl){var e=this.Zl;if(e!==t){if(null===t||Array.isArray(t)||Uh.Ed(t,"Array",uo,"defaultColumnSeparatorDashArray:value"),null!==t){for(var i=t.length,n=0,r=0;i>r;r++){var o=t[r];"number"==typeof o&&o>=0&&isFinite(o)||Uh.k("defaultColumnSeparatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),n+=o}if(0===n){if(null===e)return;t=null}}this.Zl=t,this.qa(),this.h("defaultColumnSeparatorDashArray",e,t)}}}),Uh.defineProperty(uo,{JL:"viewboxStretch"},function(){return this.Oo},function(t){var e=this.Oo;e!==t&&(Uh.rb(t,Er,uo,"viewboxStretch"),this.Oo=t,this.h("viewboxStretch",e,t))}),Uh.defineProperty(uo,{Ww:"gridCellSize"},function(){return this.Vq},function(t){var e=this.Vq;e.L(t)||(Uh.A(t,k,uo,"gridCellSize"),t.K()&&0!==t.width&&0!==t.height||Uh.k("Invalid Panel.gridCellSize: "+t),this.Vq=t.S(),null!==this.g&&this===this.g.xt&&On(this.g),this.qa(),this.h("gridCellSize",e,t))}),Uh.defineProperty(uo,{sE:"gridOrigin"},function(){return this.Wq},function(t){var e=this.Wq;e.L(t)||(Uh.A(t,b,uo,"gridOrigin"),t.K()||Uh.k("Invalid Panel.gridOrigin: "+t),this.Wq=t.S(),null!==this.g&&On(this.g),this.qa(),this.h("gridOrigin",e,t))}),Bh=uo.prototype,Bh.Mv=function(t){Er.prototype.Mv.call(this,t);for(var e=this.Aa.n,i=e.length,n=0;i>n;n++)e[n].Mv(t)},Bh.ak=function(t,e){if(this.ja===mf){var i=this.Yi()*e.scale;0>=i&&(i=1);var n=this.Ww,r=n.width,n=n.height,o=this.Ia,s=o.width,o=o.height,a=Math.ceil(s/r),l=Math.ceil(o/n),h=this.sE;t.save(),t.beginPath(),t.rect(0,0,s,o),t.clip();for(var u=[],c=this.Aa.n,f=c.length,d=0;f>d;d++){var p=c[d],g=[];if(u.push(g),p.visible)for(var p=vo(p.Cb),v=d+1;f>v;v++){var m=c[v];m.visible&&vo(m.Cb)===p&&(m=m.interval,m>=2&&g.push(m))}}for(c=this.Aa.n,f=c.length,d=0;f>d;d++){var y=c[d];if(y.visible&&(g=y.interval,!(2>r*g*i))){var p=u[d],v=!1,b=!0,x=y.CF;if(null!==x&&(v=!0,void 0!==t.setLineDash?(t.setLineDash(x),t.lineDashOffset=y.nd):void 0!==t.webkitLineDash?(t.webkitLineDash=x,t.webkitLineDashOffset=y.nd):void 0!==t.mozDash?(t.mozDash=x,t.mozDashOffset=y.nd):b=!1),"LineV"===y.Cb){t.lineWidth=y.nb,Vr(this,t,y.stroke,!1,!1),t.beginPath();for(var w=m=Math.floor(-h.x/r);m+a>=w;w++){var k=w*r+h.x;k>=0&&s>k&&go(w,g,p)&&(v&&!b?_r(t,k,0,k,o,x,y.nd):(t.moveTo(k,0),t.lineTo(k,o)))}t.stroke()}else if("LineH"===y.Cb){for(t.lineWidth=y.nb,Vr(this,t,y.stroke,!1,!1),t.beginPath(),w=m=Math.floor(-h.y/n);m+l>=w;w++)k=w*n+h.y,k>=0&&o>=k&&go(w,g,p)&&(v&&!b?_r(t,0,k,s,k,x,y.nd):(t.moveTo(0,k),t.lineTo(s,k)));t.stroke()}else if("BarV"===y.Cb)for(Vr(this,t,y.fill,!0,!1),y=y.width,isNaN(y)&&(y=r),w=m=Math.floor(-h.x/r);m+a>=w;w++)k=w*r+h.x,k>=0&&s>k&&go(w,g,p)&&t.fillRect(k,0,y,o);else if("BarH"===y.Cb)for(Vr(this,t,y.fill,!0,!1),y=y.height,isNaN(y)&&(y=n),w=m=Math.floor(-h.y/n);m+l>=w;w++)k=w*n+h.y,k>=0&&o>=k&&go(w,g,p)&&t.fillRect(0,k,s,y);v&&(void 0!==t.setLineDash?(t.setLineDash(Uh.wh),t.lineDashOffset=0):void 0!==t.webkitLineDash?(t.webkitLineDash=Uh.wh,t.webkitLineDashOffset=0):void 0!==t.mozDash&&(t.mozDash=null,t.mozDashOffset=0))}}t.restore(),rn(e,t,!1)}else{for(this.ja===df&&(t.lineCap="butt",po(this,t,!0,this.Ld,!0),po(this,t,!1,this.Gd,!0),fo(this,t,!0,this.Ld),fo(this,t,!1,this.Gd),po(this,t,!0,this.Ld,!1),po(this,t,!1,this.Gd,!1)),(i=this.CE)&&t.save(),r=this.af(),n=this.Aa.n,s=n.length,o=0;s>o;o++)a=n[o],i&&a===r&&(t.xu=!0),a.$e(t,e),i&&a===r&&(t.xu=!1);i&&(t.restore(),rn(e,t,!1))}},Bh.ip=function(t,e,i,n,r){var o=this.Hg(),s=this.transform,a=1/(s.m11*s.m22-s.m12*s.m21),l=s.m22*a,h=-s.m12*a,u=-s.m21*a,c=s.m11*a,f=a*(s.m21*s.dy-s.m22*s.dx),d=a*(s.m12*s.dx-s.m11*s.dy);if(null!==this.Im)return s=this.Y,_u.wl(s.left,s.top,s.right,s.bottom,t,e,i,n,r);if(null!==this.background)o=t*l+e*u+f,a=t*h+e*c+d,t=i*l+n*u+f,i=i*h+n*c+d,r.m(0,0),n=this.Ia,i=_u.wl(0,0,n.width,n.height,o,a,t,i,r),r.transform(s);else{for(o||(l=1,u=h=0,c=1,d=f=0),a=t*l+e*u+f,t=t*h+e*c+d,l=i*l+n*u+f,n=i*h+n*c+d,r.m(l,n),h=(l-a)*(l-a)+(n-t)*(n-t),i=!1,c=this.Aa.n,d=c.length,u=Uh.M(),f=0;d>f;f++)e=c[f],e.visible&&e.ip(a,t,l,n,u)&&(i=!0,e=(a-u.x)*(a-u.x)+(t-u.y)*(t-u.y),h>e&&(h=e,r.set(u)));Uh.v(u),o&&r.transform(s)}return i},Bh.Q=function(t){Er.prototype.Q.call(this,t),this.ja===ff&&(t=this.af(),null!==t&&t.Q(!0)),t=this.Aa.n;for(var e=t.length,i=0;e>i;i++){var n=t[i];!0!==eo(n)&&(n.ya.K()||(n instanceof La||n instanceof uo||n instanceof Bo||Kr(n,!1)!==Xc)&&n.Q(!0))}},Bh.mp=function(){if(!1===eo(this)){io(this,!0),ro(this,!0);for(var t=this.Aa.n,e=t.length,i=0;e>i;i++)t[i].mp()}},Bh.wi=function(){if(0!==(2048&this.fa)==!1){Zr(this,!0),to(this,!0);for(var t=this.Aa.n,e=t.length,i=0;e>i;i++)t[i].Uz()}},Bh.Uz=function(){to(this,!0);for(var t=this.Aa.n,e=t.length,i=0;e>i;i++)t[i].Uz()},Bh.vp=function(t,e,i,n){var r=this.Pi;r.width=0,r.height=0;var o=this.ya,s=this.zg;void 0===i&&(i=s.width,n=s.height),i=Math.max(i,s.width),n=Math.max(n,s.height);var a=this.jf;isNaN(o.width)||(t=Math.min(o.width,a.width)),isNaN(o.height)||(e=Math.min(o.height,a.height)),t=Math.max(i,t),e=Math.max(n,e);var l=this.padding;t=Math.max(t-l.left-l.right,0),e=Math.max(e-l.top-l.bottom,0);var h=this.Aa.n;if(0!==h.length){var c=this.ja.Pb;switch(c){case"Position":var f=t,d=e,p=i,g=n,v=h.length;r.x=0,r.y=0,r.width=0;for(var m=r.height=0;v>m;m++){var y=h[m];if(y.visible||y===this.bc){var b=y.margin,x=b.right+b.left,w=b.top+b.bottom;Lr(y,f,d,p,g);var k=y.Ca,C=Math.max(k.width+x,0),M=Math.max(k.height+w,0),S=y.position.x,D=y.position.y;if(isFinite(S)||(S=0),isFinite(D)||(D=0),y instanceof jo){var A=y;if(A.EE)var E=A.nb/2,S=S-E,D=D-E}P(r,S,D,C,M)}}break;case"Vertical":for(var N=t,_=i,j=h.length,O=Uh.mb(),I=0;j>I;I++){var L=h[I];if(L.visible||L===this.bc){var F=Kr(L,!1);if(F!==Xc&&F!==Zc)O.push(L);else{var z=L.margin,q=z.right+z.left,R=z.top+z.bottom;Lr(L,N,1/0,_,0);var H=L.Ca,B=Math.max(H.width+q,0),V=Math.max(H.height+R,0);r.width=Math.max(r.width,B),r.height+=V}}}var U=O.length;if(0!==U){for(this.ya.width?N=Math.min(this.ya.width,this.jf.width):0!==r.width&&(N=Math.min(r.width,this.jf.width)),I=0;U>I;I++)L=O[I],(L.visible||L===this.bc)&&(z=L.margin,q=z.right+z.left,R=z.top+z.bottom,Lr(L,N,1/0,_,0),H=L.Ca,B=Math.max(H.width+q,0),V=Math.max(H.height+R,0),r.width=Math.max(r.width,B),r.height+=V);Uh.ta(O)}break;case"Horizontal":for(var G=e,W=n,K=h.length,Y=Uh.mb(),J=0;K>J;J++){var X=h[J];if(X.visible||X===this.bc){var Q=Kr(X,!1);if(Q!==Xc&&Q!==tf)Y.push(X);else{var Z=X.margin,te=Z.right+Z.left,ee=Z.top+Z.bottom;Lr(X,1/0,G,0,W);var ie=X.Ca,ne=Math.max(ie.width+te,0),re=Math.max(ie.height+ee,0);r.width+=ne,r.height=Math.max(r.height,re)}}}var oe=Y.length;if(0!==oe){for(this.ya.height?G=Math.min(this.ya.height,this.jf.height):0!==r.height&&(G=Math.min(r.height,this.jf.height)),J=0;oe>J;J++)X=Y[J],(X.visible||X===this.bc)&&(Z=X.margin,te=Z.right+Z.left,ee=Z.top+Z.bottom,Lr(X,1/0,G,0,W),ie=X.Ca,ne=Math.max(ie.width+te,0),re=Math.max(ie.height+ee,0),r.width+=ne,r.height=Math.max(r.height,re));Uh.ta(Y)}break;case"Spot":t:{var se=t,ae=e,le=i,he=n,ue=h.length,ce=this.af(),fe=ce.margin,de=0,pe=0,ge=fe.right+fe.left,ve=fe.top+fe.bottom;Lr(ce,se,ae,le,he);var me=ce.Ca,ye=me.width,be=me.height,xe=Math.max(ye+ge,0),we=Math.max(be+ve,0);r.x=-fe.left,r.y=-fe.top,r.width=xe,r.height=we;for(var ke=0;ue>ke;ke++){var Te=h[ke];if(Te!==ce&&(Te.visible||Te===this.bc)){fe=Te.margin,de=fe.right+fe.left,pe=fe.top+fe.bottom,Lr(Te,se,ae,0,0);var me=Te.Ca,xe=Math.max(me.width+de,0),we=Math.max(me.height+pe,0),$e=Te.alignment;$e.Uc()&&($e=this.ml),$e.fd()||($e=ou);var Ce=Te.Wj;Ce.Uc()&&(Ce=ou),P(r,$e.x*ye+$e.offsetX-(Ce.x*me.width-Ce.offsetX)-fe.left,$e.y*be+$e.offsetY-(Ce.y*me.height-Ce.offsetY)-fe.top,xe,we)}}var Me=ce.stretch;switch(Me===Qc&&(Me=Kr(ce,!1)),Me){case Xc:break t;case ef:if(!isFinite(se)&&!isFinite(ae))break t;break;case tf:if(!isFinite(se))break t;break;case Zc:if(!isFinite(ae))break t}for(me=ce.Ca,ye=me.width,be=me.height,xe=Math.max(ye+ge,0),we=Math.max(be+ve,0),fe=ce.margin,r.x=-fe.left,r.y=-fe.top,r.width=xe,r.height=we,ke=0;ue>ke;ke++)Te=h[ke],Te===ce||!Te.visible&&Te!==this.bc||(fe=Te.margin,de=fe.right+fe.left,pe=fe.top+fe.bottom,me=Te.Ca,xe=Math.max(me.width+de,0),we=Math.max(me.height+pe,0),$e=Te.alignment,$e.Uc()&&($e=this.ml),$e.fd()||($e=ou),Ce=Te.Wj,Ce.Uc()&&(Ce=ou),P(r,$e.x*ye+$e.offsetX-(Ce.x*me.width-Ce.offsetX)-fe.left,$e.y*be+$e.offsetY-(Ce.y*me.height-Ce.offsetY)-fe.top,xe,we))}break;case"Auto":var Se=t,Pe=e,De=i,Ae=n,Ee=h.length,Ne=this.af(),_e=Ne.margin,je=_e.right+_e.left,Oe=_e.top+_e.bottom;Lr(Ne,Se,Pe,De,Ae);var Ie=Ne.Ca,Le=Math.max(Ie.width+je,0),Fe=Math.max(Ie.height+Oe,0),ze=$o(Ne),qe=ze.x*Le+ze.offsetX,Re=ze.y*Fe+ze.offsetY,ze=Co(Ne),He=ze.x*Le+ze.offsetX,Be=ze.y*Fe+ze.offsetY,Ve=Se,Ue=Pe;isFinite(Se)&&(Ve=Math.abs(qe-He)),isFinite(Pe)&&(Ue=Math.abs(Re-Be));var Ge=Uh.Ol();Ge.m(0,0);for(var We=0;Ee>We;We++){var Ke=h[We];if(Ke!==Ne&&(Ke.visible||Ke===this.bc)){var _e=Ke.margin,Ye=_e.right+_e.left,Je=_e.top+_e.bottom;Lr(Ke,Ve,Ue,0,0),Ie=Ke.Ca,Le=Math.max(Ie.width+Ye,0),Fe=Math.max(Ie.height+Je,0),Ge.m(Math.max(Le,Ge.width),Math.max(Fe,Ge.height))}}if(1===Ee)r.width=Le,r.height=Fe,Uh.ck(Ge);else{var Xe=$o(Ne),Qe=Co(Ne),Ze=0,ti=0;Qe.x!==Xe.x&&Qe.y!==Xe.y&&(Ze=Ge.width/Math.abs(Qe.x-Xe.x),ti=Ge.height/Math.abs(Qe.y-Xe.y)),Uh.ck(Ge);var ei=0;if(Ne instanceof jo){var ii=Ne,ei=ii.nb*ii.scale;Fo(ii)===nf&&(Ze=ti=Math.max(Ze,ti))}var Ze=Ze+(Math.abs(Xe.offsetX)+Math.abs(Qe.offsetX)+ei),ti=ti+(Math.abs(Xe.offsetY)+Math.abs(Qe.offsetY)+ei),ni=Ne.stretch;switch(ni===Qc&&(ni=Kr(Ne,!1)),ni){case Xc:Ae=De=0;break;case ef:isFinite(Se)&&(Ze=Se),isFinite(Pe)&&(ti=Pe);break;case tf:isFinite(Se)&&(Ze=Se),Ae=0;break;case Zc:De=0,isFinite(Pe)&&(ti=Pe)}Ne instanceof jo&&!Ne.ya.K()&&(ii=Ne,ii.Qh?ii.Yl=null:ii.Ta=null),Ne.mp(),Lr(Ne,Ze,ti,De,Ae),r.width=Ne.Ca.width+je,r.height=Ne.Ca.height+Oe}break;case"Table":for(var ri=t,oi=e,si=i,ai=n,li=h.length,hi=Uh.mb(),ui=Uh.mb(),ci=0;li>ci;ci++){var fi=h[ci],di=fi instanceof uo?fi:null;if(null===di||di.type!==pf&&di.type!==gf||!fi.visible)hi.push(fi);else{ui.push(fi);for(var pi=di.Aa.n,gi=pi.length,vi=0;gi>vi;vi++){var mi=pi[vi];di.type===pf?mi.cc=fi.cc:di.type===gf&&(mi.column=fi.column),hi.push(mi)}}}li=hi.length,0===li&&(this.ed(0),this.dd(0));for(var yi=[],ci=0;li>ci;ci++)fi=hi[ci],io(fi,!0),ro(fi,!0),yi[fi.cc]||(yi[fi.cc]=[]),yi[fi.cc][fi.column]||(yi[fi.cc][fi.column]=[]),yi[fi.cc][fi.column].push(fi);Uh.ta(hi);for(var bi=Uh.mb(),xi=Uh.mb(),wi=Uh.mb(),ki={count:0},Ti={count:0},$i=ri,Ci=oi,Mi=this.Ld,li=Mi.length,ci=0;li>ci;ci++){var Si=Mi[ci];void 0!==Si&&(Si.Na=0)}for(Mi=this.Gd,li=Mi.length,ci=0;li>ci;ci++)Si=Mi[ci],void 0!==Si&&(Si.Na=0);for(var Pi=yi.length,Di=0,ci=0;Pi>ci;ci++)yi[ci]&&(Di=Math.max(Di,yi[ci].length));for(var Ai=Math.min(this.Oi,Pi-1),Ei=Math.min(this.Ai,Di-1),Ni=0,Pi=yi.length,ci=0;Pi>ci;ci++)if(yi[ci])for(var Di=yi[ci].length,_i=this.ed(ci),vi=_i.Na=0;Di>vi;vi++)if(yi[ci][vi]){var ji=this.dd(vi);void 0===bi[vi]&&(ji.Na=0,bi[vi]=!0);for(var Oi=yi[ci][vi],Ii=Oi.length,Li=0;Ii>Li;Li++)if(fi=Oi[Li],fi.visible||fi===this.bc){var Fi=1<fi.Ji||1<fi.mi;Fi&&(Ai>ci||Ei>vi||xi.push(fi));var zi=fi.margin,qi=zi.right+zi.left,Ri=zi.top+zi.bottom,Hi=Yr(fi,_i,ji,!1),Bi=fi.ya,Vi=!isNaN(Bi.height),Ui=!isNaN(Bi.width)&&Vi;if(Fi||Hi===Xc||Ui||Ai>ci||Ei>vi||(void 0===ki[vi]&&(ki[vi]=-1,ki.count++),void 0===Ti[ci]&&(Ti[ci]=-1,Ti.count++),wi.push(fi)),Lr(fi,1/0,1/0,0,0),!(Ai>ci||Ei>vi)){var Gi=fi.Ca,Wi=Math.max(Gi.width+qi,0),Ki=Math.max(Gi.height+Ri,0);if(1===fi.Ji&&(Hi===Xc||Hi===tf)){var Si=this.ed(ci),Yi=Si.rf(),Ni=Math.max(Ki-Si.Na,0);Ni+Yi>Ci&&(Ni=Math.max(Ci-Yi,0));var Ji=0===Si.Na;Si.Na+=Ni,Ci=Math.max(Ci-(Ni+(Ji?Yi:0)),0)}1!==fi.mi||Hi!==Xc&&Hi!==Zc||(Si=this.dd(vi),Yi=Si.rf(),Ni=Math.max(Wi-Si.Na,0),Ni+Yi>$i&&(Ni=Math.max($i-Yi,0)),Ji=0===Si.Na,Si.Na+=Ni,$i=Math.max($i-(Ni+(Ji?Yi:0)),0)),Fi&&fi.mp()}}}Uh.ta(bi);for(var Xi=0,Qi=0,li=this.Xo,ci=0;li>ci;ci++)void 0!==this.Gd[ci]&&(Xi+=this.dd(ci).fb);for(li=this.Lp,ci=0;li>ci;ci++)void 0!==this.Ld[ci]&&(Qi+=this.ed(ci).fb);for(var $i=Math.max(ri-Xi,0),Zi=Ci=Math.max(oi-Qi,0),tn=$i,li=wi.length,ci=0;li>ci;ci++){var fi=wi[ci],_i=this.ed(fi.cc),ji=this.dd(fi.column),en=fi.Ca,zi=fi.margin,qi=zi.right+zi.left,Ri=zi.top+zi.bottom;ki[fi.column]=0===ji.Na?Math.max(en.width+qi,ki[fi.column]):null,Ti[fi.cc]=0===_i.Na?Math.max(en.height+Ri,Ti[fi.cc]):null}var nn=0,rn=0;for(ci in Ti)"count"!==ci&&(nn+=Ti[ci]);for(ci in ki)"count"!==ci&&(rn+=ki[ci]);for(var on=Uh.Ol(),ci=0;li>ci;ci++)if(fi=wi[ci],fi.visible||fi===this.bc){var _i=this.ed(fi.cc),ji=this.dd(fi.column),sn=0;isFinite(ji.width)?sn=ji.width:(sn=isFinite($i)&&null!==ki[fi.column]?0===rn?ji.Na+$i:ki[fi.column]/rn*tn:null!==ki[fi.column]?$i:ji.Na||$i,sn=Math.max(0,sn-ji.rf()));var an=0;switch(isFinite(_i.height)?an=_i.height:(an=isFinite(Ci)&&null!==Ti[fi.cc]?0===nn?_i.Na+Ci:Ti[fi.cc]/nn*Zi:null!==Ti[fi.cc]?Ci:_i.Na||Ci,an=Math.max(0,an-_i.rf())),on.m(Math.max(ji.dj,Math.min(sn,ji.kf)),Math.max(_i.dj,Math.min(an,_i.kf))),Hi=Yr(fi,_i,ji,!1)){case tf:on.height=1/0;break;case Zc:on.width=1/0}zi=fi.margin,qi=zi.right+zi.left,Ri=zi.top+zi.bottom,fi.mp(),Lr(fi,on.width,on.height,ji.dj,_i.dj),Gi=fi.Ca,Wi=Math.max(Gi.width+qi,0),Ki=Math.max(Gi.height+Ri,0),isFinite($i)&&(Wi=Math.min(Wi,on.width)),isFinite(Ci)&&(Ki=Math.min(Ki,on.height));var ln=0,ln=_i.Na;_i.Na=Math.max(_i.Na,Ki),Ni=_i.Na-ln,Ci=Math.max(Ci-Ni,0),ln=ji.Na,ji.Na=Math.max(ji.Na,Wi),Ni=ji.Na-ln,$i=Math.max($i-Ni,0)}Uh.ta(wi);for(var hn=Uh.Ol(),li=xi.length,ci=0;li>ci;ci++)if(fi=xi[ci],fi.visible||fi===this.bc){switch(_i=this.ed(fi.cc),ji=this.dd(fi.column),on.m(Math.max(ji.dj,Math.min(ri,ji.kf)),Math.max(_i.dj,Math.min(oi,_i.kf))),Hi=Yr(fi,_i,ji,!1)){case ef:0!==ji.Na&&(on.width=Math.min(on.width,ji.Na)),0!==_i.Na&&(on.height=Math.min(on.height,_i.Na));break;case tf:0!==ji.Na&&(on.width=Math.min(on.width,ji.Na));break;case Zc:0!==_i.Na&&(on.height=Math.min(on.height,_i.Na))}isFinite(ji.width)&&(on.width=ji.width),isFinite(_i.height)&&(on.height=_i.height),hn.m(0,0);for(var un=1;un<fi.Ji&&!(fi.cc+un>=this.Lp);un++)Si=this.ed(fi.cc+un),hn.height+=Math.max(Si.dj,isNaN(Si.Xe)?Si.kf:Math.min(Si.Xe,Si.kf));for(un=1;un<fi.mi&&!(fi.column+un>=this.Xo);un++)Si=this.dd(fi.column+un),hn.width+=Math.max(Si.dj,isNaN(Si.Xe)?Si.kf:Math.min(Si.Xe,Si.kf));on.width+=hn.width,on.height+=hn.height,zi=fi.margin,qi=zi.right+zi.left,Ri=zi.top+zi.bottom,Lr(fi,on.width,on.height,si,ai);for(var Gi=fi.Ca,Wi=Math.max(Gi.width+qi,0),Ki=Math.max(Gi.height+Ri,0),cn=0,un=0;un<fi.Ji&&!(fi.cc+un>=this.Lp);un++)Si=this.ed(fi.cc+un),cn+=Si.total||0;if(Ki>cn){var fn=Ki-cn,dn=Ki-cn;if(null!==fi.Mx)for(var pn=fi.Mx,un=0;un<fi.Ji&&!(0>=fn)&&!(fi.cc+un>=this.Lp);un++){var Si=this.ed(fi.cc+un),gn=Si.fb||0,vn=pn(fi,Si,dn);Si.Na=Math.min(Si.kf,gn+vn),Si.fb!==gn&&(fn-=Si.fb-gn)}for(;fn>0&&(gn=Si.fb||0,isNaN(Si.height)&&Si.kf>gn&&(Si.Na=Math.min(Si.kf,gn+fn),Si.fb!==gn&&(fn-=Si.fb-gn)),0!==Si.index);)Si=this.ed(Si.index-1)}for(var mn=0,un=0;un<fi.mi&&!(fi.column+un>=this.Xo);un++)Si=this.dd(fi.column+un),mn+=Si.total||0;if(Wi>mn){if(fn=Wi-mn,dn=Wi-mn,null!==fi.Mx)for(pn=fi.Mx,un=0;un<fi.mi&&!(0>=fn)&&!(fi.column+un>=this.Xo);un++)Si=this.dd(fi.column+un),gn=Si.fb||0,vn=pn(fi,Si,dn),Si.Na=Math.min(Si.kf,gn+vn),Si.fb!==gn&&(fn-=Si.fb-gn);for(;fn>0&&(gn=Si.fb||0,isNaN(Si.width)&&Si.kf>gn&&(Si.Na=Math.min(Si.kf,gn+fn),Si.fb!==gn&&(fn-=Si.fb-gn)),0!==Si.index);)Si=this.dd(Si.index-1)}}Uh.ta(xi),Uh.ck(hn),Uh.ck(on);for(var yn=0,bn=0,Hi=Kr(this,!0),xn=this.ya,wn=this.jf,kn=Qi=Xi=0,Tn=0,li=this.Xo,ci=0;li>ci;ci++)void 0!==this.Gd[ci]&&(Si=this.dd(ci),isFinite(Si.width)?(kn+=Si.width,kn+=Si.rf()):_o(Si)===wf?(kn+=Si.fb,kn+=Si.rf()):0!==Si.fb&&(Xi+=Si.fb,Xi+=Si.rf()));var yn=isFinite(xn.width)?Math.min(xn.width,wn.width):Hi!==Xc&&isFinite(ri)?ri:Xi,yn=Math.max(yn,this.zg.width),yn=Math.max(yn-kn,0),$n=Math.max(yn/Xi,1);for(isFinite($n)||($n=1),ci=0;li>ci;ci++)void 0!==this.Gd[ci]&&(Si=this.dd(ci),isFinite(Si.width)||_o(Si)===wf||(Si.Na=Si.fb*$n),Si.position=r.width,0!==Si.fb&&(r.width+=Si.fb,r.width+=Si.rf()));for(li=this.Lp,ci=0;li>ci;ci++)void 0!==this.Ld[ci]&&(Si=this.ed(ci),isFinite(Si.height)?(Tn+=Si.height,Tn+=Si.rf()):_o(Si)===wf?(Tn+=Si.fb,Tn+=Si.rf()):0!==Si.fb&&(Qi+=Si.fb,Qi+=Si.rf()));var bn=isFinite(xn.height)?Math.min(xn.height,wn.height):Hi!==Xc&&isFinite(oi)?oi:Qi,bn=Math.max(bn,this.zg.height),bn=Math.max(bn-Tn,0),Cn=Math.max(bn/Qi,1);for(isFinite(Cn)||(Cn=1),ci=0;li>ci;ci++)void 0!==this.Ld[ci]&&(Si=this.ed(ci),isFinite(Si.height)||_o(Si)===wf||(Si.Na=Si.fb*Cn),Si.position=r.height,0!==Si.fb&&(r.height+=Si.fb,r.height+=Si.rf()));for(li=ui.length,ci=0;li>ci;ci++){var Mn=ui[ci];Mn.type===pf?(sn=r.width,Si=this.ed(Mn.cc),an=Si.Na):(Si=this.dd(Mn.column),sn=Si.Na,an=r.height),Mn.Zc.m(0,0,sn,an),io(Mn,!1),yi[Mn.cc]||(yi[Mn.cc]=[]),yi[Mn.cc][Mn.column]||(yi[Mn.cc][Mn.column]=[]),yi[Mn.cc][Mn.column].push(Mn)}Uh.ta(ui),this.ls=yi;break;case"Viewbox":var Sn=t,Pn=e,Dn=i,An=n;1<h.length&&Uh.k("Viewbox Panel cannot contain more than one GraphObject.");var En=h[0];En.Vb=1,En.mp(),Lr(En,1/0,1/0,Dn,An);var Nn=En.Ca,_n=En.margin,jn=_n.right+_n.left,On=_n.top+_n.bottom;if(isFinite(Sn)||isFinite(Pn)){var In=En.scale,Ln=Nn.width,Fn=Nn.height,zn=Math.max(Sn-jn,0),qn=Math.max(Pn-On,0),Rn=1;this.Oo===nf?0!==Ln&&0!==Fn&&(Rn=Math.min(zn/Ln,qn/Fn)):0!==Ln&&0!==Fn&&(Rn=Math.max(zn/Ln,qn/Fn)),0===Rn&&(Rn=1e-4),En.Vb*=Rn,In!==En.scale&&(io(En,!0),Lr(En,1/0,1/0,Dn,An))}Nn=En.Ca,r.width=isFinite(Sn)?Sn:Math.max(Nn.width+jn,0),r.height=isFinite(Pn)?Pn:Math.max(Nn.height+On,0);break;case"Link":var Hn=h.length,Bn=this instanceof _s?this.Yg:this;if(Bn instanceof Ws)if(0===Hn){var Vn=this.Qc;$(Vn,0,0);var Un=this.Ca;Un.m(0,0,0,0)}else{var Gn=this instanceof _s?null:Bn.path,Wn=Bn.ln,Kn=this.Pi;Kn.assign(Wn),Kn.x=0;var Yn=Kn.y=0,Jn=Bn.points,Yn=void 0!==this.pa?this.pa:Jn.count;this instanceof _s?this.dn(!1):Bn.dn(!1);var Xn=Wn.width,Qn=Wn.height;this.Mh.m(Wn.x,Wn.y),null===this.Ig&&(this.Ig=new u(T)),this.Ig.clear(),null!==Gn&&(Lo(Gn,Xn,Qn,this),Un=Gn.Ca,Kn.fi(Un),this.Ig.add(Un));for(var Zn=Uh.th(),tr=Uh.M(),er=Uh.M(),ir=0;Hn>ir;ir++){var nr=h[ir];if(nr!==Gn)if(nr.Rf&&nr instanceof jo)Lo(nr,Xn,Qn,this),Un=nr.Ca,Kn.fi(Un),this.Ig.add(Un);else if(2>Yn)Lr(nr,1/0,1/0),Un=nr.Ca,Kn.fi(Un),this.Ig.add(Un);else{var rr=nr.we,or=nr.Ex,sr=nr.Wj;sr.te()&&(sr=ou);var ar=nr.fu,lr=nr.rF,hr=0,ur=0,cr=0;if(-Yn>rr||rr>=Yn){var fr=Bn.TE,dr=Bn.SE;ar!==Qf&&(cr=Bn.computeAngle(nr,ar,dr),nr.Tl=cr),hr=fr.x-Wn.x,ur=fr.y-Wn.y}else{var pr,gr;if(rr>=0)pr=Jn.ha(rr),gr=Yn-1>rr?Jn.ha(rr+1):pr;else{var vr=Yn+rr;pr=Jn.ha(vr),gr=vr>0?Jn.ha(vr-1):pr}dr=rr>=0?pr.dh(gr):gr.dh(pr),ar!==Qf&&(cr=Bn.computeAngle(nr,ar,dr),nr.Tl=cr),hr=pr.x+(gr.x-pr.x)*or-Wn.x,ur=pr.y+(gr.y-pr.y)*or-Wn.y}Lr(nr,1/0,1/0);var Un=nr.Ca,Vn=nr.Ia,mr=0;nr instanceof jo&&(mr=nr.nb);var yr=Vn.width+mr,br=Vn.height+mr;Zn.reset(),Zn.translate(-Un.x,-Un.y),Zn.scale(nr.scale,nr.scale),Zn.rotate(ar===Qf?nr.angle:dr,yr/2,br/2);var xr=new T(0,0,yr,br);tr.iu(xr,sr),Zn.xb(tr);var wr=-tr.x+mr/2,kr=-tr.y+mr/2;er.assign(lr),isNaN(er.x)&&(er.x=rr>=0?yr/2+3:-(yr/2+3)),isNaN(er.y)&&(er.y=-(br/2+3)),er.rotate(dr),hr+=er.x,ur+=er.y,xr.set(Un),xr.x=hr+wr,xr.y=ur+kr,this.Ig.add(xr),Kn.fi(xr)}}if(this.Fe)for(var Tr=this.Sf;Tr.next();)Lr(Tr.value,1/0,1/0);this.Pi=Kn;var $r=this.Mh;$r.m($r.x+Kn.x,$r.y+Kn.y),$(r,Kn.width||0,Kn.height||0),Uh.cf(Zn),Uh.v(tr),Uh.v(er)}break;case"Grid":break;case"TableRow":case"TableColumn":Uh.k(this.toString()+" is not an element of a Table Panel. TableRow and TableColumn Panels can only be elements of a Table Panel.");break;default:Uh.k("Unknown panel type: "+c)}}var Cr=r.width,Mr=r.height,Sr=this.padding,Pr=Sr.top+Sr.bottom,Cr=Cr+(Sr.left+Sr.right),Mr=Mr+Pr;isFinite(o.width)&&(Cr=o.width),isFinite(o.height)&&(Mr=o.height),Cr=Math.min(a.width,Cr),Mr=Math.min(a.height,Mr),Cr=Math.max(s.width,Cr),Mr=Math.max(s.height,Mr),Cr=Math.max(i,Cr),Mr=Math.max(n,Mr),r.width=Cr,r.height=Mr,$(this.Qc,Cr,Mr),Or(this,0,0,Cr,Mr)},uo.prototype.findMainElement=uo.prototype.af=function(){if(null===this.Cm){var t=this.Aa.n,e=t.length;if(0===e)return null;for(var i=0;e>i;i++){var n=t[i];if(!0===n.Rf)return this.Cm=n}this.Cm=t[0]}return this.Cm},uo.prototype.Ri=function(t,e,i,n){var r=this.Pi,o=this.Aa.n,s=Uh.lk(0,0,0,0);if(0===o.length){var a=this.Y;a.x=t,a.y=e,a.width=i,a.height=n}else{if(!this.ya.K()){var l=Kr(this,!0),h=this.Zc,u=h.width,c=h.height,f=this.margin,d=f.left+f.right,p=f.top+f.bottom;switch(u===i&&c===n&&(l=Xc),l){case Xc:(u>i||c>n)&&(this.Q(),Lr(this,u>i?i:u,c>n?n:c));break;case ef:this.Q(!0),Lr(this,i+d,n+p,0,0);break;case tf:this.Q(!0),Lr(this,i+d,c+p,0,0);break;case Zc:this.Q(!0),Lr(this,u+d,n+p,0,0)}}a=this.Y,a.x=t,a.y=e,a.width=i,a.height=n;var g=this.ja.Pb;switch(g){case"Position":for(var v=o.length,m=r.x-this.padding.left,y=r.y-this.padding.top,x=0;v>x;x++){var w=o[x],k=w.Ca,$=w.margin,C=w.position.x,M=w.position.y;if(s.x=isNaN(C)?-m:C-m,s.y=isNaN(M)?-y:M-y,w instanceof jo){var S=w;if(S.EE){var D=S.nb/2;s.x-=D,s.y-=D}}s.x+=$.left,s.y+=$.top,s.width=k.width,s.height=k.height,w.visible&&w.Dc(s.x,s.y,s.width,s.height)}break;case"Vertical":for(var A=o.length,E=this.padding.left,N=this.padding.top,_=0;A>_;_++){var j=E,O=o[_];if(O.visible){var I=O.Ca,L=O.margin,F=L.left+L.right,z=E+this.padding.right,q=I.width,R=Kr(O,!1);(isNaN(O.ya.width)&&R===ef||R===tf)&&(q=Math.max(r.width-F-z,0));var H=q+F+z,B=O.alignment;B.Uc()&&(B=this.ml),B.fd()||(B=ou),O.Dc(j+B.offsetX+L.left+(r.width*B.x-H*B.x),N+B.offsetY+L.top,q,I.height),N+=I.height+L.bottom+L.top}}break;case"Horizontal":for(var V=o.length,U=this.padding.top,G=this.padding.left,W=0;V>W;W++){var K=U,Y=o[W];if(Y.visible){var J=Y.Ca,X=Y.margin,Q=X.top+X.bottom,Z=U+this.padding.bottom,te=J.height,ee=Kr(Y,!1);(isNaN(Y.ya.height)&&ee===ef||ee===Zc)&&(te=Math.max(r.height-Q-Z,0));var ie=te+Q+Z,ne=Y.alignment;ne.Uc()&&(ne=this.ml),ne.fd()||(ne=ou),Y.Dc(G+ne.offsetX+X.left,K+ne.offsetY+X.top+(r.height*ne.y-ie*ne.y),J.width,te),G+=J.width+X.left+X.right}}break;case"Spot":var re=o.length,oe=this.af(),se=oe.Ca,ae=se.width,le=se.height,he=this.padding,ue=he.left,ce=he.top;s.x=ue-r.x,s.y=ce-r.y,oe.Dc(s.x,s.y,ae,le);for(var fe=0;re>fe;fe++){var de=o[fe];if(de!==oe){var pe=de.Ca,ge=pe.width,ve=pe.height,me=de.alignment;me.Uc()&&(me=this.ml),me.fd()||(me=ou);var ye=de.Wj;ye.Uc()&&(ye=ou),s.x=me.x*ae+me.offsetX-(ye.x*ge-ye.offsetX),s.y=me.y*le+me.offsetY-(ye.y*ve-ye.offsetY),s.x-=r.x,s.y-=r.y,de.visible&&de.Dc(ue+s.x,ce+s.y,ge,ve)}}break;case"Auto":var be=o.length,xe=this.af(),we=xe.Ca,ke=Uh.ag();ke.m(0,0,1,1);var Te=xe.margin,$e=Te.left,Ce=Te.top,Me=this.padding,Se=Me.left,Pe=Me.top;s.x=$e,s.y=Ce,s.width=we.width,s.height=we.height,xe.Dc(Se+s.x,Pe+s.y,s.width,s.height);var De=$o(xe),Ae=Co(xe),Ee=0+De.y*we.height+De.offsetY,Ne=0+Ae.x*we.width+Ae.offsetX,_e=0+Ae.y*we.height+Ae.offsetY;ke.x=0+De.x*we.width+De.offsetX,ke.y=Ee,P(ke,Ne,_e,0,0),ke.x+=$e+Se,ke.y+=Ce+Pe;for(var je=0;be>je;je++){var Oe=o[je];if(Oe!==xe){var Ie=Oe.Ca,Te=Oe.margin,Le=Math.max(Ie.width+Te.right+Te.left,0),Fe=Math.max(Ie.height+Te.top+Te.bottom,0),ze=Oe.alignment;ze.Uc()&&(ze=this.ml),ze.fd()||(ze=ou),s.x=ke.width*ze.x+ze.offsetX-Le*ze.x+Te.left+ke.x,s.y=ke.height*ze.y+ze.offsetY-Fe*ze.y+Te.top+ke.y,s.width=ke.width,s.height=ke.height,Oe.visible&&(Xh(ke.x,ke.y,ke.width,ke.height,s.x,s.y,Ie.width,Ie.height)?Oe.Dc(s.x,s.y,Ie.width,Ie.height):Oe.Dc(s.x,s.y,Ie.width,Ie.height,new T(ke.x,ke.y,ke.width,ke.height)))}}Uh.ic(ke);break;case"Table":for(var qe=o.length,Re=this.padding,He=Re.left,Be=Re.top,Ve=this.ls,Ue=0,Ge=0,We=Ve.length,Ke=0,Ye=0;We>Ye;Ye++)Ve[Ye]&&(Ke=Math.max(Ke,Ve[Ye].length));for(var Je=Math.min(this.Oi,We-1);Je!==We&&(void 0===this.Ld[Je]||0===this.Ld[Je].fb);)Je++;for(var Je=Math.min(Je,We-1),Xe=-this.Ld[Je].Ya,Qe=Math.min(this.Ai,Ke-1);Qe!==Ke&&(void 0===this.Gd[Qe]||0===this.Gd[Qe].fb);)Qe++;for(var Qe=Math.min(Qe,Ke-1),Ze=-this.Gd[Qe].Ya,ti=Uh.Ol(),Ye=0;We>Ye;Ye++)if(Ve[Ye])for(var Ke=Ve[Ye].length,ei=this.ed(Ye),Ge=ei.Ya+Xe+Be+ei.RD(),ii=0;Ke>ii;ii++)if(Ve[Ye][ii])for(var ni=this.dd(ii),Ue=ni.Ya+Ze+He+ni.RD(),ri=Ve[Ye][ii],oi=ri.length,si=0;oi>si;si++){var ai=ri[si],li=ai.Ca,hi=ai instanceof uo?ai:null;if(null===hi||hi.type!==pf&&hi.type!==gf){ti.m(0,0);for(var ui=1;ui<ai.rowSpan&&!(Ye+ui>=this.Lp);ui++){var ci=this.ed(Ye+ui);ti.height+=ci.total}for(ui=1;ui<ai.aH&&!(ii+ui>=this.Xo);ui++){var fi=this.dd(ii+ui);ti.width+=fi.total}var di=ni.fb+ti.width,pi=ei.fb+ti.height;s.x=Ue,s.y=Ge,s.width=di,s.height=pi;var gi=Ue,vi=Ge,mi=di,yi=pi;Ue+di>r.width&&(mi=Math.max(r.width-Ue,0)),Ge+pi>r.height&&(yi=Math.max(r.height-Ge,0));var bi=ai.alignment,xi=0,wi=0,ki=0,Ti=0;if(bi.Uc()){bi=this.ml,bi.fd()||(bi=ou);var xi=bi.x,wi=bi.y,ki=bi.offsetX,Ti=bi.offsetY,$i=ni.alignment,Ci=ei.alignment;$i.fd()&&(xi=$i.x,ki=$i.offsetX),Ci.fd()&&(wi=Ci.y,Ti=Ci.offsetY)}else xi=bi.x,wi=bi.y,ki=bi.offsetX,Ti=bi.offsetY;(isNaN(xi)||isNaN(wi))&&(wi=xi=.5,Ti=ki=0);var Mi=li.width,Si=li.height,Pi=ai.margin,Di=Pi.left+Pi.right,Ai=Pi.top+Pi.bottom,Ei=Yr(ai,ei,ni,!1);!isNaN(ai.ya.width)||Ei!==ef&&Ei!==tf||(Mi=Math.max(di-Di,0)),!isNaN(ai.ya.height)||Ei!==ef&&Ei!==Zc||(Si=Math.max(pi-Ai,0));var Ni=ai.jf,_i=ai.zg,Mi=Math.min(Ni.width,Mi),Si=Math.min(Ni.height,Si),Mi=Math.max(_i.width,Mi),Si=Math.max(_i.height,Si),ji=Si+Ai;s.x+=s.width*xi-(Mi+Di)*xi+ki+Pi.left,s.y+=s.height*wi-ji*wi+Ti+Pi.top,ai.visible&&(Xh(gi,vi,mi,yi,s.x,s.y,li.width,li.height)?ai.Dc(s.x,s.y,Mi,Si):ai.Dc(s.x,s.y,Mi,Si,new T(gi,vi,mi,yi)))}else{ai.wi(),ai.mc.Oa();var Oi=ai.mc;Oi.x=hi.type===pf?He:Ue,Oi.y=hi.type===gf?Be:Ge,Oi.width=li.width,Oi.height=li.height,ai.mc.freeze(),ro(ai,!1)}}for(Uh.ck(ti),Ye=0;qe>Ye;Ye++)ai=o[Ye],hi=ai instanceof uo?ai:null,null===hi||hi.type!==pf&&hi.type!==gf||(Oi=ai.mc,ai.Qc.Oa(),ai.Qc.m(0,0,Oi.width,Oi.height),ai.Qc.freeze());break;case"Viewbox":var Ii=o[0],Li=Ii.Ca,Fi=Ii.margin,zi=Fi.top+Fi.bottom,qi=Math.max(Li.width+(Fi.right+Fi.left),0),Ri=Math.max(Li.height+zi,0),Hi=Ii.alignment;Hi.Uc()&&(Hi=this.ml),Hi.fd()||(Hi=ou),s.x=r.width*Hi.x-qi*Hi.x+Hi.offsetX,s.y=r.height*Hi.y-Ri*Hi.y+Hi.offsetY,s.width=Li.width,s.height=Li.height,Ii.Dc(s.x,s.y,s.width,s.height);break;case"Link":var Bi=o.length,Vi=this instanceof _s?this.Yg:this;if(Vi instanceof Ws){var Ui=this instanceof _s?null:Vi.path;if(null!==this.Ig){var Gi=this.Ig.n,Wi=0;if(null!==Ui&&Wi<this.Ig.count){var Ki=Gi[Wi];Wi++,Ui.Dc(Ki.x-this.Pi.x,Ki.y-this.Pi.y,Ki.width,Ki.height)}for(var Yi=0;Bi>Yi;Yi++){var Ji=o[Yi];Ji!==Ui&&Wi<this.Ig.count&&(Ki=Gi[Wi],Wi++,Ji.Dc(Ki.x-this.Pi.x,Ki.y-this.Pi.y,Ki.width,Ki.height))}}var Xi=Vi.points,Qi=Xi.count;if(Qi>=2&&this.Fe)for(var Zi=this.Sf;Zi.next();){var tn=Zi.value,en=Qi,nn=Xi,rn=tn.we,on=tn.Ex,sn=tn.Wj,an=tn.fu,ln=tn.rF,hn=0,un=0,cn=0;if(-en>rn||rn>=en){var fn=this.TE,dn=this.SE;an!==Qf&&(cn=this.computeAngle(tn,an,dn),tn.angle=cn),hn=fn.x,un=fn.y}else{var pn=void 0,gn=void 0;if(rn>=0)pn=nn.n[rn],gn=en-1>rn?nn.n[rn+1]:pn;else var vn=en+rn,pn=nn.n[vn],gn=vn>0?nn.n[vn-1]:pn;dn=rn>=0?pn.dh(gn):gn.dh(pn),an!==Qf&&(cn=this.computeAngle(tn,an,dn),tn.angle=cn),hn=pn.x+(gn.x-pn.x)*on,un=pn.y+(gn.y-pn.y)*on}if(sn.L(Zh))tn.location=new b(hn,un);else{sn.te()&&(sn=ou);var mn=Uh.th();mn.reset(),mn.scale(tn.scale,tn.scale),mn.rotate(tn.angle,0,0);var yn=tn.Ia,bn=Uh.lk(0,0,yn.width,yn.height),xn=Uh.M();xn.iu(bn,sn),mn.xb(xn);var wn=-xn.x,kn=-xn.y,Tn=ln.copy();isNaN(Tn.x)&&(Tn.x=rn>=0?xn.x+3:-(xn.x+3)),isNaN(Tn.y)&&(Tn.y=-(xn.y+3)),Tn.rotate(dn),hn+=Tn.x,un+=Tn.y,mn.NF(bn);var wn=wn+bn.x,kn=kn+bn.y,$n=Uh.Sb(hn+wn,un+kn);tn.move($n),Uh.v($n),Uh.v(xn),Uh.ic(bn),Uh.cf(mn)}}this instanceof _s?this.dn(!1):Vi.dn(!1)}break;case"Grid":break;case"TableRow":case"TableColumn":Uh.k(this.toString()+" is not an element of a Table Panel.TableRow and TableColumn panels can only be elements of a Table Panel.");break;default:Uh.k("Unknown panel type: "+g)}Uh.ic(s)}},uo.prototype.Yj=function(t){var e=this.Ia;if(Xh(0,0,e.width,e.height,t.x,t.y)){for(var e=this.Aa.n,i=e.length,n=Uh.Sb(0,0);i--;){var r=e[i];if((r.visible||r===this.bc)&&(w(n.set(t),r.transform),r.Ga(n)))return Uh.v(n),!0}return Uh.v(n),null===this.Kb&&null===this.nc?!1:!0}return!1},uo.prototype.Rw=function(t){if(this.yn===t)return this;for(var e=this.Aa.n,i=e.length,n=0;i>n;n++){var r=e[n].Rw(t);if(null!==r)return r}return null},uo.prototype.walkVisualTree=uo.prototype.HJ=function(t){xo(this,this,t)},uo.prototype.findInVisualTree=uo.prototype.lt=function(t){return wo(this,this,t)},uo.prototype.findObject=uo.prototype.ae=function(t){if(this.name===t)return this;for(var e=this.Aa.n,i=e.length,n=0;i>n;n++){var r=e[n];if(r.name===t)return r;if(r instanceof uo)if(null===r.wj&&null===r.gg){if(r=r.ae(t),null!==r)return r}else if(Po(r)&&(r=r.Aa.first(),null!==r&&(r=r.ae(t),null!==r)))return r}return null},Bh=uo.prototype,Bh.Hg=function(){return!(this.type===pf||this.type===gf)},Bh.re=function(t,e,i){if(!1===this.Dg)return null;if(void 0===e&&(e=null),void 0===i&&(i=null),no(this))return null;var n=this.Ia,r=1/this.Yi(),o=this.Hg(),s=o?t:w(Uh.Sb(t.x,t.y),this.transform),a=this.g,l=10,h=5;if(null!==a&&(l=a.hp("extraTouchArea"),h=l/2),Xh(-(h*r),-(h*r),n.width+l*r,n.height+l*r,s.x,s.y)){if(!this.Ng){var r=this.Aa.n,u=r.length,a=Uh.M(),h=(l=this.CE)?this.af():null;if(l&&(h.Hg()?w(a.set(t),h.transform):a.set(t),!h.Ga(a)))return Uh.v(a),o||Uh.v(s),null;for(;u--;){var c=r[u];if((c.visible||c===this.bc)&&(c.Hg()?w(a.set(t),c.transform):a.set(t),!l||c!==h)){var f=null;if(c instanceof uo?f=c.re(a,e,i):!0===c.Dg&&c.Ga(a)&&(f=c),null!==f&&(null!==e&&(f=e(f)),null!==f&&(null===i||i(f))))return Uh.v(a),o||Uh.v(s),f}}Uh.v(a)}return null===this.background&&null===this.Im?(o||Uh.v(s),null):(t=Xh(0,0,n.width,n.height,s.x,s.y)?this:null,o||Uh.v(s),t)}return o||Uh.v(s),null},Bh.pt=function(t,e,i,n){if(!1===this.Dg)return!1;void 0===e&&(e=null),void 0===i&&(i=null),n instanceof u||n instanceof f||(n=new u(Er));var r=this.Ia,o=this.Hg(),s=o?t:w(Uh.Sb(t.x,t.y),this.transform);if(Xh(0,0,r.width,r.height,s.x,s.y)){if(!this.Ng){for(var r=this.Aa.n,a=r.length,l=Uh.M();a--;){var h=r[a];if(h.visible||h===this.bc){h.Hg()?w(l.set(t),h.transform):l.set(t);var c=h,h=h instanceof uo?h:null;(null!==h?h.pt(l,e,i,n):c.Ga(l))&&!1!==c.Dg&&(null!==e&&(c=e(c)),null===c||null!==i&&!i(c)||n.add(c))}}Uh.v(l)}return o||Uh.v(s),null!==this.background||null!==this.Im}return o||Uh.v(s),!1},Bh.bk=function(t,e,i,n,r,o){if(!1===this.Dg)return!1;void 0===e&&(e=null),void 0===i&&(i=null);var s=o;if(void 0===o&&(s=Uh.th(),s.reset()),s.multiply(this.transform),this.Nm(t,s))return To(this,e,i,r),void 0===o&&Uh.cf(s),!0;if(this.xg(t,s)){if(!this.Ng)for(var a=this.Aa.n,l=a.length;l--;){var h=a[l];if(h.visible||h===this.bc){var u=h.Y,c=this.Ia;u.x>c.width||u.y>c.height||0>u.x+u.width||0>u.y+u.height||(u=h,h=h instanceof uo?h:null,c=Uh.th(),c.set(s),(null!==h?h.bk(t,e,i,n,r,c):Ir(u,t,n,c))&&(null!==e&&(u=e(u)),null===u||null!==i&&!i(u)||r.add(u)),Uh.cf(c))}}return void 0===o&&Uh.cf(s),n}return void 0===o&&Uh.cf(s),!1},Bh.Um=function(t,e,i,n,r,o){if(!1===this.Dg)return!1;void 0===i&&(i=null),void 0===n&&(n=null);var s=this.Ia,a=this.Hg(),l=a?t:w(Uh.Sb(t.x,t.y),this.transform),h=a?e:w(Uh.Sb(e.x,e.y),this.transform),u=l.$j(h),c=0<l.x&&l.x<s.width&&0<l.y&&l.y<s.height||Kh(l.x,l.y,0,0,0,s.height)<u||Kh(l.x,l.y,0,s.height,s.width,s.height)<u||Kh(l.x,l.y,s.width,s.height,s.width,0)<u||Kh(l.x,l.y,s.width,0,0,0)<u,s=0<l.x&&l.x<s.width&&0<l.y&&l.y<s.height&&Kh(l.x,l.y,0,0,0,s.height)<u&&Kh(l.x,l.y,0,s.height,s.width,s.height)<u&&Kh(l.x,l.y,s.width,s.height,s.width,0)<u&&Kh(l.x,l.y,s.width,0,0,0)<u;if(a||(Uh.v(l),Uh.v(h)),c){if(!this.Ng){for(a=Uh.M(),l=Uh.M(),h=this.Aa.n,u=h.length;u--;){var f=h[u];
if(f.visible||f===this.bc){var d=f.Y,p=this.Ia;d.x>p.width||d.y>p.height||0>d.x+d.width||0>d.y+d.height||(f.Hg()?(d=f.transform,w(a.set(t),d),w(l.set(e),d)):(a.set(t),l.set(e)),d=f,f=f instanceof uo?f:null,null!==f?!f.Um(a,l,i,n,r,o):!d.kE(a,l,r))||(null!==i&&(d=i(d)),null===d||null!==n&&!n(d)||o.add(d))}}Uh.v(a),Uh.v(l)}return r?c:s}return!1},uo.prototype.add=uo.prototype.add=function(t){Uh.A(t,Er,uo,"add:element"),this.Cd(this.Aa.count,t)},uo.prototype.elt=uo.prototype.ha=function(t){return this.Aa.ha(t)},uo.prototype.insertAt=uo.prototype.Cd=function(t,e){e instanceof fs&&Uh.k("Cannot add a Part to a Panel: "+e),(this===e||this.Bl(e))&&(this===e&&Uh.k("Cannot make a Panel contain itself: "+this.toString()),Uh.k("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+e.toString()));var i=e.T;if(null!==i&&i!==this&&Uh.k("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+e.toString()+", already contained by "+i.toString()+", cannot be shared by this Panel: "+this.toString()),this.ja!==mf||e instanceof jo||Uh.k("Can only add Shapes to a Grid Panel, not: "+e),e.Kl(this),e.sm=null,null!==this.LE){var n=e.data;null!==n&&"object"==typeof n&&(null===this.fg&&(this.fg=new y(Object,uo)),this.fg.add(n,e))}var r=this.Aa,n=-1;if(i===this){for(var o=-1,s=this.Aa.n,a=s.length,l=0;a>l;l++)if(s[l]===e){o=l;break}if(-1!==o){if(o===t||o+1>=r.count&&t>=r.count)return;r.Vc(o),n=o}else Uh.k("element "+e.toString()+" has panel "+i.toString()+" but is not contained by it.")}(0>t||t>r.count)&&(t=r.count),r.Cd(t,e),this.Q(),e.Q(),null!==e.Sd?this.Gh=!0:e instanceof uo&&!0===e.Gh&&(this.Gh=!0),i=this.aa,null!==i&&(i.om=null,i.Bj=0/0,this.Gh&&i instanceof js&&(i.Gh=!0),i.Gh&&(i.Wd=null),r=this.g,null!==r&&r.ma.lb||(-1!==n&&i.Lc(Yu,"elements",this,e,null,n,null),i.Lc(Ku,"elements",this,null,e,null,t)))},uo.prototype.remove=uo.prototype.remove=function(t){Uh.A(t,Er,uo,"remove:element");for(var e=this.Aa.n,i=e.length,n=-1,r=0;i>r;r++)if(e[r]===t){n=r;break}-1!==n&&this.Pe(n)},uo.prototype.removeAt=uo.prototype.Vc=function(t){t>=0&&this.Pe(t)},uo.prototype.Pe=function(t){var e=this.Aa,i=e.ha(t);if(i.sm=null,i.Kl(null),null!==this.fg){var n=i.data;"object"==typeof n&&this.fg.remove(n)}e.Vc(t),io(this,!1),this.Q(),this.Cm===i&&(this.Cm=null),e=this.aa,null!==e&&(e.om=null,e.Bj=0/0,n=this.g,null!==n&&n.ma.lb||e.Lc(Yu,"elements",this,i,null,t,null))},Uh.u(uo,{Lp:"rowCount"},function(){return void 0===this.Ld?0:this.Ld.length}),uo.prototype.getRowDefinition=uo.prototype.ed=function(t){0>t&&Uh.wa(t,">= 0",uo,"getRowDefinition:idx"),t=Math.round(t);var e=this.Ld;if(void 0===e[t]){var i=new No;i.Kl(this),i.de=!0,i.index=t,e[t]=i}return e[t]},uo.prototype.removeRowDefinition=uo.prototype.fF=function(t){0>t&&Uh.wa(t,">= 0",uo,"removeRowDefinition:idx"),t=Math.round(t);var e=this.Ld;this.Lc(Yu,"coldefs",this,e[t],null,t,null),e[t]&&delete e[t],this.Q()},Uh.u(uo,{Xo:"columnCount"},function(){return void 0===this.Gd?0:this.Gd.length}),uo.prototype.getColumnDefinition=uo.prototype.dd=function(t){0>t&&Uh.wa(t,">= 0",uo,"getColumnDefinition:idx"),t=Math.round(t);var e=this.Gd;if(void 0===e[t]){var i=new No;i.Kl(this),i.de=!1,i.index=t,e[t]=i}return e[t]},uo.prototype.removeColumnDefinition=uo.prototype.bF=function(t){0>t&&Uh.wa(t,">= 0",uo,"removeColumnDefinition:idx"),t=Math.round(t);var e=this.Gd;this.Lc(Yu,"coldefs",this,e[t],null,t,null),e[t]&&delete e[t],this.Q()},Uh.defineProperty(uo,{fJ:"rowSizing"},function(){return void 0===this.ym?kf:this.ym},function(t){if(void 0!==this.ym){var e=this.ym;e!==t&&(t!==kf&&t!==wf&&Uh.k("Panel.rowSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: "+t),this.ym=t,this.Q(),this.h("rowSizing",e,t))}}),Uh.defineProperty(uo,{$G:"columnSizing"},function(){return void 0===this.Xl?kf:this.Xl},function(t){if(void 0!==this.Xl){var e=this.Xl;e!==t&&(t!==kf&&t!==wf&&Uh.k("Panel.columnSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: "+t),this.Xl=t,this.Q(),this.h("columnSizing",e,t))}}),Uh.defineProperty(uo,{GL:"topIndex"},function(){return void 0===this.Oi?0:this.Oi},function(t){if(void 0!==this.Oi){var e=this.Oi;e!==t&&((!isFinite(t)||0>t)&&Uh.k("Panel.topIndex must be greater than zero and a real number, not: "+t),this.Oi=t,this.Q(),this.h("topIndex",e,t))}}),Uh.defineProperty(uo,{QK:"leftIndex"},function(){return void 0===this.Ai?0:this.Ai},function(t){if(void 0!==this.Ai){var e=this.Ai;e!==t&&((!isFinite(t)||0>t)&&Uh.k("Panel.leftIndex must be greater than zero and a real number, not: "+t),this.Ai=t,this.Q(),this.h("leftIndex",e,t))}}),uo.prototype.findRowForLocalY=function(t){if(0>t)return-1;if(this.type!==df)return 0/0;for(var e=0,i=this.Ld,n=i.length,r=this.Oi;n>r;r++){var o=i[r];if(void 0!==o&&(e+=o.total,e>t))return r}return-1},uo.prototype.findColumnForLocalX=function(t){if(0>t)return-1;if(this.type!==df)return 0/0;for(var e=0,i=this.Gd,n=i.length,r=this.Ai;n>r;r++){var o=i[r];if(void 0!==o&&(e+=o.total,e>t))return r}return-1},Uh.defineProperty(uo,{data:"data"},function(){return this.je},function(t){var e=this.je;if(e!==t){var i=this instanceof fs&&!(this instanceof _s);i&&Uh.j(t,"object",uo,"data"),So(this),this.je=t;var n=this.g;null!==n&&(i?this instanceof Ws?(null!==e&&n.Ck.remove(e),null!==t&&n.Ck.add(t,this)):this instanceof fs&&(null!==e&&n.pi.remove(e),null!==t&&n.pi.add(t,this)):(i=this.T,null!==i&&null!==i.fg&&(null!==e&&i.fg.remove(e),null!==t&&i.fg.add(t,this)))),this.h("data",e,t),null!==n&&n.ma.lb||null!==t&&this.Jb()}}),Uh.defineProperty(uo,{jI:"itemIndex"},function(){return this.mr},function(t){var e=this.mr;e!==t&&(this.mr=t,this.h("itemIndex",e,t))}),uo.prototype.copyTemplate=function(){var t=this.copy();return t.HJ(function(t){t instanceof uo&&(t.zk=null,t.je=null);var e=t.sc;null!==e&&(t.sc=null,e.each(function(e){t.bind(e.copy())}))}),t},uo.prototype.updateTargetBindings=uo.prototype.Jb=function(t){var e=this.zk;if(null!==e)for(void 0===t&&(t=""),e=e.i;e.next();){var i=e.value,n=i.AF;if((""===t||""===n||n===t)&&(n=i.Nx,null!==i.eH||""!==n)){var n=this.data,r=i.mn;if(null!==r)n=""===r?this:"."===r?this:".."===r?this:this.ae(r);else{var o=this.g;null!==o&&i.It&&(n=o.Z.gk)}if(null!==n){var o=this,s=i.Nl;if(-1!==s){if(o=this.Rw(s),null===o)continue}else null!==i.ng&&(o=i.ng);if("."===r?n=o:".."===r&&(n=o.T),r=i.Gs,0!==r){if(!(o instanceof uo))continue;s=o,1===r?o=s.dd(i.Jo):2===r&&(o=s.ed(i.Jo))}void 0!==o&&i.RF(o,n)}}}},Uh.defineProperty(uo,{LE:"itemArray"},function(){return this.wj},function(t){var e=this.wj;if(e!==t){var i=this.g;null!==i&&null!==e&&Hn(i,this),this.wj=t,null!==i&&null!==t&&Rn(i,this),this.h("itemArray",e,t),null!==i&&i.ma.lb||this.xA()}}),uo.prototype.rebuildItemElements=uo.prototype.xA=function(){var t=0;for(Po(this)&&(t=1);this.Aa.length>t;)this.Pe(t);if(t=this.LE,null!==t)for(var e=Uh.Xa(t),i=0;e>i;i++)Do(this,Uh.Pa(t,i),i)},uo.prototype.findItemPanelForData=uo.prototype.zH=function(t){return void 0===t||null===t||null===this.fg?null:(Uh.j(t,"object",uo,"findItemPanelForData"),this.fg.ka(t))},Uh.defineProperty(uo,{OK:"itemTemplate"},function(){return null===this.gg?null:this.gg.ka("")},function(t){if(null===this.gg){if(null===t)return;this.gg=new y("string",uo)}var e=this.gg.ka("");e!==t&&(Uh.A(t,uo,uo,"itemTemplate"),(t instanceof fs||t.Rf)&&Uh.k("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.gg.add("",t),this.h("itemTemplate",e,t),t=this.g,null!==t&&t.ma.lb||this.xA())}),Uh.defineProperty(uo,{kI:"itemTemplateMap"},function(){return this.gg},function(t){var e=this.gg;if(e!==t){Uh.A(t,y,uo,"itemTemplateMap");for(var i=t.i;i.next();){var n=i.value;(n instanceof fs||n.Rf)&&Uh.k("Template in Panel.itemTemplateMap must not be a Part or be Panel.isPanelMain: "+n)}this.gg=t,this.h("itemTemplateMap",e,t),t=this.g,null!==t&&t.ma.lb||this.xA()}}),Uh.defineProperty(uo,{NK:"itemCategoryProperty"},function(){return this.fo},function(t){var e=this.fo;e!==t&&("string"!=typeof t&&"function"!=typeof t&&Uh.Ed(t,"string or function",uo,"itemCategoryProperty"),this.fo=t,this.h("itemCategoryProperty",e,t))});var yf=!1,bf=null;Uh.defineProperty(uo,{HK:"isAtomic"},function(){return this.Ng},function(t){var e=this.Ng;e!==t&&(Uh.j(t,"boolean",uo,"isAtomic"),this.Ng=t,this.h("isAtomic",e,t))}),Uh.defineProperty(uo,{CE:"isClipping"},function(){return this.$q},function(t){var e=this.$q;e!==t&&(Uh.j(t,"boolean",uo,"isClipping"),this.$q=t,this.h("isClipping",e,t))}),Uh.ea("RowColumnDefinition",No),No.prototype.copy=function(){var t=new No;return t.vv=this.vv,t.Oc=this.Oc,t.Xe=this.Xe,t.Fj=this.Fj,t.Dj=this.Dj,t.De=this.De,t.fb=this.fb,t.Ya=this.Ya,t.Vh=this.Vh,t.zs=this.zs,t.Kj=null===this.Kj?null:this.Kj.S(),t.vs=this.vs,t.ws=this.ws,t.Oh=null,null!==this.Oh&&(t.Oh=Uh.il(this.Oh)),t.Kb=this.Kb,t.xq=this.xq,t.sc=this.sc,t},No.prototype.ht=function(t){Uh.A(t,No,No,"copyFrom:pd"),t.de?this.height=t.height:this.width=t.width,this.dj=t.dj,this.kf=t.kf,this.alignment=t.alignment,this.stretch=t.stretch,this.lu=t.lu,this.Kj=null===t.Kj?null:t.Kj.S(),this.Mp=t.Mp,this.Np=t.Np,this.Oh=null,t.Oh&&(this.Oh=Uh.il(t.Oh)),this.background=t.background,this.Hz=t.Hz,this.sc=t.sc},No.prototype.toString=function(){return"RowColumnDefinition "+(this.de?"(Row ":"(Column ")+this.index+") #"+Uh.pd(this)};var xf;No.Default=xf=Uh.p(No,"Default",0);var wf;No.None=wf=Uh.p(No,"None",1);var kf;No.ProportionalExtra=kf=Uh.p(No,"ProportionalExtra",2),No.prototype.Kl=function(t){this.Ug=t},No.prototype.computeEffectiveSpacingTop=No.prototype.RD=function(){var t=0;if(0!==this.index){var e=this.Ug,i=this.Mp;null===i&&null!==e&&(i=this.de?e.qi:e.Bh),null!==i&&(t=this.Np,isNaN(t)&&(t=null!==e?this.de?e.Dh:e.Ch:0))}if(e=this.tF,null===e){if(e=this.Ug,null===e)return t;e=e.lj}return t+(this.de?e.top:e.left)},No.prototype.computeEffectiveSpacing=No.prototype.rf=function(){var t=0;if(0!==this.index){var e=this.Ug,i=this.Mp;null===i&&null!==e&&(i=this.de?e.qi:e.Bh),null!==i&&(t=this.Np,isNaN(t)&&(t=null!==e?this.de?e.Dh:e.Ch:0))}if(e=this.tF,null===e){if(e=this.Ug,null===e)return t;e=e.lj}return t+(this.de?e.top+e.bottom:e.left+e.right)},No.prototype.ad=function(t,e,i,n,r){var o=this.Ug;if(null!==o&&(o.Lc(Wu,t,this,e,i,n,r),null!==this.sc&&(e=o.g,null!==e&&!e.xe&&(o=o.ep(),null!==o&&(o=o.data,null!==o)))))for(i=this.sc.i;i.next();)i.value.Ox(this,o,t,e)},Uh.u(No,{T:"panel"},function(){return this.Ug}),Uh.defineProperty(No,{de:"isRow"},function(){return this.vv},function(t){this.vv=t}),Uh.defineProperty(No,{index:"index"},function(){return this.Oc},function(t){this.Oc=t}),Uh.defineProperty(No,{height:"height"},function(){return this.Xe},function(t){var e=this.Xe;e!==t&&(0>t&&Uh.wa(t,">= 0",No,"height"),this.Xe=t,this.Na=this.fb,null!==this.T&&this.T.Q(),this.ad("height",e,t))}),Uh.defineProperty(No,{width:"width"},function(){return this.Xe},function(t){var e=this.Xe;e!==t&&(0>t&&Uh.wa(t,">= 0",No,"width"),this.Xe=t,this.Na=this.fb,null!==this.T&&this.T.Q(),this.ad("width",e,t))}),Uh.defineProperty(No,{dj:"minimum"},function(){return this.Fj},function(t){var e=this.Fj;e!==t&&((0>t||!isFinite(t))&&Uh.wa(t,">= 0",No,"minimum"),this.Fj=t,this.Na=this.fb,null!==this.T&&this.T.Q(),this.ad("minimum",e,t))}),Uh.defineProperty(No,{kf:"maximum"},function(){return this.Dj},function(t){var e=this.Dj;e!==t&&(0>t&&Uh.wa(t,">= 0",No,"maximum"),this.Dj=t,this.Na=this.fb,null!==this.T&&this.T.Q(),this.ad("maximum",e,t))}),Uh.defineProperty(No,{alignment:"alignment"},function(){return this.De},function(t){var e=this.De;e.L(t)||(this.De=t.S(),null!==this.T&&this.T.Q(),this.ad("alignment",e,t))}),Uh.defineProperty(No,{stretch:"stretch"},function(){return this.Vh},function(t){var e=this.Vh;e!==t&&(this.Vh=t,null!==this.T&&this.T.Q(),this.ad("stretch",e,t))}),Uh.defineProperty(No,{tF:"separatorPadding"},function(){return this.Kj},function(t){"number"==typeof t&&(t=new D(t));var e=this.Kj;null!==t&&null!==e&&e.L(t)||(null!==t&&(t=t.S()),this.Kj=t,null!==this.T&&this.T.Q(),this.ad("separatorPadding",e,t))}),Uh.defineProperty(No,{Mp:"separatorStroke"},function(){return this.vs},function(t){var e=this.vs;e!==t&&(null===t||"string"==typeof t||t instanceof Ar)&&(t instanceof Ar&&t.freeze(),this.vs=t,null!==this.T&&this.T.Q(),this.ad("separatorStroke",e,t))}),Uh.defineProperty(No,{Np:"separatorStrokeWidth"},function(){return this.ws},function(t){var e=this.ws;e!==t&&(this.ws=t,null!==this.T&&this.T.Q(),this.ad("separatorStrokeWidth",e,t))}),Uh.defineProperty(No,{kJ:"separatorDashArray"},function(){return this.Oh},function(t){var e=this.Oh;if(e!==t){if(null===t||Array.isArray(t)||Uh.Ed(t,"Array",No,"separatorDashArray:value"),null!==t){for(var i=t.length,n=0,r=0;i>r;r++){var o=t[r];"number"==typeof o&&o>=0&&isFinite(o)||Uh.k("separatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),n+=o}if(0===n){if(null===e)return;t=null}}this.Oh=t,null!==this.T&&this.T.qa(),this.ad("separatorDashArray",e,t)}}),Uh.defineProperty(No,{background:"background"},function(){return this.Kb},function(t){var e=this.Kb;e!==t&&(null===t||"string"==typeof t||t instanceof Ar)&&(t instanceof Ar&&t.freeze(),this.Kb=t,null!==this.T&&this.T.qa(),this.ad("background",e,t))}),Uh.defineProperty(No,{Hz:"coversSeparators"},function(){return this.xq},function(t){var e=this.xq;e!==t&&(Uh.j(t,"boolean",No,"coversSeparators"),this.xq=t,null!==this.T&&this.T.qa(),this.ad("coversSeparators",e,t))}),Uh.defineProperty(No,{lu:"sizing"},function(){return this.zs},function(t){var e=this.zs;e!==t&&(this.zs=t,null!==this.T&&this.T.Q(),this.ad("sizing",e,t))}),Uh.defineProperty(No,{Na:"actual"},function(){return this.fb},function(t){this.fb=isNaN(this.Xe)?Math.max(Math.min(this.Dj,t),this.Fj):Math.max(Math.min(this.Dj,this.Xe),this.Fj)}),Uh.defineProperty(No,{total:"total"},function(){return this.fb+this.rf()},function(t){this.fb=isNaN(this.Xe)?Math.max(Math.min(this.Dj,t),this.Fj):Math.max(Math.min(this.Dj,this.Xe),this.Fj),this.fb=Math.max(0,this.fb-this.rf())}),Uh.defineProperty(No,{position:"position"},function(){return this.Ya},function(t){this.Ya=t}),No.prototype.bind=No.prototype.bind=function(t){t.ng=this;var e=this.T;if(null!==e){var i=e.ep();null!==i&&Mo(i)&&Uh.k("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+t+" on "+e)}null===this.sc&&(this.sc=new u(Te)),this.sc.add(t)},Uh.Ja(jo,Er),Uh.ea("Shape",jo),jo.prototype.cloneProtected=function(t){Er.prototype.cloneProtected.call(this,t),t.Ta=this.Ta,t.Sn=this.Sn,t.Qh=this.Qh,t.Tq=this.Tq,t.Yl=this.Yl,t.td=this.td,t.Cc=this.Cc,t.Xg=this.Xg,t.Fo=this.Fo,t.Ho=this.Ho,t.Bm=this.Bm,null!==this.Go&&(t.Go=Uh.il(this.Go)),t.nd=this.nd,t.Li=this.Li.S(),t.Mi=this.Mi.S(),t.Tr=this.Tr,t.Ur=this.Ur,t.ar=this.ar,t.Wr=this.Wr,t.Lo=this.Lo,t.Vn=this.Vn,t.Yq=this.Yq},jo.prototype.toString=function(){return"Shape("+("None"!==this.Cb?this.Cb:"None"!==this.Tp?this.Tp:this.Nz)+")#"+Uh.pd(this)},jo.prototype.ak=function(t,e){if(null!==this.Cc||null!==this.td){null!==this.td&&Vr(this,t,this.td,!0,!1),null!==this.Cc&&Vr(this,t,this.Cc,!1,!1);var i=this.Xg;if(0===i){var n=this.aa;n instanceof _s&&n.type===vf&&"Selection"===n.Ec&&n.gc instanceof jo&&n.Yg.af()===n.gc&&(i=n.gc.nb)}t.lineWidth=i,t.lineJoin=this.Ho,t.lineCap=this.Fo,t.miterLimit=this.Bm;var r=!1;this.aa&&e.ek("drawShadows")&&(r=this.aa.Dl);var o=!0;null!==this.Cc&&null===this.td&&(o=!1);var n=!1,s=!0,a=this.CF;null!==a&&(n=!0,void 0!==t.setLineDash?(t.setLineDash(a),t.lineDashOffset=this.nd):void 0!==t.webkitLineDash?(t.webkitLineDash=a,t.webkitLineDashOffset=this.nd):void 0!==t.mozDash?(t.mozDash=a,t.mozDashOffset=this.nd):s=!1);var l=this.Ta;if(null!==l){if(l.ja===ju)t.beginPath(),n&&!s?_r(t,l.wc,l.Bc,l.yb,l.Db,a,this.nd):(t.moveTo(l.wc,l.Bc),t.lineTo(l.yb,l.Db)),null!==this.td&&Hr(t,this.td),0!==i&&null!==this.Cc&&Br(t);else if(l.ja===Ou){var h=l.wc,u=l.Bc,c=l.yb,f=l.Db,l=Math.min(h,c),d=Math.min(u,f),h=Math.abs(c-h),u=Math.abs(f-u);if(null!==this.td&&(t.beginPath(),t.rect(l,d,h,u),Hr(t,this.td)),null!==this.Cc){var p=c=0,g=0;o&&r&&(c=t.shadowOffsetX,p=t.shadowOffsetY,g=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),n&&!s?(s=Uh.mb(),s.push(l),s.push(d),s.push(l+h),s.push(d),s.push(l+h),s.push(d+u),s.push(l),s.push(d+u),s.push(l),s.push(d),t.beginPath(),Io(t,s,a,this.nd),Br(t),Uh.ta(s)):0!==i&&(t.beginPath(),t.rect(l,d,h,u),Br(t)),o&&r&&(t.shadowOffsetX=c,t.shadowOffsetY=p,t.shadowBlur=g)}}else if(l.ja===Iu)h=l.wc,u=l.Bc,c=l.yb,f=l.Db,l=Math.abs(c-h)/2,d=Math.abs(f-u)/2,h=Math.min(h,c)+l,u=Math.min(u,f)+d,t.beginPath(),t.moveTo(h,u-d),t.bezierCurveTo(h+_u.Da*l,u-d,h+l,u-_u.Da*d,h+l,u),t.bezierCurveTo(h+l,u+_u.Da*d,h+_u.Da*l,u+d,h,u+d),t.bezierCurveTo(h-_u.Da*l,u+d,h-l,u+_u.Da*d,h-l,u),t.bezierCurveTo(h-l,u-_u.Da*d,h-_u.Da*l,u-d,h,u-d),t.closePath(),null!==this.td&&Hr(t,this.td),n&&!s&&(s=Uh.mb(),_u.pe(h,u-d,h+_u.Da*l,u-d,h+l,u-_u.Da*d,h+l,u,.5,s),_u.pe(h+l,u,h+l,u+_u.Da*d,h+_u.Da*l,u+d,h,u+d,.5,s),_u.pe(h,u+d,h-_u.Da*l,u+d,h-l,u+_u.Da*d,h-l,u,.5,s),_u.pe(h-l,u,h-l,u-_u.Da*d,h-_u.Da*l,u-d,h,u-d,.5,s),t.beginPath(),Io(t,s,a,this.nd),Uh.ta(s)),0!==i&&null!==this.Cc&&(g=p=c=0,o&&r&&(c=t.shadowOffsetX,p=t.shadowOffsetY,g=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),Br(t),o&&r&&(t.shadowOffsetX=c,t.shadowOffsetY=p,t.shadowBlur=g));else if(l.ja===Lu){for(d=l.nj,u=d.length,f=0;u>f;f++){h=d.n[f],t.beginPath(),t.moveTo(h.za,h.xa);for(var c=h.vb.n,p=c.length,v=null,g=0;p>g;g++){var m=c[g];switch(m.ja){case qu:t.moveTo(m.I,m.J);break;case Ru:t.lineTo(m.I,m.J);break;case Hu:t.bezierCurveTo(m.vd,m.Je,m.Vg,m.mg,m.yb,m.Db);break;case Bu:t.quadraticCurveTo(m.vd,m.Je,m.yb,m.Db);break;case Vu:if(m.radiusX===m.radiusY)v=Math.PI/180,t.arc(m.vd,m.Je,m.radiusX,m.ye*v,(m.ye+m.Bf)*v,0>m.Bf);else{var v=Q(m,h),y=v.length;if(0===y){t.lineTo(m.oa,m.va);break}for(var b=0;y>b;b++){var x=v[b];0===b&&t.lineTo(x[0],x[1]),t.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7])}}break;case Uu:if(b=y=0,null!==v&&v.type===Vu){if(v=Q(v,h),x=v.length,0===x){t.lineTo(m.oa,m.va);break}v=v[x-1]||null,null!==v&&(y=v[6],b=v[7])}else y=null!==v?v.I:h.za,b=null!==v?v.J:h.xa;if(v=Z(m,h,y,b),y=v.length,0===y){t.lineTo(m.oa,m.va);break}for(b=0;y>b;b++)x=v[b],t.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7]);break;default:Uh.k("Segment not of valid type: "+m.ja)}m.Ih&&t.closePath(),v=m}r?(g=p=c=0,h.bo?(!0===h.bm&&null!==this.td?(Hr(t,this.td),o=!0):o=!1,0!==i&&null!==this.Cc&&(o&&(c=t.shadowOffsetX,p=t.shadowOffsetY,g=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),n&&!s||Br(t),o&&(t.shadowOffsetX=c,t.shadowOffsetY=p,t.shadowBlur=g))):(o&&(c=t.shadowOffsetX,p=t.shadowOffsetY,g=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),!0===h.bm&&null!==this.td&&Hr(t,this.td),0!==i&&null!==this.Cc&&(n&&!s||Br(t)),o&&(t.shadowOffsetX=c,t.shadowOffsetY=p,t.shadowBlur=g))):(!0===h.bm&&null!==this.td&&Hr(t,this.td),0===i||null===this.Cc||n&&!s||Br(t))}if(n&&!s)for(i=o,o=l.nj,s=o.length,l=0;s>l;l++){for(d=o.n[l],t.beginPath(),u=Uh.mb(),u.push(d.za),u.push(d.xa),f=d.za,h=d.xa,c=f,p=h,g=d.vb.n,m=g.length,v=0;m>v;v++){switch(y=g[v],y.ja){case qu:Io(t,u,a,this.nd),u.length=0,u.push(y.I),u.push(y.J),f=y.I,h=y.J,c=f,p=h;break;case Ru:u.push(y.I),u.push(y.J),f=y.I,h=y.J;break;case Hu:_u.pe(f,h,y.vd,y.Je,y.Vg,y.mg,y.yb,y.Db,.5,u),f=y.I,h=y.J;break;case Bu:_u.Ep(f,h,y.vd,y.Je,y.yb,y.Db,.5,u),f=y.I,h=y.J;break;case Vu:if(b=Q(y,d),x=b.length,0===x){u.push(y.oa),u.push(y.va),f=y.oa,h=y.va;break}for(var w=0;x>w;w++){var k=b[w];_u.pe(f,h,k[2],k[3],k[4],k[5],k[6],k[7],.5,u),f=k[6],h=k[7]}break;case Uu:if(b=Z(y,d,f,h),x=b.length,0===x){u.push(y.oa),u.push(y.va),f=y.oa,h=y.va;break}for(w=0;x>w;w++)k=b[w],_u.pe(f,h,k[2],k[3],k[4],k[5],k[6],k[7],.5,u),f=k[6],h=k[7];break;default:Uh.k("Segment not of valid type: "+y.ja)}y.Ih&&(u.push(c),u.push(p),Io(t,u,a,this.nd))}Io(t,u,a,this.nd),Uh.ta(u),null!==this.Cc&&(f=u=d=0,i&&r&&(d=t.shadowOffsetX,u=t.shadowOffsetY,f=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),Br(t),i&&r&&(t.shadowOffsetX=d,t.shadowOffsetY=u,t.shadowBlur=f))}}if(n&&(void 0!==t.setLineDash?(t.setLineDash(Uh.wh),t.lineDashOffset=0):void 0!==t.webkitLineDash?(t.webkitLineDash=Uh.wh,t.webkitLineDashOffset=0):void 0!==t.mozDash&&(t.mozDash=null,t.mozDashOffset=0)),null!==this.tx){if(n=this.tx,Lr(n,1/0,1/0),a=n.Ca,n.Dc(0,0,a.width,a.height),i=this.sl,t.save(),t.beginPath(),a=Uh.mb(),i.type===ju)a.push(i.za),a.push(i.xa),a.push(i.I),a.push(i.J),Oo(t,e,a,n);else if(i.type===Lu)for(s=i.Wb.i;s.next();){for(l=s.value,a.length=0,a.push(l.za),a.push(l.xa),o=l.za,d=l.xa,u=o,f=d,h=l.vb.n,c=h.length,p=0;c>p;p++){switch(g=h[p],g.ja){case qu:Oo(t,e,a,n),a.length=0,a.push(g.I),a.push(g.J),o=g.I,d=g.J,u=o,f=d;break;case Ru:a.push(g.I),a.push(g.J),o=g.I,d=g.J;break;case Hu:_u.pe(o,d,g.vd,g.Je,g.Vg,g.mg,g.yb,g.Db,.5,a),o=g.I,d=g.J;break;case Bu:_u.Ep(o,d,g.vd,g.Je,g.yb,g.Db,.5,a),o=g.I,d=g.J;break;case Vu:if(i=Q(g,l),r=i.length,0===r){a.push(g.oa),a.push(g.va),o=g.oa,d=g.va;break}for(m=0;r>m;m++)v=i[m],_u.pe(o,d,v[2],v[3],v[4],v[5],v[6],v[7],.5,a),o=v[6],d=v[7];break;case Uu:if(i=Z(g,l,o,d),r=i.length,0===r){a.push(g.oa),a.push(g.va),o=g.oa,d=g.va;break}for(m=0;r>m;m++)v=i[m],_u.pe(o,d,v[2],v[3],v[4],v[5],v[6],v[7],.5,a),o=v[6],d=v[7];break;default:Uh.k("Segment not of valid type: "+g.ja)}g.Ih&&(a.push(u),a.push(f),Oo(t,e,a,n))}Oo(t,e,a,n)}else if(i.type===Ou)a.push(i.za),a.push(i.xa),a.push(i.I),a.push(i.xa),a.push(i.I),a.push(i.J),a.push(i.za),a.push(i.J),a.push(i.za),a.push(i.xa),Oo(t,e,a,n);else if(i.type===Iu){if(s=new J,s.za=i.I,s.xa=(i.xa+i.J)/2,o=new X(Vu),o.ye=0,o.Bf=360,o.oa=(i.za+i.I)/2,o.va=(i.xa+i.J)/2,o.radiusX=Math.abs(i.za-i.I)/2,o.radiusY=Math.abs(i.xa-i.J)/2,s.add(o),i=Q(o,s),r=i.length,0===r)a.push(o.oa),a.push(o.va);else for(o=s.za,d=s.xa,m=0;r>m;m++)v=i[m],_u.pe(o,d,v[2],v[3],v[4],v[5],v[6],v[7],.5,a),o=v[6],d=v[7];Oo(t,e,a,n)}Uh.ta(a),t.restore(),rn(e,t,!1)}}}},jo.prototype.getDocumentPoint=jo.prototype.$a=function(t,e){void 0===e&&(e=new b),t.te()&&Uh.k("getDocumentPoint Spot must be a real, specific Spot, not: "+t.toString());var i=this.Ia,n=this.nb;return e.m(t.x*(i.width+n)-n/2+i.x+t.offsetX,t.y*(i.height+n)-n/2+i.y+t.offsetY),this.Zg.xb(e),e},jo.prototype.Yj=function(t,e){var i=this.Ta;if(null===i||null===this.fill&&null===this.stroke)return!1;var n=i.ob,r=this.nb/2;i.type!==ju||e||(r+=2);var o=Uh.ag();if(o.assign(n),o.Qf(r+2,r+2),!o.Ga(t))return Uh.ic(o),!1;if(n=r+1e-4,i.type===ju)return null===this.stroke?!1:(n=(i.I-i.za)*(t.x-i.za)+(i.J-i.xa)*(t.y-i.xa),0>(i.za-i.I)*(t.x-i.I)+(i.xa-i.J)*(t.y-i.J)||0>n?!1:(Uh.ic(o),_u.Dd(i.za,i.xa,i.I,i.J,r,t.x,t.y)));if(i.type===Ou){var s=i.za,a=i.xa,l=i.I,h=i.J,i=Math.min(s,l),u=Math.min(a,h),s=Math.abs(l-s),a=Math.abs(h-a);if(o.x=i,o.y=u,o.width=s,o.height=a,null===this.fill){if(o.Qf(-n,-n),o.Ga(t))return Uh.ic(o),!1;o.Qf(n,n)}return null!==this.stroke&&o.Qf(r,r),r=o.Ga(t),Uh.ic(o),r}if(i.type===Iu){if(s=i.za,a=i.xa,l=i.I,h=i.J,i=Math.min(s,l),u=Math.min(a,h),s=Math.abs(l-s),a=Math.abs(h-a),s/=2,a/=2,i=t.x-(i+s),u=t.y-(u+a),null===this.fill){if(s-=n,a-=n,0>=s||0>=a||1>=i*i/(s*s)+u*u/(a*a))return Uh.ic(o),!1;s+=n,a+=n}return null!==this.stroke&&(s+=r,a+=r),Uh.ic(o),0>=s||0>=a?!1:1>=i*i/(s*s)+u*u/(a*a)}return i.type===Lu?(Uh.ic(o),null===this.fill?Y(i,t.x,t.y,r):i.Ga(t,r,1<this.nb,e)):(Uh.k("Unknown Geometry type: "+i.type),!1)},jo.prototype.vp=function(t,e,i,n){var r=this.ya,o=this.Xg;t=Math.max(t,0),e=Math.max(e,0);var s;if(this.Qh)s=this.sl.ob;else{var a=this.Cb,l=_u.Wx[a];if(void 0===l){var h=_u.wg[a];"string"==typeof h&&(h=_u.wg[h]),"function"==typeof h?(l=h(null,100,100),_u.Wx[a]=l):Uh.k("Unsupported Figure: "+a)}s=l.ob}var a=s.width,l=s.height,h=s.width,u=s.height;switch(Kr(this,!0)){case Xc:n=i=0;break;case ef:h=Math.max(t-o,0),u=Math.max(e-o,0);break;case tf:h=Math.max(t-o,0),n=0;break;case Zc:i=0,u=Math.max(e-o,0)}switch(isFinite(r.width)&&(h=r.width),isFinite(r.height)&&(u=r.height),r=this.jf,s=this.zg,i=Math.max(i,s.width)-o,n=Math.max(n,s.height)-o,h=Math.min(r.width,h),u=Math.min(r.height,u),h=isFinite(h)?Math.max(i,h):Math.max(a,i),u=isFinite(u)?Math.max(n,u):Math.max(l,n),i=Fo(this)){case Xc:break;case ef:a=h,l=u;break;case nf:i=Math.min(h/a,u/l),isFinite(i)||(i=1),a*=i,l*=i;break;default:Uh.k(i+" is not a valid geometryStretch.")}this.Qh?(s=this.sl,r=a,n=l,i=s.copy(),s=s.ob,r/=s.width,n/=s.height,isFinite(r)||(r=1),isFinite(n)||(n=1),1===r&&1===n||i.scale(r,n),this.Ta=i):(null===this.Ta||this.Ta.ao!==t-o||this.Ta.Zn!==e-o)&&(this.Ta=_u.makeGeometry(this,a,l)),s=this.Ta.ob,1/0===t||1/0===e?Or(this,s.x-o/2,s.y-o/2,0===t&&0===a?0:s.width+o,0===e&&0===l?0:s.height+o):Or(this,-(o/2),-(o/2),h+o,u+o)},jo.prototype.Ri=function(t,e,i,n){Fr(this,t,e,i,n)},jo.prototype.getNearestIntersectionPoint=jo.prototype.wl=function(t,e,i){return this.ip(t.x,t.y,e.x,e.y,i)},jo.prototype.ip=function(t,e,i,n,r){var o=this.transform,s=1/(o.m11*o.m22-o.m12*o.m21),a=o.m22*s,l=-o.m12*s,h=-o.m21*s,u=o.m11*s,c=s*(o.m21*o.dy-o.m22*o.dx),f=s*(o.m12*o.dx-o.m11*o.dy),o=t*a+e*h+c,s=t*l+e*u+f,a=i*a+n*h+c,l=i*l+n*u+f,h=this.nb/2,c=this.Ta;if(null===c&&(Lr(this,1/0,1/0),c=this.Ta),f=c.ob,u=!1,c.type===ju)if(1.5>=this.nb)u=_u.jh(c.wc,c.Bc,c.yb,c.Db,o,s,a,l,r);else{var d=0,p=0;if(c.wc===c.yb?(d=h,p=0):(e=(c.Db-c.Bc)/(c.yb-c.wc),p=h/Math.sqrt(1+e*e),d=p*e),n=Uh.mb(),e=new b,_u.jh(c.wc+d,c.Bc+p,c.yb+d,c.Db+p,o,s,a,l,e)&&n.push(e),e=new b,_u.jh(c.wc-d,c.Bc-p,c.yb-d,c.Db-p,o,s,a,l,e)&&n.push(e),e=new b,_u.jh(c.wc+d,c.Bc+p,c.wc-d,c.Bc-p,o,s,a,l,e)&&n.push(e),e=new b,_u.jh(c.yb+d,c.Db+p,c.yb-d,c.Db-p,o,s,a,l,e)&&n.push(e),e=n.length,0===e)return Uh.ta(n),!1;for(u=!0,p=1/0,d=0;e>d;d++){var a=n[d],g=(a.x-o)*(a.x-o)+(a.y-s)*(a.y-s);p>g&&(p=g,r.x=a.x,r.y=a.y)}Uh.ta(n)}else if(c.type===Ou)e=f.x-h,u=_u.wl(e,f.y-h,f.x+f.width+h,f.y+f.height+h,o,s,a,l,r);else if(c.type===Iu)t:if(e=f.copy().Qf(h,h),0===e.width)u=_u.jh(e.x,e.y,e.x,e.y+e.height,o,s,a,l,r);else if(0===e.height)u=_u.jh(e.x,e.y,e.x+e.width,e.y,o,s,a,l,r);else{t=e.width/2;var v=e.height/2;if(n=e.x+t,e=e.y+v,i=9999,o!==a&&(i=(s-l)/(o-a)),9999>Math.abs(i)){if(u=s-e-i*(o-n),0>t*t*i*i+v*v-u*u){r.x=0/0,r.y=0/0,u=!1;break t}h=Math.sqrt(t*t*i*i+v*v-u*u),a=(-(t*t*i*u)+t*v*h)/(v*v+t*t*i*i)+n,t=(-(t*t*i*u)-t*v*h)/(v*v+t*t*i*i)+n,l=i*(a-n)+u+e,e=i*(t-n)+u+e,n=Math.abs((o-a)*(o-a))+Math.abs((s-l)*(s-l)),s=Math.abs((o-t)*(o-t))+Math.abs((s-e)*(s-e)),s>n?(r.x=a,r.y=l):(r.x=t,r.y=e)}else{if(a=v*v,l=o-n,a-=a/(t*t)*l*l,0>a){r.x=0/0,r.y=0/0,u=!1;break t}h=Math.sqrt(a),l=e+h,e-=h,n=Math.abs(l-s),s=Math.abs(e-s),s>n?(r.x=o,r.y=l):(r.x=o,r.y=e)}u=!0}else if(c.type===Lu){var m=0,y=0,x=g=0,f=Uh.M(),d=a-o,p=l-s,p=d*d+p*p;for(r.x=a,r.y=l,d=0;d<c.Wb.count;d++)for(var w=c.Wb.n[d],k=w.vb,m=w.za,y=w.xa,T=m,$=y,C=0;C<k.count;C++){var M=k.n[C],S=M.type,g=M.I,x=M.J,P=!1;switch(S){case qu:T=g,$=x;break;case Ru:P=qo(m,y,g,x,o,s,a,l,f);break;case Hu:var P=M.rc,S=M.Kc,D=M.oh,A=M.ph,P=_u.bt(m,y,P,S,D,A,g,x,o,s,a,l,.5,f);break;case Bu:P=(m+2*M.rc)/3,S=(y+2*M.Kc)/3,D=(2*M.rc+g)/3,A=(2*M.rc+g)/3,P=_u.bt(m,y,P,S,D,A,g,x,o,s,a,l,.5,f);break;case Vu:case Uu:if(S=M.type===Vu?Q(M,w):Z(M,w,m,y),D=S.length,0===D){P=qo(m,y,M.oa,M.va,o,s,a,l,f);break}for(x=0;D>x;x++)v=S[x],0===x&&qo(m,y,v[0],v[1],o,s,a,l,f)&&(g=zo(o,s,f,p,r),p>g&&(p=g,u=!0)),_u.bt(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],o,s,a,l,.5,f)&&(g=zo(o,s,f,p,r),p>g&&(p=g,u=!0));g=v[6],x=v[7];break;default:Uh.k("Unknown Segment type: "+S)}m=g,y=x,P&&(g=zo(o,s,f,p,r),p>g&&(p=g,u=!0)),M.$w&&(g=T,x=$,qo(m,y,g,x,o,s,a,l,f)&&(g=zo(o,s,f,p,r),p>g&&(p=g,u=!0)))}o=i-t,s=n-e,e=Math.sqrt(o*o+s*s),0!==e&&(o/=e,s/=e),r.x-=o*h,r.y-=s*h,Uh.v(f)}else Uh.k("Unknown Geometry type: "+c.type);return u?(this.transform.xb(r),!0):!1},jo.prototype.containedInRect=jo.prototype.Nm=function(t,e){if(void 0===e)return t.Zj(this.Y);var i=this.Ta;null===i&&(Lr(this,1/0,1/0),i=this.Ta);var i=i.ob,n=this.nb/2,r=!1,o=Uh.M();return o.m(i.x-n,i.y-n),t.Ga(e.xb(o))&&(o.m(i.x-n,i.bottom+n),t.Ga(e.xb(o))&&(o.m(i.right+n,i.bottom+n),t.Ga(e.xb(o))&&(o.m(i.right+n,i.y-n),t.Ga(e.xb(o))&&(r=!0)))),Uh.v(o),r},jo.prototype.intersectsRect=jo.prototype.xg=function(t,e){if(this.Nm(t,e)||void 0===e&&(e=this.transform,t.Zj(this.Y)))return!0;var i=Uh.th();i.set(e),i.Vz();var n=t.left,r=t.right,o=t.top,s=t.bottom,a=Uh.M();if(a.m(n,o),i.xb(a),this.Yj(a,!0))return Uh.v(a),!0;if(a.m(r,o),i.xb(a),this.Yj(a,!0))return Uh.v(a),!0;if(a.m(n,s),i.xb(a),this.Yj(a,!0))return Uh.v(a),!0;if(a.m(r,s),i.xb(a),this.Yj(a,!0))return Uh.v(a),!0;var l=Uh.M(),h=Uh.M();i.set(e),i.VE(this.transform),i.Vz(),l.x=r,l.y=o,l.transform(i),a.x=n,a.y=o,a.transform(i);var u=!1;return Ro(this,a,l,h)?u=!0:(a.x=r,a.y=s,a.transform(i),Ro(this,a,l,h)?u=!0:(l.x=n,l.y=s,l.transform(i),Ro(this,a,l,h)?u=!0:(a.x=n,a.y=o,a.transform(i),Ro(this,a,l,h)&&(u=!0)))),Uh.v(a),Uh.cf(i),Uh.v(l),Uh.v(h),u},jo.prototype.kE=function(t,e,i){function n(t,e){for(var i=t.length,n=0;i>n;n+=2)if(e.bp(t[n],t[n+1])>r)return!0;return!1}if(i&&null!==this.fill&&this.Yj(t,!0))return!0;var r=t.$j(e);e=r,1.5<this.nb&&(r=this.nb/2+Math.sqrt(r),r*=r);var o=this.Ta;if(null===o&&(Lr(this,1/0,1/0),o=this.Ta,null===o))return!1;if(!i){var s=o.ob,a=s.x,l=s.y,h=s.x+s.width,s=s.y+s.height;if(Yh(t.x,t.y,a,l)<=r&&Yh(t.x,t.y,h,l)<=r&&Yh(t.x,t.y,a,s)<=r&&Yh(t.x,t.y,h,s)<=r)return!0}if(a=o.wc,l=o.Bc,h=o.yb,s=o.Db,o.type===ju){if(i=Kh(t.x,t.y,a,l,h,s),o=(a-h)*(t.x-h)+(l-s)*(t.y-s),i<=(0<=(h-a)*(t.x-a)+(s-l)*(t.y-l)&&o>=0?r:e))return!0}else{if(o.type===Ou)return e=!1,i&&(e=Kh(t.x,t.y,a,l,a,s)<=r||Kh(t.x,t.y,a,l,h,l)<=r||Kh(t.x,t.y,h,l,h,s)<=r||Kh(t.x,t.y,a,s,h,s)<=r),e;if(o.type===Iu){e=t.x-(a+h)/2;var o=t.y-(l+s)/2,u=Math.abs(h-a)/2,c=Math.abs(s-l)/2;if(0===u||0===c)return i=Kh(t.x,t.y,a,l,h,s),r>=i?!0:!1;if(!i)return Yh(e,o,-u,0)>=r||Yh(e,o,0,-c)>=r||Yh(e,o,0,c)>=r||Yh(e,o,u,0)>=r?!1:!0;if(t=_u.sH(u,c,e,o),r>=t*t)return!0}else if(o.type===Lu){if(s=o.ob,a=s.x,l=s.y,h=s.x+s.width,s=s.y+s.height,t.x>h&&t.x<a&&t.y>s&&t.y<l&&Kh(t.x,t.y,a,l,a,s)>r&&Kh(t.x,t.y,a,l,h,l)>r&&Kh(t.x,t.y,h,s,a,s)>r&&Kh(t.x,t.y,h,s,h,l)>r)return!1;if(e=Math.sqrt(r),!i){for(i=o.Wb,e=0;e<i.count;e++){if(a=i.n[e],u=a.za,c=a.xa,t.bp(u,c)>r)return!1;for(l=a.vb.n,h=l.length,s=0;h>s;s++){var f=l[s];switch(f.type){case qu:case Ru:if(u=f.I,c=f.J,t.bp(u,c)>r)return!1;break;case Hu:if(o=Uh.mb(),_u.pe(u,c,f.rc,f.Kc,f.oh,f.ph,f.I,f.J,.8,o),u=n(o,t),Uh.ta(o),u)return!1;if(u=f.I,c=f.J,t.bp(u,c)>r)return!1;break;case Bu:if(o=Uh.mb(),_u.Ep(u,c,f.rc,f.Kc,f.I,f.J,.8,o),u=n(o,t),Uh.ta(o),u)return!1;if(u=f.I,c=f.J,t.bp(u,c)>r)return!1;break;case Vu:case Uu:var d=f.type===Vu?Q(f,a):Z(f,a,u,c),p=d.length;if(0===p){if(u=f.oa,c=f.va,t.bp(u,c)>r)return!1;break}for(f=null,o=Uh.mb(),e=0;p>e;e++)if(f=d[e],o.length=0,_u.pe(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],.8,o),n(o,t))return Uh.ta(o),!1;Uh.ta(o),null!==f&&(u=f[6],c=f[7]);break;default:Uh.k("Unknown Segment type: "+f.type)}}}return!0}if(null===this.fill?Y(o,t.x,t.y,e):o.Ga(t,e,!0))return!0}}return!1},Uh.defineProperty(jo,{sl:"geometry"},function(){return this.Yl?this.Yl:this.Ta},function(t){var e=this.Ta;if(e!==t){this.Yl=this.Ta=null!==t?t.freeze():null;var i=this.aa;null!==i&&(i.Bj=0/0),this.Qh=!0,this.Q(),this.h("geometry",e,t),t=this.aa,null!==t&&0!==(1024&this.fa)&&jr(this,t,"geometryString")}}),Uh.defineProperty(jo,{HH:"geometryString"},function(){return null===this.sl?"":this.sl.toString()},function(t){var e=zu(t);t=e.normalize(),this.sl=e;var e=Uh.M(),i=this.position;i.K()?e.m(i.x-t.x,i.y-t.y):e.m(-t.x,-t.y),this.position=e,Uh.v(e)}),Uh.defineProperty(jo,{EE:"isGeometryPositioned"},function(){return this.ar},function(t){var e=this.ar;e!==t&&(this.ar=t,this.Q(),this.h("isGeometryPositioned",e,t))}),jo.prototype.se=function(){this.Ta=null,this.Q()},Uh.defineProperty(jo,{fill:"fill"},function(){return this.td},function(t){var e=this.td;e!==t&&(t instanceof Ar&&t.freeze(),this.td=t,this.qa(),this.h("fill",e,t))}),Uh.defineProperty(jo,{stroke:"stroke"},function(){return this.Cc},function(t){var e=this.Cc;e!==t&&(t instanceof Ar&&t.freeze(),this.Cc=t,this.qa(),this.h("stroke",e,t))}),Uh.defineProperty(jo,{nb:"strokeWidth"},function(){return this.Xg},function(t){var e=this.Xg;
if(e!==t)if(t>=0){this.Xg=t,this.Q();var i=this.aa;null!==i&&(i.Bj=0/0),this.h("strokeWidth",e,t)}else Uh.wa(t,"value >= 0",jo,"strokeWidth:value")}),Uh.defineProperty(jo,{zL:"strokeCap"},function(){return this.Fo},function(t){var e=this.Fo;e!==t&&("string"!=typeof t||"butt"!==t&&"round"!==t&&"square"!==t?Uh.wa(t,'"butt", "round", or "square"',jo,"strokeCap"):(this.Fo=t,this.qa(),this.h("strokeCap",e,t)))}),Uh.defineProperty(jo,{BL:"strokeJoin"},function(){return this.Ho},function(t){var e=this.Ho;e!==t&&("string"!=typeof t||"miter"!==t&&"bevel"!==t&&"round"!==t?Uh.wa(t,'"miter", "bevel", or "round"',jo,"strokeJoin"):(this.Ho=t,this.qa(),this.h("strokeJoin",e,t)))}),Uh.defineProperty(jo,{CL:"strokeMiterLimit"},function(){return this.Bm},function(t){var e=this.Bm;if(e!==t)if(t>=1){this.Bm=t,this.qa();var i=this.aa;null!==i&&(i.Bj=0/0),this.h("strokeMiterLimit",e,t)}else Uh.wa(t,"value >= 1",jo,"strokeWidth:value")}),Uh.defineProperty(jo,{CF:"strokeDashArray"},function(){return this.Go},function(t){var e=this.Go;if(e!==t){if(null===t||Array.isArray(t)||Uh.Ed(t,"Array",jo,"strokeDashArray:value"),null!==t){for(var i=t.length,n=0,r=0;i>r;r++){var o=t[r];"number"==typeof o&&o>=0&&isFinite(o)||Uh.k("strokeDashArray:value "+o+" at index "+r+" must be a positive number or zero."),n+=o}if(0===n){if(null===e)return;t=null}}this.Go=t,this.qa(),this.h("strokeDashArray",e,t)}}),Uh.defineProperty(jo,{AL:"strokeDashOffset"},function(){return this.nd},function(t){var e=this.nd;e!==t&&t>=0&&(this.nd=t,this.qa(),this.h("strokeDashOffset",e,t))}),Uh.defineProperty(jo,{Cb:"figure"},function(){return this.Sn},function(t){var e=this.Sn;if(e!==t){var i=_u.wg[t];"function"==typeof i?i=t:(i=_u.wg[t.toLowerCase()])||Uh.k("Unknown Shape.figure: "+t),e!==i&&(t=this.aa,null!==t&&(t.Bj=0/0),this.Sn=i,this.Qh=!1,this.se(),this.h("figure",e,i))}}),Uh.defineProperty(jo,{Tp:"toArrow"},function(){return this.Lo},function(t){var e=this.Lo;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var i=_u.LD(t);null===i?Uh.k("Unknown Shape.toArrow: "+t):e!==i&&(this.Lo=i,this.Qh=!1,this.se(),Ho(this),this.h("toArrow",e,i))}}),Uh.defineProperty(jo,{Nz:"fromArrow"},function(){return this.Vn},function(t){var e=this.Vn;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var i=_u.LD(t);null===i?Uh.k("Unknown Shape.fromArrow: "+t):e!==i&&(this.Vn=i,this.Qh=!1,this.se(),Ho(this),this.h("fromArrow",e,i))}}),Uh.defineProperty(jo,{B:"spot1"},function(){return this.Li},function(t){Uh.A(t,E,jo,"spot1");var e=this.Li;e.L(t)||(this.Li=t=t.S(),this.Q(),this.h("spot1",e,t))}),Uh.defineProperty(jo,{C:"spot2"},function(){return this.Mi},function(t){Uh.A(t,E,jo,"spot2");var e=this.Mi;e.L(t)||(this.Mi=t=t.S(),this.Q(),this.h("spot2",e,t))}),Uh.defineProperty(jo,{zc:"parameter1"},function(){return this.Tr},function(t){var e=this.Tr;e!==t&&(this.Tr=t,this.se(),this.h("parameter1",e,t))}),Uh.defineProperty(jo,{Xt:"parameter2"},function(){return this.Ur},function(t){var e=this.Ur;e!==t&&(this.Ur=t,this.se(),this.h("parameter2",e,t))}),Uh.u(jo,{Ia:"naturalBounds"},function(){if(null!==this.Ta)return this.Qc.assign(this.Ta.ob),this.Qc;var t=this.ya;return new T(0,0,t.width,t.height)}),Uh.defineProperty(jo,{tx:"pathPattern"},function(){return this.Wr},function(t){var e=this.Wr;e!==t&&(this.Wr=t,this.qa(),this.h("pathPattern",e,t))}),Uh.defineProperty(jo,{pL:"pathObject"},function(){return this.tx},function(t){this.tx=t}),Uh.defineProperty(jo,{Oz:"geometryStretch"},function(){return this.Tq},function(t){var e=this.Tq;e!==t&&(Uh.rb(t,Er,jo,"geometryStretch"),this.Tq=t,this.h("geometryStretch",e,t))}),Uh.defineProperty(jo,{interval:"interval"},function(){return this.Yq},function(t){var e=this.Yq;t=Math.floor(t),e!==t&&t>=0&&(this.Yq=t,null!==this.g&&On(this.g),this.Q(),this.h("interval",e,t))}),jo.getFigureGenerators=function(){var t,e=new y("string","function");for(t in _u.wg)if(t!==t.toLowerCase()){var i=_u.wg[t];"function"==typeof i&&e.add(t,i)}return e.freeze(),e},jo.defineFigureGenerator=function(t,e){Uh.j(t,"string",jo,"defineFigureGenerator:name"),"string"==typeof e?""!==e&&_u.wg[e]||Uh.k("Shape.defineFigureGenerator synonym must not be empty or None or not a defined figure name: "+e):Uh.j(e,"function",jo,"defineFigureGenerator:func");var i=t.toLowerCase();""!==t&&"none"!==i&&t!==i||Uh.k("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+t);var n=_u.wg;n[t]=e,n[i]=t},jo.getArrowheadGeometries=function(){var t,e=new y("string",V);for(t in _u.ij)if(t!==t.toLowerCase()){var i=_u.ij[t];i instanceof V&&e.add(t,i)}return e.freeze(),e},jo.defineArrowheadGeometry=function(t,e){Uh.j(t,"string",jo,"defineArrowheadGeometry:name");var i=null;"string"==typeof e?(Uh.j(e,"string",jo,"defineArrowheadGeometry:pathstr"),i=zu(e,!1)):(Uh.A(e,V,jo,"defineArrowheadGeometry:pathstr"),i=e);var n=t.toLowerCase();""!==t&&"none"!==n&&t!==n||Uh.k("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t);var r=_u.ij;r[t]=i,r[n]=t},Uh.Ja(Bo,Er),Uh.ea("TextBlock",Bo);var Tf=new n,$f=0,Cf=new n,Mf=0,Sf="...",Pf="",Df=Uh.createElement("canvas").getContext("2d");Bo.getEllipsis=function(){return Sf},Bo.setEllipsis=function(t){Sf=t,Cf=new n,Mf=0},Bo.prototype.cloneProtected=function(t){Er.prototype.cloneProtected.call(this,t),t.le=this.le,t.Cc=this.Cc,t.Lg=this.Lg,t.zd=this.zd,t.cr=this.cr,t.em=this.em,t.dm=this.dm,t.Xk=this.Xk,t.Em=this.Em,t.Ge=this.Ge,t.Ev=this.Ev,t.Vy=this.Vy,t.Uy=this.Uy,t.Un=this.Un,t.Ok.ht(this.Ok),t.Nq=this.Nq,t.Hs=this.Hs,t.Zk=this.Zk,t.pf=this.pf,t.Mj=this.Mj,t.Nj=this.Nj,t.Bi=this.Bi,t.zv=this.zv},Bo.prototype.toString=function(){return 22<this.le.length?'TextBlock("'+this.le.substring(0,20)+'"...)':'TextBlock("'+this.le+'")'};var Af;Bo.None=Af=Uh.p(Bo,"None",0);var Ef;Bo.WrapFit=Ef=Uh.p(Bo,"WrapFit",1);var Nf;Bo.WrapDesiredSize=Nf=Uh.p(Bo,"WrapDesiredSize",2);var _f;Bo.OverflowClip=_f=Uh.p(Bo,"OverflowClip",0);var jf;Bo.OverflowEllipsis=jf=Uh.p(Bo,"OverflowEllipsis",1),Bo.prototype.Q=function(){Er.prototype.Q.call(this),this.Uy=this.Vy=null},Uh.defineProperty(Bo,{font:"font"},function(){return this.Lg},function(t){var e=this.Lg;e!==t&&(this.Lg=t,this.Un=null,this.Q(),this.h("font",e,t))}),Bo.isValidFont=function(t){var e=Df.font;if(t===e||"10px sans-serif"===t)return!0;Df.font="10px sans-serif";var i;Df.font=t;var n=Df.font;return"10px sans-serif"!==n?(Df.font=e,!0):(Df.font="19px serif",i=Df.font,Df.font=t,n=Df.font,Df.font=e,n!==i)},Uh.defineProperty(Bo,{text:"text"},function(){return this.le},function(t){var e=this.le;t=null!==t&&void 0!==t?t.toString():"",e!==t&&(this.le=t,this.Q(),this.h("text",e,t))}),Uh.defineProperty(Bo,{textAlign:"textAlign"},function(){return this.zd},function(t){var e=this.zd;e!==t&&("start"===t||"end"===t||"left"===t||"right"===t||"center"===t?(this.zd=t,this.qa(),this.h("textAlign",e,t)):Uh.wa(t,'"start", "end", "left", "right", or "center"',Bo,"textAlign"))}),Uh.u(Bo,{Ia:"naturalBounds"},function(){if(!this.Qc.K()){var t=Uo(this,this.le,this.Ok,999999).width,e=Jo(this,t,this.Ok),i=this.ya;isNaN(i.width)||(t=i.width),isNaN(i.height)||(e=i.height),$(this.Qc,t,e)}return this.Qc}),Uh.defineProperty(Bo,{gx:"isMultiline"},function(){return this.cr},function(t){var e=this.cr;e!==t&&(this.cr=t,this.Q(),this.h("isMultiline",e,t))}),Uh.defineProperty(Bo,{MK:"isUnderline"},function(){return this.em},function(t){var e=this.em;e!==t&&(this.em=t,this.qa(),this.h("isUnderline",e,t))}),Uh.defineProperty(Bo,{KK:"isStrikethrough"},function(){return this.dm},function(t){var e=this.dm;e!==t&&(this.dm=t,this.qa(),this.h("isStrikethrough",e,t))}),Uh.defineProperty(Bo,{UF:"wrap"},function(){return this.Em},function(t){var e=this.Em;e!==t&&(this.Em=t,this.Q(),this.h("wrap",e,t))}),Uh.defineProperty(Bo,{overflow:"overflow"},function(){return this.Xk},function(t){var e=this.Xk;e!==t&&(this.Xk=t,this.Q(),this.h("overflow",e,t))}),Uh.defineProperty(Bo,{stroke:"stroke"},function(){return this.Cc},function(t){var e=this.Cc;e!==t&&(t instanceof Ar&&t.freeze(),this.Cc=t,this.qa(),this.h("stroke",e,t))}),Uh.u(Bo,{pI:"lineCount"},function(){return this.Ge}),Uh.defineProperty(Bo,{Jz:"editable"},function(){return this.Nq},function(t){var e=this.Nq;e!==t&&(this.Nq=t,this.h("editable",e,t))}),Uh.defineProperty(Bo,{DF:"textEditor"},function(){return this.Hs},function(t){var e=this.Hs;e!==t&&(t instanceof HTMLElement||Uh.k("textEditor must be an HTMLElement, not: "+t),this.Hs=t,this.h("textEditor",e,t))}),Uh.defineProperty(Bo,{Kz:"errorFunction"},function(){return this.pf},function(t){var e=this.pf;e!==t&&(null!==t&&Uh.j(t,"function",Bo,"errorFunction"),this.pf=t,this.h("errorFunction",e,t))}),Bo.prototype.ak=function(t,e){if(null!==this.Cc&&0!==this.le.length&&null!==this.Lg){var i=this.Ia.width,n=Ko(this);t.textAlign=this.zd,Vr(this,t,this.Cc,!0,!1),(this.em||this.dm)&&Vr(this,t,this.Cc,!1,!1);var r=this.Ok,o=0,s=!1,a=Uh.Sb(0,0);this.Zg.xb(a);var l=Uh.Sb(0,n);this.Zg.xb(l);var h=a.$j(l);Uh.v(a),Uh.v(l),a=e.scale,8>h*a*a&&(s=!0),e.Ah!==t&&(s=!1),!1===e.ek("textGreeking")&&(s=!1);for(var h=this.Mj,a=this.Nj,l=this.Ge,u=0;l>u;u++){var c=r.nf[u],f=r.Ee[u];c>i&&(c=i);var o=o+h,d=f,f=t,p=o,g=i,v=n,m=0;s?("start"===this.zd||"left"===this.zd?m=0:"end"===this.zd||"right"===this.zd?m=g-c:"center"===this.zd?m=(g-c)/2:Uh.k("textAlign must be start, end, left, right, or center: "+this.zd),f.fillRect(0+m,p+.25*v,c,1)):("start"===this.zd||"left"===this.zd?m=0:"end"===this.zd||"right"===this.zd?m=g:"center"===this.zd?m=g/2:Uh.k("textAlign must be start, end, left, right, or center: "+this.zd),f.fillText(d,0+m,p+v-.25*v),d=v/20|0,0===d&&(d=1),"end"===this.zd||"right"===this.zd?m-=c:"center"===this.zd&&(m-=c/2),this.em&&(f.beginPath(),f.lineWidth=d,f.moveTo(0+m,p+v-.2*v),f.lineTo(0+m+c,p+v-.2*v),f.stroke()),this.dm&&(f.beginPath(),f.lineWidth=d,p=p+v-v/2.2|0,0!==d%2&&(p+=.5),f.moveTo(0+m,p),f.lineTo(0+m+c,p),f.stroke())),o+=n+a}}},Bo.prototype.vp=function(t,e,i,n){this.zv=t;var r=this.Ok;r.reset();var o=0,s=0;if(isNaN(this.ya.width)){if(o=this.le.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),0===o.length)o=0;else if(this.gx){for(var a=s=0,l=!1;!l;){var h=o.indexOf("\n",a);-1===h&&(h=o.length,l=!0),a=Wo(o.substr(a,h-a).replace(/^\s+|\s+$/g,""),this.Lg),a>s&&(s=a),a=h+1}o=s}else s=o.indexOf("\n",0),s>=0&&(o=o.substr(0,s)),o=a=Wo(o,this.Lg);o=Math.min(o,t/this.scale),o=Math.max(8,o)}else o=this.ya.width;if(null!==this.T&&(o=Math.min(o,this.T.jf.width),o=Math.max(o,this.T.zg.width)),s=Jo(this,o,r),h=s=isNaN(this.ya.height)?Math.min(s,e/this.scale):this.ya.height,0!==r.Ve&&1!==r.Ee.length&&this.Xk===jf&&(e=this.Lg,l=this.Xk===jf?Yo(e):0,a=this.Mj+this.Nj,a=Math.max(0,Ko(this)+a),h=Math.min(this.xI-1,Math.max(Math.floor(h/a+.01)-1,0)),!(h+1>=r.Ee.length))){for(a=r.Ee[h],t=Math.max(1,t-l);Wo(a,e)>t&&1<a.length;)a=a.substr(0,a.length-1);a+=Sf,t=Wo(a,e),r.Ee[h]=a,r.Ee=r.Ee.slice(0,h+1),r.nf[h]=t,r.nf=r.nf.slice(0,h+1),r.Qi=r.Ee.length,r.Ve=Math.max(r.Ve,t),this.Ge=r.Qi}(this.UF===Ef||isNaN(this.ya.width))&&(o=r.Ve,isNaN(this.ya.width)&&(o=Math.max(8,o))),o=Math.max(i,o),s=Math.max(n,s),$(this.Qc,o,s),Or(this,0,0,o,s)},Bo.prototype.Ri=function(t,e,i,n){Fr(this,t,e,i,n)},Uh.defineProperty(Bo,{PA:"textValidation"},function(){return this.Zk},function(t){var e=this.Zk;e!==t&&(null!==t&&Uh.j(t,"function",Bo,"textValidation"),this.Zk=t,this.h("textValidation",e,t))}),Uh.defineProperty(Bo,{wL:"spacingAbove"},function(){return this.Mj},function(t){var e=this.Mj;e!==t&&(this.Mj=t,this.h("spacingAbove",e,t))}),Uh.defineProperty(Bo,{xL:"spacingBelow"},function(){return this.Nj},function(t){var e=this.Nj;e!==t&&(this.Nj=t,this.h("spacingBelow",e,t))}),Uh.defineProperty(Bo,{xI:"maxLines"},function(){return this.Bi},function(t){var e=this.Bi;e!==t&&(t=Math.floor(t),0>=t&&Uh.wa(t,"> 0",Bo,"maxLines"),this.Bi=t,this.h("maxLines",e,t),this.Q())}),Uh.u(Bo,{ZK:"metrics"},function(){return this.Ok}),Xo.prototype.reset=function(){this.Ve=this.Qi=0,this.nf=[],this.Ee=[]},Xo.prototype.ht=function(t){this.Qi=t.Qi,this.Ve=t.Ve,this.nf=Uh.il(t.nf),this.Ee=Uh.il(t.Ee)},Uh.u(Xo,{gK:"arrSize"},function(){return this.nf}),Uh.u(Xo,{hK:"arrText"},function(){return this.Ee}),Uh.u(Xo,{YK:"maxLineWidth"},function(){return this.Ve}),Uh.Ja(Qo,Er),Uh.ea("Picture",Qo),Qo.prototype.cloneProtected=function(t){Er.prototype.cloneProtected.call(this,t),t.element=this.Te,t.Bs=this.Bs,t.Lj=this.Lj.S(),t.Wn=this.Wn,t.pf=this.pf,t.Oj=this.Oj,t.gv=this.gv,t.zo=this.zo};var Of,If=new n,Lf=0,Ff=[];Qo.clearCache=Of=function(t){void 0===t&&(t=""),Uh.j(t,"string",Qo,"clearCache:url"),""!==t?If[t]&&(delete If[t],Lf--):(If=new n,Lf=0)},Qo.prototype.toString=function(){return"Picture("+this.source+")#"+Uh.pd(this)},Uh.defineProperty(Qo,{element:"element"},function(){return this.Te},function(t){var e=this.Te;e!==t&&(null===t||t instanceof HTMLImageElement||t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||Uh.k("Picture.element must be an instance of Image, Canvas, or Video, not: "+t),this.My=t instanceof HTMLCanvasElement,this.Te=t,null!==t&&(!0===t.complete||void 0===t.complete?(t.lv instanceof Event&&null!==this.pf&&this.pf(this,t.lv),!0===t.Oy&&null!==this.Oj&&this.Oj(this,null),t.Oy=!0,this.ya.K()||(io(this,!1),this.Q())):t.bC||(t.addEventListener("load",function(e){ts(t,e)}),t.addEventListener("error",function(e){es(t,e)}),t.bC=!0)),this.h("element",e,t),this.qa())}),Uh.defineProperty(Qo,{source:"source"},function(){return this.Bs},function(t){var e=this.Bs;if(e!==t){Uh.j(t,"string",Qo,"source"),this.Bs=t;var i=If,n=this.g;if(void 0!==i[t])var r=i[t].Ro[0].source;else{Lf>30&&(Of(),i=If),r=Uh.createElement("img"),r.addEventListener("load",function(t){ts(r,t)}),r.addEventListener("error",function(t){es(r,t)}),r.bC=!0,r.src=t;var o=this.zo;null!==o&&(r.crossOrigin=o(this)),i[t]=new is(r),Lf++}null!==n&&Gn(n,this),this.element=r,null!==n&&Vn(n,this),this.Q(),this.qa(),this.h("source",e,t)}}),Uh.defineProperty(Qo,{vL:"sourceCrossOrigin"},function(){return this.zo},function(t){if(this.zo!==t&&(null!==t&&Uh.j(t,"function",Qo,"sourceCrossOrigin"),this.zo=t,null!==this.element)){var e=this.element.src;null===t&&"string"==typeof e?this.element.crossOrigin=null:null!==t&&(this.element.crossOrigin=t(this))}}),Uh.defineProperty(Qo,{ej:"sourceRect"},function(){return this.Lj},function(t){var e=this.Lj;e.L(t)||(Uh.A(t,T,Qo,"sourceRect"),this.Lj=t=t.S(),this.qa(),this.h("sourceRect",e,t))}),Uh.defineProperty(Qo,{UH:"imageStretch"},function(){return this.Wn},function(t){var e=this.Wn;e!==t&&(Uh.rb(t,Er,Qo,"imageStretch"),this.Wn=t,this.qa(),this.h("imageStretch",e,t))}),Uh.defineProperty(Qo,{Kz:"errorFunction"},function(){return this.pf},function(t){var e=this.pf;e!==t&&(null!==t&&Uh.j(t,"function",Qo,"errorFunction"),this.pf=t,this.h("errorFunction",e,t))}),Uh.defineProperty(Qo,{FL:"successFunction"},function(){return this.Oj},function(t){var e=this.Oj;e!==t&&(null!==t&&Uh.j(t,"function",Qo,"successFunction"),this.Oj=t,this.h("successFunction",e,t))}),Qo.prototype.ak=function(t,e){var i=this.Te;if(null!==i){var n=i.src;if(null!==n&&""!==n||Uh.k('Element has no source ("src") attribute: '+i),!(i.lv instanceof Event)&&!0===i.Oy){var n=this.Ia,r=0,o=0,s=this.My,a=s?+i.width:i.naturalWidth,s=s?+i.height:i.naturalHeight;if(void 0===a&&i.videoWidth&&(a=i.videoWidth),void 0===s&&i.videoHeight&&(s=i.videoHeight),a=a||n.width,s=s||n.height,0!==a&&0!==s){var l=a,h=s;this.ej.K()&&(r=this.Lj.x,o=this.Lj.y,a=this.Lj.width,s=this.Lj.height);var u=a,c=s,f=this.Wn;switch(f){case Xc:if(this.ej.K())break;r+=Math.max((u-n.width)/2,0),o+=Math.max((c-n.height)/2,0),a=Math.min(n.width,u),s=Math.min(n.height,c);break;case ef:u=n.width,c=n.height;break;case nf:case rf:var d=0;f===nf?(d=Math.min(n.height/c,n.width/u),u*=d,c*=d):f===rf&&(d=Math.max(n.height/c,n.width/u),u*=d,c*=d,r+=(u-n.width)/2,o+=(c-n.height)/2,a*=1/(u/n.width),s*=1/(c/n.height),u=n.width,c=n.height)}var f=this.Yi()*e.scale,p=a*s/(u*f*c*f),d=If[this.source],f=null;if(void 0!==d&&p>16){2>d.Ro.length&&(ns(d,4,l,h),ns(d,16,l,h));for(var l=d.Ro,h=l.length,f=l[0],g=0;h>g&&l[g].Fp*l[g].Fp<p;g++)f=l[g]}if(!e.Pn){if(null===this.Io)if(null===this.Te)this.Io=!1;else{l=Uh.createElement("canvas").getContext("2d"),l.drawImage(this.Te,0,0);try{l.getImageData(0,0,1,1).data[3]&&(this.Io=!1),this.Io=!1}catch(v){this.Io=!0}}if(this.Io)return}if(e.ek("pictureRatioOptimization")&&!e.Ny&&void 0!==d&&null!==f&&1!==f.Fp){t.save(),d=f.Fp;try{t.drawImage(f.source,r/d,o/d,Math.min(f.source.width,a/d),Math.min(f.source.height,s/d),Math.max((n.width-u)/2,0),Math.max((n.height-c)/2,0),Math.min(n.width,u),Math.min(n.height,c))}catch(m){this.gv=!1}t.restore()}else try{t.drawImage(i,r,o,a,s,Math.max((n.width-u)/2,0),Math.max((n.height-c)/2,0),Math.min(n.width,u),Math.min(n.height,c))}catch(y){this.gv=!1}}}}},Uh.u(Qo,{Ia:"naturalBounds"},function(){return this.Qc}),Qo.prototype.vp=function(t,e,i,n){var r=this.ya,o=Kr(this,!0),s=this.Te,a=this.My;(a||!this.Ty&&s&&s.complete)&&(this.Ty=!0),null===s&&(isFinite(t)||(t=0),isFinite(e)||(e=0)),isFinite(r.width)||o===ef||o===tf?(isFinite(t)||(t=this.ej.K()?this.ej.width:a?+s.width:s.naturalWidth),i=0):null!==s&&!1!==this.Ty&&(t=this.ej.K()?this.ej.width:a?+s.width:s.naturalWidth),isFinite(r.height)||o===ef||o===Zc?(isFinite(e)||(e=this.ej.K()?this.ej.height:a?+s.height:s.naturalHeight),n=0):null!==s&&!1!==this.Ty&&(e=this.ej.K()?this.ej.height:a?+s.height:s.naturalHeight),isFinite(r.width)&&(t=r.width),isFinite(r.height)&&(e=r.height),r=this.jf,o=this.zg,i=Math.max(i,o.width),n=Math.max(n,o.height),t=Math.min(r.width,t),e=Math.min(r.height,e),t=Math.max(i,t),e=Math.max(n,e),null===s||s.complete||(isFinite(t)||(t=0),isFinite(e)||(e=0)),$(this.Qc,t,e),Or(this,0,0,t,e)},Qo.prototype.Ri=function(t,e,i,n){Fr(this,t,e,i,n)},Bh=os.prototype,Bh.reset=function(){this.o=new V,this.Tb=null},Bh.ab=function(t){null===this.o&&Uh.k("StreamGeometryContext has been closed"),null===this.Tb&&Uh.k("Need to call beginFigure first"),this.Tb.Dl=t},Bh.moveTo=function(t,e,i){void 0===i&&(i=!1),null===this.o&&Uh.k("StreamGeometryContext has been closed"),null===this.Tb&&Uh.k("Need to call beginFigure first");var n=new X(qu);n.I=t,n.J=e,i&&n.close(),this.Tb.vb.add(n)},Bh.lineTo=function(t,e,i){void 0===i&&(i=!1),null===this.o&&Uh.k("StreamGeometryContext has been closed"),null===this.Tb&&Uh.k("Need to call beginFigure first");var n=new X(Ru);n.I=t,n.J=e,i&&n.close(),this.Tb.vb.add(n)},Bh.arcTo=function(t,e,i,n,r,o,s){void 0===o&&(o=0),void 0===s&&(s=!1),null===this.o&&Uh.k("StreamGeometryContext has been closed"),null===this.Tb&&Uh.k("Need to call beginFigure first");var a=new X(Vu);a.ye=t,a.Bf=e,a.oa=i,a.va=n,a.radiusX=r,a.radiusY=0!==o?o:r,s&&a.close(),this.Tb.vb.add(a)},_u.makeGeometry=function(t,e,i){var n=t.ya,r=n.width,n=n.height;return void 0!==e&&!isNaN(e)&&isFinite(e)&&(r=e),void 0!==i&&!isNaN(i)&&isFinite(i)&&(n=i),isFinite(r)||(r=100),isFinite(n)||(n=100),e=null,"None"!==t.Tp?e=_u.ij[t.Tp]:"None"!==t.Nz?e=_u.ij[t.Nz]:(i=_u.wg[t.Cb],"string"==typeof i&&(i=_u.wg[i]),void 0===i&&Uh.k("Unknown Shape.figure: "+t.Cb),e=i(t,r,n),e.ao=r,e.Zn=n),null===e&&(i=_u.wg.Rectangle,"function"==typeof i&&(e=i(t,r,n))),e},_u.Ti=function(t,e,i,n,r,o,s,a,l,h,u,c,f,d){var p=1-l;t=t*p+i*l,e=e*p+n*l,i=i*p+r*l,n=n*p+o*l,r=r*p+s*l,o=o*p+a*l,a=t*p+i*l,s=e*p+n*l,i=i*p+r*l,n=n*p+o*l,h.x=t,h.y=e,u.x=a,u.y=s,c.x=a*p+i*l,c.y=s*p+n*l,f.x=i,f.y=n,d.x=r,d.y=o},_u.Zo=function(t){t=_u.Rm(t);var e=Uh.mb();e[0]=t[0];for(var i=1,n=1;n<t.length;)e[i]=t[n],e[i+1]=t[n],e[i+2]=t[n+1],n+=2,i+=3;return Uh.ta(t),e},_u.Rm=function(t){var e=_u.jl(t),i=Uh.mb(),n=Math.floor(e.length/2),r=e.length-1;t=0===t%2?2:1;for(var o=0;r>o;o++){var s=e[o],a=e[o+1],l=e[(n+o-1)%r],h=e[(n+o+t)%r];i[2*o]=s,i[2*o+1]=_u.vl(s.x,s.y,l.x,l.y,a.x,a.y,h.x,h.y,new b)}return i[i.length]=i[0],Uh.ta(e),i},_u.vl=function(t,e,i,n,r,o,s,a,l){i=t-i;var h=r-s,u=s=0;return 0===i||0===h?0===i?(a=(o-a)/h,s=t,u=a*s+(o-a*r)):(n=(e-n)/i,s=r,u=n*s+(e-n*t)):(n=(e-n)/i,a=(o-a)/h,t=e-n*t,s=(o-a*r-t)/(n-a),u=n*s+t),l.m(s,u),l},_u.jl=function(t){for(var e=Uh.mb(),i=1.5*Math.PI,n=0,r=0;t>r;r++)n=2*Math.PI/t*r+i,e[r]=new b(.5+.5*Math.cos(n),.5+.5*Math.sin(n));return e.push(e[0]),e},_u.bB=new E(.156,.156).Fa(),_u.cB=new E(.844,.844).Fa(),_u.wg={None:"Rectangle",Rectangle:function(t,e,i){return t=new V,t.type=Ou,t.za=0,t.xa=0,t.I=e,t.J=i,t},Square:function(t,e,i){return t=new V,t.Md=nf,t.type=Ou,t.za=0,t.xa=0,t.I=Math.min(e,i),t.J=Math.min(e,i),t},Ellipse:function(t,e,i){return t=new V,t.type=Iu,t.za=0,t.xa=0,t.I=e,t.J=i,t.B=_u.bB,t.C=_u.cB,t},Circle:function(t,e,i){return t=new V,t.Md=nf,t.type=Iu,t.za=0,t.xa=0,t.I=Math.min(e,i),t.J=Math.min(e,i),t.B=_u.bB,t.C=_u.cB,t},Connector:"Ellipse",TriangleRight:function(t,e,i){t=new V;var n=new J,r=new X;return r.I=e,r.J=.5*i,n.vb.add(r),e=new X,e.I=0,e.J=i,n.vb.add(e.close()),t.Wb.add(n),t.B=new E(0,.25),t.C=new E(.5,.75),t},TriangleDown:function(t,e,i){t=new V;var n=new J,r=new X;return r.I=e,r.J=0,n.vb.add(r),r=new X,r.I=.5*e,r.J=i,n.vb.add(r.close()),t.Wb.add(n),t.B=new E(.25,0),t.C=new E(.75,.5),t},TriangleLeft:function(t,e,i){t=new V;var n=new J;n.za=e,n.xa=i;var r=new X;return r.I=0,r.J=.5*i,n.vb.add(r),i=new X,i.I=e,i.J=0,n.vb.add(i.close()),t.Wb.add(n),t.B=new E(.5,.25),t.C=new E(1,.75),t},TriangleUp:function(t,e,i){t=new V;var n=new J;n.za=e,n.xa=i;var r=new X;return r.I=0,r.J=i,n.vb.add(r),i=new X,i.I=.5*e,i.J=0,n.vb.add(i.close()),t.Wb.add(n),t.B=new E(.25,.5),t.C=new E(.75,1),t},Line1:function(t,e,i){return t=new V,t.type=ju,t.za=0,t.xa=0,t.I=e,t.J=i,t},Line2:function(t,e,i){return t=new V,t.type=ju,t.za=e,t.xa=0,t.I=0,t.J=i,t},MinusLine:"LineH",LineH:function(t,e,i){return t=new V,t.type=ju,t.za=0,t.xa=i/2,t.I=e,t.J=i/2,t},LineV:function(t,e,i){return t=new V,t.type=ju,t.za=e/2,t.xa=0,t.I=e/2,t.J=i,t},BarH:"Rectangle",BarV:"Rectangle",Curve1:function(t,e,i){var n=_u.Da;return t=Uh.q(),ss(t,0,0,!1),hs(t,n*e,0,1*e,(1-n)*i,e,i),e=t.o,Uh.s(t),e},Curve2:function(t,e,i){var n=_u.Da;return t=Uh.q(),ss(t,0,0,!1),hs(t,0,n*i,(1-n)*e,i,e,i),e=t.o,Uh.s(t),e},Curve3:function(t,e,i){var n=_u.Da;return t=Uh.q(),ss(t,1*e,0,!1),hs(t,1*e,n*i,n*e,1*i,0,1*i),e=t.o,Uh.s(t),e},Curve4:function(t,e,i){var n=_u.Da;return t=Uh.q(),ss(t,1*e,0,!1),hs(t,(1-n)*e,0,0,(1-n)*i,0,1*i),e=t.o,Uh.s(t),e},Alternative:"Triangle",Merge:"Triangle",Triangle:function(t,e,i){return t=Uh.q(),ss(t,.5*e,0*i,!0),t.lineTo(0*e,1*i),t.lineTo(1*e,1*i,!0),e=t.o,e.B=new E(.25,.5),e.C=new E(.75,1),Uh.s(t),e},Decision:"Diamond",Diamond:function(t,e,i){return t=Uh.q(),ss(t,.5*e,0,!0),t.lineTo(0,.5*i),t.lineTo(.5*e,1*i),t.lineTo(1*e,.5*i,!0),e=t.o,e.B=new E(.25,.25),e.C=new E(.75,.75),Uh.s(t),e},Pentagon:function(t,e,i){var n=_u.jl(5);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;5>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.2,.22),e.C=new E(.8,.9),Uh.s(t),e},DataTransmission:"Hexagon",Hexagon:function(t,e,i){var n=_u.jl(6);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;6>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.07,.25),e.C=new E(.93,.75),Uh.s(t),e},Heptagon:function(t,e,i){var n=_u.jl(7);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;7>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.2,.15),e.C=new E(.8,.85),Uh.s(t),e},Octagon:function(t,e,i){var n=_u.jl(8);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;8>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.15,.15),e.C=new E(.85,.85),Uh.s(t),e},Nonagon:function(t,e,i){var n=_u.jl(9);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;9>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.17,.13),e.C=new E(.82,.82),Uh.s(t),e},Decagon:function(t,e,i){var n=_u.jl(10);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;10>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.16,.16),e.C=new E(.84,.84),Uh.s(t),e},Dodecagon:function(t,e,i){var n=_u.jl(12);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;12>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.16,.16),e.C=new E(.84,.84),Uh.s(t),e},FivePointedStar:function(t,e,i){var n=_u.Rm(5);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;10>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.312,.383),e.C=new E(.693,.765),Uh.s(t),e},SixPointedStar:function(t,e,i){var n=_u.Rm(6);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;12>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.17,.251),e.C=new E(.833,.755),Uh.s(t),e},SevenPointedStar:function(t,e,i){var n=_u.Rm(7);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;14>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.363,.361),e.C=new E(.641,.709),Uh.s(t),e},EightPointedStar:function(t,e,i){var n=_u.Rm(8);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;16>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.252,.255),e.C=new E(.75,.75),Uh.s(t),e},NinePointedStar:function(t,e,i){var n=_u.Rm(9);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;18>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.355,.361),e.C=new E(.645,.651),Uh.s(t),e},TenPointedStar:function(t,e,i){var n=_u.Rm(10);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;20>r;r++)t.lineTo(n[r].x*e,n[r].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.281,.261),e.C=new E(.723,.748),Uh.s(t),e},FivePointedBurst:function(t,e,i){var n=_u.Zo(5);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;r<n.length;r+=3)hs(t,n[r].x*e,n[r].y*i,n[r+1].x*e,n[r+1].y*i,n[r+2].x*e,n[r+2].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.312,.383),e.C=new E(.693,.765),Uh.s(t),e},SixPointedBurst:function(t,e,i){var n=_u.Zo(6);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;r<n.length;r+=3)hs(t,n[r].x*e,n[r].y*i,n[r+1].x*e,n[r+1].y*i,n[r+2].x*e,n[r+2].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.17,.251),e.C=new E(.833,.755),Uh.s(t),e},SevenPointedBurst:function(t,e,i){var n=_u.Zo(7);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;r<n.length;r+=3)hs(t,n[r].x*e,n[r].y*i,n[r+1].x*e,n[r+1].y*i,n[r+2].x*e,n[r+2].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.363,.361),e.C=new E(.641,.709),Uh.s(t),e},EightPointedBurst:function(t,e,i){var n=_u.Zo(8);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;r<n.length;r+=3)hs(t,n[r].x*e,n[r].y*i,n[r+1].x*e,n[r+1].y*i,n[r+2].x*e,n[r+2].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.252,.255),e.C=new E(.75,.75),Uh.s(t),e},NinePointedBurst:function(t,e,i){var n=_u.Zo(9);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;r<n.length;r+=3)hs(t,n[r].x*e,n[r].y*i,n[r+1].x*e,n[r+1].y*i,n[r+2].x*e,n[r+2].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.355,.361),e.C=new E(.645,.651),Uh.s(t),e},TenPointedBurst:function(t,e,i){var n=_u.Zo(10);t=Uh.q(),ss(t,n[0].x*e,n[0].y*i,!0);for(var r=1;r<n.length;r+=3)hs(t,n[r].x*e,n[r].y*i,n[r+1].x*e,n[r+1].y*i,n[r+2].x*e,n[r+2].y*i);return Uh.ta(n),as(t),e=t.o,e.B=new E(.281,.261),e.C=new E(.723,.748),Uh.s(t),e},Cloud:function(t,e,i){return t=Uh.q(),ss(t,.08034461*e,.1944299*i,!0),hs(t,-.09239631*e,.07836421*i,.1406031*e,-.0542823*i,.2008615*e,.05349299*i),hs(t,.2450511*e,-.00697547*i,.3776197*e,-.01112067*i,.4338609*e,.074219*i),hs(t,.4539471*e,0,.6066018*e,-.02526587*i,.6558228*e,.07004196*i),hs(t,.6914277*e,-.01904177*i,.8921095*e,-.01220843*i,.8921095*e,.08370865*i),hs(t,1.036446*e,.04105738*i,1.020377*e,.3022052*i,.9147671*e,.3194596*i),hs(t,1.04448*e,.360238*i,.992256*e,.5219009*i,.9082935*e,.562044*i),hs(t,1.032337*e,.5771781*i,1.018411*e,.8120651*i,.9212406*e,.8217117*i),hs(t,1.028411*e,.9571472*i,.8556702*e,1.052487*i,.7592566*e,.9156953*i),hs(t,.7431877*e,1.009325*i,.5624123*e,1.021761*i,.5101666*e,.9310455*i),hs(t,.4820677*e,1.031761*i,.3030112*e,1.002796*i,.2609328*e,.9344623*i),hs(t,.2329994*e,1.01518*i,.03213784*e,1.01518*i,.08034461*e,.870098*i),hs(t,-.02812061*e,.9032597*i,-.01205169*e,.6835638*i,.06829292*e,.6545475*i),hs(t,-.01812061*e,.6089503*i,-.00606892*e,.4555777*i,.06427569*e,.4265613*i),hs(t,-.01606892*e,.3892545*i,-.01205169*e,.1944299*i,.08034461*e,.1944299*i),as(t),e=t.o,e.B=new E(.1,.1),e.C=new E(.9,.9),Uh.s(t),e},Gate:"Crescent",Crescent:function(t,e,i){return t=Uh.q(),ss(t,0,0,!0),hs(t,1*e,0,1*e,1*i,0,1*i),hs(t,.5*e,.75*i,.5*e,.25*i,0,0),as(t),e=t.o,e.B=new E(.511,.19),e.C=new E(.776,.76),Uh.s(t),e},FramedRectangle:function(t,e,i){var n=Uh.q(),r=t?t.zc:0/0;return t=t?t.Xt:0/0,isNaN(r)&&(r=.1),isNaN(t)&&(t=.1),ss(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i,!0),ss(n,r*e,t*i,!1,!0),n.lineTo(r*e,(1-t)*i),n.lineTo((1-r)*e,(1-t)*i),n.lineTo((1-r)*e,t*i,!0),e=n.o,e.B=new E(r,t),e.C=new E(1-r,1-t),Uh.s(n),e},Delay:"HalfEllipse",HalfEllipse:function(t,e,i){var n=_u.Da;return t=Uh.q(),ss(t,0,0,!0),hs(t,n*e,0,1*e,(.5-n/2)*i,1*e,.5*i),hs(t,1*e,(.5+n/2)*i,n*e,1*i,0,1*i),as(t),e=t.o,e.B=new E(0,.2),e.C=new E(.75,.8),Uh.s(t),e},Heart:function(t,e,i){return t=Uh.q(),ss(t,.5*e,1*i,!0),hs(t,.1*e,.8*i,0,.5*i,0*e,.3*i),hs(t,0*e,0,.45*e,0,.5*e,.3*i),hs(t,.55*e,0,1*e,0,1*e,.3*i),hs(t,e,.5*i,.9*e,.8*i,.5*e,1*i),as(t),e=t.o,e.B=new E(.15,.29),e.C=new E(.86,.68),Uh.s(t),e},Spade:function(t,e,i){return t=Uh.q(),ss(t,.5*e,0,!0),t.lineTo(.51*e,.01*i),hs(t,.6*e,.2*i,e,.25*i,e,.5*i),hs(t,e,.8*i,.6*e,.8*i,.55*e,.7*i),hs(t,.5*e,.75*i,.55*e,.95*i,.75*e,i),t.lineTo(.25*e,i),hs(t,.45*e,.95*i,.5*e,.75*i,.45*e,.7*i),hs(t,.4*e,.8*i,0,.8*i,0,.5*i),hs(t,0,.25*i,.4*e,.2*i,.49*e,.01*i),as(t),e=t.o,e.B=new E(.19,.26),e.C=new E(.8,.68),Uh.s(t),e},Club:function(t,e,i){t=Uh.q(),ss(t,.4*e,.6*i,!0),hs(t,.5*e,.75*i,.45*e,.95*i,.15*e,1*i),t.lineTo(.85*e,i),hs(t,.55*e,.95*i,.5*e,.75*i,.6*e,.6*i);var n=.2,r=.3,o=0,s=4*(Math.SQRT2-1)/3*n;return hs(t,(.5-n+r)*e,(.5+s+o)*i,(.5-s+r)*e,(.5+n+o)*i,(.5+r)*e,(.5+n+o)*i),hs(t,(.5+s+r)*e,(.5+n+o)*i,(.5+n+r)*e,(.5+s+o)*i,(.5+n+r)*e,(.5+o)*i),hs(t,(.5+n+r)*e,(.5-s+o)*i,(.5+s+r)*e,(.5-n+o)*i,(.5+r)*e,(.5-n+o)*i),hs(t,(.5-s+r)*e,(.5-n+o)*i,(.5-n+r+.05)*e,(.5-s+o-.02)*i,.65*e,.36771243*i),n=.2,r=0,o=-.3,s=4*(Math.SQRT2-1)/3*n,hs(t,(.5+s+r)*e,(.5+n+o)*i,(.5+n+r)*e,(.5+s+o)*i,(.5+n+r)*e,(.5+o)*i),hs(t,(.5+n+r)*e,(.5-s+o)*i,(.5+s+r)*e,(.5-n+o)*i,(.5+r)*e,(.5-n+o)*i),hs(t,(.5-s+r)*e,(.5-n+o)*i,(.5-n+r)*e,(.5-s+o)*i,(.5-n+r)*e,(.5+o)*i),hs(t,(.5-n+r)*e,(.5+s+o)*i,(.5-s+r)*e,(.5+n+o)*i,.35*e,.36771243*i),n=.2,r=-.3,o=0,s=4*(Math.SQRT2-1)/3*n,hs(t,(.5+n+r-.05)*e,(.5-s+o-.02)*i,(.5+s+r)*e,(.5-n+o)*i,(.5+r)*e,(.5-n+o)*i),hs(t,(.5-s+r)*e,(.5-n+o)*i,(.5-n+r)*e,(.5-s+o)*i,(.5-n+r)*e,(.5+o)*i),hs(t,(.5-n+r)*e,(.5+s+o)*i,(.5-s+r)*e,(.5+n+o)*i,(.5+r)*e,(.5+n+o)*i),hs(t,(.5+s+r)*e,(.5+n+o)*i,(.5+n+r)*e,(.5+s+o)*i,.4*e,.6*i),as(t),e=t.o,e.B=new E(.06,.39),e.C=new E(.93,.58),Uh.s(t),e},Ring:function(t,e,i){t=Uh.q();var n=4*(Math.SQRT2-1)/3*.5;return ss(t,e,.5*i,!0),hs(t,e,(.5-n)*i,(.5+n)*e,0,.5*e,0),hs(t,(.5-n)*e,0,0,(.5-n)*i,0,.5*i),hs(t,0,(.5+n)*i,(.5-n)*e,i,.5*e,i),hs(t,(.5+n)*e,i,e,(.5+n)*i,e,.5*i),n=4*(Math.SQRT2-1)/3*.4,ss(t,.5*e,.1*i,!0,!0),hs(t,(.5+n)*e,.1*i,.9*e,(.5-n)*i,.9*e,.5*i),hs(t,.9*e,(.5+n)*i,(.5+n)*e,.9*i,.5*e,.9*i),hs(t,(.5-n)*e,.9*i,.1*e,(.5+n)*i,.1*e,.5*i),hs(t,.1*e,(.5-n)*i,(.5-n)*e,.1*i,.5*e,.1*i),e=t.o,e.B=new E(.146,.146),e.C=new E(.853,.853),e.Md=nf,Uh.s(t),e},YinYang:function(t,e,i){var n=.5;t=Uh.q(),n=.5,ss(t,.5*e,0,!0),t.arcTo(270,180,.5*e,.5*e,.5*e),hs(t,1*e,n*i,0,n*i,n*e,0,!0);var n=.1,r=.25;return ss(t,(.5+n)*e,r*i,!0,!0),t.arcTo(0,-360,.5*e,i*r,n*e),as(t),ss(t,.5*e,0,!1),t.arcTo(270,-180,.5*e,.5*e,.5*e),t.ab(!1),r=.75,ss(t,(.5+n)*e,r*i,!0),t.arcTo(0,360,.5*e,i*r,n*e),as(t),e=t.o,e.Md=nf,Uh.s(t),e},Peace:function(t,e,i){t=Uh.q();var n=4*(Math.SQRT2-1)/3*.5;ss(t,e,.5*i,!0),hs(t,e,(.5-n)*i,(.5+n)*e,0,.5*e,0),hs(t,(.5-n)*e,0,0,(.5-n)*i,0,.5*i),hs(t,0,(.5+n)*i,(.5-n)*e,i,.5*e,i),hs(t,(.5+n)*e,i,e,(.5+n)*i,e,.5*i),n=4*(Math.SQRT2-1)/3*.4,ss(t,.5*e,.1*i,!0,!0),hs(t,(.5+n)*e,.1*i,.9*e,(.5-n)*i,.9*e,.5*i),hs(t,.9*e,(.5+n)*i,(.5+n)*e,.9*i,.5*e,.9*i),hs(t,(.5-n)*e,.9*i,.1*e,(.5+n)*i,.1*e,.5*i),hs(t,.1*e,(.5-n)*i,(.5-n)*e,.1*i,.5*e,.1*i);var n=.07,r=0,o=.11*-.707,s=4*(Math.SQRT2-1)/3*n;return ss(t,(.5+n+r)*e,(.5+o)*i,!0),hs(t,(.5+n+r)*e,(.5-s+o)*i,(.5+s+r)*e,(.5-n+o)*i,(.5+r)*e,(.5-n+o)*i),hs(t,(.5-s+r)*e,(.5-n+o)*i,(.5-n+r)*e,(.5-s+o)*i,(.5-n+r)*e,(.5+o)*i),hs(t,(.5-n+r)*e,(.5+s+o)*i,(.5-s+r)*e,(.5+n+o)*i,(.5+r)*e,(.5+n+o)*i),hs(t,(.5+s+r)*e,(.5+n+o)*i,(.5+n+r)*e,(.5+s+o)*i,(.5+n+r)*e,(.5+o)*i),n=.07,r=.11*-.707,o=.707*.11,s=4*(Math.SQRT2-1)/3*n,ss(t,(.5+n+r)*e,(.5+o)*i,!0),hs(t,(.5+n+r)*e,(.5-s+o)*i,(.5+s+r)*e,(.5-n+o)*i,(.5+r)*e,(.5-n+o)*i),hs(t,(.5-s+r)*e,(.5-n+o)*i,(.5-n+r)*e,(.5-s+o)*i,(.5-n+r)*e,(.5+o)*i),hs(t,(.5-n+r)*e,(.5+s+o)*i,(.5-s+r)*e,(.5+n+o)*i,(.5+r)*e,(.5+n+o)*i),hs(t,(.5+s+r)*e,(.5+n+o)*i,(.5+n+r)*e,(.5+s+o)*i,(.5+n+r)*e,(.5+o)*i),n=.07,r=.707*.11,o=.707*.11,s=4*(Math.SQRT2-1)/3*n,ss(t,(.5+n+r)*e,(.5+o)*i,!0),hs(t,(.5+n+r)*e,(.5-s+o)*i,(.5+s+r)*e,(.5-n+o)*i,(.5+r)*e,(.5-n+o)*i),hs(t,(.5-s+r)*e,(.5-n+o)*i,(.5-n+r)*e,(.5-s+o)*i,(.5-n+r)*e,(.5+o)*i),hs(t,(.5-n+r)*e,(.5+s+o)*i,(.5-s+r)*e,(.5+n+o)*i,(.5+r)*e,(.5+n+o)*i),hs(t,(.5+s+r)*e,(.5+n+o)*i,(.5+n+r)*e,(.5+s+o)*i,(.5+n+r)*e,(.5+o)*i),e=t.o,e.B=new E(.146,.146),e.C=new E(.853,.853),e.Md=nf,Uh.s(t),e
},NotAllowed:function(t,e,i){var n=_u.Da,r=.5*n,o=.5;t=Uh.q(),ss(t,.5*e,(.5-o)*i,!0),hs(t,(.5-r)*e,(.5-o)*i,(.5-o)*e,(.5-r)*i,(.5-o)*e,.5*i),hs(t,(.5-o)*e,(.5+r)*i,(.5-r)*e,(.5+o)*i,.5*e,(.5+o)*i),hs(t,(.5+r)*e,(.5+o)*i,(.5+o)*e,(.5+r)*i,(.5+o)*e,.5*i),hs(t,(.5+o)*e,(.5-r)*i,(.5+r)*e,(.5-o)*i,.5*e,(.5-o)*i);var o=.4,r=.4*n,n=Uh.M(),s=Uh.M(),a=Uh.M(),l=Uh.M();_u.Ti(.5,.5-o,.5+r,.5-o,.5+o,.5-r,.5+o,.5,.42,n,s,a,l,l);var h=Uh.M(),u=Uh.M(),c=Uh.M();_u.Ti(.5,.5-o,.5+r,.5-o,.5+o,.5-r,.5+o,.5,.58,l,l,c,h,u);var f=Uh.M(),d=Uh.M(),p=Uh.M();_u.Ti(.5,.5+o,.5-r,.5+o,.5-o,.5+r,.5-o,.5,.42,f,d,p,l,l);var g=Uh.M(),v=Uh.M(),m=Uh.M();return _u.Ti(.5,.5+o,.5-r,.5+o,.5-o,.5+r,.5-o,.5,.58,l,l,m,g,v),ss(t,m.x*e,m.y*i,!0,!0),hs(t,g.x*e,g.y*i,v.x*e,v.y*i,(.5-o)*e,.5*i),hs(t,(.5-o)*e,(.5-r)*i,(.5-r)*e,(.5-o)*i,.5*e,(.5-o)*i),hs(t,n.x*e,n.y*i,s.x*e,s.y*i,a.x*e,a.y*i),t.lineTo(m.x*e,m.y*i),as(t),ss(t,p.x*e,p.y*i,!0,!0),t.lineTo(c.x*e,c.y*i),hs(t,h.x*e,h.y*i,u.x*e,u.y*i,(.5+o)*e,.5*i),hs(t,(.5+o)*e,(.5+r)*i,(.5+r)*e,(.5+o)*i,.5*e,(.5+o)*i),hs(t,f.x*e,f.y*i,d.x*e,d.y*i,p.x*e,p.y*i),as(t),Uh.v(n),Uh.v(s),Uh.v(a),Uh.v(l),Uh.v(h),Uh.v(u),Uh.v(c),Uh.v(f),Uh.v(d),Uh.v(p),Uh.v(g),Uh.v(v),Uh.v(m),e=t.o,Uh.s(t),e.Md=nf,e},Fragile:function(t,e,i){return t=Uh.q(),ss(t,0,0,!0),t.lineTo(.25*e,0),t.lineTo(.2*e,.15*i),t.lineTo(.3*e,.25*i),t.lineTo(.29*e,.33*i),t.lineTo(.35*e,.25*i),t.lineTo(.3*e,.15*i),t.lineTo(.4*e,0),t.lineTo(1*e,0),hs(t,1*e,.25*i,.75*e,.5*i,.55*e,.5*i),t.lineTo(.55*e,.9*i),t.lineTo(.7*e,.9*i),t.lineTo(.7*e,1*i),t.lineTo(.3*e,1*i),t.lineTo(.3*e,.9*i),t.lineTo(.45*e,.9*i),t.lineTo(.45*e,.5*i),hs(t,.25*e,.5*i,0,.25*i,0,0),as(t),e=t.o,e.B=new E(.25,0),e.C=new E(.75,.4),Uh.s(t),e},HourGlass:function(t,e,i){return t=Uh.q(),ss(t,.65*e,.5*i,!0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(.35*e,.5*i),t.lineTo(0,0),t.lineTo(1*e,0),as(t),e=t.o,Uh.s(t),e},Lightning:function(t,e,i){return t=Uh.q(),ss(t,0*e,.55*i,!0),t.lineTo(.75*e,0),t.lineTo(.25*e,.45*i),t.lineTo(.9*e,.48*i),t.lineTo(.4*e,1*i),t.lineTo(.65*e,.55*i),as(t),e=t.o,Uh.s(t),e},Parallelogram1:function(t,e,i){t=t?t.zc:0/0,isNaN(t)&&(t=.1);var n=Uh.q();return ss(n,t*e,0,!0),n.lineTo(1*e,0),n.lineTo((1-t)*e,1*i),n.lineTo(0,1*i),as(n),e=n.o,e.B=new E(t,0),e.C=new E(1-t,1),Uh.s(n),e},Input:"Output",Output:function(t,e,i){return t=Uh.q(),ss(t,0,1*i,!0),t.lineTo(.1*e,0),t.lineTo(1*e,0),t.lineTo(.9*e,1*i),as(t),e=t.o,e.B=new E(.1,0),e.C=new E(.9,1),Uh.s(t),e},Parallelogram2:function(t,e,i){t=t?t.zc:0/0,isNaN(t)&&(t=.25);var n=Uh.q();return ss(n,t*e,0,!0),n.lineTo(1*e,0),n.lineTo((1-t)*e,1*i),n.lineTo(0,1*i),as(n),e=n.o,e.B=new E(t,0),e.C=new E(1-t,1),Uh.s(n),e},ThickCross:function(t,e,i){t=t?t.zc:0/0,isNaN(t)&&(t=.25);var n=Uh.q();return ss(n,(.5-t/2)*e,0,!0),n.lineTo((.5+t/2)*e,0),n.lineTo((.5+t/2)*e,(.5-t/2)*i),n.lineTo(1*e,(.5-t/2)*i),n.lineTo(1*e,(.5+t/2)*i),n.lineTo((.5+t/2)*e,(.5+t/2)*i),n.lineTo((.5+t/2)*e,1*i),n.lineTo((.5-t/2)*e,1*i),n.lineTo((.5-t/2)*e,(.5+t/2)*i),n.lineTo(0,(.5+t/2)*i),n.lineTo(0,(.5-t/2)*i),n.lineTo((.5-t/2)*e,(.5-t/2)*i),as(n),e=n.o,e.B=new E(.5-t/2,.5-t/2),e.C=new E(.5+t/2,.5+t/2),Uh.s(n),e},ThickX:function(t,e,i){t=.25/Math.SQRT2;var n=Uh.q();return ss(n,.3*e,0,!0),n.lineTo(.5*e,.2*i),n.lineTo(.7*e,0),n.lineTo(1*e,.3*i),n.lineTo(.8*e,.5*i),n.lineTo(1*e,.7*i),n.lineTo(.7*e,1*i),n.lineTo(.5*e,.8*i),n.lineTo(.3*e,1*i),n.lineTo(0,.7*i),n.lineTo(.2*e,.5*i),n.lineTo(0,.3*i),as(n),e=n.o,e.B=new E(.5-t,.5-t),e.C=new E(.5+t,.5+t),Uh.s(n),e},ThinCross:function(t,e,i){var n=t?t.zc:0/0;return isNaN(n)&&(n=.1),t=Uh.q(),ss(t,(.5-n/2)*e,0,!0),t.lineTo((.5+n/2)*e,0),t.lineTo((.5+n/2)*e,(.5-n/2)*i),t.lineTo(1*e,(.5-n/2)*i),t.lineTo(1*e,(.5+n/2)*i),t.lineTo((.5+n/2)*e,(.5+n/2)*i),t.lineTo((.5+n/2)*e,1*i),t.lineTo((.5-n/2)*e,1*i),t.lineTo((.5-n/2)*e,(.5+n/2)*i),t.lineTo(0,(.5+n/2)*i),t.lineTo(0,(.5-n/2)*i),t.lineTo((.5-n/2)*e,(.5-n/2)*i),as(t),e=t.o,Uh.s(t),e},ThinX:function(t,e,i){return t=Uh.q(),ss(t,.1*e,0,!0),t.lineTo(.5*e,.4*i),t.lineTo(.9*e,0),t.lineTo(1*e,.1*i),t.lineTo(.6*e,.5*i),t.lineTo(1*e,.9*i),t.lineTo(.9*e,1*i),t.lineTo(.5*e,.6*i),t.lineTo(.1*e,1*i),t.lineTo(0,.9*i),t.lineTo(.4*e,.5*i),t.lineTo(0,.1*i),as(t),t.o},RightTriangle:function(t,e,i){return t=Uh.q(),ss(t,0,0,!0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),as(t),e=t.o,e.B=new E(0,.5),e.C=new E(.5,1),Uh.s(t),e},RoundedIBeam:function(t,e,i){return t=Uh.q(),ss(t,0,0,!0),t.lineTo(1*e,0),hs(t,.5*e,.25*i,.5*e,.75*i,1*e,1*i),t.lineTo(0,1*i),hs(t,.5*e,.75*i,.5*e,.25*i,0,0),as(t),e=t.o,Uh.s(t),e},RoundedRectangle:function(t,e,i){var n=t?t.zc:0/0;isNaN(n)&&(n=5),n=Math.min(n,e/3),n=Math.min(n,i/3),t=n*_u.Da;var r=Uh.q();return ss(r,n,0,!0),r.lineTo(e-n,0),hs(r,e-t,0,e,t,e,n),r.lineTo(e,i-n),hs(r,e,i-t,e-t,i,e-n,i),r.lineTo(n,i),hs(r,t,i,0,i-t,0,i-n),r.lineTo(0,n),hs(r,0,t,t,0,n,0),as(r),e=r.o,t>1?(e.B=new E(0,0,t,t),e.C=new E(1,1,-t,-t)):(e.B=eu,e.C=hu),Uh.s(r),e},Border:function(t,e,i){var n=t?t.zc:0/0;return isNaN(n)&&(n=5),n=Math.min(n,e/3),n=Math.min(n,i/3),t=Uh.q(),ss(t,n,0,!0),t.lineTo(e-n,0),hs(t,e-0,0,e,0,e,n),t.lineTo(e,i-n),hs(t,e,i-0,e-0,i,e-n,i),t.lineTo(n,i),hs(t,0,i,0,i-0,0,i-n),t.lineTo(0,n),hs(t,0,0,0,0,n,0),as(t),e=t.o,e.B=eu,e.C=hu,Uh.s(t),e},SquareIBeam:function(t,e,i){var n=t?t.zc:0/0;return isNaN(n)&&(n=.2),t=Uh.q(),ss(t,0,0,!0),t.lineTo(1*e,0),t.lineTo(1*e,n*i),t.lineTo((.5+n/2)*e,n*i),t.lineTo((.5+n/2)*e,(1-n)*i),t.lineTo(1*e,(1-n)*i),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(0,(1-n)*i),t.lineTo((.5-n/2)*e,(1-n)*i),t.lineTo((.5-n/2)*e,n*i),t.lineTo(0,n*i),as(t),e=t.o,Uh.s(t),e},Trapezoid:function(t,e,i){t=t?t.zc:0/0,isNaN(t)&&(t=.2);var n=Uh.q();return ss(n,t*e,0,!0),n.lineTo((1-t)*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),as(n),e=n.o,e.B=new E(t,0),e.C=new E(1-t,1),Uh.s(n),e},ManualLoop:"ManualOperation",ManualOperation:function(t,e,i){var n=t?t.zc:0/0;return isNaN(n)&&(n=0),t=Uh.q(),ss(t,n,0,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(.9*e,1*i),t.lineTo(.1*e,1*i),as(t),e=t.o,e.B=new E(.1,0),e.C=new E(.9,1),Uh.s(t),e},GenderMale:function(t,e,i){t=Uh.q();var n=_u.Da,r=.4*n,o=.4,s=Uh.M(),a=Uh.M(),l=Uh.M(),h=Uh.M();ss(t,(.5-o)*e,.5*i,!0),hs(t,(.5-o)*e,(.5-r)*i,(.5-r)*e,(.5-o)*i,.5*e,(.5-o)*i),_u.Ti(.5,.5-o,.5+r,.5-o,.5+o,.5-r,.5+o,.5,.44,l,h,a,s,s),hs(t,l.x*e,l.y*i,h.x*e,h.y*i,a.x*e,a.y*i);var u=Uh.Sb(a.x,a.y);_u.Ti(.5,.5-o,.5+r,.5-o,.5+o,.5-r,.5+o,.5,.56,s,s,a,l,h);var c=Uh.Sb(a.x,a.y);return t.lineTo((.1*u.x+.855)*e,.1*u.y*i),t.lineTo(.85*e,.1*u.y*i),t.lineTo(.85*e,0),t.lineTo(1*e,0),t.lineTo(1*e,.15*i),t.lineTo((.1*c.x+.9)*e,.15*i),t.lineTo((.1*c.x+.9)*e,(.1*c.y+.05*.9)*i),t.lineTo(c.x*e,c.y*i),hs(t,l.x*e,l.y*i,h.x*e,h.y*i,(.5+o)*e,.5*i),hs(t,(.5+o)*e,(.5+r)*i,(.5+r)*e,(.5+o)*i,.5*e,(.5+o)*i),hs(t,(.5-r)*e,(.5+o)*i,(.5-o)*e,(.5+r)*i,(.5-o)*e,.5*i),o=.35,r=.35*n,ss(t,.5*e,(.5-o)*i,!0,!0),hs(t,(.5-r)*e,(.5-o)*i,(.5-o)*e,(.5-r)*i,(.5-o)*e,.5*i),hs(t,(.5-o)*e,(.5+r)*i,(.5-r)*e,(.5+o)*i,.5*e,(.5+o)*i),hs(t,(.5+r)*e,(.5+o)*i,(.5+o)*e,(.5+r)*i,(.5+o)*e,.5*i),hs(t,(.5+o)*e,(.5-r)*i,(.5+r)*e,(.5-o)*i,.5*e,(.5-o)*i),ss(t,(.5-o)*e,.5*i,!0),Uh.v(s),Uh.v(a),Uh.v(l),Uh.v(h),Uh.v(u),Uh.v(c),e=t.o,e.B=new E(.202,.257),e.C=new E(.692,.839),e.Md=nf,Uh.s(t),e},GenderFemale:function(t,e,i){t=Uh.q();var n=.375,r=0,o=-.125,s=4*(Math.SQRT2-1)/3*n;return ss(t,(.525+r)*e,(.5+n+o)*i,!0),hs(t,(.5+s+r)*e,(.5+n+o)*i,(.5+n+r)*e,(.5+s+o)*i,(.5+n+r)*e,(.5+o)*i),hs(t,(.5+n+r)*e,(.5-s+o)*i,(.5+s+r)*e,(.5-n+o)*i,(.5+r)*e,(.5-n+o)*i),hs(t,(.5-s+r)*e,(.5-n+o)*i,(.5-n+r)*e,(.5-s+o)*i,(.5-n+r)*e,(.5+o)*i),hs(t,(.5-n+r)*e,(.5+s+o)*i,(.5-s+r)*e,(.5+n+o)*i,(.475+r)*e,(.5+n+o)*i),t.lineTo(.475*e,.85*i),t.lineTo(.425*e,.85*i),t.lineTo(.425*e,.9*i),t.lineTo(.475*e,.9*i),t.lineTo(.475*e,1*i),t.lineTo(.525*e,1*i),t.lineTo(.525*e,.9*i),t.lineTo(.575*e,.9*i),t.lineTo(.575*e,.85*i),t.lineTo(.525*e,.85*i),as(t),n=.325,r=0,o=-.125,s=4*(Math.SQRT2-1)/3*n,ss(t,(.5+n+r)*e,(.5+o)*i,!0,!0),hs(t,(.5+n+r)*e,(.5+s+o)*i,(.5+s+r)*e,(.5+n+o)*i,(.5+r)*e,(.5+n+o)*i),hs(t,(.5-s+r)*e,(.5+n+o)*i,(.5-n+r)*e,(.5+s+o)*i,(.5-n+r)*e,(.5+o)*i),hs(t,(.5-n+r)*e,(.5-s+o)*i,(.5-s+r)*e,(.5-n+o)*i,(.5+r)*e,(.5-n+o)*i),hs(t,(.5+s+r)*e,(.5-n+o)*i,(.5+n+r)*e,(.5-s+o)*i,(.5+n+r)*e,(.5+o)*i),ss(t,(.525+r)*e,(.5+n+o)*i,!0),e=t.o,e.B=new E(.232,.136),e.C=new E(.782,.611),e.Md=nf,Uh.s(t),e},PlusLine:function(t,e,i){return t=Uh.q(),ss(t,0,.5*i,!1),t.lineTo(1*e,.5*i),t.moveTo(.5*e,0),t.lineTo(.5*e,1*i),e=t.o,Uh.s(t),e},XLine:function(t,e,i){return t=Uh.q(),ss(t,0,1*i,!1),t.lineTo(1*e,0),t.moveTo(0,0),t.lineTo(1*e,1*i),e=t.o,Uh.s(t),e},AsteriskLine:function(t,e,i){t=Uh.q();var n=.2/Math.SQRT2;return ss(t,n*e,(1-n)*i,!1),t.lineTo((1-n)*e,n*i),t.moveTo(n*e,n*i),t.lineTo((1-n)*e,(1-n)*i),t.moveTo(0*e,.5*i),t.lineTo(1*e,.5*i),t.moveTo(.5*e,0*i),t.lineTo(.5*e,1*i),e=t.o,Uh.s(t),e},CircleLine:function(t,e,i){var n=.5*_u.Da;return t=Uh.q(),ss(t,1*e,.5*i,!1),hs(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),hs(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),hs(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),hs(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),e=t.o,e.B=new E(.146,.146),e.C=new E(.853,.853),e.Md=nf,Uh.s(t),e},Pie:function(t,e,i){t=Uh.q();var n=4*(Math.SQRT2-1)/3*.5;return ss(t,(.5*Math.SQRT2/2+.5)*e,(.5-.5*Math.SQRT2/2)*i,!0),hs(t,.7*e,0*i,.5*e,0*i,.5*e,0*i),hs(t,(.5-n+0)*e,0*i,0*e,(.5-n+0)*i,0*e,.5*i),hs(t,0*e,(.5+n+0)*i,(.5-n+0)*e,1*i,.5*e,1*i),hs(t,(.5+n+0)*e,1*i,1*e,(.5+n+0)*i,1*e,.5*i),t.lineTo(.5*e,.5*i),as(t),e=t.o,Uh.s(t),e},PiePiece:function(t,e,i){var n=_u.Da/Math.SQRT2*.5,r=Math.SQRT2/2,o=1-Math.SQRT2/2;return t=Uh.q(),ss(t,e,i,!0),hs(t,e,(1-n)*i,(r+n)*e,(o+n)*i,r*e,o*i),t.lineTo(0,i),as(t),e=t.o,Uh.s(t),e},StopSign:function(t,e,i){t=1/(Math.SQRT2+2);var n=Uh.q();return ss(n,t*e,0,!0),n.lineTo((1-t)*e,0),n.lineTo(1*e,t*i),n.lineTo(1*e,(1-t)*i),n.lineTo((1-t)*e,1*i),n.lineTo(t*e,1*i),n.lineTo(0,(1-t)*i),n.lineTo(0,t*i),as(n),e=n.o,e.B=new E(t/2,t/2),e.C=new E(1-t/2,1-t/2),Uh.s(n),e},LogicImplies:function(t,e,i){var n=t?t.zc:0/0;return isNaN(n)&&(n=.2),t=Uh.q(),ss(t,(1-n)*e,0*i,!1),t.lineTo(1*e,.5*i),t.lineTo((1-n)*e,i),t.moveTo(0,.5*i),t.lineTo(e,.5*i),e=t.o,e.B=eu,e.C=new E(.8,.5),Uh.s(t),e},LogicIff:function(t,e,i){var n=t?t.zc:0/0;return isNaN(n)&&(n=.2),t=Uh.q(),ss(t,(1-n)*e,0*i,!1),t.lineTo(1*e,.5*i),t.lineTo((1-n)*e,i),t.moveTo(0,.5*i),t.lineTo(e,.5*i),t.moveTo(n*e,0),t.lineTo(0,.5*i),t.lineTo(n*e,i),e=t.o,e.B=new E(.2,0),e.C=new E(.8,.5),Uh.s(t),e},LogicNot:function(t,e,i){return t=Uh.q(),ss(t,0,0,!1),t.lineTo(1*e,0),t.lineTo(1*e,1*i),e=t.o,Uh.s(t),e},LogicAnd:function(t,e,i){return t=Uh.q(),ss(t,0,1*i,!1),t.lineTo(.5*e,0),t.lineTo(1*e,1*i),e=t.o,e.B=new E(.25,.5),e.C=new E(.75,1),Uh.s(t),e},LogicOr:function(t,e,i){return t=Uh.q(),ss(t,0,0,!1),t.lineTo(.5*e,1*i),t.lineTo(1*e,0),e=t.o,e.B=new E(.219,0),e.C=new E(.78,.409),Uh.s(t),e},LogicXor:function(t,e,i){t=Uh.q(),ss(t,.5*e,0,!1),t.lineTo(.5*e,1*i),t.moveTo(0,.5*i),t.lineTo(1*e,.5*i);var n=.5*_u.Da;return hs(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),hs(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),hs(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),hs(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),e=t.o,e.Md=nf,Uh.s(t),e},LogicTruth:function(t,e,i){return t=Uh.q(),ss(t,0,0,!1),t.lineTo(1*e,0),t.moveTo(.5*e,0),t.lineTo(.5*e,1*i),e=t.o,Uh.s(t),e},LogicFalsity:function(t,e,i){return t=Uh.q(),ss(t,0,1*i,!1),t.lineTo(1*e,1*i),t.moveTo(.5*e,1*i),t.lineTo(.5*e,0),e=t.o,Uh.s(t),e},LogicThereExists:function(t,e,i){return t=Uh.q(),ss(t,0,0,!1),t.lineTo(1*e,0),t.lineTo(1*e,.5*i),t.lineTo(0,.5*i),t.moveTo(1*e,.5*i),t.lineTo(1*e,1*i),t.lineTo(0,1*i),e=t.o,Uh.s(t),e},LogicForAll:function(t,e,i){return t=Uh.q(),ss(t,0,0,!1),t.lineTo(.5*e,1*i),t.lineTo(1*e,0),t.moveTo(.25*e,.5*i),t.lineTo(.75*e,.5*i),e=t.o,e.B=new E(.25,0),e.C=new E(.75,.5),Uh.s(t),e},LogicIsDefinedAs:function(t,e,i){return t=Uh.q(),ss(t,0,0,!1),t.lineTo(e,0),t.moveTo(0,.5*i),t.lineTo(e,.5*i),t.moveTo(0,i),t.lineTo(e,i),e=t.o,e.B=new E(.01,.01),e.C=new E(.99,.49),Uh.s(t),e},LogicIntersect:function(t,e,i){var n=.5*_u.Da;return t=Uh.q(),ss(t,0,1*i,!1),t.lineTo(0,.5*i),hs(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),hs(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),t.lineTo(1*e,1*i),e=t.o,e.B=new E(0,.5),e.C=hu,Uh.s(t),e},LogicUnion:function(t,e,i){var n=.5*_u.Da;return t=Uh.q(),ss(t,1*e,0,!1),t.lineTo(1*e,.5*i),hs(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),hs(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),t.lineTo(0,0),e=t.o,e.B=eu,e.C=new E(1,.5),Uh.s(t),e},Arrow:function(t,e,i){var n=t?t.zc:0/0,r=t?t.Xt:0/0;return isNaN(n)&&(n=.3),isNaN(r)&&(r=.3),t=Uh.q(),ss(t,0,(.5-r/2)*i,!0),t.lineTo((1-n)*e,(.5-r/2)*i),t.lineTo((1-n)*e,0),t.lineTo(1*e,.5*i),t.lineTo((1-n)*e,1*i),t.lineTo((1-n)*e,(.5+r/2)*i),t.lineTo(0,(.5+r/2)*i),as(t),e=t.o,e.B=new E(0,.5-r/2),n=_u.vl(0,.5+r/2,1,.5+r/2,1-n,1,1,.5,Uh.M()),e.C=new E(n.x,n.y),Uh.v(n),Uh.s(t),e},ISOProcess:"Chevron",Chevron:function(t,e,i){return t=Uh.q(),ss(t,0,0,!0),t.lineTo(.5*e,0),t.lineTo(1*e,.5*i),t.lineTo(.5*e,1*i),t.lineTo(0,1*i),t.lineTo(.5*e,.5*i),as(t),e=t.o,Uh.s(t),e},DoubleArrow:function(t,e,i){return t=Uh.q(),ss(t,0,0,!0),t.lineTo(.3*e,.214*i),t.lineTo(.3*e,0),t.lineTo(1*e,.5*i),t.lineTo(.3*e,1*i),t.lineTo(.3*e,.786*i),t.lineTo(0,1*i),as(t),ss(t,.3*e,.214*i,!1),t.lineTo(.3*e,.786*i),t.ab(!1),e=t.o,Uh.s(t),e},DoubleEndArrow:function(t,e,i){return t=Uh.q(),ss(t,1*e,.5*i,!0),t.lineTo(.7*e,1*i),t.lineTo(.7*e,.7*i),t.lineTo(.3*e,.7*i),t.lineTo(.3*e,1*i),t.lineTo(0,.5*i),t.lineTo(.3*e,0),t.lineTo(.3*e,.3*i),t.lineTo(.7*e,.3*i),t.lineTo(.7*e,0),as(t),e=t.o,i=_u.vl(0,.5,.3,0,0,.3,.3,.3,Uh.M()),e.B=new E(i.x,i.y),i=_u.vl(.7,1,1,.5,.7,.7,1,.7,i),e.C=new E(i.x,i.y),Uh.v(i),Uh.s(t),e},IBeamArrow:function(t,e,i){return t=Uh.q(),ss(t,1*e,.5*i,!0),t.lineTo(.7*e,1*i),t.lineTo(.7*e,.7*i),t.lineTo(.2*e,.7*i),t.lineTo(.2*e,1*i),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(.2*e,0),t.lineTo(.2*e,.3*i),t.lineTo(.7*e,.3*i),t.lineTo(.7*e,0),as(t),e=t.o,e.B=new E(0,.3),i=_u.vl(.7,1,1,.5,.7,.7,1,.7,Uh.M()),e.C=new E(i.x,i.y),Uh.v(i),Uh.s(t),e},Pointer:function(t,e,i){return t=Uh.q(),ss(t,1*e,.5*i,!0),t.lineTo(0,1*i),t.lineTo(.2*e,.5*i),t.lineTo(0,0),as(t),e=t.o,e.B=new E(.2,.35),i=_u.vl(.2,.65,1,.65,0,1,1,.5,Uh.M()),e.C=new E(i.x,i.y),Uh.v(i),Uh.s(t),e},RoundedPointer:function(t,e,i){return t=Uh.q(),ss(t,1*e,.5*i,!0),t.lineTo(0,1*i),hs(t,.5*e,.75*i,.5*e,.25*i,0,0),as(t),e=t.o,e.B=new E(.4,.35),i=_u.vl(.2,.65,1,.65,0,1,1,.5,Uh.M()),e.C=new E(i.x,i.y),Uh.v(i),Uh.s(t),e},SplitEndArrow:function(t,e,i){return t=Uh.q(),ss(t,1*e,.5*i,!0),t.lineTo(.7*e,1*i),t.lineTo(.7*e,.7*i),t.lineTo(0,.7*i),t.lineTo(.2*e,.5*i),t.lineTo(0,.3*i),t.lineTo(.7*e,.3*i),t.lineTo(.7*e,0),as(t),e=t.o,e.B=new E(.2,.3),i=_u.vl(.7,1,1,.5,.7,.7,1,.7,Uh.M()),e.C=new E(i.x,i.y),Uh.v(i),Uh.s(t),e},MessageToUser:"SquareArrow",SquareArrow:function(t,e,i){return t=Uh.q(),ss(t,1*e,.5*i,!0),t.lineTo(.7*e,1*i),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(.7*e,0),as(t),e=t.o,e.B=eu,e.C=new E(.7,1),Uh.s(t),e},Cone1:function(t,e,i){var n=_u.Da;t=.5*n;var r=.1*n,n=Uh.q();return ss(n,0,.9*i,!0),n.lineTo(.5*e,0),n.lineTo(1*e,.9*i),hs(n,1*e,(.9+r)*i,(.5+t)*e,1*i,.5*e,1*i),hs(n,(.5-t)*e,1*i,0,(.9+r)*i,0,.9*i),as(n),e=n.o,e.B=new E(.25,.5),e.C=new E(.75,.97),Uh.s(n),e},Cone2:function(t,e,i){return t=Uh.q(),ss(t,0,.9*i,!0),hs(t,(1-.85/.9)*e,1*i,.85/.9*e,1*i,1*e,.9*i),t.lineTo(.5*e,0),t.lineTo(0,.9*i),as(t),ss(t,0,.9*i,!1),hs(t,(1-.85/.9)*e,.8*i,.85/.9*e,.8*i,1*e,.9*i),t.ab(!1),e=t.o,e.B=new E(.25,.5),e.C=new E(.75,.82),Uh.s(t),e},Cube1:function(t,e,i){return t=Uh.q(),ss(t,.5*e,1*i,!0),t.lineTo(1*e,.85*i),t.lineTo(1*e,.15*i),t.lineTo(.5*e,0*i),t.lineTo(0*e,.15*i),t.lineTo(0*e,.85*i),as(t),ss(t,.5*e,1*i,!1),t.lineTo(.5*e,.3*i),t.lineTo(0,.15*i),t.moveTo(.5*e,.3*i),t.lineTo(1*e,.15*i),t.ab(!1),e=t.o,e.B=new E(0,.3),e.C=new E(.5,.85),Uh.s(t),e},Cube2:function(t,e,i){return t=Uh.q(),ss(t,0,.3*i,!0),t.lineTo(0*e,1*i),t.lineTo(.7*e,i),t.lineTo(1*e,.7*i),t.lineTo(1*e,0*i),t.lineTo(.3*e,0*i),as(t),ss(t,0,.3*i,!1),t.lineTo(.7*e,.3*i),t.lineTo(1*e,0*i),t.moveTo(.7*e,.3*i),t.lineTo(.7*e,1*i),t.ab(!1),e=t.o,e.B=new E(0,.3),e.C=new E(.7,1),Uh.s(t),e},MagneticData:"Cylinder1",Cylinder1:function(t,e,i){var n=_u.Da;t=.5*n;var r=.1*n,n=Uh.q();return ss(n,0,.1*i,!0),hs(n,0,(.1-r)*i,(.5-t)*e,0,.5*e,0),hs(n,(.5+t)*e,0,1*e,(.1-r)*i,1*e,.1*i),n.lineTo(e,.9*i),hs(n,1*e,(.9+r)*i,(.5+t)*e,1*i,.5*e,1*i),hs(n,(.5-t)*e,1*i,0,(.9+r)*i,0,.9*i),n.lineTo(0,.1*i),ss(n,0,.1*i,!1),hs(n,0,(.1+r)*i,(.5-t)*e,.2*i,.5*e,.2*i),hs(n,(.5+t)*e,.2*i,1*e,(.1+r)*i,1*e,.1*i),n.ab(!1),e=n.o,e.B=new E(0,.2),e.C=new E(1,.9),Uh.s(n),e},Cylinder2:function(t,e,i){var n=_u.Da;t=.5*n;var r=.1*n,n=Uh.q();return ss(n,0,.9*i,!0),n.lineTo(0,.1*i),hs(n,0,(.1-r)*i,(.5-t)*e,0,.5*e,0),hs(n,(.5+t)*e,0,1*e,(.1-r)*i,1*e,.1*i),n.lineTo(1*e,.9*i),hs(n,1*e,(.9+r)*i,(.5+t)*e,1*i,.5*e,1*i),hs(n,(.5-t)*e,1*i,0,(.9+r)*i,0,.9*i),ss(n,0,.9*i,!1),hs(n,0,(.9-r)*i,(.5-t)*e,.8*i,.5*e,.8*i),hs(n,(.5+t)*e,.8*i,1*e,(.9-r)*i,1*e,.9*i),n.ab(!1),e=n.o,e.B=new E(0,.1),e.C=new E(1,.8),Uh.s(n),e},Cylinder3:function(t,e,i){var n=_u.Da;t=.1*n;var r=.5*n,n=Uh.q();return ss(n,.1*e,0,!0),n.lineTo(.9*e,0),hs(n,(.9+t)*e,0,1*e,(.5-r)*i,1*e,.5*i),hs(n,1*e,(.5+r)*i,(.9+t)*e,1*i,.9*e,1*i),n.lineTo(.1*e,1*i),hs(n,(.1-t)*e,1*i,0,(.5+r)*i,0,.5*i),hs(n,0,(.5-r)*i,(.1-t)*e,0,.1*e,0),ss(n,.1*e,0,!1),hs(n,(.1+t)*e,0,.2*e,(.5-r)*i,.2*e,.5*i),hs(n,.2*e,(.5+r)*i,(.1+t)*e,1*i,.1*e,1*i),n.ab(!1),e=n.o,e.B=new E(.2,0),e.C=new E(.9,1),Uh.s(n),e},DirectData:"Cylinder4",Cylinder4:function(t,e,i){var n=_u.Da;t=.1*n;var r=.5*n,n=Uh.q();return ss(n,.9*e,0,!0),hs(n,(.9+t)*e,0,1*e,(.5-r)*i,1*e,.5*i),hs(n,1*e,(.5+r)*i,(.9+t)*e,1*i,.9*e,1*i),n.lineTo(.1*e,1*i),hs(n,(.1-t)*e,1*i,0,(.5+r)*i,0,.5*i),hs(n,0,(.5-r)*i,(.1-t)*e,0,.1*e,0),n.lineTo(.9*e,0),ss(n,.9*e,0,!1),hs(n,(.9-t)*e,0,.8*e,(.5-r)*i,.8*e,.5*i),hs(n,.8*e,(.5+r)*i,(.9-t)*e,1*i,.9*e,1*i),n.ab(!1),e=n.o,e.B=new E(.1,0),e.C=new E(.8,1),Uh.s(n),e},Prism1:function(t,e,i){return t=Uh.q(),ss(t,.25*e,.25*i,!0),t.lineTo(.75*e,0),t.lineTo(e,.5*i),t.lineTo(.5*e,i),t.lineTo(0,i),as(t),ss(t,.25*e,.25*i,!1),t.lineTo(.5*e,i),t.ab(!1),e=t.o,e.B=new E(.408,.172),e.C=new E(.833,.662),Uh.s(t),e},Prism2:function(t,e,i){return t=Uh.q(),ss(t,0,.25*i,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*i),t.lineTo(.75*e,.75*i),t.lineTo(0,1*i),as(t),ss(t,0,i,!1),t.lineTo(.25*e,.5*i),t.lineTo(e,.25*i),t.moveTo(0,.25*i),t.lineTo(.25*e,.5*i),t.ab(!1),e=t.o,e.B=new E(.25,.5),e.C=new E(.75,.75),Uh.s(t),e},Pyramid1:function(t,e,i){return t=Uh.q(),ss(t,.5*e,0,!0),t.lineTo(e,.75*i),t.lineTo(.5*e,1*i),t.lineTo(0,.75*i),as(t),ss(t,.5*e,0,!1),t.lineTo(.5*e,1*i),t.ab(!1),e=t.o,e.B=new E(.25,.367),e.C=new E(.75,.875),Uh.s(t),e},Pyramid2:function(t,e,i){return t=Uh.q(),ss(t,.5*e,0,!0),t.lineTo(e,.85*i),t.lineTo(.5*e,1*i),t.lineTo(0,.85*i),as(t),ss(t,.5*e,0,!1),t.lineTo(.5*e,.7*i),t.lineTo(0,.85*i),t.moveTo(.5*e,.7*i),t.lineTo(1*e,.85*i),t.ab(!1),e=t.o,e.B=new E(.25,.367),e.C=new E(.75,.875),Uh.s(t),e},Actor:function(t,e,i){var n=_u.Da,r=.2*n,o=.1*n,s=.5,a=.1;return t=Uh.q(),ss(t,s*e,(a+.1)*i,!0),hs(t,(s-r)*e,(a+.1)*i,(s-.2)*e,(a+o)*i,(s-.2)*e,a*i),hs(t,(s-.2)*e,(a-o)*i,(s-r)*e,(a-.1)*i,s*e,(a-.1)*i),hs(t,(s+r)*e,(a-.1)*i,(s+.2)*e,(a-o)*i,(s+.2)*e,a*i),hs(t,(s+.2)*e,(a+o)*i,(s+r)*e,(a+.1)*i,s*e,(a+.1)*i),r=.05,o=n*r,ss(t,.5*e,.2*i,!0),t.lineTo(.95*e,.2*i),s=.95,a=.25,hs(t,(s+o)*e,(a-r)*i,(s+r)*e,(a-o)*i,(s+r)*e,a*i),t.lineTo(1*e,.6*i),t.lineTo(.85*e,.6*i),t.lineTo(.85*e,.35*i),r=.025,o=n*r,s=.825,a=.35,hs(t,(s+r)*e,(a-o)*i,(s+o)*e,(a-r)*i,s*e,(a-r)*i),hs(t,(s-o)*e,(a-r)*i,(s-r)*e,(a-o)*i,(s-r)*e,a*i),t.lineTo(.8*e,1*i),t.lineTo(.55*e,1*i),t.lineTo(.55*e,.7*i),r=.05,o=n*r,s=.5,a=.7,hs(t,(s+r)*e,(a-o)*i,(s+o)*e,(a-r)*i,s*e,(a-r)*i),hs(t,(s-o)*e,(a-r)*i,(s-r)*e,(a-o)*i,(s-r)*e,a*i),t.lineTo(.45*e,1*i),t.lineTo(.2*e,1*i),t.lineTo(.2*e,.35*i),r=.025,o=n*r,s=.175,a=.35,hs(t,(s+r)*e,(a-o)*i,(s+o)*e,(a-r)*i,s*e,(a-r)*i),hs(t,(s-o)*e,(a-r)*i,(s-r)*e,(a-o)*i,(s-r)*e,a*i),t.lineTo(.15*e,.6*i),t.lineTo(0*e,.6*i),t.lineTo(0*e,.25*i),r=.05,o=n*r,s=.05,a=.25,hs(t,(s-r)*e,(a-o)*i,(s-o)*e,(a-r)*i,s*e,(a-r)*i),t.lineTo(.5*e,.2*i),e=t.o,e.B=new E(.2,.2),e.C=new E(.8,.65),Uh.s(t),e},Card:function(t,e,i){return t=Uh.q(),ss(t,1*e,0*i,!0),t.lineTo(1*e,1*i),t.lineTo(0*e,1*i),t.lineTo(0*e,.2*i),t.lineTo(.2*e,0*i),as(t),e=t.o,e.B=new E(0,.2),e.C=hu,Uh.s(t),e},Collate:function(t,e,i){return t=Uh.q(),ss(t,.5*e,.5*i,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(.5*e,.5*i),ss(t,.5*e,.5*i,!0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(.5*e,.5*i),e=t.o,e.B=new E(.25,0),e.C=new E(.75,.25),Uh.s(t),e},CreateRequest:function(t,e,i){t=t?t.zc:0/0,isNaN(t)&&(t=.1);var n=Uh.q();return ss(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),as(n),ss(n,0,t*i,!1),n.lineTo(1*e,t*i),n.moveTo(0,(1-t)*i),n.lineTo(1*e,(1-t)*i),n.ab(!1),e=n.o,e.B=new E(0,t),e.C=new E(1,1-t),Uh.s(n),e},Database:function(t,e,i){t=Uh.q();var n=_u.Da,r=.5*n,n=.1*n;return ss(t,1*e,.1*i,!0),t.lineTo(1*e,.9*i),hs(t,1*e,(.9+n)*i,(.5+r)*e,1*i,.5*e,1*i),hs(t,(.5-r)*e,1*i,0,(.9+n)*i,0,.9*i),t.lineTo(0,.1*i),hs(t,0,(.1-n)*i,(.5-r)*e,0,.5*e,0),hs(t,(.5+r)*e,0,1*e,(.1-n)*i,1*e,.1*i),ss(t,1*e,.1*i,!1),hs(t,1*e,(.1+n)*i,(.5+r)*e,.2*i,.5*e,.2*i),hs(t,(.5-r)*e,.2*i,0,(.1+n)*i,0,.1*i),t.moveTo(1*e,.2*i),hs(t,1*e,(.2+n)*i,(.5+r)*e,.3*i,.5*e,.3*i),hs(t,(.5-r)*e,.3*i,0,(.2+n)*i,0,.2*i),t.moveTo(1*e,.3*i),hs(t,1*e,(.3+n)*i,(.5+r)*e,.4*i,.5*e,.4*i),hs(t,(.5-r)*e,.4*i,0,(.3+n)*i,0,.3*i),t.ab(!1),e=t.o,e.B=new E(0,.4),e.C=new E(1,.9),Uh.s(t),e},StoredData:"DataStorage",DataStorage:function(t,e,i){return t=Uh.q(),ss(t,0,0,!0),t.lineTo(.75*e,0),hs(t,1*e,0,1*e,1*i,.75*e,1*i),t.lineTo(0,1*i),hs(t,.25*e,.9*i,.25*e,.1*i,0,0),as(t),e=t.o,e.B=new E(.226,0),e.C=new E(.81,1),Uh.s(t),e},DiskStorage:function(t,e,i){t=Uh.q();var n=_u.Da,r=.5*n,n=.1*n;return ss(t,1*e,.1*i,!0),t.lineTo(1*e,.9*i),hs(t,1*e,(.9+n)*i,(.5+r)*e,1*i,.5*e,1*i),hs(t,(.5-r)*e,1*i,0,(.9+n)*i,0,.9*i),t.lineTo(0,.1*i),hs(t,0,(.1-n)*i,(.5-r)*e,0,.5*e,0),hs(t,(.5+r)*e,0,1*e,(.1-n)*i,1*e,.1*i),ss(t,1*e,.1*i,!1),hs(t,1*e,(.1+n)*i,(.5+r)*e,.2*i,.5*e,.2*i),hs(t,(.5-r)*e,.2*i,0,(.1+n)*i,0,.1*i),t.moveTo(1*e,.2*i),hs(t,1*e,(.2+n)*i,(.5+r)*e,.3*i,.5*e,.3*i),hs(t,(.5-r)*e,.3*i,0,(.2+n)*i,0,.2*i),t.ab(!1),e=t.o,e.B=new E(0,.3),e.C=new E(1,.9),Uh.s(t),e},Display:function(t,e,i){return t=Uh.q(),ss(t,.25*e,0,!0),t.lineTo(.75*e,0),hs(t,1*e,0,1*e,1*i,.75*e,1*i),t.lineTo(.25*e,1*i),t.lineTo(0,.5*i),as(t),e=t.o,e.B=new E(.25,0),e.C=new E(.75,1),Uh.s(t),e},DividedEvent:function(t,e,i){t=t?t.zc:0/0,isNaN(t)?t=.2:.15>t&&(t=.15);var n=Uh.q(),r=.2*_u.Da;return ss(n,0,.2*i,!0),hs(n,0,(.2-r)*i,(.2-r)*e,0,.2*e,0),n.lineTo(.8*e,0),hs(n,(.8+r)*e,0,1*e,(.2-r)*i,1*e,.2*i),n.lineTo(1*e,.8*i),hs(n,1*e,(.8+r)*i,(.8+r)*e,1*i,.8*e,1*i),n.lineTo(.2*e,1*i),hs(n,(.2-r)*e,1*i,0,(.8+r)*i,0,.8*i),n.lineTo(0,.2*i),ss(n,0,t*i,!1),n.lineTo(1*e,t*i),n.ab(!1),e=n.o,e.B=new E(0,t),e.C=new E(1,1-t),Uh.s(n),e},DividedProcess:function(t,e,i){t=t?t.zc:0/0,(isNaN(t)||.1>t)&&(t=.1);var n=Uh.q();return ss(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),as(n),ss(n,0,t*i,!1),n.lineTo(1*e,t*i),n.ab(!1),e=n.o,e.B=new E(0,t),e.C=hu,Uh.s(n),e},Document:function(t,e,i){return i/=.8,t=Uh.q(),ss(t,0,.7*i,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(1*e,.7*i),hs(t,.5*e,.4*i,.5*e,1*i,0,.7*i),as(t),e=t.o,e.B=eu,e.C=new E(1,.6),Uh.s(t),e},ExternalOrganization:function(t,e,i){t=t?t.zc:0/0,(isNaN(t)||.2>t)&&(t=.2);var n=Uh.q();return ss(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),as(n),ss(n,t*e,0,!1),n.lineTo(0,t*i),n.moveTo(1*e,t*i),n.lineTo((1-t)*e,0),n.moveTo(0,(1-t)*i),n.lineTo(t*e,1*i),n.moveTo((1-t)*e,1*i),n.lineTo(1*e,(1-t)*i),n.ab(!1),e=n.o,e.B=new E(t/2,t/2),e.C=new E(1-t/2,1-t/2),Uh.s(n),e},ExternalProcess:function(t,e,i){return t=Uh.q(),ss(t,.5*e,0,!0),t.lineTo(1*e,.5*i),t.lineTo(.5*e,1*i),t.lineTo(0,.5*i),as(t),ss(t,.1*e,.4*i,!1),t.lineTo(.1*e,.6*i),t.moveTo(.9*e,.6*i),t.lineTo(.9*e,.4*i),t.moveTo(.6*e,.1*i),t.lineTo(.4*e,.1*i),t.moveTo(.4*e,.9*i),t.lineTo(.6*e,.9*i),t.ab(!1),e=t.o,e.B=new E(.25,.25),e.C=new E(.75,.75),Uh.s(t),e},File:function(t,e,i){return t=Uh.q(),ss(t,0,0,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*i),t.lineTo(1*e,1*i),t.lineTo(0,1*i),as(t),ss(t,.75*e,0,!1),t.lineTo(.75*e,.25*i),t.lineTo(1*e,.25*i),t.ab(!1),e=t.o,e.B=new E(0,.25),e.C=hu,Uh.s(t),e},Interrupt:function(t,e,i){return t=Uh.q(),ss(t,1*e,.5*i,!0),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(1*e,.5*i),ss(t,1*e,.5*i,!1),t.lineTo(1*e,1*i),ss(t,1*e,.5*i,!1),t.lineTo(1*e,0),e=t.o,e.B=new E(0,.25),e.C=new E(.5,.75),Uh.s(t),e},InternalStorage:function(t,e,i){var n=t?t.zc:0/0;t=t?t.Xt:0/0,isNaN(n)&&(n=.1),isNaN(t)&&(t=.1);var r=Uh.q();return ss(r,0,0,!0),r.lineTo(1*e,0),r.lineTo(1*e,1*i),r.lineTo(0,1*i),as(r),ss(r,n*e,0,!1),r.lineTo(n*e,1*i),r.moveTo(0,t*i),r.lineTo(1*e,t*i),r.ab(!1),e=r.o,e.B=new E(n,t),e.C=hu,Uh.s(r),e},Junction:function(t,e,i){t=Uh.q();var n=1/Math.SQRT2,r=(1-1/Math.SQRT2)/2,o=.5*_u.Da;return ss(t,1*e,.5*i,!0),hs(t,1*e,(.5+o)*i,(.5+o)*e,1*i,.5*e,1*i),hs(t,(.5-o)*e,1*i,0,(.5+o)*i,0,.5*i),hs(t,0,(.5-o)*i,(.5-o)*e,0,.5*e,0),hs(t,(.5+o)*e,0,1*e,(.5-o)*i,1*e,.5*i),ss(t,(r+n)*e,(r+n)*i,!1),t.lineTo(r*e,r*i),t.moveTo(r*e,(r+n)*i),t.lineTo((r+n)*e,r*i),t.ab(!1),e=t.o,e.Md=nf,Uh.s(t),e},LinedDocument:function(t,e,i){return i/=.8,t=Uh.q(),ss(t,0,.7*i,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(1*e,.7*i),hs(t,.5*e,.4*i,.5*e,1*i,0,.7*i),as(t),ss(t,.1*e,0,!1),t.lineTo(.1*e,.75*i),t.ab(!1),e=t.o,e.B=new E(.1,0),e.C=new E(1,.6),Uh.s(t),e},LoopLimit:function(t,e,i){return t=Uh.q(),ss(t,0,1*i,!0),t.lineTo(0,.25*i),t.lineTo(.25*e,0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*i),t.lineTo(1*e,1*i),as(t),e=t.o,e.B=new E(0,.25),e.C=hu,Uh.s(t),e},SequentialData:"MagneticTape",MagneticTape:function(t,e,i){t=Uh.q();var n=.5*_u.Da;return ss(t,.5*e,1*i,!0),hs(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),hs(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),hs(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),hs(t,1*e,(.5+n)*i,(.5+n)*e,.9*i,.6*e,.9*i),t.lineTo(1*e,.9*i),t.lineTo(1*e,1*i),t.lineTo(.5*e,1*i),e=t.o,e.B=new E(.15,.15),e.C=new E(.85,.8),Uh.s(t),e},ManualInput:function(t,e,i){return t=Uh.q(),ss(t,1*e,0,!0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(0,.25*i),as(t),e=t.o,e.B=new E(0,.25),e.C=hu,Uh.s(t),e},MessageFromUser:function(t,e,i){t=t?t.zc:0/0,isNaN(t)&&(t=.7);var n=Uh.q();return ss(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(t*e,.5*i),n.lineTo(1*e,1*i),n.lineTo(0,1*i),as(n),e=n.o,e.B=eu,e.C=new E(t,1),Uh.s(n),e},MicroformProcessing:function(t,e,i){t=t?t.zc:0/0,isNaN(t)&&(t=.25);var n=Uh.q();return ss(n,0,0,!0),n.lineTo(.5*e,t*i),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(.5*e,(1-t)*i),n.lineTo(0,1*i),as(n),e=n.o,e.B=new E(0,t),e.C=new E(1,1-t),Uh.s(n),e},MicroformRecording:function(t,e,i){return t=Uh.q(),ss(t,0,0,!0),t.lineTo(.75*e,.25*i),t.lineTo(1*e,.15*i),t.lineTo(1*e,.85*i),t.lineTo(.75*e,.75*i),t.lineTo(0,1*i),as(t),e=t.o,e.B=new E(0,.25),e.C=new E(1,.75),Uh.s(t),e},MultiDocument:function(t,e,i){return i/=.8,t=Uh.q(),ss(t,e,0,!0),t.lineTo(e,.5*i),hs(t,.96*e,.47*i,.93*e,.45*i,.9*e,.44*i),t.lineTo(.9*e,.6*i),hs(t,.86*e,.57*i,.83*e,.55*i,.8*e,.54*i),t.lineTo(.8*e,.7*i),hs(t,.4*e,.4*i,.4*e,1*i,0,.7*i),t.lineTo(0,.2*i),t.lineTo(.1*e,.2*i),t.lineTo(.1*e,.1*i),t.lineTo(.2*e,.1*i),t.lineTo(.2*e,0),as(t),ss(t,.1*e,.2*i,!1),t.lineTo(.8*e,.2*i),t.lineTo(.8*e,.54*i),t.moveTo(.2*e,.1*i),t.lineTo(.9*e,.1*i),t.lineTo(.9*e,.44*i),t.ab(!1),e=t.o,e.B=new E(0,.25),e.C=new E(.8,.77),Uh.s(t),e},MultiProcess:function(t,e,i){return t=Uh.q(),ss(t,.1*e,.1*i,!0),t.lineTo(.2*e,.1*i),t.lineTo(.2*e,0),t.lineTo(1*e,0),t.lineTo(1*e,.8*i),t.lineTo(.9*e,.8*i),t.lineTo(.9*e,.9*i),t.lineTo(.8*e,.9*i),t.lineTo(.8*e,1*i),t.lineTo(0,1*i),t.lineTo(0,.2*i),t.lineTo(.1*e,.2*i),as(t),ss(t,.2*e,.1*i,!1),t.lineTo(.9*e,.1*i),t.lineTo(.9*e,.8*i),t.moveTo(.1*e,.2*i),t.lineTo(.8*e,.2*i),t.lineTo(.8*e,.9*i),t.ab(!1),e=t.o,e.B=new E(0,.2),e.C=new E(.8,1),Uh.s(t),e},OfflineStorage:function(t,e,i){t=t?t.zc:0/0,isNaN(t)&&(t=.1);var n=1-t,r=Uh.q();return ss(r,0,0,!0),r.lineTo(1*e,0),r.lineTo(.5*e,1*i),as(r),ss(r,.5*t*e,t*i,!1),r.lineTo((1-.5*t)*e,t*i),r.ab(!1),e=r.o,e.B=new E(n/4+.5*t,t),e.C=new E(3*n/4+.5*t,t+.5*n),Uh.s(r),e},OffPageConnector:function(t,e,i){return t=Uh.q(),ss(t,0,0,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.5*i),t.lineTo(.75*e,1*i),t.lineTo(0,1*i),as(t),e=t.o,e.B=eu,e.C=new E(.75,1),Uh.s(t),e},Or:function(t,e,i){t=Uh.q();var n=.5*_u.Da;return ss(t,1*e,.5*i,!0),hs(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),hs(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),hs(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),hs(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),ss(t,1*e,.5*i,!1),t.lineTo(0,.5*i),t.moveTo(.5*e,1*i),t.lineTo(.5*e,0),t.ab(!1),e=t.o,e.Md=nf,Uh.s(t),e},PaperTape:function(t,e,i){return i/=.8,t=Uh.q(),ss(t,0,.7*i,!0),t.lineTo(0,.3*i),hs(t,.5*e,.6*i,.5*e,0,1*e,.3*i),t.lineTo(1*e,.7*i),hs(t,.5*e,.4*i,.5*e,1*i,0,.7*i),as(t),e=t.o,e.B=new E(0,.49),e.C=new E(1,.75),Uh.s(t),e},PrimitiveFromCall:function(t,e,i){var n=t?t.zc:0/0;t=t?t.Xt:0/0,isNaN(n)&&(n=.1),isNaN(t)&&(t=.3);var r=Uh.q();return ss(r,0,0,!0),r.lineTo(1*e,0),r.lineTo((1-t)*e,.5*i),r.lineTo(1*e,1*i),r.lineTo(0,1*i),as(r),e=r.o,e.B=new E(n,0),e.C=new E(1-t,1),Uh.s(r),e},PrimitiveToCall:function(t,e,i){var n=t?t.zc:0/0;t=t?t.Xt:0/0,isNaN(n)&&(n=.1),isNaN(t)&&(t=.3);var r=Uh.q();return ss(r,0,0,!0),r.lineTo((1-t)*e,0),r.lineTo(1*e,.5*i),r.lineTo((1-t)*e,1*i),r.lineTo(0,1*i),as(r),e=r.o,e.B=new E(n,0),e.C=new E(1-t,1),Uh.s(r),e},Subroutine:"Procedure",Procedure:function(t,e,i){t=t?t.zc:0/0,isNaN(t)&&(t=.1);var n=Uh.q();return ss(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),as(n),ss(n,(1-t)*e,0,!1),n.lineTo((1-t)*e,1*i),n.moveTo(t*e,0),n.lineTo(t*e,1*i),n.ab(!1),e=n.o,e.B=new E(t,0),e.C=new E(1-t,1),Uh.s(n),e},Process:function(t,e,i){t=t?t.zc:0/0,isNaN(t)&&(t=.1);var n=Uh.q();return ss(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),as(n),ss(n,t*e,0,!1),n.lineTo(t*e,1*i),n.ab(!1),e=n.o,e.B=new E(t,0),e.C=hu,Uh.s(n),e},Sort:function(t,e,i){return t=Uh.q(),ss(t,.5*e,0,!0),t.lineTo(1*e,.5*i),t.lineTo(.5*e,1*i),t.lineTo(0,.5*i),as(t),ss(t,0,.5*i,!1),t.lineTo(1*e,.5*i),t.ab(!1),e=t.o,e.B=new E(.25,.25),e.C=new E(.75,.5),Uh.s(t),e},Start:function(t,e,i){return t=Uh.q(),ss(t,.25*e,0,!0),ss(t,.25*e,0,!0),t.arcTo(270,180,.75*e,.5*i,.25*e,.5*i),t.arcTo(90,180,.25*e,.5*i,.25*e,.5*i),ss(t,.25*e,0,!1),t.lineTo(.25*e,1*i),t.moveTo(.75*e,0),t.lineTo(.75*e,1*i),t.ab(!1),e=t.o,e.B=new E(.25,0),e.C=new E(.75,1),Uh.s(t),e},Terminator:function(t,e,i){return t=Uh.q(),ss(t,.25*e,0,!0),t.arcTo(270,180,.75*e,.5*i,.25*e,.5*i),t.arcTo(90,180,.25*e,.5*i,.25*e,.5*i),e=t.o,e.B=new E(.23,0),e.C=new E(.77,1),Uh.s(t),e},TransmittalTape:function(t,e,i){t=t?t.zc:0/0,isNaN(t)&&(t=.1);var n=Uh.q();return ss(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(.75*e,(1-t)*i),n.lineTo(0,(1-t)*i),as(n),e=n.o,e.B=eu,e.C=new E(1,1-t),Uh.s(n),e},AndGate:function(t,e,i){t=Uh.q();var n=.5*_u.Da;return ss(t,0,0,!0),t.lineTo(.5*e,0),hs(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),hs(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),t.lineTo(0,1*i),as(t),e=t.o,e.B=eu,e.C=new E(.55,1),Uh.s(t),e},Buffer:function(t,e,i){return t=Uh.q(),ss(t,0,0,!0),t.lineTo(1*e,.5*i),t.lineTo(0,1*i),as(t),e=t.o,e.B=new E(0,.25),e.C=new E(.5,.75),Uh.s(t),e},Clock:function(t,e,i){t=Uh.q();var n=.5*_u.Da;return ss(t,1*e,.5*i,!0),hs(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),hs(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),hs(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),hs(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),ss(t,1*e,.5*i,!1),t.lineTo(1*e,.5*i),ss(t,.8*e,.75*i,!1),t.lineTo(.8*e,.25*i),t.lineTo(.6*e,.25*i),t.lineTo(.6*e,.75*i),t.lineTo(.4*e,.75*i),t.lineTo(.4*e,.25*i),t.lineTo(.2*e,.25*i),t.lineTo(.2*e,.75*i),t.ab(!1),e=t.o,e.Md=nf,Uh.s(t),e},Ground:function(t,e,i){return t=Uh.q(),ss(t,.5*e,0,!1),t.lineTo(.5*e,.4*i),t.moveTo(.2*e,.6*i),t.lineTo(.8*e,.6*i),t.moveTo(.3*e,.8*i),t.lineTo(.7*e,.8*i),t.moveTo(.4*e,1*i),t.lineTo(.6*e,1*i),e=t.o,Uh.s(t),e},Inverter:function(t,e,i){t=Uh.q();var n=.1*_u.Da;return ss(t,.8*e,.5*i,!0),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(.8*e,.5*i),ss(t,1*e,.5*i,!0),hs(t,1*e,(.5+n)*i,(.9+n)*e,.6*i,.9*e,.6*i),hs(t,(.9-n)*e,.6*i,.8*e,(.5+n)*i,.8*e,.5*i),hs(t,.8*e,(.5-n)*i,(.9-n)*e,.4*i,.9*e,.4*i),hs(t,(.9+n)*e,.4*i,1*e,(.5-n)*i,1*e,.5*i),e=t.o,e.B=new E(0,.25),e.C=new E(.4,.75),Uh.s(t),e},NandGate:function(t,e,i){t=Uh.q();var n=_u.Da,r=.5*n,o=.4*n,n=.1*n;return ss(t,.8*e,.5*i,!0),hs(t,.8*e,(.5+o)*i,(.4+r)*e,1*i,.4*e,1*i),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(.4*e,0),hs(t,(.4+r)*e,0,.8*e,(.5-o)*i,.8*e,.5*i),ss(t,1*e,.5*i,!0),hs(t,1*e,(.5+n)*i,(.9+n)*e,.6*i,.9*e,.6*i),hs(t,(.9-n)*e,.6*i,.8*e,(.5+n)*i,.8*e,.5*i),hs(t,.8*e,(.5-n)*i,(.9-n)*e,.4*i,.9*e,.4*i),hs(t,(.9+n)*e,.4*i,1*e,(.5-n)*i,1*e,.5*i),e=t.o,e.B=new E(0,.05),e.C=new E(.55,.95),Uh.s(t),e
},NorGate:function(t,e,i){t=Uh.q();var n=_u.Da,r=.5,o=n*r,s=0,a=.5;return ss(t,.8*e,.5*i,!0),hs(t,.7*e,(a+o)*i,(s+o)*e,(a+r)*i,0,1*i),hs(t,.25*e,.75*i,.25*e,.25*i,0,0),hs(t,(s+o)*e,(a-r)*i,.7*e,(a-o)*i,.8*e,.5*i),r=.1,o=.1*n,s=.9,a=.5,ss(t,(s-r)*e,a*i,!0),hs(t,(s-r)*e,(a-o)*i,(s-o)*e,(a-r)*i,s*e,(a-r)*i),hs(t,(s+o)*e,(a-r)*i,(s+r)*e,(a-o)*i,(s+r)*e,a*i),hs(t,(s+r)*e,(a+o)*i,(s+o)*e,(a+r)*i,s*e,(a+r)*i),hs(t,(s-o)*e,(a+r)*i,(s-r)*e,(a+o)*i,(s-r)*e,a*i),e=t.o,e.B=new E(.2,.25),e.C=new E(.6,.75),Uh.s(t),e},OrGate:function(t,e,i){t=Uh.q();var n=.5*_u.Da;return ss(t,0,0,!0),hs(t,(0+n+n)*e,0*i,.8*e,(.5-n)*i,1*e,.5*i),hs(t,.8*e,(.5+n)*i,(0+n+n)*e,1*i,0,1*i),hs(t,.25*e,.75*i,.25*e,.25*i,0,0),as(t),e=t.o,e.B=new E(.2,.25),e.C=new E(.75,.75),Uh.s(t),e},XnorGate:function(t,e,i){t=Uh.q();var n=_u.Da,r=.5,o=n*r,s=.2,a=.5;return ss(t,.1*e,0,!1),hs(t,.35*e,.25*i,.35*e,.75*i,.1*e,1*i),ss(t,.8*e,.5*i,!0),hs(t,.7*e,(a+o)*i,(s+o)*e,(a+r)*i,.2*e,1*i),hs(t,.45*e,.75*i,.45*e,.25*i,.2*e,0),hs(t,(s+o)*e,(a-r)*i,.7*e,(a-o)*i,.8*e,.5*i),r=.1,o=.1*n,s=.9,a=.5,ss(t,(s-r)*e,a*i,!0),hs(t,(s-r)*e,(a-o)*i,(s-o)*e,(a-r)*i,s*e,(a-r)*i),hs(t,(s+o)*e,(a-r)*i,(s+r)*e,(a-o)*i,(s+r)*e,a*i),hs(t,(s+r)*e,(a+o)*i,(s+o)*e,(a+r)*i,s*e,(a+r)*i),hs(t,(s-o)*e,(a+r)*i,(s-r)*e,(a+o)*i,(s-r)*e,a*i),e=t.o,e.B=new E(.4,.25),e.C=new E(.65,.75),Uh.s(t),e},XorGate:function(t,e,i){t=Uh.q();var n=.5*_u.Da;return ss(t,.1*e,0,!1),hs(t,.35*e,.25*i,.35*e,.75*i,.1*e,1*i),ss(t,.2*e,0,!0),hs(t,(.2+n)*e,0*i,.9*e,(.5-n)*i,1*e,.5*i),hs(t,.9*e,(.5+n)*i,(.2+n)*e,1*i,.2*e,1*i),hs(t,.45*e,.75*i,.45*e,.25*i,.2*e,0),as(t),e=t.o,e.B=new E(.4,.25),e.C=new E(.8,.75),Uh.s(t),e},Capacitor:function(t,e,i){return t=Uh.q(),ss(t,0,0,!1),t.lineTo(0,1*i),t.moveTo(1*e,0),t.lineTo(1*e,1*i),e=t.o,Uh.s(t),e},Resistor:function(t,e,i){return t=Uh.q(),ss(t,0,.5*i,!1),t.lineTo(.1*e,0),t.lineTo(.2*e,1*i),t.lineTo(.3*e,0),t.lineTo(.4*e,1*i),t.lineTo(.5*e,0),t.lineTo(.6*e,1*i),t.lineTo(.7*e,.5*i),e=t.o,Uh.s(t),e},Inductor:function(t,e,i){t=Uh.q();var n=.1*_u.Da,r=.1;return ss(t,(r-.5*n)*e,i,!1),hs(t,(r-n)*e,i,(r-.1)*e,0,(r+.1)*e,0),r=.3,hs(t,(r+.1)*e,0,(r+n)*e,i,r*e,i),hs(t,(r-n)*e,i,(r-.1)*e,0,(r+.1)*e,0),r=.5,hs(t,(r+.1)*e,0,(r+n)*e,i,r*e,i),hs(t,(r-n)*e,i,(r-.1)*e,0,(r+.1)*e,0),r=.7,hs(t,(r+.1)*e,0,(r+n)*e,i,r*e,i),hs(t,(r-n)*e,i,(r-.1)*e,0,(r+.1)*e,0),r=.9,hs(t,(r+.1)*e,0,(r+n)*e,i,(r+.5*n)*e,i),e=t.o,Uh.s(t),e},ACvoltageSource:function(t,e,i){t=Uh.q();var n=.5*_u.Da;return ss(t,0*e,.5*i,!1),hs(t,0*e,(.5-n)*i,(.5-n)*e,0*i,.5*e,0*i),hs(t,(.5+n)*e,0*i,1*e,(.5-n)*i,1*e,.5*i),hs(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),hs(t,(.5-n)*e,1*i,0*e,(.5+n)*i,0*e,.5*i),t.moveTo(.1*e,.5*i),hs(t,.5*e,0*i,.5*e,1*i,.9*e,.5*i),e=t.o,e.Md=nf,Uh.s(t),e},DCvoltageSource:function(t,e,i){return t=Uh.q(),ss(t,0,.75*i,!1),t.lineTo(0,.25*i),t.moveTo(1*e,0),t.lineTo(1*e,1*i),e=t.o,Uh.s(t),e},Diode:function(t,e,i){return t=Uh.q(),ss(t,1*e,0,!1),t.lineTo(1*e,.5*i),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(1*e,.5*i),t.lineTo(1*e,1*i),e=t.o,e.B=new E(0,.25),e.C=new E(.5,.75),Uh.s(t),e},Wifi:function(t,e,i){var n=e,r=i;e*=.38,i*=.6,t=Uh.q();var o=_u.Da,s=.8*o,a=.8,l=0,h=.5,n=(n-e)/2,r=(r-i)/2;return ss(t,l*e+n,(h+a)*i+r,!0),hs(t,(l-s)*e+n,(h+a)*i+r,(l-a)*e+n,(h+s)*i+r,(l-a)*e+n,h*i+r),hs(t,(l-a)*e+n,(h-s)*i+r,(l-s)*e+n,(h-a)*i+r,l*e+n,(h-a)*i+r),hs(t,l*e+n,(h-a)*i+r,(l-a+.5*s)*e+n,(h-s)*i+r,(l-a+.5*s)*e+n,h*i+r),hs(t,(l-a+.5*s)*e+n,(h+s)*i+r,l*e+n,(h+a)*i+r,l*e+n,(h+a)*i+r),as(t),s=.4*o,a=.4,l=.2,h=.5,ss(t,l*e+n,(h+a)*i+r,!0),hs(t,(l-s)*e+n,(h+a)*i+r,(l-a)*e+n,(h+s)*i+r,(l-a)*e+n,h*i+r),hs(t,(l-a)*e+n,(h-s)*i+r,(l-s)*e+n,(h-a)*i+r,l*e+n,(h-a)*i+r),hs(t,l*e+n,(h-a)*i+r,(l-a+.5*s)*e+n,(h-s)*i+r,(l-a+.5*s)*e+n,h*i+r),hs(t,(l-a+.5*s)*e+n,(h+s)*i+r,l*e+n,(h+a)*i+r,l*e+n,(h+a)*i+r),as(t),s=.2*o,a=.2,h=l=.5,ss(t,(l-a)*e+n,h*i+r,!0),hs(t,(l-a)*e+n,(h-s)*i+r,(l-s)*e+n,(h-a)*i+r,l*e+n,(h-a)*i+r),hs(t,(l+s)*e+n,(h-a)*i+r,(l+a)*e+n,(h-s)*i+r,(l+a)*e+n,h*i+r),hs(t,(l+a)*e+n,(h+s)*i+r,(l+s)*e+n,(h+a)*i+r,l*e+n,(h+a)*i+r),hs(t,(l-s)*e+n,(h+a)*i+r,(l-a)*e+n,(h+s)*i+r,(l-a)*e+n,h*i+r),s=.4*o,a=.4,l=.8,h=.5,ss(t,l*e+n,(h-a)*i+r,!0),hs(t,(l+s)*e+n,(h-a)*i+r,(l+a)*e+n,(h-s)*i+r,(l+a)*e+n,h*i+r),hs(t,(l+a)*e+n,(h+s)*i+r,(l+s)*e+n,(h+a)*i+r,l*e+n,(h+a)*i+r),hs(t,l*e+n,(h+a)*i+r,(l+a-.5*s)*e+n,(h+s)*i+r,(l+a-.5*s)*e+n,h*i+r),hs(t,(l+a-.5*s)*e+n,(h-s)*i+r,l*e+n,(h-a)*i+r,l*e+n,(h-a)*i+r),as(t),s=.8*o,a=.8,l=1,h=.5,ss(t,l*e+n,(h-a)*i+r,!0),hs(t,(l+s)*e+n,(h-a)*i+r,(l+a)*e+n,(h-s)*i+r,(l+a)*e+n,h*i+r),hs(t,(l+a)*e+n,(h+s)*i+r,(l+s)*e+n,(h+a)*i+r,l*e+n,(h+a)*i+r),hs(t,l*e+n,(h+a)*i+r,(l+a-.5*s)*e+n,(h+s)*i+r,(l+a-.5*s)*e+n,h*i+r),hs(t,(l+a-.5*s)*e+n,(h-s)*i+r,l*e+n,(h-a)*i+r,l*e+n,(h-a)*i+r),as(t),e=t.o,Uh.s(t),e},Email:function(t,e,i){return t=Uh.q(),ss(t,0,0,!0),t.lineTo(1*e,0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(0,0),as(t),ss(t,0,0,!1),t.lineTo(.5*e,.6*i),t.lineTo(1*e,0),t.moveTo(0,1*i),t.lineTo(.45*e,.54*i),t.moveTo(1*e,1*i),t.lineTo(.55*e,.54*i),t.ab(!1),e=t.o,Uh.s(t),e},Ethernet:function(t,e,i){return t=Uh.q(),ss(t,.35*e,0,!0),t.lineTo(.65*e,0),t.lineTo(.65*e,.4*i),t.lineTo(.35*e,.4*i),t.lineTo(.35*e,0),as(t),ss(t,.1*e,1*i,!0,!0),t.lineTo(.4*e,1*i),t.lineTo(.4*e,.6*i),t.lineTo(.1*e,.6*i),t.lineTo(.1*e,1*i),as(t),ss(t,.6*e,1*i,!0,!0),t.lineTo(.9*e,1*i),t.lineTo(.9*e,.6*i),t.lineTo(.6*e,.6*i),t.lineTo(.6*e,1*i),as(t),ss(t,0,.5*i,!1),t.lineTo(1*e,.5*i),t.moveTo(.5*e,.5*i),t.lineTo(.5*e,.4*i),t.moveTo(.75*e,.5*i),t.lineTo(.75*e,.6*i),t.moveTo(.25*e,.5*i),t.lineTo(.25*e,.6*i),t.ab(!1),e=t.o,Uh.s(t),e},Power:function(t,e,i){t=Uh.q();var n=_u.Da,r=.4*n,o=.4,s=Uh.M(),a=Uh.M(),l=Uh.M(),h=Uh.M();_u.Ti(.5,.5-o,.5+r,.5-o,.5+o,.5-r,.5+o,.5,.5,s,s,a,l,h);var u=Uh.Sb(a.x,a.y);return ss(t,a.x*e,a.y*i,!0),hs(t,l.x*e,l.y*i,h.x*e,h.y*i,(.5+o)*e,.5*i),hs(t,(.5+o)*e,(.5+r)*i,(.5+r)*e,(.5+o)*i,.5*e,(.5+o)*i),hs(t,(.5-r)*e,(.5+o)*i,(.5-o)*e,(.5+r)*i,(.5-o)*e,.5*i),_u.Ti(.5-o,.5,.5-o,.5-r,.5-r,.5-o,.5,.5-o,.5,l,h,a,s,s),hs(t,l.x*e,l.y*i,h.x*e,h.y*i,a.x*e,a.y*i),r=.3*n,o=.3,_u.Ti(.5-o,.5,.5-o,.5-r,.5-r,.5-o,.5,.5-o,.5,l,h,a,s,s),t.lineTo(a.x*e,a.y*i),hs(t,h.x*e,h.y*i,l.x*e,l.y*i,(.5-o)*e,.5*i),hs(t,(.5-o)*e,(.5+r)*i,(.5-r)*e,(.5+o)*i,.5*e,(.5+o)*i),hs(t,(.5+r)*e,(.5+o)*i,(.5+o)*e,(.5+r)*i,(.5+o)*e,.5*i),_u.Ti(.5,.5-o,.5+r,.5-o,.5+o,.5-r,.5+o,.5,.5,s,s,a,l,h),hs(t,h.x*e,h.y*i,l.x*e,l.y*i,a.x*e,a.y*i),as(t),ss(t,.45*e,0,!0),t.lineTo(.45*e,.5*i),t.lineTo(.55*e,.5*i),t.lineTo(.55*e,0),as(t),Uh.v(s),Uh.v(a),Uh.v(l),Uh.v(h),Uh.v(u),e=t.o,e.B=new E(.25,.55),e.C=new E(.75,.8),Uh.s(t),e},Fallout:function(t,e,i){t=Uh.q();var n=.5*_u.Da;ss(t,0*e,.5*i,!0),hs(t,0*e,(.5-n)*i,(.5-n)*e,0*i,.5*e,0*i),hs(t,(.5+n)*e,0*i,1*e,(.5-n)*i,1*e,.5*i),hs(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),hs(t,(.5-n)*e,1*i,0*e,(.5+n)*i,0*e,.5*i);var r=n=0;return ss(t,(.3+n)*e,(.8+r)*i,!0,!0),t.lineTo((.5+n)*e,(.5+r)*i),t.lineTo((.1+n)*e,(.5+r)*i),t.lineTo((.3+n)*e,(.8+r)*i),n=.4,r=0,as(t),ss(t,(.3+n)*e,(.8+r)*i,!0,!0),t.lineTo((.5+n)*e,(.5+r)*i),t.lineTo((.1+n)*e,(.5+r)*i),t.lineTo((.3+n)*e,(.8+r)*i),n=.2,r=-.3,as(t),ss(t,(.3+n)*e,(.8+r)*i,!0,!0),t.lineTo((.5+n)*e,(.5+r)*i),t.lineTo((.1+n)*e,(.5+r)*i),t.lineTo((.3+n)*e,(.8+r)*i),as(t),e=t.o,e.Md=nf,Uh.s(t),e},IrritationHazard:function(t,e,i){return t=Uh.q(),ss(t,.2*e,0*i,!0),t.lineTo(.5*e,.3*i),t.lineTo(.8*e,0*i),t.lineTo(1*e,.2*i),t.lineTo(.7*e,.5*i),t.lineTo(1*e,.8*i),t.lineTo(.8*e,1*i),t.lineTo(.5*e,.7*i),t.lineTo(.2*e,1*i),t.lineTo(0*e,.8*i),t.lineTo(.3*e,.5*i),t.lineTo(0*e,.2*i),as(t),e=t.o,e.B=new E(.3,.3),e.C=new E(.7,.7),Uh.s(t),e},ElectricalHazard:function(t,e,i){return t=Uh.q(),ss(t,.37*e,0*i,!0),t.lineTo(.5*e,.11*i),t.lineTo(.77*e,.04*i),t.lineTo(.33*e,.49*i),t.lineTo(1*e,.37*i),t.lineTo(.63*e,.86*i),t.lineTo(.77*e,.91*i),t.lineTo(.34*e,1*i),t.lineTo(.34*e,.78*i),t.lineTo(.44*e,.8*i),t.lineTo(.65*e,.56*i),t.lineTo(0*e,.68*i),as(t),e=t.o,Uh.s(t),e},FireHazard:function(t,e,i){return t=Uh.q(),ss(t,.1*e,1*i,!0),hs(t,-.25*e,.63*i,.45*e,.44*i,.29*e,0*i),hs(t,.48*e,.17*i,.54*e,.35*i,.51*e,.42*i),hs(t,.59*e,.29*i,.58*e,.28*i,.59*e,.18*i),hs(t,.8*e,.34*i,.88*e,.43*i,.75*e,.6*i),hs(t,.87*e,.48*i,.88*e,.43*i,.88*e,.31*i),hs(t,1.17*e,.76*i,.82*e,.8*i,.9*e,1*i),as(t),e=t.o,e.B=new E(.05,.645),e.C=new E(.884,.908),Uh.s(t),e},BpmnActivityLoop:function(t,e,i){t=Uh.q();var n=4*(Math.SQRT2-1)/3*.5;return ss(t,.65*e,1*i,!1),hs(t,(1-n+0)*e,1*i,1*e,(.5+n+0)*i,1*e,.5*i),hs(t,1*e,(.5-n+0)*i,(.5+n+0)*e,0*i,.5*e,0*i),hs(t,(.5-n+0)*e,0*i,0*e,(.5-n+0)*i,0*e,.5*i),hs(t,0*e,(.5+n+0)*i,(.5-n+0)*e,1*i,.35*e,.98*i),t.moveTo(.25*e,.8*i),t.lineTo(.35*e,1*i),t.lineTo(.1*e,1*i),e=t.o,Uh.s(t),e},BpmnActivityParallel:function(t,e,i){return t=Uh.q(),ss(t,0,0,!1),t.lineTo(0,1*i),t.moveTo(.5*e,0),t.lineTo(.5*e,1*i),t.moveTo(1*e,0),t.lineTo(1*e,1*i),e=t.o,Uh.s(t),e},BpmnActivitySequential:function(t,e,i){return t=Uh.q(),ss(t,0,0,!1),t.lineTo(1*e,0),t.moveTo(0,.5*i),t.lineTo(1*e,.5*i),t.moveTo(0,1*i),t.lineTo(1*e,1*i),e=t.o,Uh.s(t),e},BpmnActivityAdHoc:function(t,e,i){return t=Uh.q(),ss(t,0,0,!1),ss(t,1*e,1*i,!1),ss(t,0,.5*i,!1),hs(t,.2*e,.35*i,.3*e,.35*i,.5*e,.5*i),hs(t,.7*e,.65*i,.8*e,.65*i,1*e,.5*i),e=t.o,Uh.s(t),e},BpmnActivityCompensation:function(t,e,i){return t=Uh.q(),ss(t,0,.5*i,!0),t.lineTo(.5*e,0),t.lineTo(.5*e,.5*i),t.lineTo(1*e,1*i),t.lineTo(1*e,0),t.lineTo(.5*e,.5*i),t.lineTo(.5*e,1*i),as(t),e=t.o,Uh.s(t),e},BpmnTaskMessage:function(t,e,i){return t=Uh.q(),ss(t,0,.2*i,!0),t.lineTo(1*e,.2*i),t.lineTo(1*e,.8*i),t.lineTo(0,.8*i),t.lineTo(0,.8*i),as(t),ss(t,0,.2*i,!1),t.lineTo(.5*e,.5*i),t.lineTo(1*e,.2*i),t.ab(!1),e=t.o,Uh.s(t),e},BpmnTaskScript:function(t,e,i){return t=Uh.q(),ss(t,.7*e,1*i,!0),t.lineTo(.3*e,1*i),hs(t,.6*e,.5*i,0,.5*i,.3*e,0),t.lineTo(.7*e,0),hs(t,.4*e,.5*i,1*e,.5*i,.7*e,1*i),as(t),ss(t,.45*e,.73*i,!1),t.lineTo(.7*e,.73*i),t.moveTo(.38*e,.5*i),t.lineTo(.63*e,.5*i),t.moveTo(.31*e,.27*i),t.lineTo(.56*e,.27*i),t.ab(!1),e=t.o,Uh.s(t),e},BpmnTaskUser:function(t,e,i){t=Uh.q(),ss(t,0,0,!1),ss(t,.335*e,(1-.555)*i,!0),t.lineTo(.335*e,.595*i),t.lineTo(.665*e,.595*i),t.lineTo(.665*e,(1-.555)*i),hs(t,.88*e,.46*i,.98*e,.54*i,1*e,.68*i),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(0,.68*i),hs(t,.02*e,.54*i,.12*e,.46*i,.335*e,(1-.555)*i),t.lineTo(.365*e,.405*i);var n=.5-.285,r=Math.PI/4,o=4*(1-Math.cos(r))/(3*Math.sin(r)),r=o*n,o=o*n;return hs(t,(.5-(r+n)/2)*e,(n+(n+o)/2)*i,(.5-n)*e,(n+o)*i,(.5-n)*e,n*i),hs(t,(.5-n)*e,(n-o)*i,(.5-r)*e,(n-n)*i,.5*e,(n-n)*i),hs(t,(.5+r)*e,(n-n)*i,(.5+n)*e,(n-o)*i,(.5+n)*e,n*i),hs(t,(.5+n)*e,(n+o)*i,(.5+(r+n)/2)*e,(n+(n+o)/2)*i,.635*e,.405*i),t.lineTo(.635*e,.405*i),t.lineTo(.665*e,(1-.555)*i),t.lineTo(.665*e,.595*i),t.lineTo(.335*e,.595*i),ss(t,.2*e,1*i,!1),t.lineTo(.2*e,.8*i),ss(t,.8*e,1*i,!1),t.lineTo(.8*e,.8*i),e=t.o,Uh.s(t),e},BpmnEventConditional:function(t,e,i){return t=Uh.q(),ss(t,.1*e,0,!0),t.lineTo(.9*e,0),t.lineTo(.9*e,1*i),t.lineTo(.1*e,1*i),as(t),ss(t,.2*e,.2*i,!1),t.lineTo(.8*e,.2*i),t.moveTo(.2*e,.4*i),t.lineTo(.8*e,.4*i),t.moveTo(.2*e,.6*i),t.lineTo(.8*e,.6*i),t.moveTo(.2*e,.8*i),t.lineTo(.8*e,.8*i),t.ab(!1),e=t.o,Uh.s(t),e},BpmnEventError:function(t,e,i){return t=Uh.q(),ss(t,0,1*i,!0),t.lineTo(.33*e,0),t.lineTo(.66*e,.5*i),t.lineTo(1*e,0),t.lineTo(.66*e,1*i),t.lineTo(.33*e,.5*i),as(t),e=t.o,Uh.s(t),e},BpmnEventEscalation:function(t,e,i){return t=Uh.q(),ss(t,0,0,!1),ss(t,1*e,1*i,!1),ss(t,.1*e,1*i,!0),t.lineTo(.5*e,0),t.lineTo(.9*e,1*i),t.lineTo(.5*e,.5*i),as(t),e=t.o,Uh.s(t),e},BpmnEventTimer:function(t,e,i){t=Uh.q();var n=.5*_u.Da;return ss(t,1*e,.5*i,!0),hs(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),hs(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),hs(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),hs(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),ss(t,.5*e,0,!1),t.lineTo(.5*e,.15*i),t.moveTo(.5*e,1*i),t.lineTo(.5*e,.85*i),t.moveTo(0,.5*i),t.lineTo(.15*e,.5*i),t.moveTo(1*e,.5*i),t.lineTo(.85*e,.5*i),t.moveTo(.5*e,.5*i),t.lineTo(.58*e,.1*i),t.moveTo(.5*e,.5*i),t.lineTo(.78*e,.54*i),t.ab(!1),e=t.o,e.Md=nf,Uh.s(t),e}};for(var zf in _u.wg)_u.wg[zf.toLowerCase()]=zf;_u.Dw={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"},_u.nJ=function(){if(null!==_u.Dw){for(var t in _u.Dw){var e=zu(_u.Dw[t],!1);_u.ij[t]=e,t.toLowerCase()!==t&&(_u.ij[t.toLowerCase()]=t)}_u.Dw=null}},_u.LD=function(t){_u.nJ();var e=_u.ij[t];if(void 0===e){if(e=t.toLowerCase(),"none"===e)return"None";e=_u.ij[e]}return"string"==typeof e?e:e instanceof V?t:null},Uh.Ja(fs,uo),Uh.ea("Part",fs),fs.prototype.cloneProtected=function(t){uo.prototype.cloneProtected.call(this,t),t.R=-4097&this.R|49152,t.ii=this.ii,t.Nk=this.Nk,t.or=this.or,t.ss=this.ss,t.es=this.es,t.hs=this.hs,t.us=this.us,t.ts=this.ts,t.gi=null,t.gs=this.gs,t.fs=this.fs.S(),t.js=this.js,t.le=this.le,t.rq=this.rq,t.Mh.assign(this.Mh),t.tr=this.tr,t.ur=this.ur.S(),t.Dr=this.Dr.S(),t.wr=this.wr.S(),t.Kq=this.Kq,t.pr=this.pr,t.Am=this.Am.S(),t.Wg=this.Wg,t.Sh=this.Sh,t.Ts=this.Ts},fs.prototype.$h=function(t){uo.prototype.$h.call(this,t),t.yl(),t.zm=null,t.vo=null,t.wo=null,t.Sk=null,t.om=null},fs.prototype.toString=function(){var t=Uh.df(Object.getPrototypeOf(this))+"#"+Uh.pd(this);return null!==this.data&&(t+="("+Zu(this.data)+")"),t},fs.LayoutNone=0;var qf;fs.LayoutAdded=qf=1;var Rf;fs.LayoutRemoved=Rf=2,fs.LayoutShown=4,fs.LayoutHidden=8,fs.LayoutNodeSized=16;var Hf;fs.LayoutGroupLayout=Hf=32,fs.LayoutNodeReplaced=64;var Bf;fs.LayoutStandard=Bf=qf|Rf|28|Hf|64,fs.LayoutAll=16777215,fs.prototype.kn=function(t,e,i,n,r,o,s){var a=this.g;null!==a&&(t===Ku&&"elements"===e?r instanceof uo?yo(r,function(t){Rn(a,t),Bn(a,t)}):r instanceof Qo&&Vn(a,r):t===Yu&&"elements"===e&&(r instanceof uo?yo(r,function(t){Hn(a,t),Un(a,t)}):r instanceof Qo&&Gn(a,r)),a.Lc(t,e,i,n,r,o,s))},fs.prototype.updateTargetBindings=fs.prototype.Jb=function(t){if(uo.prototype.Jb.call(this,t),null!==this.data){t=this.Aa.n;for(var e=t.length,i=0;e>i;i++){var n=t[i];n instanceof uo&&yo(n,function(t){null!==t.data&&t.Jb()})}}},fs.prototype.updateRelationshipsFromData=function(){var t=this.data;if(null!==t){var e=this.g;if(null!==e){var i=e.Z;if(i instanceof xe){var n=i.Xm(t),e=e.CH(n),r=this.Ua;e!==r&&(e=null!==r?i.jb(r.data):void 0,r=i.Cp,"function"==typeof r?r(t,e):t[r]=e,i.Hx(t,n))}}}},Uh.u(fs,{ww:"adornments"},function(){return null===this.gi?Wh:this.gi.NE}),fs.prototype.findAdornment=fs.prototype.cp=function(t){var e=this.gi;return null===e?null:e.ka(t)},fs.prototype.addAdornment=fs.prototype.bl=function(t,e){if(null!==e){var i=null,n=this.gi;if(null!==n&&(i=n.ka(t)),i!==e){if(null!==i){var r=i.g;null!==r&&r.remove(i)}null===n&&(this.gi=n=new y("string",_s)),e.ii!==t&&(e.Ec=t),n.add(t,e),i=this.g,null!==i&&(i.add(e),e.data=this.data)}}},fs.prototype.removeAdornment=fs.prototype.Il=function(t){var e=this.gi;if(null!==e){var i=e.ka(t);if(null!==i){var n=i.g;null!==n&&n.remove(i)}e.remove(t),0===e.count&&(this.gi=null)}},fs.prototype.clearAdornments=fs.prototype.dt=function(){var t=this.gi;if(null!==t){for(var e=Uh.mb(),t=t.i;t.next();)e.push(t.key);for(var t=e.length,i=0;t>i;i++)this.Il(e[i]);Uh.ta(e)}},fs.prototype.updateAdornments=function(){var t=this.g;if(null!==t){t:{if(this.kb&&this.hJ){var e=this.gu;if(!(null!==e&&this.Y.K()&&this.isVisible()&&e.El()&&e.Y.K()))break t;var i=this.cp("Selection");if(null===i){if(i=this.iJ,null===i&&(i=this instanceof Ws?t.tI:this instanceof Na?t.PH:t.KI),!(i instanceof _s))break t;So(i),i=i.copy(),null!==i&&(i.Ec="Selection",i.gc=e)}if(null!==i){var n=i.placeholder;if(null!==n){var r=e.Yi(),o=0;e instanceof jo&&(o=e.nb);var s=Uh.Ol();s.m((e.Ia.width+o)*r,(e.Ia.height+o)*r),n.ya=s,Uh.ck(s)}i.angle=e.tl(),i.type!==vf&&(n=Uh.M(),i.location=e.$a(eu,n),Uh.v(n)),this.bl("Selection",i);break t}}this.Il("Selection")}for(ds(this,t),t=this.ww;t.next();)e=t.value,e.Jb(),e.Q()}},Uh.u(fs,{layer:"layer"},function(){return this.Av}),Uh.u(fs,{g:"diagram"},function(){var t=this.Av;return null!==t?t.g:null}),Uh.defineProperty(fs,{Tf:"layerName"},function(){return this.Nk},function(t){var e=this.Nk;if(e!==t){Uh.j(t,"string",fs,"layerName");var i=this.g;if((null===i||null!==i.mt(t)&&!i.bq)&&(this.Nk=t,null!==i&&i.pc(),this.h("layerName",e,t),e=this.layer,null!==e&&e.name!==t&&(i=e.g,null!==i&&(t=i.mt(t),null!==t&&t!==e)))){var n=e.Pe(-1,this,!0);if(n>=0&&i.Lc(Yu,"parts",e,this,null,n,!0),e.visible!==t.visible&&this.rd(t.visible),n=t.lp(99999999,this,!0),n>=0&&i.Lc(Ku,"parts",t,null,this,!0,n),n=this.Jt,null!==n){var r=i.Ra;i.Ra=!0,n(this,e,t),i.Ra=r}}}}),Uh.defineProperty(fs,{Jt:"layerChanged"},function(){return this.or},function(t){var e=this.or;e!==t&&(null!==t&&Uh.j(t,"function",fs,"layerChanged"),this.or=t,this.h("layerChanged",e,t))}),Uh.defineProperty(fs,{sn:"zOrder"},function(){return this.Ts},function(t){var e=this.Ts;if(e!==t){Uh.j(t,"number",fs,"zOrder"),this.Ts=t;var i=this.layer;null!==i&&Ji(i,-1,this),this.h("zOrder",e,t),t=this.g,null!==t&&t.qa()}}),fs.prototype.invalidateAdornments=fs.prototype.be=function(){var t=this.g;null!==t&&(Pn(t),0!==(16384&this.R)!=!0&&(this.R|=16384,t.ve()))},Uh.u(fs,{bc:"locationObject"},function(){if(null===this.Sk){var t=this.cA;""!==t?(t=this.ae(t),this.Sk=null!==t?t:this):this.Sk=this instanceof _s&&this.type!==vf&&null!==this.placeholder?this.placeholder:this}return this.Sk.visible?this.Sk:this}),Uh.defineProperty(fs,{DI:"minLocation"},function(){return this.Dr},function(t){var e=this.Dr;e.L(t)||(this.Dr=t=t.S(),this.h("minLocation",e,t))}),Uh.defineProperty(fs,{yI:"maxLocation"},function(){return this.wr},function(t){var e=this.wr;e.L(t)||(this.wr=t=t.S(),this.h("maxLocation",e,t))}),Uh.defineProperty(fs,{cA:"locationObjectName"},function(){return this.tr},function(t){var e=this.tr;e!==t&&(this.tr=t,this.Sk=null,Wr(this),this.h("locationObjectName",e,t))}),Uh.defineProperty(fs,{gf:"locationSpot"},function(){return this.ur},function(t){var e=this.ur;e.L(t)||(this.ur=t=t.S(),Wr(this),this.h("locationSpot",e,t))}),fs.prototype.move=function(t){this.position=t},fs.prototype.moveTo=fs.prototype.moveTo=function(t,e){var i=Uh.Sb(t,e);this.move(i),Uh.v(i)},fs.prototype.isVisible=function(){if(!this.visible)return!1;var t=this.layer;return null===t||t.visible?(t=this.g,null!==t&&(t=t.Sa,t.vf&&(t=t.Uk.ka(this),null!==t&&t.yx))?!0:(t=this.Ua,null===t||t.ee&&t.isVisible()?!0:!1)):!1},fs.prototype.rd=function(t){var e=this.g;t?(this.H(4),this.be(),null!==e&&e.eg.add(this)):(this.H(8),this.dt()),this.yl(),null!==e&&(e.pc(),e.qa())},fs.prototype.findObject=fs.prototype.ae=function(t){if(this.name===t)return this;var e=this.om;if(null===e&&(this.om=e=new n),void 0!==e[t])return e[t];for(var i=this.Aa.n,r=i.length,o=0;r>o;o++){var s=i[o];if(s.name===t)return e[t]=s;if(s instanceof uo)if(null===s.wj&&null===s.gg){if(s=s.ae(t),null!==s)return e[t]=s}else if(Po(s)&&(s=s.Aa.first(),null!==s&&s.name===t))return e[t]=s}return e[t]=null},fs.prototype.ensureBounds=fs.prototype.sf=function(){Lr(this,1/0,1/0),this.Dc()},fs.prototype.Dc=function(){if(this.wi(),!1===no(this))vs(this);else{var t=this.mc,e=Uh.ag();e.assign(t),t.Oa();var i=Ss(this);this.Ri(0,0,this.Zc.width,this.Zc.height);var n=this.position;xs(this,n,this.location),t.x=n.x,t.y=n.y,t.freeze(),this.qx(e,t),e.L(t)?this.zf(i):!this.Pd()||_u.G(e.width,t.width)&&_u.G(e.height,t.height)||0<=this.vC&&this.H(16),Uh.ic(e),Cs(this,!1)}},fs.prototype.qx=function(t,e){ro(this,!1);var i=this.g;if(null!==i){var n=!1,r=t.K();if(!1===i.tj){var o=i.Bd,s=i.padding,a=o.x+s.left,l=o.y+s.top,h=o.width-2*s.right,o=o.height-2*s.bottom;r&&t.x>a&&t.y>l&&t.right<h&&t.bottom<o&&e.x>a&&e.y>l&&e.right<h&&e.bottom<o&&(n=!0)}0!==(65536&this.R)!=!0&&t.L(e)||ws(this,n,i),i.qa(),t.L(e)||this.yl()}},Uh.defineProperty(fs,{location:"location"},function(){return this.Mh},function(t){var e=this.Mh;if(!e.L(t)){t=t.S();var i;if(i=t,this instanceof Ws)i=!1;else{if(this.Mh=i,!1===no(this)){var n=this.Ya,r=n.K(),o=null;r&&(o=n.copy(),n.m(n.x+(i.x-e.x),n.y+(i.y-e.y))),gs(this,!1),bs(this,this.g,n,o),r&&this.h("position",o,n)}i=!0}i&&this.h("location",e,t)}}),fs.prototype.JA=function(t,e){if(this instanceof Ws||!t.K())return!1;var i=this.g;if(null!==i&&(bs(this,i,t,e),!0===i.ma.lb))return!0;this.Ya=t;var i=this.Mh,n=i.K(),r=null;return n&&(r=i.copy(),i.m(i.x+(t.x-e.x),i.y+(t.y-e.y))),!1===$s(this)&&!1===no(this)&&(gs(this,!1),vs(this)),n&&this.h("location",r,i),!0},fs.prototype.Jx=function(t,e){var i=this.Mh;!1===$s(this)&&!1===no(this)?this.Mh.m(i.x+t-this.Ya.x,i.y+e-this.Ya.y):i.m(0/0,0/0),this.Ya.m(t,e),gs(this,!0)},fs.prototype.Cl=function(){return!0},fs.prototype.Pd=function(){return!0},Uh.defineProperty(fs,{Ec:"category"},function(){return this.ii},function(t){var e=this.ii;if(e!==t){Uh.j(t,"string",fs,"category");var i=this.g,n=this.data,r=null;if(null!==i&&null!==n&&!(this instanceof _s)){var o=i.Z.ma;o.isEnabled&&!o.lb&&(r=this.clone(),r.Aa.Tc(this.Aa))}this.ii=t,this.h("category",e,t),null===i||null===n||this instanceof _s?(r=this.Yg,null!==r&&(t=r.gi,null!==t&&t.remove(e),r.bl(this.Ec,this))):(o=i.Z,o.ma.lb||(this instanceof Ws?(o instanceof xe?o.uF(n,t):o instanceof ke&&o.lJ(n,t),i=tr(i,t),null!==i&&(So(i),i=i.copy(),null!==i&&Ts(this,i,e,t))):(null!==o&&o.Fx(n,t),i=Yn(i,n,t),null!==i&&(So(i),i=i.copy(),null===i||i instanceof Ws||(i.location=this.location,Ts(this,i,e,t)))),null!==r&&(e=this.clone(),e.Aa.Tc(this.Aa),this.h("self",r,e))))}}),Uh.defineProperty(fs,{self:"self"},function(){return this},function(t){Ts(this,t,this.Ec,t.Ec)});var Vf=!1;fs.prototype.canCopy=function(){if(!this.jH)return!1;var t=this.layer;return null===t?!0:t.Xj?(t=t.g,null===t?!0:t.Xj?!0:!1):!1},fs.prototype.canDelete=function(){if(!this.pH)return!1;var t=this.layer;return null===t?!0:t.Gm?(t=t.g,null===t?!0:t.Gm?!0:!1):!1},fs.prototype.canEdit=function(){if(!this.vJ)return!1;var t=this.layer;return null===t?!0:t.Aw?(t=t.g,null===t?!0:t.Aw?!0:!1):!1},fs.prototype.canGroup=function(){if(!this.QH)return!1;var t=this.layer;return null===t?!0:t.xw?(t=t.g,null===t?!0:t.xw?!0:!1):!1},fs.prototype.canMove=function(){if(!this.II)return!1;var t=this.layer;return null===t?!0:t.fl?(t=t.g,null===t?!0:t.fl?!0:!1):!1},fs.prototype.canReshape=function(){if(!this.XI)return!1;var t=this.layer;return null===t?!0:t.yw?(t=t.g,null===t?!0:t.yw?!0:!1):!1},fs.prototype.canResize=function(){if(!this.YI)return!1;var t=this.layer;return null===t?!0:t.at?(t=t.g,null===t?!0:t.at?!0:!1):!1},fs.prototype.canRotate=function(){if(!this.aJ)return!1;var t=this.layer;return null===t?!0:t.zw?(t=t.g,null===t?!0:t.zw?!0:!1):!1},fs.prototype.canSelect=function(){if(!this.Jl)return!1;var t=this.layer;return null===t?!0:t.qf?(t=t.g,null===t?!0:t.qf?!0:!1):!1},Uh.defineProperty(fs,{jH:"copyable"},function(){return 0!==(1&this.R)},function(t){var e=0!==(1&this.R);e!==t&&(this.R^=1,this.h("copyable",e,t))}),Uh.defineProperty(fs,{pH:"deletable"},function(){return 0!==(2&this.R)},function(t){var e=0!==(2&this.R);e!==t&&(this.R^=2,this.h("deletable",e,t))}),Uh.defineProperty(fs,{vJ:"textEditable"},function(){return 0!==(4&this.R)},function(t){var e=0!==(4&this.R);e!==t&&(this.R^=4,this.h("textEditable",e,t),this.be())}),Uh.defineProperty(fs,{QH:"groupable"},function(){return 0!==(8&this.R)},function(t){var e=0!==(8&this.R);e!==t&&(this.R^=8,this.h("groupable",e,t))}),Uh.defineProperty(fs,{II:"movable"},function(){return 0!==(16&this.R)},function(t){var e=0!==(16&this.R);e!==t&&(this.R^=16,this.h("movable",e,t))}),Uh.defineProperty(fs,{hJ:"selectionAdorned"},function(){return 0!==(32&this.R)},function(t){var e=0!==(32&this.R);e!==t&&(this.R^=32,this.h("selectionAdorned",e,t),this.be())}),Uh.defineProperty(fs,{Yz:"isInDocumentBounds"},function(){return 0!==(64&this.R)},function(t){var e=0!==(64&this.R);if(e!==t){this.R^=64;var i=this.g;null!==i&&i.pc(),this.h("isInDocumentBounds",e,t)}}),Uh.defineProperty(fs,{IE:"isLayoutPositioned"},function(){return 0!==(128&this.R)},function(t){var e=0!==(128&this.R);e!==t&&(this.R^=128,this.h("isLayoutPositioned",e,t),this.H(t?4:8))}),Uh.defineProperty(fs,{Jl:"selectable"},function(){return 0!==(256&this.R)},function(t){var e=0!==(256&this.R);e!==t&&(this.R^=256,this.h("selectable",e,t),this.be())}),Uh.defineProperty(fs,{XI:"reshapable"},function(){return 0!==(512&this.R)},function(t){var e=0!==(512&this.R);e!==t&&(this.R^=512,this.h("reshapable",e,t),this.be())}),Uh.defineProperty(fs,{YI:"resizable"},function(){return 0!==(1024&this.R)},function(t){var e=0!==(1024&this.R);e!==t&&(this.R^=1024,this.h("resizable",e,t),this.be())}),Uh.defineProperty(fs,{aJ:"rotatable"},function(){return 0!==(2048&this.R)},function(t){var e=0!==(2048&this.R);e!==t&&(this.R^=2048,this.h("rotatable",e,t),this.be())}),Uh.defineProperty(fs,{kb:"isSelected"},function(){return 0!==(4096&this.R)},function(t){var e=0!==(4096&this.R);if(e!==t){var i=this.g;if(!t||this.canSelect()&&!(null!==i&&i.selection.count>=i.zI)){this.R^=4096;var n=!1;if(null!==i){n=i.wb,i.wb=!0;var r=i.selection;r.Oa(),t?r.add(this):r.remove(this),r.freeze()}this.h("isSelected",e,t),this.be(),t=this.jJ,null!==t&&t(this),null!==i&&(i.ve(),i.wb=n)}}}),Uh.defineProperty(fs,{fh:"isHighlighted"},function(){return 0!==(524288&this.R)},function(t){var e=0!==(524288&this.R);if(e!==t){this.R^=524288;var i=this.g;null!==i&&(i=i.Zm,i.Oa(),t?i.add(this):i.remove(this),i.freeze()),this.h("isHighlighted",e,t),this.qa()}}),Uh.defineProperty(fs,{Dl:"isShadowed"},function(){return 0!==(8192&this.R)},function(t){var e=0!==(8192&this.R);e!==t&&(this.R^=8192,this.h("isShadowed",e,t),this.qa())}),fs.prototype.zf=function(t){this.R=t?131072|this.R:-131073&this.R},Uh.defineProperty(fs,{AE:"isAnimated"},function(){return 0!==(262144&this.R)},function(t){var e=0!==(262144&this.R);e!==t&&(this.R^=262144,this.h("isAnimated",e,t))}),Uh.defineProperty(fs,{FA:"selectionObjectName"},function(){return this.us},function(t){var e=this.us;e!==t&&(this.us=t,this.zm=null,this.h("selectionObjectName",e,t))}),Uh.defineProperty(fs,{iJ:"selectionAdornmentTemplate"},function(){return this.ss},function(t){var e=this.ss;e!==t&&(this instanceof Ws&&(t.type=vf),this.ss=t,this.h("selectionAdornmentTemplate",e,t))}),Uh.u(fs,{gu:"selectionObject"},function(){if(null===this.zm){var t=this.FA;null!==t&&""!==t?(t=this.ae(t),this.zm=null!==t?t:this):this instanceof Ws?(t=this.path,this.zm=null!==t?t:this):this.zm=this}return this.zm}),Uh.defineProperty(fs,{jJ:"selectionChanged"},function(){return this.ts},function(t){var e=this.ts;e!==t&&(null!==t&&Uh.j(t,"function",fs,"selectionChanged"),this.ts=t,this.h("selectionChanged",e,t))}),Uh.defineProperty(fs,{iF:"resizeAdornmentTemplate"},function(){return this.es},function(t){var e=this.es;e!==t&&(this.es=t,this.h("resizeAdornmentTemplate",e,t))}),Uh.defineProperty(fs,{kF:"resizeObjectName"},function(){return this.gs},function(t){var e=this.gs;e!==t&&(this.gs=t,this.vo=null,this.h("resizeObjectName",e,t))}),Uh.u(fs,{jF:"resizeObject"},function(){if(null===this.vo){var t=this.kF;null!==t&&""!==t?(t=this.ae(t),this.vo=null!==t?t:this):this.vo=this}return this.vo}),Uh.defineProperty(fs,{ZI:"resizeCellSize"},function(){return this.fs},function(t){var e=this.fs;e.L(t)||(this.fs=t=t.S(),this.h("resizeCellSize",e,t))}),Uh.defineProperty(fs,{bJ:"rotateAdornmentTemplate"},function(){return this.hs},function(t){var e=this.hs;e!==t&&(this.hs=t,this.h("rotateAdornmentTemplate",e,t))}),Uh.defineProperty(fs,{cJ:"rotateObjectName"},function(){return this.js},function(t){var e=this.js;e!==t&&(this.js=t,this.wo=null,this.h("rotateObjectName",e,t))}),Uh.u(fs,{mF:"rotateObject"},function(){if(null===this.wo){var t=this.cJ;null!==t&&""!==t?(t=this.ae(t),this.wo=null!==t?t:this):this.wo=this}return this.wo}),Uh.defineProperty(fs,{text:"text"},function(){return this.le},function(t){var e=this.le;e!==t&&(this.le=t,this.h("text",e,t))}),Uh.defineProperty(fs,{Ua:"containingGroup"},function(){return this.Ak},function(t){if(this.Pd()){var e=this.Ak;if(e!==t){null===t||this!==t&&!t.bi(this)||(this===t&&Uh.k("Cannot make a Group a member of itself: "+this.toString()),Uh.k("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.H(Rf);
var i=this.g;if(null!==e?ja(e,this):this instanceof Na&&null!==i&&i.$k.remove(this),this.Ak=t,null!==t?_a(t,this):this instanceof Na&&null!==i&&i.$k.add(this),this.H(qf),null!==i){var n=this.data,r=i.Z;null!==n&&r instanceof xe&&r.Hx(n,r.jb(null!==t?t.data:null))}if(n=this.TD,null!==n&&(r=!0,null!==i&&(r=i.Ra,i.Ra=!0),n(this,e,t),null!==i&&(i.Ra=r)),this instanceof Na)for(i=new f(fs),De(i,this,!0,0,!0),i=i.i;i.next();)if(n=i.value,n instanceof js)for(n=n.ue;n.next();)Ks(n.value);if(this instanceof js)for(n=this.ue;n.next();)Ks(n.value);this.h("containingGroup",e,t),null!==t&&(e=t.layer,null!==e&&Ji(e,-1,t))}}else Uh.k("cannot set the Part.containingGroup of a Link or Adornment")}),Bh=fs.prototype,Bh.yl=function(){var t=this.Ua;null!==t&&(t.Q(),null!==t.Ib&&t.Ib.Q(),t.ff())},Bh.qa=function(){var t=this.g;null!==t&&!no(this)&&!$s(this)&&this.isVisible()&&this.mc.K()&&t.qa(ys(this,this.mc))},Bh.At=function(t){t||(t=this.Ak,null!==t&&_a(t,this))},Bh.Bt=function(t){t||(t=this.Ak,null!==t&&ja(t,this))},Bh.Tm=function(){var t=this.data;if(null!==t){var e=this.g;null!==e&&(e=e.Z,null!==e&&e.Ax(t))}},Uh.defineProperty(fs,{TD:"containingGroupChanged"},function(){return this.rq},function(t){var e=this.rq;e!==t&&(null!==t&&Uh.j(t,"function",fs,"containingGroupChanged"),this.rq=t,this.h("containingGroupChanged",e,t))}),fs.prototype.findSubGraphLevel=function(){return Ds(this,this)},fs.prototype.findTopLevelPart=function(){return As(this,this)},Uh.u(fs,{np:"isTopLevel"},function(){return null!==this.Ua||this instanceof js&&this.wf?!1:!0}),fs.prototype.isMemberOf=fs.prototype.bi=function(t){return t instanceof Na?Es(this,this,t):!1},fs.prototype.findCommonContainingGroup=fs.prototype.yH=function(t){if(null===t)return null;if(this===t)return this.Ua;for(var e=this;null!==e;)e instanceof Na&&Ps(e,!0),e=e.Ua;for(var i=null,e=t;null!==e;){if(0!==(1048576&e.R)){i=e;break}e=e.Ua}for(e=this;null!==e;)e instanceof Na&&Ps(e,!1),e=e.Ua;return i},Uh.defineProperty(fs,{oI:"layoutConditions"},function(){return this.pr},function(t){var e=this.pr;e!==t&&(this.pr=t,this.h("layoutConditions",e,t))}),fs.prototype.canLayout=function(){if(!this.IE||!this.isVisible())return!1;var t=this.layer;return null!==t&&t.Gc||this instanceof js&&this.wf?!1:!0},fs.prototype.invalidateLayout=fs.prototype.H=function(t){void 0===t&&(t=16777215);var e;if(this.IE&&0!==(t&this.oI)?(e=this.layer,null!==e&&e.Gc||this instanceof js&&this.wf?e=!1:(e=this.g,e=null!==e&&e.ma.lb?!1:!0)):e=!1,e)if(e=this.Ak,null!==e){var i=e.Qb;null!==i?i.H():e.H(t)}else t=this.g,null!==t&&(i=t.Qb,null!==i&&i.H())},Uh.defineProperty(fs,{eE:"dragComputation"},function(){return this.Kq},function(t){var e=this.Kq;e!==t&&(null!==t&&Uh.j(t,"function",fs,"dragComputation"),this.Kq=t,this.h("dragComputation",e,t))}),Uh.defineProperty(fs,{oJ:"shadowOffset"},function(){return this.Am},function(t){var e=this.Am;e.L(t)||(this.Am=t=t.S(),this.qa(),this.h("shadowOffset",e,t))}),Uh.defineProperty(fs,{shadowColor:"shadowColor"},function(){return this.Wg},function(t){var e=this.Wg;e!==t&&(this.Wg=t,this.qa(),this.h("shadowColor",e,t))}),Uh.defineProperty(fs,{shadowBlur:"shadowBlur"},function(){return this.Sh},function(t){var e=this.Sh;e!==t&&(this.Sh=t,this.qa(),this.h("shadowBlur",e,t))}),Uh.Ja(_s,fs),Uh.ea("Adornment",_s),_s.prototype.toString=function(){var t=this.Yg;return"Adornment("+this.Ec+")"+(null!==t?t.toString():"")},_s.prototype.updateRelationshipsFromData=function(){},_s.prototype.dn=function(t){var e=this.gc.aa,i=this.gc;if(e instanceof Ws&&i instanceof jo){var n=e.path,i=n.Ta;for(e.dn(t),i=n.Ta,t=this.Aa.n,e=t.length,n=0;e>n;n++){var r=t[n];r.Rf&&r instanceof jo&&(r.Ta=i)}}},Uh.u(_s,{placeholder:"placeholder"},function(){return this.Ib}),Uh.defineProperty(_s,{gc:"adornedObject"},function(){return this.Fb},function(t){var e=this.Yg,i=null;null!==t&&(i=t.aa),null===e||null!==t&&e===i||e.Il(this.Ec),this.Fb=t,null!==i&&i.bl(this.Ec,this)}),Uh.u(_s,{Yg:"adornedPart"},function(){var t=this.Fb;return null!==t?t.aa:null}),_s.prototype.Cl=function(){var t=this.Fb;return null===t?!0:(t=t.aa,null===t||!no(t))},_s.prototype.Pd=function(){return!1},Uh.u(_s,{Ua:"containingGroup"},function(){return null}),_s.prototype.kn=function(t,e,i,n,r,o,s){if(t===Ku&&"elements"===e)if(r instanceof La){var a=r;null===this.Ib?this.Ib=a:this.Ib!==a&&Uh.k("Cannot insert a second Placeholder into the visual tree of an Adornment.")}else r instanceof uo&&(a=r.lt(function(t){return t instanceof La}),a instanceof La&&(null===this.Ib?this.Ib=a:this.Ib!==a&&Uh.k("Cannot insert a second Placeholder into the visual tree of an Adornment.")));else t===Yu&&"elements"===e&&null!==this.Ib&&(n===this.Ib?this.Ib=null:n instanceof uo&&this.Ib.Bl(n)&&(this.Ib=null));fs.prototype.kn.call(this,t,e,i,n,r,o,s)},_s.prototype.updateAdornments=function(){},_s.prototype.Tm=function(){},Uh.Ja(js,fs),Uh.ea("Node",js),js.prototype.cloneProtected=function(t){fs.prototype.cloneProtected.call(this,t),t.qr=this.qr,t.rr=this.rr,t.Qk=this.Qk,t.ir=this.ir,t.Qs=this.Qs,t.Ls=this.Ls,t.jr=this.jr,t.jq=this.jq,t.kq=this.kq.S(),t.Yr=this.Yr},js.prototype.$h=function(t){fs.prototype.$h.call(this,t),t.ff(),t.xh=this.xh,t.Wd=null};var Uf;js.DirectionDefault=Uf=Uh.p(js,"DirectionDefault",0),js.DirectionAbsolute=Uh.p(js,"DirectionAbsolute",1);var Gf;js.DirectionRotatedNode=Gf=Uh.p(js,"DirectionRotatedNode",2);var Wf;js.DirectionRotatedNodeOrthogonal=Wf=Uh.p(js,"DirectionRotatedNodeOrthogonal",3),js.SpreadingNone=Uh.p(js,"SpreadingNone",10);var Kf;js.SpreadingEvenly=Kf=Uh.p(js,"SpreadingEvenly",11);var Yf;js.SpreadingPacked=Yf=Uh.p(js,"SpreadingPacked",12),js.prototype.invalidateLinkBundle=function(t,e,i){(void 0===e||null===e)&&(e=""),(void 0===i||null===i)&&(i=""),t=Is(this,t,e,i),null!==t&&t.$m()},js.prototype.kn=function(t,e,i,n,r,o,s){t===Ku&&"elements"===e?this.Wd=null:t===Yu&&"elements"===e&&(null===this.g?this.Wd=null:n instanceof Er&&mo(this,n,function(t,e){Hs(t,e,!0)})),fs.prototype.kn.call(this,t,e,i,n,r,o,s)},js.prototype.invalidateConnectedLinks=js.prototype.ff=function(t){void 0===t&&(t=null);for(var e=this.ue;e.next();){var i=e.value;null!==t&&t.contains(i)||(Ls(this,i.cd),Ls(this,i.Fd),i.jc())}},js.prototype.Cl=function(){return!0},Uh.defineProperty(js,{RI:"portSpreading"},function(){return this.Yr},function(t){var e=this.Yr;e!==t&&(this.Yr=t,this.h("portSpreading",e,t),t=this.g,null!==t&&t.ma.lb||this.ff())}),Uh.defineProperty(js,{KD:"avoidable"},function(){return this.jq},function(t){var e=this.jq;if(e!==t){this.jq=t;var i=this.g;null!==i&&vr(i,this),this.h("avoidable",e,t)}}),Uh.defineProperty(js,{QG:"avoidableMargin"},function(){return this.kq},function(t){"number"==typeof t?t=new D(t):Uh.A(t,D,js,"avoidableMargin");var e=this.kq;if(!e.L(t)){this.kq=t=t.S();var i=this.g;null!==i&&vr(i,this),this.h("avoidableMargin",e,t)}}),js.prototype.canAvoid=function(){return this.KD&&!this.wf},js.prototype.getAvoidableRect=function(t){return t.set(this.Y),t.vw(this.QG),t},js.prototype.findVisibleNode=function(){for(var t=this;null!==t&&!t.isVisible();)t=t.Ua;return t},js.prototype.isVisible=function(){if(!fs.prototype.isVisible.call(this))return!1;var t=!0,e=!0,i=this.g;if(null!==i){if(t=i.Sa,t.vf&&(t=t.Uk.ka(this),null!==t&&t.yx))return!0;t=i.Qd,e=i.SA===qc}if(e){if(i=this.Vm(),null!==i&&!i.qd)return!1}else if(i=t?this.AH():this.BH(),0<i.count&&i.all(function(t){return!t.qd}))return!1;return i=this.fe,null!==i?i.isVisible():!0},js.prototype.rd=function(t){fs.prototype.rd.call(this,t);for(var e=this.ue;e.next();)e.value.rd(t)},Uh.u(js,{ue:"linksConnected"},function(){return this.fc.i}),js.prototype.findLinksConnected=js.prototype.iE=function(t){if(void 0===t&&(t=null),null===t)return this.fc.i;var e=new l(this.fc),i=this;return e.hn=function(e){return e.V===i&&e.vg===t||e.ba===i&&e.uh===t},e},js.prototype.findLinksOutOf=js.prototype.Sw=function(t){void 0===t&&(t=null);var e=new l(this.fc),i=this;return e.hn=function(e){return e.V!==i?!1:null===t?!0:e.vg===t},e},js.prototype.findLinksInto=js.prototype.tg=function(t){void 0===t&&(t=null);var e=new l(this.fc),i=this;return e.hn=function(e){return e.ba!==i?!1:null===t?!0:e.uh===t},e},js.prototype.findNodesConnected=js.prototype.jE=function(t){void 0===t&&(t=null);for(var e=null,i=null,n=this.fc.i;n.next();){var r=n.value;r.V===this?(null===t||r.vg===t)&&(r=r.ba,null!==e?e.add(r):null!==i&&i!==r?(e=new f(js),e.add(i),e.add(r)):i=r):r.ba!==this||null!==t&&r.uh!==t||(r=r.V,null!==e?e.add(r):null!==i&&i!==r?(e=new f(js),e.add(i),e.add(r)):i=r)}return null!==e?e.i:null!==i?new s(i):Wh},js.prototype.findNodesOutOf=js.prototype.BH=function(t){void 0===t&&(t=null);for(var e=null,i=null,n=this.fc.i;n.next();){var r=n.value;r.V!==this||null!==t&&r.vg!==t||(r=r.ba,null!==e?e.add(r):null!==i&&i!==r?(e=new f(js),e.add(i),e.add(r)):i=r)}return null!==e?e.i:null!==i?new s(i):Wh},js.prototype.findNodesInto=js.prototype.AH=function(t){void 0===t&&(t=null);for(var e=null,i=null,n=this.fc.i;n.next();){var r=n.value;r.ba!==this||null!==t&&r.uh!==t||(r=r.V,null!==e?e.add(r):null!==i&&i!==r?(e=new f(js),e.add(i),e.add(r)):i=r)}return null!==e?e.i:null!==i?new s(i):Wh},js.prototype.findLinksBetween=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var n=new l(this.fc),r=this;return n.hn=function(n){return(n.V!==r||n.ba!==t||null!==e&&n.vg!==e||null!==i&&n.uh!==i)&&(n.V!==t||n.ba!==r||null!==i&&n.vg!==i||null!==e&&n.uh!==e)?!1:!0},n},js.prototype.findLinksTo=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var n=new l(this.fc),r=this;return n.hn=function(n){return n.V!==r||n.ba!==t||null!==e&&n.vg!==e||null!==i&&n.uh===i?!1:!0},n},Uh.defineProperty(js,{qI:"linkConnected"},function(){return this.qr},function(t){var e=this.qr;e!==t&&(null!==t&&Uh.j(t,"function",js,"linkConnected"),this.qr=t,this.h("linkConnected",e,t))}),Uh.defineProperty(js,{rI:"linkDisconnected"},function(){return this.rr},function(t){var e=this.rr;e!==t&&(null!==t&&Uh.j(t,"function",js,"linkDisconnected"),this.rr=t,this.h("linkDisconnected",e,t))}),Uh.defineProperty(js,{mx:"linkValidation"},function(){return this.Qk},function(t){var e=this.Qk;e!==t&&(null!==t&&Uh.j(t,"function",js,"linkValidation"),this.Qk=t,this.h("linkValidation",e,t))}),js.prototype.updateRelationshipsFromData=function(){fs.prototype.updateRelationshipsFromData.call(this);var t=this.data;if(null!==t){var e=this.g;if(null!==e){var i=e.Z;if(i instanceof ke){var n=i.Ym(t),e=e.bf(n),r=this.Vm();e!==r&&(e=null!==r?i.jb(r.data):void 0,r=i.Dp,"function"==typeof r?r(t,e):t[r]=e,i.sh(t,n))}}}},js.prototype.At=function(t){fs.prototype.At.call(this,t),t||(qs(this),t=this.ho,null!==t&&Js(t,this))},js.prototype.Bt=function(t){fs.prototype.Bt.call(this,t),t||(t=this.ho,null!==t&&null!==t.Fe&&(t.Fe.remove(this),t.Q()))},js.prototype.Tm=function(){if(0<this.fc.count){var t=this.g;if(null!==t)for(var e=t.pb.dE,i=this.fc.copy().i;i.next();){var n=i.value;e?t.remove(n):(n.V===this&&(n.V=null),n.ba===this&&(n.ba=null))}}this.fe=null,fs.prototype.Tm.call(this)},Uh.u(js,{wf:"isLinkLabel"},function(){return null!==this.ho}),Uh.defineProperty(js,{fe:"labeledLink"},function(){return this.ho},function(t){var e=this.ho;if(e!==t){var i=this.g,n=this.data;if(null!==e&&(null!==e.Fe&&(e.Fe.remove(this),e.Q()),null!==i&&null!==n&&!i.ma.lb)){var r=e.data,o=i.Z;if(null!==r&&o instanceof xe){var s=o.jb(n);void 0!==s&&o.dF(r,s)}}this.ho=t,null!==t&&(Js(t,this),null===i||null===n||i.ma.lb||(r=t.data,o=i.Z,null!==r&&o instanceof xe&&(s=o.jb(n),void 0!==s&&o.sz(r,s)))),Wr(this),this.h("labeledLink",e,t)}}),js.prototype.findPort=js.prototype.ql=function(t){if(null===this.Wd){if(""===t&&!1===this.Gh)return this;Rs(this)}var e=this.Wd.ka(t);return null!==e||""!==t&&(e=this.Wd.ka(""),null!==e)?e:this},Uh.u(js,{port:"port"},function(){return this.ql("")}),Uh.u(js,{ports:"ports"},function(){return null===this.Wd&&Rs(this),this.Wd.NE}),js.prototype.isInTreeOf=function(t){if(null===t||t===this)return!1;var e=!0,i=this.g;if(null!==i&&(e=i.Qd),i=this,e)for(;i!==t;){for(var e=null,n=i.fc.i;n.next();){var r=n.value;if(r.Hc&&(e=r.V,e!==i&&e!==this))break}if(e===this||null===e||e===i)return!1;i=e}else for(;i!==t;){for(e=null,n=i.fc.i;n.next()&&(r=n.value,!r.Hc||(e=r.ba,e===i||e===this)););if(e===this||null===e||e===i)return!1;i=e}return!0},js.prototype.findTreeRoot=function(){var t=!0,e=this.g;if(null!==e&&(t=e.Qd),e=this,t)for(;;){for(var t=null,i=e.fc.i;i.next();){var n=i.value;if(n.Hc&&(t=n.V,t!==e&&t!==this))break}if(t===this)return this;if(null===t||t===e)return e;e=t}else for(;;){for(t=null,i=e.fc.i;i.next()&&(n=i.value,!n.Hc||(t=n.ba,t===e||t===this)););if(t===this)return this;if(null===t||t===e)return e;e=t}},js.prototype.findCommonTreeParent=function(t){if(null===t)return null;if(this===t)return this;for(var e=this;null!==e;)Ps(e,!0),e=e.Vm();for(var i=null,e=t;null!==e;){if(0!==(1048576&e.R)){i=e;break}e=e.Vm()}for(e=this;null!==e;)Ps(e,!1),e=e.Vm();return i},js.prototype.findTreeParentLink=js.prototype.rt=function(){var t=!0,e=this.g;if(null!==e&&(t=e.Qd),e=this.fc.i,t){for(;e.next();)if(t=e.value,t.Hc&&t.V!==this)return t}else for(;e.next();)if(t=e.value,t.Hc&&t.ba!==this)return t;return null},js.prototype.findTreeParentNode=js.prototype.Vm=function(){var t=this.Uj;if(null===t)return null;if(t instanceof js)return t;var e=!0,t=this.g;if(null!==t&&(e=t.Qd),t=this.fc.i,e){for(;t.next();)if(e=t.value,e.Hc&&(e=e.V,e!==this))return this.Uj=e}else for(;t.next();)if(e=t.value,e.Hc&&(e=e.ba,e!==this))return this.Uj=e;return this.Uj=null},js.prototype.findTreeLevel=function(){return Bs(this,this)},js.prototype.findTreeChildrenLinks=js.prototype.Uw=function(){var t=!0,e=this.g;if(null!==e&&(t=e.Qd),t){var t=new l(this.fc),i=this;t.hn=function(t){return t.Hc&&t.V===i?!0:!1}}else t=new l(this.fc),i=this,t.hn=function(t){return t.Hc&&t.ba===i?!0:!1};return t},js.prototype.findTreeChildrenNodes=js.prototype.lE=function(){var t=!0,e=this.g;null!==e&&(t=e.Qd);var i=e=null,n=this.fc.i;if(t)for(;n.next();)t=n.value,t.Hc&&t.V===this&&(t=t.ba,null!==e?e.add(t):null!==i&&i!==t?(e=new u(js),e.add(i),e.add(t)):i=t);else for(;n.next();)t=n.value,t.Hc&&t.ba===this&&(t=t.V,null!==e?e.add(t):null!==i&&i!==t?(e=new u(js),e.add(i),e.add(t)):i=t);return null!==e?e.i:null!==i?new s(i):Wh},js.prototype.findTreeParts=function(t){void 0===t&&(t=1/0),Uh.j(t,"number",js,"collapseTree:level");var e=new f(fs);return De(e,this,!1,t,!0),e},js.prototype.collapseTree=js.prototype.collapseTree=function(t){void 0===t&&(t=1),Uh.Ye(t,js,"collapseTree:level"),1>t&&(t=1);var e=this.g;if(null!==e&&!e.eh){e.eh=!0;var i=new f(js);i.add(this),Vs(this,i,e.Qd,t,e.Sa,this,e.SA===qc),e.eh=!1}},js.prototype.expandTree=js.prototype.expandTree=function(t){void 0===t&&(t=2),Uh.Ye(t,js,"expandTree:level"),2>t&&(t=2);var e=this.g;if(null!==e&&!e.eh){e.eh=!0;var i=new f(js);i.add(this),Gs(this,i,e.Qd,t,e.Sa,this,e.SA===qc),e.eh=!1}},Uh.defineProperty(js,{qd:"isTreeExpanded"},function(){return this.ir},function(t){var e=this.ir;if(e!==t){this.ir=t;var i=this.g;if(this.h("isTreeExpanded",e,t),e=this.CJ,null!==e){var n=!0;null!==i&&(n=i.Ra,i.Ra=!0),e(this),null!==i&&(i.Ra=n)}null!==i&&i.ma.lb?this.rd(t):t?this.expandTree():this.collapseTree()}}),Uh.defineProperty(js,{su:"wasTreeExpanded"},function(){return this.Qs},function(t){var e=this.Qs;e!==t&&(this.Qs=t,this.h("wasTreeExpanded",e,t))}),Uh.defineProperty(js,{CJ:"treeExpandedChanged"},function(){return this.Ls},function(t){var e=this.Ls;e!==t&&(null!==t&&Uh.j(t,"function",js,"treeExpandedChanged"),this.Ls=t,this.h("treeExpandedChanged",e,t))}),Uh.defineProperty(js,{bj:"isTreeLeaf"},function(){return this.jr},function(t){var e=this.jr;e!==t&&(this.jr=t,this.h("isTreeLeaf",e,t))}),Uh.Ja(Ws,fs),Uh.ea("Link",Ws),Ws.prototype.cloneProtected=function(t){fs.prototype.cloneProtected.call(this,t),t.Fh=this.Fh,t.Sq=this.Sq,t.Wh=this.Wh,t.Ks=this.Ks,t.bs=this.bs,t.cs=this.cs,t.ds=this.ds,t.kr=this.kr,t.cq=this.cq,t.wq=this.wq,t.zq=this.zq,t.Aq=this.Aq,t.vm=this.vm,t.As=this.As,null!==this.ga&&(t.ga=this.ga.copy())},Ws.prototype.$h=function(t){fs.prototype.$h.call(this,t),this.Fh=t.Fh,this.Wh=t.Wh,t.He=null,t.jc(),t.hi=this.hi};var Jf;Ws.Normal=Jf=Uh.p(Ws,"Normal",1),Ws.Orthogonal=Uh.p(Ws,"Orthogonal",2),Ws.AvoidsNodes=Uh.p(Ws,"AvoidsNodes",6);var Xf;Ws.AvoidsNodesStraight=Xf=Uh.p(Ws,"AvoidsNodesStraight",7);var Qf;Ws.None=Qf=Uh.p(Ws,"None",0);var Zf;Ws.Bezier=Zf=Uh.p(Ws,"Bezier",9);var td;Ws.JumpGap=td=Uh.p(Ws,"JumpGap",10);var ed;Ws.JumpOver=ed=Uh.p(Ws,"JumpOver",11);var id;Ws.End=id=Uh.p(Ws,"End",17);var nd;Ws.Scale=nd=Uh.p(Ws,"Scale",18);var rd;Ws.Stretch=rd=Uh.p(Ws,"Stretch",19);var od;Ws.OrientAlong=od=Uh.p(Ws,"OrientAlong",21);var sd;Ws.OrientPlus90=sd=Uh.p(Ws,"OrientPlus90",22);var ad;Ws.OrientMinus90=ad=Uh.p(Ws,"OrientMinus90",23);var ld;Ws.OrientOpposite=ld=Uh.p(Ws,"OrientOpposite",24);var hd;Ws.OrientUpright=hd=Uh.p(Ws,"OrientUpright",25);var ud;Ws.OrientPlus90Upright=ud=Uh.p(Ws,"OrientPlus90Upright",26);var cd;Ws.OrientMinus90Upright=cd=Uh.p(Ws,"OrientMinus90Upright",27);var fd;Ws.OrientUpright45=fd=Uh.p(Ws,"OrientUpright45",28),Ws.prototype.Oe=function(){null===this.ga&&(this.ga=new Ea)},Ws.prototype.Cl=function(){var t=this.V;if(null!==t){var e=t.findVisibleNode();if(null!==e&&(t=e),no(t)||$s(t))return!1}return t=this.ba,null!==t&&(e=t.findVisibleNode(),null!==e&&(t=e),no(t)||$s(t))?!1:!0},Ws.prototype.JA=function(){return!1},Ws.prototype.Pd=function(){return!1},Ws.prototype.computeAngle=function(t,e,i){switch(t=0,e){default:case Qf:t=0;break;case od:t=i;break;case sd:t=i+90;break;case ad:t=i-90;break;case ld:t=i+180;break;case hd:t=_u.Vt(i),t>90&&270>t&&(t-=180);break;case ud:t=_u.Vt(i+90),t>90&&270>t&&(t-=180);break;case cd:t=_u.Vt(i-90),t>90&&270>t&&(t-=180);break;case fd:if(t=_u.Vt(i),t>45&&135>t||t>225&&315>t)return 0;t>90&&270>t&&(t-=180)}return _u.Vt(t)},Uh.defineProperty(Ws,{V:"fromNode"},function(){return this.dg},function(t){var e=this.dg;if(e!==t){var i=this.cd;null!==e&&(this.og!==e&&zs(e,this,i),ma(this),this.H(Rf)),this.dg=t,null!==t&&this.rd(t.isVisible()),this.ui=null,this.jc();var n=this.g;if(null!==n){var r=this.data,o=n.Z;if(null!==r)if(o instanceof xe){var s=null!==t?t.data:null;o.Gx(r,o.jb(s))}else o instanceof ke&&(s=null!==t?t.data:null,n.Qd?o.sh(r,o.jb(s)):(null!==e&&o.sh(e.data,void 0),o.sh(s,o.jb(null!==this.og?this.og.data:null))))}r=this.cd,o=this.oE,null!==o&&(s=!0,null!==n&&(s=n.Ra,n.Ra=!0),o(this,i,r),null!==n&&(n.Ra=s)),null!==t&&(this.og!==t&&Fs(t,this,r),va(this),this.H(qf)),this.h("fromNode",e,t),Ks(this)}}),Uh.defineProperty(Ws,{vg:"fromPortId"},function(){return this.Fh},function(t){var e=this.Fh;if(e!==t){var i=this.cd;null!==i&&Ls(this.V,i),ma(this),this.Fh=t;var n=this.cd;null!==n&&Ls(this.V,n);var r=this.g;if(null!==r){var o=this.data,s=r.Z;null!==o&&s instanceof xe&&s.HA(o,t)}i!==n&&(this.ui=null,this.jc(),o=this.oE,null!==o&&(s=!0,null!==r&&(s=r.Ra,r.Ra=!0),o(this,i,n),null!==r&&(r.Ra=s))),va(this),this.h("fromPortId",e,t)}}),Uh.u(Ws,{cd:"fromPort"},function(){var t=this.dg;return null===t?null:t.ql(this.Fh)}),Uh.defineProperty(Ws,{oE:"fromPortChanged"},function(){return this.Sq},function(t){var e=this.Sq;e!==t&&(null!==t&&Uh.j(t,"function",Ws,"fromPortChanged"),this.Sq=t,this.h("fromPortChanged",e,t))}),Uh.defineProperty(Ws,{ba:"toNode"},function(){return this.og},function(t){var e=this.og;if(e!==t){var i=this.Fd;null!==e&&(this.dg!==e&&zs(e,this,i),ma(this),this.H(Rf)),this.og=t,null!==t&&this.rd(t.isVisible()),this.ui=null,this.jc();var n=this.g;if(null!==n){var r=this.data,o=n.Z;if(null!==r)if(o instanceof xe){var s=null!==t?t.data:null;o.Kx(r,o.jb(s))}else o instanceof ke&&(s=null!==t?t.data:null,n.Qd?(null!==e&&o.sh(e.data,void 0),o.sh(s,o.jb(null!==this.dg?this.dg.data:null))):o.sh(r,o.jb(s)))}r=this.Fd,o=this.FF,null!==o&&(s=!0,null!==n&&(s=n.Ra,n.Ra=!0),o(this,i,r),null!==n&&(n.Ra=s)),null!==t&&(this.dg!==t&&Fs(t,this,r),va(this),this.H(qf)),this.h("toNode",e,t),Ks(this)}}),Uh.defineProperty(Ws,{uh:"toPortId"},function(){return this.Wh},function(t){var e=this.Wh;if(e!==t){var i=this.Fd;null!==i&&Ls(this.ba,i),ma(this),this.Wh=t;var n=this.Fd;null!==n&&Ls(this.ba,n);var r=this.g;if(null!==r){var o=this.data,s=r.Z;null!==o&&s instanceof xe&&s.KA(o,t)}i!==n&&(this.ui=null,this.jc(),o=this.FF,null!==o&&(s=!0,null!==r&&(s=r.Ra,r.Ra=!0),o(this,i,n),null!==r&&(r.Ra=s))),va(this),this.h("toPortId",e,t)}}),Uh.u(Ws,{Fd:"toPort"},function(){var t=this.og;return null===t?null:t.ql(this.Wh)}),Uh.defineProperty(Ws,{FF:"toPortChanged"},function(){return this.Ks},function(t){var e=this.Ks;e!==t&&(null!==t&&Uh.j(t,"function",Ws,"toPortChanged"),this.Ks=t,this.h("toPortChanged",e,t))}),Uh.defineProperty(Ws,{Ab:"fromSpot"},function(){return null!==this.ga?this.ga.rj:tu},function(t){this.Oe();var e=this.ga.rj;e.L(t)||(t=t.S(),this.ga.rj=t,this.h("fromSpot",e,t),this.jc())}),Uh.defineProperty(Ws,{rl:"fromEndSegmentLength"},function(){return null!==this.ga?this.ga.pj:0/0},function(t){this.Oe();var e=this.ga.pj;e!==t&&(0>t&&Uh.wa(t,">= 0",Ws,"fromEndSegmentLength"),this.ga.pj=t,this.h("fromEndSegmentLength",e,t),this.jc())}),Uh.defineProperty(Ws,{vt:"fromEndSegmentDirection"},function(){return null!==this.ga?this.ga.oj:Uf},function(t){this.Oe();var e=this.ga.oj;e!==t&&(this.ga.oj=t,this.h("fromEndSegmentDirection",e,t),this.jc())}),Uh.defineProperty(Ws,{wt:"fromShortLength"},function(){return null!==this.ga?this.ga.qj:0/0},function(t){this.Oe();var e=this.ga.qj;e!==t&&(this.ga.qj=t,this.h("fromShortLength",e,t),this.jc())}),Uh.defineProperty(Ws,{Bb:"toSpot"},function(){return null!==this.ga?this.ga.Tj:tu},function(t){this.Oe();var e=this.ga.Tj;e.L(t)||(t=t.S(),this.ga.Tj=t,this.h("toSpot",e,t),this.jc())}),Uh.defineProperty(Ws,{Pl:"toEndSegmentLength"},function(){return null!==this.ga?this.ga.Rj:0/0},function(t){this.Oe();var e=this.ga.Rj;e!==t&&(0>t&&Uh.wa(t,">= 0",Ws,"toEndSegmentLength"),this.ga.Rj=t,this.h("toEndSegmentLength",e,t),this.jc())}),Uh.defineProperty(Ws,{pu:"toEndSegmentDirection"},function(){return null!==this.ga?this.ga.Qj:Uf},function(t){this.Oe();var e=this.ga.Qj;e!==t&&(this.ga.Qj=t,this.h("toEndSegmentDirection",e,t),this.jc())}),Uh.defineProperty(Ws,{qu:"toShortLength"},function(){return null!==this.ga?this.ga.Sj:0/0},function(t){this.Oe();var e=this.ga.Sj;e!==t&&(this.ga.Sj=t,this.h("toShortLength",e,t),this.jc())}),Ws.prototype.yl=function(){var t=this.Ua;null!==t&&this.V!==t&&this.ba!==t&&t.Iw&&fs.prototype.yl.call(this)},Ws.prototype.getOtherNode=Ws.prototype.Qz=function(t){var e=this.V;return t===e?this.ba:e},Ws.prototype.getOtherPort=function(t){var e=this.cd;return t===e?this.Fd:e},Uh.u(Ws,{JK:"isLabeledLink"},function(){return null===this.Fe?!1:0<this.Fe.count}),Uh.u(Ws,{Sf:"labelNodes"},function(){return null===this.Fe?Wh:this.Fe.i}),Ws.prototype.At=function(t){fs.prototype.At.call(this,t),fa(this)&&pa(this,this.Y),t||(t=this.dg,null!==t&&Fs(t,this,this.cd),t=this.og,null!==t&&Fs(t,this,this.Fd),va(this))},Ws.prototype.Bt=function(t){fs.prototype.Bt.call(this,t),fa(this)&&pa(this,this.Y),t||(t=this.dg,null!==t&&zs(t,this,this.cd),t=this.og,null!==t&&zs(t,this,this.Fd),ma(this))},Ws.prototype.Tm=function(){if(this.Mf=!0,null!==this.Fe){var t=this.g;if(null!==t)for(var e=this.Fe.copy().i;e.next();)t.remove(e.value)}e=this.data,null!==e&&(t=this.g,null!==t&&(t=t.Z,t instanceof xe?t.zx(e):t instanceof ke&&t.sh(e,void 0)))},Ws.prototype.updateRelationshipsFromData=function(){var t=this.data;if(null!==t){var e=this.g;if(null!==e){var i=e.Z;if(i instanceof xe){var n=i.ul(t),r=e.bf(n),o=this.V;r!==o&&(r=null!==o?i.jb(o.data):void 0,o=i.qp,"function"==typeof o?o(t,r):t[o]=r,i.Gx(t,n)),n=i.xl(t),r=e.bf(n),o=this.ba,r!==o&&(r=null!==o?i.jb(o.data):void 0,o=i.sp,"function"==typeof o?o(t,r):t[o]=r,i.Kx(t,n));var s=i.dk(t);if(0<s.length||0<this.Sf.count){if(1===s.length&&1===this.Sf.count&&(e=s[0],n=this.Sf.first(),i.jb(n.data)===e))return;var n=(new f).Tc(s),a=new f;this.Sf.each(function(t){null!==t.data&&(t=i.jb(t.data),void 0!==t&&a.add(t))}),e=a.copy(),e.AA(n),n=n.copy(),n.AA(a),(0<e.count||0<n.count)&&(s.length=0,a.each(function(t){s.push(t)}),e.each(function(e){i.dF(t,e)}),n.each(function(e){i.sz(t,e)}))}}}}},Ws.prototype.move=function(t){var e=this.position,i=e.x;for(isNaN(i)&&(i=0),e=e.y,isNaN(e)&&(e=0),i=t.x-i,e=t.y-e,fs.prototype.move.call(this,t),this.Fl(i,e),t=this.Sf;t.next();){var n=t.value,r=n.position;n.moveTo(r.x+i,r.y+e)}},Uh.defineProperty(Ws,{UI:"relinkableFrom"},function(){return this.bs},function(t){var e=this.bs;e!==t&&(this.bs=t,this.h("relinkableFrom",e,t),this.be())}),Uh.defineProperty(Ws,{VI:"relinkableTo"},function(){return this.cs},function(t){var e=this.cs;e!==t&&(this.cs=t,this.h("relinkableTo",e,t),this.be())}),Ws.prototype.canRelinkFrom=function(){if(!this.UI)return!1;var t=this.layer;return null===t?!0:t.Hm?(t=t.g,null===t||t.Hm?!0:!1):!1},Ws.prototype.canRelinkTo=function(){if(!this.VI)return!1;var t=this.layer;return null===t?!0:t.Hm?(t=t.g,null===t||t.Hm?!0:!1):!1},Uh.defineProperty(Ws,{bu:"resegmentable"},function(){return this.ds},function(t){var e=this.ds;e!==t&&(this.ds=t,this.h("resegmentable",e,t),this.be())}),Uh.defineProperty(Ws,{Hc:"isTreeLink"},function(){return this.kr},function(t){var e=this.kr;e!==t&&(this.kr=t,this.h("isTreeLink",e,t),null!==this.V&&qs(this.V),null!==this.ba&&qs(this.ba))}),Uh.u(Ws,{path:"path"},function(){var t=this.af();return t instanceof jo?t:null}),Uh.u(Ws,{ln:"routeBounds"},function(){this.pn();var t=new T,e=1/0,i=1/0,n=this.pa;if(0===n)t.m(0/0,0/0,0,0);else{if(1===n)n=this.l(0),e=Math.min(n.x,e),i=Math.min(n.y,i),t.m(n.x,n.y,0,0);else if(2===n){var r=this.l(0),o=this.l(1),e=Math.min(r.x,o.x),i=Math.min(r.y,o.y);t.m(r.x,r.y,0,0),t.gj(o)}else if(this.computeCurve()===Zf&&n>=3&&!this.kc)if(r=this.l(0),e=r.x,i=r.y,t.m(e,i,0,0),3===n)n=this.l(1),e=Math.min(n.x,e),i=Math.min(n.y,i),o=this.l(2),e=Math.min(o.x,e),i=Math.min(o.y,i),_u.So(r.x,r.y,n.x,n.y,n.x,n.y,o.x,o.y,.5,t);else for(var s=3;n>s;s+=3){var a=this.l(s-2);s+3>=n&&(s=n-1);var l=this.l(s-1),o=this.l(s);_u.So(r.x,r.y,a.x,a.y,l.x,l.y,o.x,o.y,.5,t),e=Math.min(o.x,e),i=Math.min(o.y,i),r=o}else for(r=this.l(0),o=this.l(1),e=Math.min(r.x,o.x),i=Math.min(r.y,o.y),t.m(r.x,r.y,0,0),t.gj(o),s=2;n>s;s++)r=this.l(s),e=Math.min(r.x,e),i=Math.min(r.y,i),t.gj(r);this.jz.m(e-t.x,i-t.y)}return this.Wv=t}),Uh.u(Ws,{TE:"midPoint"},function(){return this.pn(),this.computeMidPoint(new b)}),Ws.prototype.computeMidPoint=function(t){var e=this.pa;if(0===e)return t.assign(_u.ZF),t;if(1===e)return t.assign(this.l(0)),t;if(2===e){var i=this.l(0),n=this.l(1);return t.m((i.x+n.x)/2,(i.y+n.y)/2),t}if(this.computeCurve()===Zf&&e>=3&&!this.kc){if(3===e)return this.l(1);var e=(e-1)/3|0,r=3*(e/2|0);return 1===e%2?(i=this.l(r),n=this.l(r+1),e=this.l(r+2),r=this.l(r+3),_u.TG(i.x,i.y,n.x,n.y,e.x,e.y,r.x,r.y,t)):t.assign(this.l(r)),t}for(var r=0,o=Uh.mb(),s=0;e-1>s;s++)i=0,i=this.l(s),n=this.l(s+1),_u.Qa(i.x,n.x)?(i=n.y-i.y,0>i&&(i=-i)):_u.Qa(i.y,n.y)?(i=n.x-i.x,0>i&&(i=-i)):i=Math.sqrt(i.$j(n)),o.push(i),r+=i;for(n=s=i=0;r/2>i&&e>s&&(n=o[s],!(i+n>r/2));)i+=n,s++;return Uh.ta(o),e=this.l(s),o=this.l(s+1),e.x===o.x?e.y>o.y?t.m(e.x,e.y-(r/2-i)):t.m(e.x,e.y+(r/2-i)):e.y===o.y?e.x>o.x?t.m(e.x-(r/2-i),e.y):t.m(e.x+(r/2-i),e.y):(r=(r/2-i)/n,t.m(e.x+r*(o.x-e.x),e.y+r*(o.y-e.y))),t},Uh.u(Ws,{SE:"midAngle"},function(){return this.pn(),this.computeMidAngle()}),Ws.prototype.computeMidAngle=function(){var t=this.pa;if(2>t)return 0/0;if(this.computeCurve()===Zf&&t>=4&&!this.kc){var e=(t-1)/3|0,i=3*(e/2|0);if(1===e%2){var i=Math.floor(i),t=this.l(i),e=this.l(i+1),n=this.l(i+2),i=this.l(i+3);return _u.SG(t.x,t.y,e.x,e.y,n.x,n.y,i.x,i.y)}if(i>0&&t>i+1)return t=this.l(i-1),e=this.l(i+1),t.dh(e)}if(n=t/2|0,0===t%2)return t=this.l(n-1),e=this.l(n),t.dh(e);var t=this.l(n-1),e=this.l(n),n=this.l(n+1),i=t.$j(e),r=e.$j(n);return i>r+10?t.dh(e):r>i+10?e.dh(n):t.dh(n)},Uh.defineProperty(Ws,{points:"points"},function(){return this.$c},function(t){var e=this.$c;if(e!==t){var i=null;if(Array.isArray(t)){var n=0===t.length%2;if(n)for(var r=0;r<t.length;r++)if("number"!=typeof t[r]||isNaN(t[r])){n=!1;break}if(n)for(i=new u(b),n=0;n<t.length/2;n++)r=new b(t[2*n],t[2*n+1]).freeze(),i.add(r);else{for(var o=!0,n=0;n<t.length;n++)if(r=t[n],!Uh.Va(r)||"number"!=typeof r.x||isNaN(r.x)||"number"!=typeof r.y||isNaN(r.y)){o=!1;break}if(o)for(i=new u(b),n=0;n<t.length;n++)r=t[n],i.add(new b(r.x,r.y).freeze());else Uh.k("Link.points array must contain only an even number of numbers or objects with x and y properties, not: "+t)}}else if(t instanceof u)for(i=t.copy(),t=i.i;t.next();)t.value.freeze();else Uh.k("Link.points value is not an instance of List or Array: "+t);i.freeze(),this.$c=i,this.se(),this.Q(),Xs(this),t=this.g,null!==t&&(t.bn||t.ma.lb||t.nx.add(this),t.Sa.vc&&(this.xo=i)),this.h("points",e,i)}}),Uh.u(Ws,{pa:"pointsCount"},function(){return this.$c.count}),Ws.prototype.getPoint=Ws.prototype.l=function(t){return this.$c.n[t]},Ws.prototype.setPoint=Ws.prototype.Af=function(t,e){null===this.He&&Uh.k("Call Link.startRoute before modifying the points of the route."),this.$c.Eg(t,e)},Ws.prototype.setPointAt=Ws.prototype.W=function(t,e,i){null===this.He&&Uh.k("Call Link.startRoute before modifying the points of the route."),this.$c.Eg(t,new b(e,i))},Ws.prototype.insertPoint=function(t,e){null===this.He&&Uh.k("Call Link.startRoute before modifying the points of the route."),this.$c.Cd(t,e)},Ws.prototype.insertPointAt=Ws.prototype.w=function(t,e,i){null===this.He&&Uh.k("Call Link.startRoute before modifying the points of the route."),this.$c.Cd(t,new b(e,i))},Ws.prototype.addPoint=Ws.prototype.Xh=function(t){null===this.He&&Uh.k("Call Link.startRoute before modifying the points of the route."),this.$c.add(t)},Ws.prototype.addPointAt=Ws.prototype.dl=function(t,e){null===this.He&&Uh.k("Call Link.startRoute before modifying the points of the route."),this.$c.add(new b(t,e))},Ws.prototype.removePoint=Ws.prototype.eF=function(t){null===this.He&&Uh.k("Call Link.startRoute before modifying the points of the route."),this.$c.Vc(t)},Ws.prototype.clearPoints=Ws.prototype.Wo=function(){null===this.He&&Uh.k("Call Link.startRoute before modifying the points of the route."),this.$c.clear()},Ws.prototype.movePoints=Ws.prototype.Fl=function(t,e){for(var i=new u(b),n=this.$c.i;n.next();){var r=n.value;i.add(new b(r.x+t,r.y+e).freeze())}i.freeze(),n=this.$c,this.$c=i,this.Q(),Xs(this),r=this.g,null!==r&&r.Sa.vc&&(this.xo=i),this.h("points",n,i)},Ws.prototype.startRoute=Ws.prototype.Ll=function(){null===this.He&&(this.He=this.$c,this.$c=this.$c.copy())},Ws.prototype.commitRoute=Ws.prototype.Ui=function(){if(null!==this.He){for(var t=this.He,e=this.$c,i=1/0,n=1/0,r=t.n,o=r.length,s=0;o>s;s++)var a=r[s],i=Math.min(a.x,i),n=Math.min(a.y,n);for(var l=1/0,h=1/0,u=e.n,c=u.length,s=0;c>s;s++)a=u[s],l=Math.min(a.x,l),h=Math.min(a.y,h),a.freeze();if(e.freeze(),c===o){for(s=0;c>s;s++)if(o=r[s],a=u[s],o.x-i!==a.x-l||o.y-n!==a.y-h){this.Q(),this.se();break}}else this.Q(),this.se();this.He=null,i=this.g,null!==i&&i.Sa.vc&&(this.xo=e),Xs(this),this.h("points",t,e)}},Ws.prototype.rollbackRoute=Ws.prototype.$I=function(){null!==this.He&&(this.$c=this.He,this.He=null)},Ws.prototype.invalidateRoute=Ws.prototype.jc=function(){if(!(this.gz||this.g&&(this.g.nx.contains(this)||this.g.ma.lb))){var t=this.path;if(null!==t){if(this.Mf){var e=this.cd;null!==e&&(e=e.tm,null!==e&&e.$m()),e=this.Fd,null!==e&&(e=e.tm,null!==e&&e.$m())}this.Mf=!1,this.Q(),t.Q()}}},Uh.defineProperty(Ws,{Sp:"suspendsRouting"},function(){return this.gz},function(t){this.gz=t}),Ws.prototype.updateRoute=Ws.prototype.pn=function(){if(!this.Mf&&!this.my){var t=!0;try{this.my=!0,this.Ll(),t=this.computePoints()}finally{this.my=!1,t?this.Ui():this.$I()}}},Ws.prototype.computePoints=function(){var t=this.g;if(null===t)return!1;var e=this.V,i=null;if(null===e?(t.wm||(t.Xv=new jo,t.Xv.ya=_u.Xp,t.Xv.nb=0,t.wm=new js,t.wm.add(t.Xv),t.wm.sf()),this.In&&(t.wm.position=t.wm.location=this.In,t.wm.sf(),e=t.wm,i=t.Xv)):i=this.cd,null!==i){var n=oo(i);n!==e&&e.isVisible()?i=n:(n=e.findVisibleNode(),null!==n&&n!==e?(e=n,i=n.ql("")):e=n)
}if(this.eD=e,null===e||null===i||!e.location.K())return!1;var n=this.ba,r=null;if(null===n?(t.xm||(t.Yv=new jo,t.Yv.ya=_u.Xp,t.Yv.nb=0,t.xm=new js,t.xm.add(t.Yv),t.xm.sf()),this.Mn&&(t.xm.position=t.xm.location=this.Mn,t.xm.sf(),n=t.xm,r=t.Yv)):r=this.Fd,null!==r&&(t=oo(r),t!==n&&n.isVisible()?r=t:(t=n.findVisibleNode(),null!==t&&t!==n?(n=t,r=t.ql("")):n=t)),this.gD=n,null===n||null===r||!n.location.K())return!1;var t=this.pa,o=ta(this,i),s=ea(this,r),a=i===r&&null!==i,l=this.kc,h=this.Me===Zf;this.ui=a&&!l?h=!0:!1;var u=this.Xs===Qf||a;if(l||o!==Zh||s!==Zh||a){h=this.zl,u&&(l&&h||a)&&this.Wo();var c=a?this.computeCurviness():0,f=this.getLinkPoint(e,i,o,!0,l,n,r),d=0,p=0,g=0;if(l||o!==Zh||a){var v=this.computeEndSegmentLength(e,i,o,!0),g=this.getLinkDirection(e,i,f,o,!0,l,n,r);if(a&&(g-=l?90:30,0>c&&(g-=180)),0>g?g+=360:g>=360&&(g-=360),a&&(v+=Math.abs(c)),0===g?d=v:90===g?p=v:180===g?d=-v:270===g?p=-v:(d=v*Math.cos(g*Math.PI/180),p=v*Math.sin(g*Math.PI/180)),o.te()&&a){var m=i.$a(ou,Uh.M()),y=Uh.Sb(m.x+1e3*d,m.y+1e3*p);this.getLinkPointFromPoint(e,i,m,y,!0,f),Uh.v(m),Uh.v(y)}}var v=this.getLinkPoint(n,r,s,!1,l,e,i),x=0,w=0,k=0;(l||s!==Zh||a)&&(m=this.computeEndSegmentLength(n,r,s,!1),k=this.getLinkDirection(n,r,v,s,!1,l,e,i),a&&(k+=l?0:30,0>c&&(k+=180)),0>k?k+=360:k>=360&&(k-=360),a&&(m+=Math.abs(c)),0===k?x=m:90===k?w=m:180===k?x=-m:270===k?w=-m:(x=m*Math.cos(k*Math.PI/180),w=m*Math.sin(k*Math.PI/180)),s.te()&&a&&(m=r.$a(ou,Uh.M()),y=Uh.Sb(m.x+1e3*x,m.y+1e3*w),this.getLinkPointFromPoint(n,r,m,y,!1,v),Uh.v(m),Uh.v(y))),r=f,(l||o!==Zh||a)&&(r=new b(f.x+d,f.y+p)),i=v,(l||s!==Zh||a)&&(i=new b(v.x+x,v.y+w)),!u&&!l&&o===Zh&&t>3&&this.adjustPoints(0,f,t-2,i)?this.Af(t-1,v):!u&&!l&&s===Zh&&t>3&&this.adjustPoints(1,r,t-1,v)?this.Af(0,f):!u&&!l&&t>4&&this.adjustPoints(1,r,t-2,i)?(this.Af(0,f),this.Af(t-1,v)):!u&&l&&t>=6&&!h&&this.adjustPoints(1,r,t-2,i)?(this.Af(0,f),this.Af(t-1,v)):(this.Wo(),this.Xh(f),(l||o!==Zh||a)&&this.Xh(r),l&&this.addOrthoPoints(r,g,i,k,e,n),(l||s!==Zh||a)&&this.Xh(i),this.Xh(v))}else o=!1,!u&&t>=3&&(u=this.getLinkPoint(e,i,Zh,!0,!1,n,r),s=this.getLinkPoint(n,r,Zh,!1,!1,e,i),o=this.adjustPoints(0,u,t-1,s))&&(u=this.getLinkPoint(e,i,Zh,!0,!1,n,r),s=this.getLinkPoint(n,r,Zh,!1,!1,e,i),this.adjustPoints(0,u,t-1,s)),o||(this.Wo(),h?(t=this.getLinkPoint(e,i,Zh,!0,!1,n,r),u=this.getLinkPoint(n,r,Zh,!1,!1,e,i),o=u.x-t.x,s=u.y-t.y,a=this.computeCurviness(),h=l=0,f=t.x+o/3,g=t.y+s/3,d=f,p=g,_u.G(s,0)?p=o>0?p-a:p+a:(l=-o/s,h=Math.sqrt(a*a/(l*l+1)),0>a&&(h=-h),d=(0>s?-1:1)*h+f,p=l*(d-f)+g),f=t.x+2*o/3,g=t.y+2*s/3,v=f,x=g,_u.G(s,0)?x=o>0?x-a:x+a:(v=(0>s?-1:1)*h+f,x=l*(v-f)+g),this.Wo(),this.Xh(t),this.dl(d,p),this.dl(v,x),this.Xh(u),this.Af(0,this.getLinkPoint(e,i,Zh,!0,!1,n,r)),this.Af(3,this.getLinkPoint(n,r,Zh,!1,!1,e,i))):(t=n,n=this.getLinkPoint(e,i,Zh,!0,!1,t,r),r=this.getLinkPoint(t,r,Zh,!1,!1,e,i),this.hasCurviness()?(s=r.x-n.x,e=r.y-n.y,i=this.computeCurviness(),t=n.x+s/2,u=n.y+e/2,o=t,a=u,_u.G(e,0)?a=s>0?a-i:a+i:(s=-s/e,o=Math.sqrt(i*i/(s*s+1)),0>i&&(o=-o),o=(0>e?-1:1)*o+t,a=s*(o-t)+u),this.Xh(n),this.dl(o,a)):this.Xh(n),this.Xh(r)));return!0},Ws.prototype.getLinkPointFromPoint=function(t,e,i,n,r,o){if(void 0===o&&(o=new b),null===t||null===e)return o.assign(i),o;t.isVisible()||(r=t.findVisibleNode(),null!==r&&r!==t&&(e=r.port));var s=r=0,a=0,l=0;if(t=null,r=e.T,null===r||r.Hg()||(r=r.T),null===r)r=n.x,s=n.y,a=i.x,l=i.y;else{t=r.Zg,r=1/(t.m11*t.m22-t.m12*t.m21);var a=t.m22*r,l=-t.m12*r,h=-t.m21*r,u=t.m11*r,c=r*(t.m21*t.dy-t.m22*t.dx),f=r*(t.m12*t.dx-t.m11*t.dy);r=n.x*a+n.y*h+c,s=n.x*l+n.y*u+f,a=i.x*a+i.y*h+c,l=i.x*l+i.y*u+f}return e.ip(r,s,a,l,o),null!==t&&o.transform(t),o},Ws.prototype.getLinkPoint=function(t,e,i,n,r,o,s,a){if(void 0===a&&(a=new b),i.fd())return e.$a(i,a),a;if(i.$i()&&(i=Zs(this,e),null!==i)){if(a.assign(i.rp),r&&this.Cx===Xf){var l=Zs(this,s);if(null!==l&&i.Qm<l.Qm){i=Uh.M();var l=Uh.M(),h=new T(e.$a(eu,i),e.$a(hu,l)),u=this.computeSpot(!n);t=this.getLinkPoint(o,s,u,!n,r,t,e,l),t.x>=h.x&&t.x<=h.x+h.width?a.x=t.x:t.y>=h.y&&t.y<=h.y+h.height&&(a.y=t.y),Uh.v(i),Uh.v(l)}}return a}return o=e.$a(ou,Uh.M()),l=i=null,this.pa>(r?6:2)?(l=this.l(n?1:this.pa-2),r&&(l=Qs(o,l.copy()))):(i=Uh.M(),l=s.$a(ou,i),r&&(l=Qs(o,l))),this.getLinkPointFromPoint(t,e,o,l,n,a),Uh.v(o),null!==i&&Uh.v(i),a},Ws.prototype.getLinkDirection=function(t,e,i,n,r,o,s,a){t:if(n.fd())i=n.x>n.y?n.x>1-n.y?0:n.x<1-n.y?270:315:n.x<n.y?n.x>1-n.y?90:n.x<1-n.y?180:135:.5>n.x?225:.5<n.x?45:0;else{if(n.$i()){var l=Zs(this,e);if(null!==l)switch(l.ge){case Uh.hd:i=270;break t;case Uh.Nc:i=180;break t;default:case Uh.Xc:i=0;break t;case Uh.Wc:i=90;break t}}var l=e.$a(ou,Uh.M()),h=null,u=null;this.pa>(o?6:2)?(u=this.l(r?1:this.pa-2),u=o?Qs(l,u.copy()):i):(h=Uh.M(),u=a.$a(ou,h)),i=0,i=Math.abs(u.x-l.x)>Math.abs(u.y-l.y)?u.x>=l.x?0:180:u.y>=l.y?90:270,Uh.v(l),null!==h&&Uh.v(h)}switch(n.te()&&s.bi(t)&&(i+=180,i>=360&&(i-=360)),t=Uf,t=r?this.vt:this.pu,t===Uf&&(t=r?e.vt:e.pu),t){case Gf:e=e.tl(),i+=e,i>=360&&(i-=360);break;case Uf:case Wf:if(e=e.tl(),0===e)break;e>=45&&135>e?i+=90:e>=135&&225>e?i+=180:e>=225&&315>e&&(i+=270),i>=360&&(i-=360)}return i},Ws.prototype.computeEndSegmentLength=function(t,e,i,n){return null!==e&&i.$i()&&(t=Zs(this,e),null!==t)?t.Ow:(t=0/0,t=n?this.rl:this.Pl,null!==e&&isNaN(t)&&(t=n?e.rl:e.Pl),isNaN(t)&&(t=10),t)},Ws.prototype.computeSpot=function(t){return t?ta(this,this.cd):ea(this,this.Fd)},Ws.prototype.computeOtherPoint=function(t,e){var i,n=e.$a(ou);return i=e.tm,i=null!==i?Da(i,this):null,null!==i&&(n=i.rp),n},Ws.prototype.computeShortLength=function(t){return t?ia(this):na(this)},Ws.prototype.bk=function(t,e,i,n,r,o){if(!1===this.Dg)return!1;void 0===e&&(e=null),void 0===i&&(i=null);var s=o;if(void 0===o&&(s=Uh.th(),s.reset()),s.multiply(this.transform),this.Nm(t,s))return To(this,e,i,r),void 0===o&&Uh.cf(s),!0;if(this.xg(t,s)){var a=!1;if(!this.Ng)for(var l=this.Aa.n,h=l.length;h--;){var u=l[h];if(u.visible||u===this.bc){var c=u.Y,f=this.Ia;if(!(c.x>f.width||c.y>f.height||0>c.x+c.width||0>c.y+c.height)){if(c=Uh.th(),c.set(s),u instanceof uo)a=u.bk(t,e,i,n,r,c);else if(this.path===u){var a=u,d=t,p=n,f=c;if(!1===a.Dg)a=!1;else if(f.multiply(a.transform),p)t:{var g=d,v=f;if(a.Nm(g,v))a=!0;else{if(void 0===v&&(v=a.transform,g.Zj(a.Y))){a=!0;break t}var f=g.left,d=g.right,p=g.top,g=g.bottom,m=Uh.M(),y=Uh.M(),b=Uh.M(),x=Uh.th();x.set(v),x.VE(a.transform),x.Vz(),y.x=d,y.y=p,y.transform(x),m.x=f,m.y=p,m.transform(x),v=!1,Ro(a,m,y,b)?v=!0:(m.x=d,m.y=g,m.transform(x),Ro(a,m,y,b)?v=!0:(y.x=f,y.y=g,y.transform(x),Ro(a,m,y,b)?v=!0:(m.x=f,m.y=p,m.transform(x),Ro(a,m,y,b)&&(v=!0)))),Uh.cf(x),Uh.v(m),Uh.v(y),Uh.v(b),a=v}}else a=a.Nm(d,f)}else a=Ir(u,t,n,c);a&&(null!==e&&(u=e(u)),u&&(null===i||i(u))&&r.add(u)),Uh.cf(c)}}}return void 0===o&&Uh.cf(s),a||null!==this.background||null!==this.Im}return void 0===o&&Uh.cf(s),!1},Uh.u(Ws,{kc:"isOrthogonal"},function(){return 2===(2&this.vm.value)}),Uh.u(Ws,{zl:"isAvoiding"},function(){return 4===(4&this.vm.value)}),Ws.prototype.computeCurve=function(){if(null===this.ui){var t=this.cd,e=this.kc;this.ui=null!==t&&t===this.Fd&&!e}return this.ui?Zf:this.Me},Ws.prototype.computeCorner=function(){if(this.Me===Zf)return 0;var t=this.Fz;return(isNaN(t)||0>t)&&(t=10),t},Ws.prototype.findMidLabel=function(){for(var t=this.path,e=this.Aa.n,i=e.length,n=0;i>n;n++){var r=e[n];if(r!==t&&!r.Rf&&(-1/0===r.we||isNaN(r.we)))return r}for(t=this.Sf;t.next();)if(e=t.value,-1/0===e.we||isNaN(e.we))return e;return null},Ws.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var t;t=Math.max(14,this.computeThickness());var e=this.cd,i=this.Fd;if(null!==e&&null!==i){var n=this.findMidLabel();if(null!==n){var r=n.Ia,o=n.margin,s=isNaN(r.width)?30:r.width*n.scale+o.left+o.right,r=isNaN(r.height)?14:r.height*n.scale+o.top+o.bottom,n=n.fu;n===od||n===hd||n===ld?t=Math.max(t,r):n===ad||n===cd||n===sd||n===ud?t=Math.max(t,s):(e=e.$a(ou).dh(i.$a(ou))/180*Math.PI,t=Math.max(t,Math.abs(Math.sin(e)*s)+Math.abs(Math.cos(e)*r)+1)),this.Me===Zf&&(t*=1.333)}}return t},Ws.prototype.arrangeBundledLinks=function(t,e){if(e)for(var i=0;i<t.length;i++)t[i].jc()},Ws.prototype.computeCurviness=function(){var t=this.Kw;if(isNaN(t)){var t=16,e=this.hi;if(null!==e){for(var i=Uh.mb(),n=0,r=e.links,o=0;o<r.length;o++){var s=r[o],s=s.computeSpacing();i.push(s),n+=s}for(n=-n/2,o=0;o<r.length;o++){if(s=r[o],s===this){t=n+i[o]/2;break}n+=i[o]}e.Bp===this.V&&(t=-t),Uh.ta(i)}}return t},Ws.prototype.computeThickness=function(){if(!this.isVisible())return 0;var t=this.path;return null!==t?Math.max(t.nb,1):1},Ws.prototype.hasCurviness=function(){return!isNaN(this.Kw)||null!==this.hi},Ws.prototype.adjustPoints=function(t,e,i,n){var r=this.Xs;if(this.kc){if(r===nd)return!1;r===rd&&(r=id)}switch(r){case nd:var o=this.l(t),s=this.l(i);if(!o.od(e)||!s.od(n)){var r=o.x,o=o.y,a=s.x-r,l=s.y-o,h=Math.sqrt(a*a+l*l);if(!_u.Qa(h,0)){var u=0;_u.Qa(a,0)?u=0>l?-Math.PI/2:Math.PI/2:(u=Math.atan(l/Math.abs(a)),0>a&&(u=Math.PI-u));var s=e.x,c=e.y,l=n.x-s,f=n.y-c,d=Math.sqrt(l*l+f*f),a=0;for(_u.Qa(l,0)?a=0>f?-Math.PI/2:Math.PI/2:(a=Math.atan(f/Math.abs(l)),0>l&&(a=Math.PI-a)),h=d/h,u=a-u,this.Af(t,e),t+=1;i>t;t++)e=this.l(t),a=e.x-r,l=e.y-o,e=Math.sqrt(a*a+l*l),_u.Qa(e,0)||(f=0,_u.Qa(a,0)?f=0>l?-Math.PI/2:Math.PI/2:(f=Math.atan(l/Math.abs(a)),0>a&&(f=Math.PI-f)),a=f+u,e*=h,this.W(t,s+e*Math.cos(a),c+e*Math.sin(a)));this.Af(i,n)}}return!0;case rd:if(o=this.l(t),c=this.l(i),!o.od(e)||!c.od(n)){var r=o.x,o=o.y,s=c.x,c=c.y,h=(s-r)*(s-r)+(c-o)*(c-o),a=e.x,u=e.y,l=n.x,f=n.y,d=0,p=1;for(0!==l-a?(d=(f-u)/(l-a),p=Math.sqrt(1+1/(d*d))):d=9e9,this.Af(t,e),t+=1;i>t;t++){e=this.l(t);var g=e.x,v=e.y,m=.5;0!==h&&(m=((r-g)*(r-s)+(o-v)*(o-c))/h);var y=r+m*(s-r),b=o+m*(c-o);e=Math.sqrt((g-y)*(g-y)+(v-b)*(v-b)),d*(g-y)+b>v&&(e=-e),d>0&&(e=-e),g=a+m*(l-a),m=u+m*(f-u),0!==d?(e=g+e/p,this.W(t,e,m-(e-g)/d)):this.W(t,g,m+e)}this.Af(i,n)}return!0;case id:return this.kc&&(r=this.l(t),o=this.l(t+1),s=this.l(t+2),_u.G(r.y,o.y)?_u.G(o.x,s.x)?this.W(t+1,o.x,e.y):_u.G(o.y,s.y)&&this.W(t+1,e.x,o.y):_u.G(r.x,o.x)&&(_u.G(o.y,s.y)?this.W(t+1,e.x,o.y):_u.G(o.x,s.x)&&this.W(t+1,o.x,e.y)),r=this.l(i),o=this.l(i-1),s=this.l(i-2),_u.G(r.y,o.y)?_u.G(o.x,s.x)?this.W(i-1,o.x,n.y):_u.G(o.y,s.y)&&this.W(i-1,n.x,o.y):_u.G(r.x,o.x)&&(_u.G(o.y,s.y)?this.W(i-1,n.x,o.y):_u.G(o.x,s.x)&&this.W(i-1,o.x,n.y))),this.Af(t,e),this.Af(i,n),!0;default:return!1}},Ws.prototype.addOrthoPoints=function(t,e,i,n,r,o){e=e>=-45&&45>e?0:e>=45&&135>e?90:e>=135&&225>e?180:270,n=n>=-45&&45>n?0:n>=45&&135>n?90:n>=135&&225>n?180:270;var s=r.Y.copy(),a=o.Y.copy();if(s.K()&&a.K()){s.Qf(8,8),a.Qf(8,8),s.gj(t),a.gj(i);var l,h;0===e?i.x>t.x||270===n&&i.y<t.y&&a.right>t.x||90===n&&i.y>t.y&&a.right>t.x?(l=new b(i.x,t.y),h=new b(i.x,(t.y+i.y)/2),180===n?(l.x=this.computeMidOrthoPosition(t.x,i.x,!1),h.x=l.x,h.y=i.y):270===n&&i.y<t.y||90===n&&i.y>t.y?(l.x=t.x<a.left?this.computeMidOrthoPosition(t.x,a.left,!1):t.x<a.right&&(270===n&&t.y<a.top||90===n&&t.y>a.bottom)?this.computeMidOrthoPosition(t.x,i.x,!1):a.right,h.x=l.x,h.y=i.y):0===n&&t.x<a.left&&t.y>a.top&&t.y<a.bottom&&(l.x=t.x,l.y=t.y<i.y?Math.min(i.y,a.top):Math.max(i.y,a.bottom),h.y=l.y)):(l=new b(t.x,i.y),h=new b((t.x+i.x)/2,i.y),(180===n||90===n&&i.y<s.top||270===n&&i.y>s.bottom)&&(180===n&&(a.Ga(t)||s.Ga(i))?l.y=this.computeMidOrthoPosition(t.y,i.y,!0):i.y<t.y&&(180===n||90===n)?l.y=this.computeMidOrthoPosition(s.top,Math.max(i.y,a.bottom),!0):i.y>t.y&&(180===n||270===n)&&(l.y=this.computeMidOrthoPosition(s.bottom,Math.min(i.y,a.top),!0)),h.x=i.x,h.y=l.y),l.y>s.top&&l.y<s.bottom&&(i.x>=s.left&&i.x<=t.x||t.x<=a.right&&t.x>=i.x?(90===n||270===n)&&(l=new b(Math.max((t.x+i.x)/2,t.x),t.y),h=new b(l.x,i.y)):(l.y=270===n||(0===n||180===n)&&i.y<t.y?Math.min(i.y,0===n?s.top:Math.min(s.top,a.top)):Math.max(i.y,0===n?s.bottom:Math.max(s.bottom,a.bottom)),h.x=i.x,h.y=l.y))):180===e?i.x<t.x||270===n&&i.y<t.y&&a.left<t.x||90===n&&i.y>t.y&&a.left<t.x?(l=new b(i.x,t.y),h=new b(i.x,(t.y+i.y)/2),0===n?(l.x=this.computeMidOrthoPosition(t.x,i.x,!1),h.x=l.x,h.y=i.y):270===n&&i.y<t.y||90===n&&i.y>t.y?(l.x=t.x>a.right?this.computeMidOrthoPosition(t.x,a.right,!1):t.x>a.left&&(270===n&&t.y<a.top||90===n&&t.y>a.bottom)?this.computeMidOrthoPosition(t.x,i.x,!1):a.left,h.x=l.x,h.y=i.y):180===n&&t.x>a.right&&t.y>a.top&&t.y<a.bottom&&(l.x=t.x,l.y=t.y<i.y?Math.min(i.y,a.top):Math.max(i.y,a.bottom),h.y=l.y)):(l=new b(t.x,i.y),h=new b((t.x+i.x)/2,i.y),(0===n||90===n&&i.y<s.top||270===n&&i.y>s.bottom)&&(0===n&&(a.Ga(t)||s.Ga(i))?l.y=this.computeMidOrthoPosition(t.y,i.y,!0):i.y<t.y&&(0===n||90===n)?l.y=this.computeMidOrthoPosition(s.top,Math.max(i.y,a.bottom),!0):i.y>t.y&&(0===n||270===n)&&(l.y=this.computeMidOrthoPosition(s.bottom,Math.min(i.y,a.top),!0)),h.x=i.x,h.y=l.y),l.y>s.top&&l.y<s.bottom&&(i.x<=s.right&&i.x>=t.x||t.x>=a.left&&t.x<=i.x?(90===n||270===n)&&(l=new b(Math.min((t.x+i.x)/2,t.x),t.y),h=new b(l.x,i.y)):(l.y=270===n||(0===n||180===n)&&i.y<t.y?Math.min(i.y,180===n?s.top:Math.min(s.top,a.top)):Math.max(i.y,180===n?s.bottom:Math.max(s.bottom,a.bottom)),h.x=i.x,h.y=l.y))):90===e?i.y>t.y||180===n&&i.x<t.x&&a.bottom>t.y||0===n&&i.x>t.x&&a.bottom>t.y?(l=new b(t.x,i.y),h=new b((t.x+i.x)/2,i.y),270===n?(l.y=this.computeMidOrthoPosition(t.y,i.y,!0),h.x=i.x,h.y=l.y):180===n&&i.x<t.x||0===n&&i.x>t.x?(l.y=t.y<a.top?this.computeMidOrthoPosition(t.y,a.top,!0):t.y<a.bottom&&(180===n&&t.x<a.left||0===n&&t.x>a.right)?this.computeMidOrthoPosition(t.y,i.y,!0):a.bottom,h.x=i.x,h.y=l.y):90===n&&t.y<a.top&&t.x>a.left&&t.x<a.right&&(l.x=t.x<i.x?Math.min(i.x,a.left):Math.max(i.x,a.right),l.y=t.y,h.x=l.x)):(l=new b(i.x,t.y),h=new b(i.x,(t.y+i.y)/2),(270===n||0===n&&i.x<s.left||180===n&&i.x>s.right)&&(270===n&&(a.Ga(t)||s.Ga(i))?l.x=this.computeMidOrthoPosition(t.x,i.x,!1):i.x<t.x&&(270===n||0===n)?l.x=this.computeMidOrthoPosition(s.left,Math.max(i.x,a.right),!1):i.x>t.x&&(270===n||180===n)&&(l.x=this.computeMidOrthoPosition(s.right,Math.min(i.x,a.left),!1)),h.x=l.x,h.y=i.y),l.x>s.left&&l.x<s.right&&(i.y>=s.top&&i.y<=t.y||t.y<=a.bottom&&t.y>=i.y?(0===n||180===n)&&(l=new b(t.x,Math.max((t.y+i.y)/2,t.y)),h=new b(i.x,l.y)):(l.x=180===n||(90===n||270===n)&&i.x<t.x?Math.min(i.x,90===n?s.left:Math.min(s.left,a.left)):Math.max(i.x,90===n?s.right:Math.max(s.right,a.right)),h.x=l.x,h.y=i.y))):i.y<t.y||180===n&&i.x<t.x&&a.top<t.y||0===n&&i.x>t.x&&a.top<t.y?(l=new b(t.x,i.y),h=new b((t.x+i.x)/2,i.y),90===n?(l.y=this.computeMidOrthoPosition(t.y,i.y,!0),h.x=i.x,h.y=l.y):180===n&&i.x<t.x||0===n&&i.x>=t.x?(l.y=t.y>a.bottom?this.computeMidOrthoPosition(t.y,a.bottom,!0):t.y>a.top&&(180===n&&t.x<a.left||0===n&&t.x>a.right)?this.computeMidOrthoPosition(t.y,i.y,!0):a.top,h.x=i.x,h.y=l.y):270===n&&t.y>a.bottom&&t.x>a.left&&t.x<a.right&&(l.x=t.x<i.x?Math.min(i.x,a.left):Math.max(i.x,a.right),l.y=t.y,h.x=l.x)):(l=new b(i.x,t.y),h=new b(i.x,(t.y+i.y)/2),(90===n||0===n&&i.x<s.left||180===n&&i.x>s.right)&&(90===n&&(a.Ga(t)||s.Ga(i))?l.x=this.computeMidOrthoPosition(t.x,i.x,!1):i.x<t.x&&(90===n||0===n)?l.x=this.computeMidOrthoPosition(s.left,Math.max(i.x,a.right),!1):i.x>t.x&&(90===n||180===n)&&(l.x=this.computeMidOrthoPosition(s.right,Math.min(i.x,a.left),!1)),h.x=l.x,h.y=i.y),l.x>s.left&&l.x<s.right&&(i.y<=s.bottom&&i.y>=t.y||t.y>=a.top&&t.y<=i.y?(0===n||180===n)&&(l=new b(t.x,Math.min((t.y+i.y)/2,t.y)),h=new b(i.x,l.y)):(l.x=180===n||(90===n||270===n)&&i.x<t.x?Math.min(i.x,270===n?s.left:Math.min(s.left,a.left)):Math.max(i.x,270===n?s.right:Math.max(s.right,a.right)),h.x=l.x,h.y=i.y)));var u=l,c=h;if(this.zl){var f,d=this.g;(f=null===d)||(d.Sa.vf?f=!1:(f=d.Za,f=f instanceof je?!f.lw||f.aI:!0),f=!f),f||s.Ga(i)&&!o.bi(r)||a.Ga(t)&&!r.bi(o)||r===o||this.layer.Gc?t=!1:(r=pr(d,!0,this.Ua,null),r.pp(Math.min(t.x,u.x),Math.min(t.y,u.y),Math.abs(t.x-u.x),Math.abs(t.y-u.y))&&r.pp(Math.min(u.x,c.x),Math.min(u.y,c.y),Math.abs(u.x-c.x),Math.abs(u.y-c.y))&&r.pp(Math.min(c.x,i.x),Math.min(c.y,i.y),Math.abs(c.x-i.x),Math.abs(c.y-i.y))?t=!1:(s=s.copy().fi(a),s.Qf(2*r.Vo,2*r.To),Ma(r,t,e,i,n,s),a=wa(r,i.x,i.y),r.abort||999999!==a||(Ta(r),a=r.zF,s.Qf(r.Vo*a,r.To*a),Ma(r,t,e,i,n,s),a=wa(r,i.x,i.y)),r.abort||999999!==a||(Ta(r),a=r.OE,s.Qf(r.Vo*a,r.To*a),Ma(r,t,e,i,n,s),a=wa(r,i.x,i.y)),!r.abort&&999999===a&&r.SF&&(Ta(r),Ma(r,t,e,i,n,r.ob),a=wa(r,i.x,i.y)),!r.abort&&999999>a&&0!==wa(r,i.x,i.y)?(oa(this,r,i.x,i.y,n,!0),n=this.l(2),4>this.pa?(0===e||180===e?(n.x=t.x,n.y=i.y):(n.x=i.x,n.y=t.y),this.W(2,n.x,n.y),this.w(3,n.x,n.y)):(i=this.l(3),0===e||180===e?_u.G(n.x,i.x)?(e=0===e?Math.max(n.x,t.x):Math.min(n.x,t.x),this.W(2,e,t.y),this.W(3,e,i.y)):_u.G(n.y,i.y)?(Math.abs(t.y-n.y)<=r.To/2&&(this.W(2,n.x,t.y),this.W(3,i.x,t.y)),this.w(2,n.x,t.y)):this.W(2,t.x,n.y):(90===e||270===e)&&(_u.G(n.y,i.y)?(e=90===e?Math.max(n.y,t.y):Math.min(n.y,t.y),this.W(2,t.x,e),this.W(3,i.x,e)):_u.G(n.x,i.x)?(Math.abs(t.x-n.x)<=r.Vo/2&&(this.W(2,t.x,n.y),this.W(3,t.x,i.y)),this.w(2,t.x,n.y)):this.W(2,n.x,t.y))),t=!0):t=!1))}else t=!1;t||(this.Xh(l),this.Xh(h))}},Ws.prototype.computeMidOrthoPosition=function(t,e){if(this.hasCurviness()){var i=this.computeCurviness();return(t+e)/2+i}return(t+e)/2},Ws.prototype.findClosestSegment=function(t){var e=t.x;t=t.y;for(var i=this.l(0),n=this.l(1),r=Kh(e,t,i.x,i.y,n.x,n.y),o=0,s=1;s<this.pa-1;s++){var i=this.l(s+1),a=Kh(e,t,n.x,n.y,i.x,i.y),n=i;r>a&&(o=s,r=a)}return o},Ws.prototype.invalidateGeometry=Ws.prototype.se=function(){this.Ta=null},Uh.u(Ws,{sl:"geometry"},function(){return null===this.Ta&&(this.pn(),this.Ta=this.makeGeometry()),this.Ta}),Ws.prototype.dn=function(t){if(!t){if(!1===this.Mf)return;if(t=this.af(),null!==this.Ta&&(null===t||null!==t.sl))return}if(this.Ta=this.makeGeometry(),t=this.path,null!==t){t.Ta=this.Ta;for(var e=this.Aa.n,i=e.length,n=0;i>n;n++){var r=e[n];r!==t&&r.Rf&&r instanceof jo&&(r.Ta=this.Ta)}}},Ws.prototype.makeGeometry=function(){var t=this.pa;if(2>t){var e=new V(Lu),i=new J(0,0);return e.Wb.add(i),e}var n=!1,e=this.g;null!==e&&fa(this)&&e.Dk.contains(this)&&null!==this.Wv&&(n=!0);var i=e=0,r=this.l(0).copy(),o=r.copy(),e=this.$c.n,s=this.computeCurve();if(s===Zf&&t>=3&&!_u.Qa(this.Qp,0))if(3===t)var a=this.l(1),e=Math.min(r.x,a.x),i=Math.min(r.y,a.y),a=this.l(2),e=Math.min(e,a.x),i=Math.min(i,a.y);else{if(this.kc)for(a=0;t>a;a++)i=e[a],o.x=Math.min(i.x,o.x),o.y=Math.min(i.y,o.y);else for(a=3;t>a;a+=3)a+3>=t&&(a=t-1),e=this.l(a),o.x=Math.min(e.x,o.x),o.y=Math.min(e.y,o.y);e=o.x,i=o.y}else{for(a=0;t>a;a++)i=e[a],o.x=Math.min(i.x,o.x),o.y=Math.min(i.y,o.y);e=o.x,i=o.y}if(e-=this.jz.x,i-=this.jz.y,r.x-=e,r.y-=i,2===t){var l=this.l(1).copy();l.x-=e,l.y-=i,0!==ia(this)&&aa(this,r,!0,o),0!==na(this)&&aa(this,l,!1,o),e=new V(ju),e.za=r.x,e.xa=r.y,e.I=l.x,e.J=l.y}else{if(l=Uh.q(),0!==ia(this)&&aa(this,r,!0,o),ss(l,r.x,r.y,!1,!1),s===Zf&&t>=3&&!_u.Qa(this.Qp,0))if(3===t)a=this.l(1),t=a.x-e,n=a.y-i,a=this.l(2).copy(),a.x-=e,a.y-=i,0!==na(this)&&aa(this,a,!1,o),hs(l,t,n,t,n,a.x,a.y);else if(this.kc){for(var o=new b(e,i),r=this.l(1).copy(),s=new b(e,i),t=new b(e,i),n=this.l(0),h=null,u=this.Qp/3,a=1;a<this.pa-1;a++){var h=this.l(a),c=n,f=h,d=this.l(la(this,h,a,!1));if(!(_u.Qa(c.x,f.x)&&_u.Qa(f.x,d.x)||_u.Qa(c.y,f.y)&&_u.Qa(f.y,d.y))){var p=u,g=s,v=t;isNaN(p)&&(p=this.Qp/3);var m=c.x,c=c.y,y=f.x,f=f.y,x=d.x,d=d.y,w=p*sa(m,c,y,f),p=p*sa(y,f,x,d);_u.Qa(c,f)&&_u.Qa(y,x)&&(y>m?d>f?(g.x=y-w,g.y=f-w,v.x=y+p,v.y=f+p):(g.x=y-w,g.y=f+w,v.x=y+p,v.y=f-p):d>f?(g.x=y+w,g.y=f-w,v.x=y-p,v.y=f+p):(g.x=y+w,g.y=f+w,v.x=y-p,v.y=f-p)),_u.Qa(m,y)&&_u.Qa(f,d)&&(f>c?(x>y?(g.x=y-w,g.y=f-w,v.x=y+p):(g.x=y+w,g.y=f-w,v.x=y-p),v.y=f+p):(x>y?(g.x=y-w,g.y=f+w,v.x=y+p):(g.x=y+w,g.y=f+w,v.x=y-p),v.y=f-p)),(_u.Qa(m,y)&&_u.Qa(y,x)||_u.Qa(c,f)&&_u.Qa(f,d))&&(m=.5*(m+x),c=.5*(c+d),g.x=m,g.y=c,v.x=m,v.y=c),1===a?(r.x=.5*(n.x+h.x),r.y=.5*(n.y+h.y)):2===a&&_u.Qa(n.x,this.l(0).x)&&_u.Qa(n.y,this.l(0).y)&&(r.x=.5*(n.x+h.x),r.y=.5*(n.y+h.y)),hs(l,r.x-e,r.y-i,s.x-e,s.y-i,h.x-e,h.y-i),o.set(s),r.set(t),n=h}}a=n.x,n=n.y,o=this.l(this.pa-1),a=.5*(a+o.x),n=.5*(n+o.y),hs(l,t.x-e,t.y-i,a-e,n-i,o.x-e,o.y-i)}else for(a=3;t>a;a+=3)n=this.l(a-2),a+3>=t&&(a=t-1),o=this.l(a-1),r=this.l(a),a===t-1&&0!==na(this)&&(r=r.copy(),aa(this,r,!1,_u.mk)),hs(l,n.x-e,n.y-i,o.x-e,o.y-i,r.x-e,r.y-i);else{for(o=Uh.M(),o.assign(this.l(0)),a=1;t>a;){if(a=la(this,o,a,a>1),g=this.l(a),a>=t-1){o!==g&&(0!==na(this)&&(g=g.copy(),aa(this,g,!1,_u.mk)),ha(this,l,-e,-i,o,g,n));break}a=la(this,g,a+1,t-3>a),r=l,s=-e,h=-i,u=o,v=this.l(a),m=o,c=n,_u.G(u.y,g.y)&&_u.G(g.x,v.x)?(p=this.computeCorner(),p=Math.min(p,Math.abs(g.x-u.x)/2),p=y=Math.min(p,Math.abs(v.y-g.y)/2),_u.G(p,0)?(ha(this,r,s,h,u,g,c),m.assign(g)):(f=g.x,x=g.y,d=f,w=x,f=g.x>u.x?g.x-p:g.x+p,w=v.y>g.y?g.y+y:g.y-y,ha(this,r,s,h,u,new b(f,x),c),us(r,g.x+s,g.y+h,d+s,w+h),m.m(d,w))):_u.G(u.x,g.x)&&_u.G(g.y,v.y)?(p=this.computeCorner(),y=Math.min(p,Math.abs(g.y-u.y)/2),y=p=Math.min(y,Math.abs(v.x-g.x)/2),_u.G(p,0)?(ha(this,r,s,h,u,g,c),m.assign(g)):(f=g.x,w=x=g.y,x=g.y>u.y?g.y-y:g.y+y,d=v.x>g.x?g.x+p:g.x-p,ha(this,r,s,h,u,new b(f,x),c),us(r,g.x+s,g.y+h,d+s,w+h),m.m(d,w))):(ha(this,r,s,h,u,g,c),m.assign(g))}Uh.v(o)}e=l.o,Uh.s(l)}return e},Uh.u(Ws,{st:"firstPickIndex"},function(){return 2>=this.pa?0:this.kc||ta(this)!==Zh?1:0}),Uh.u(Ws,{jx:"lastPickIndex"},function(){var t=this.pa;return 0===t?0:2>=t?t-1:this.kc||ea(this)!==Zh?t-2:t-1}),Ws.prototype.usesSamePort=function(t){var e=this.pa,i=t.pa;if(e>0&&i>0){var n=this.l(0),r=t.l(0);if(n.od(r))return!0;if(e=this.l(e-1),t=t.l(i-1),e.od(t)||n.od(t)||e.od(r))return!0}else if(this.V===t.V||this.ba===t.ba||this.V===t.ba||this.ba===t.V)return!0;return!1},Ws.prototype.isVisible=function(){if(!fs.prototype.isVisible.call(this))return!1;var t=this.Ua,e=!0,i=this.g;if(null!==i&&(e=i.Qd),i=this.V,null!==i){if(this.Hc&&e&&!i.qd)return!1;if(i===t)return!0;if(i=i.findVisibleNode(),null===i||i===t)return!1}if(i=this.ba,null!==i){if(this.Hc&&!e&&!i.qd)return!1;if(i===t)return!0;if(e=i.findVisibleNode(),null===e||e===t)return!1}return!0},Ws.prototype.rd=function(t){if(fs.prototype.rd.call(this,t),null!==this.hi&&this.hi.$m(),null!==this.Fe)for(var e=this.Fe.i;e.next();)e.value.rd(t)},Uh.defineProperty(Ws,{Xs:"adjusting"},function(){return this.cq},function(t){var e=this.cq;e!==t&&(this.cq=t,this.h("adjusting",e,t))}),Uh.defineProperty(Ws,{Fz:"corner"},function(){return this.wq},function(t){var e=this.wq;e!==t&&(this.wq=t,this.se(),this.h("corner",e,t))}),Uh.defineProperty(Ws,{Me:"curve"},function(){return this.zq},function(t){var e=this.zq;e!==t&&(this.zq=t,this.jc(),this.se(),da(this,e===td||e===ed||t===td||t===ed),this.h("curve",e,t))}),Uh.defineProperty(Ws,{Kw:"curviness"},function(){return this.Aq},function(t){var e=this.Aq;e!==t&&(this.Aq=t,this.jc(),this.se(),this.h("curviness",e,t))}),Uh.defineProperty(Ws,{Cx:"routing"},function(){return this.vm},function(t){var e=this.vm;e!==t&&(this.vm=t,this.ui=null,this.jc(),da(this,2===(2&e.value)||2===(2&t.value)),this.h("routing",e,t))}),Uh.defineProperty(Ws,{Qp:"smoothness"},function(){return this.As},function(t){var e=this.As;e!==t&&(this.As=t,this.se(),this.h("smoothness",e,t))}),ya.prototype.$m=function(){if(!this.tv){var t=this.links;0<t.length&&(t=t[0].g,null!==t&&t.eC.add(this))}this.tv=!0},ya.prototype.UA=function(){if(this.tv){this.tv=!1;var t=this.links;if(0<t.length){var e=t[0],i=e.g;e.arrangeBundledLinks(t,null===i||i.bn),1===t.length&&(e.hi=null,t.length=0)}0===t.length&&(t=this.Bp,null!==this&&null!==t.xh&&t.xh.remove(this),t=this.Tt,null!==this&&null!==t.xh&&t.xh.remove(this))}},Uh.Nd(ya,{Bp:!0,ux:!0,Tt:!0,vx:!0,links:!0,spacing:!0}),Uh.Nd(ba,{group:!0,LA:!0,Ct:!0,abort:!0,SF:!0,zF:!0,OE:!0}),ba.prototype.initialize=function(t){if(!(0>=t.width||0>=t.height)){var e=t.y,i=t.x+t.width,n=t.y+t.height;if(this.jg=Math.floor((t.x-this.he)/this.he)*this.he,this.kg=Math.floor((e-this.ie)/this.ie)*this.ie,this.xr=Math.ceil((i+2*this.he)/this.he)*this.he,this.yr=Math.ceil((n+2*this.ie)/this.ie)*this.ie,t=1+(0|Math.ceil((this.xr-this.jg)/this.he)),e=1+(0|Math.ceil((this.yr-this.kg)/this.ie)),null===this.oc||this.Mo<t-1||this.No<e-1){for(i=[],n=0;t>=n;n++){for(var r=[],o=0;e>=o;o++)r[o]=0;i[n]=r}this.oc=i,this.Mo=t-1,this.No=e-1}if(null!==this.oc)for(t=0;t<=this.Mo;t++)for(e=0;e<=this.No;e++)this.oc[t][e]=999999}},Uh.u(ba,{ob:null},function(){return new T(this.jg,this.kg,this.xr-this.jg,this.yr-this.kg)}),Uh.defineProperty(ba,{Vo:null},function(){return this.he},function(t){t>0&&t!==this.he&&(this.he=t,this.initialize(this.ob))}),Uh.defineProperty(ba,{To:null},function(){return this.ie},function(t){t>0&&t!==this.ie&&(this.ie=t,this.initialize(this.ob))}),ba.prototype.pp=function(t,e,i,n){if(t>this.xr||t+i<this.jg||e>this.yr||e+n<this.kg)return!0;t=(t-this.jg)/this.he|0,e=(e-this.kg)/this.ie|0,i=Math.max(0,i)/this.he+1|0;var r=Math.max(0,n)/this.ie+1|0;if(0>t&&(i+=t,t=0),0>e&&(r+=e,e=0),0>i||0>r)return!0;for(n=0|Math.min(t+i-1,this.Mo),i=0|Math.min(e+r-1,this.No);n>=t;t++)for(r=e;i>=r;r++)if(0===this.oc[t][r])return!1;return!0},Uh.Nd(Sa,{Jc:!0,port:!0,Xf:!0,Ap:!0}),Sa.prototype.toString=function(){for(var t=this.Xf,e=this.Jc.toString()+" "+t.length.toString()+":",i=0;i<t.length;i++){var n=t[i];null!==n&&(e+="\n  "+n.toString())}return e},Sa.prototype.$m=function(){this.Xf.length=0},Sa.prototype.JI=function(t,e){return t===e?0:null===t?-1:null===e?1:t.ge<e.ge?-1:t.ge>e.ge?1:t.angle<e.angle?-1:t.angle>e.angle?1:0},Sa.prototype.computeEndSegmentLength=function(t){var e=t.link,i=e.computeEndSegmentLength(this.Jc,this.port,Zh,e.cd===this.port),n=t.kp;if(0>n)return i;var r=t.Qm;if(1>=r||!e.kc)return i;var e=t.sx,o=t.rp;return(t.ge===Uh.Nc||t.ge===Uh.Wc)&&(n=r-1-n),((t=t.ge===Uh.Nc||t.ge===Uh.Xc)?e.y<o.y:e.x<o.x)?i+8*n:(t?e.y===o.y:e.x===o.x)?i:i+8*(r-1-n)},Uh.Nd(Aa,{link:!0,angle:!0,ge:!0,sx:!0,kp:!0,Qm:!0,rp:!0,Ow:!0}),Aa.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.ge.toString()+":"+this.kp.toString()+"/"+this.Qm.toString()+" "+this.rp.toString()+" "+this.Ow.toString()+" "+this.sx.toString()},Ea.prototype.copy=function(){var t=new Ea;return t.rj=this.rj.S(),t.Tj=this.Tj.S(),t.pj=this.pj,t.Rj=this.Rj,t.oj=this.oj,t.Qj=this.Qj,t.qj=this.qj,t.Sj=this.Sj,t},Uh.Ja(Na,js),Uh.ea("Group",Na),Na.prototype.cloneProtected=function(t){js.prototype.cloneProtected.call(this,t),t.zr=this.zr,t.Br=this.Br,t.Tk=this.Tk,t.Ns=this.Ns,t.gr=this.gr,t.Ps=this.Ps,t.Es=this.Es;var e=t.lt(function(t){return t instanceof La});t.Ib=e instanceof La?e:null,t.oq=this.oq,t.pq=this.pq,t.qq=this.qq,t.Xq=this.Xq,null!==this.Ud?(t.Ud=this.Ud.copy(),t.Ud.group=t):(null!==t.Ud&&(t.Ud.group=null),t.Ud=null)},Na.prototype.$h=function(t){js.prototype.$h.call(this,t);var e=t.dp();for(t=t.Ic;t.next();){var i=t.value;if(i.Q(),i.H(8),i.dt(),i instanceof js)i.ff(e);else if(i instanceof Ws)for(i=i.Sf;i.next();)i.value.ff(e)}},Na.prototype.kn=function(t,e,i,n,r,o,s){if(t===Ku&&"elements"===e)if(r instanceof La){var a=r;null===this.Ib?this.Ib=a:this.Ib!==a&&Uh.k("Cannot insert a second Placeholder into the visual tree of a Group.")}else r instanceof uo&&(a=r.lt(function(t){return t instanceof La}),a instanceof La&&(null===this.Ib?this.Ib=a:this.Ib!==a&&Uh.k("Cannot insert a second Placeholder into the visual tree of a Group.")));else t===Yu&&"elements"===e&&null!==this.Ib&&(n===this.Ib?this.Ib=null:n instanceof uo&&this.Ib.Bl(n)&&(this.Ib=null));js.prototype.kn.call(this,t,e,i,n,r,o,s)},Na.prototype.Ri=function(t,e,i,n){this.Sk=this.Ib,uo.prototype.Ri.call(this,t,e,i,n)},Na.prototype.Cl=function(){if(!js.prototype.Cl.call(this))return!1;for(var t=this.Ic;t.next();){var e=t.value;if(e instanceof js){if(e.isVisible()&&no(e))return!1}else if(e instanceof Ws&&e.isVisible()&&no(e)&&e.V!==this&&e.ba!==this)return!1}return!0},Uh.u(Na,{placeholder:"placeholder"},function(){return this.Ib}),Uh.defineProperty(Na,{SD:"computesBoundsAfterDrag"},function(){return this.oq},function(t){var e=this.oq;e!==t&&(Uh.j(t,"boolean",Na,"computesBoundsAfterDrag"),this.oq=t,this.h("computesBoundsAfterDrag",e,t))}),Uh.defineProperty(Na,{Iw:"computesBoundsIncludingLinks"},function(){return this.pq},function(t){Uh.j(t,"boolean",Na,"computesBoundsIncludingLinks");var e=this.pq;e!==t&&(this.pq=t,this.h("computesBoundsIncludingLinks",e,t))}),Uh.defineProperty(Na,{cH:"computesBoundsIncludingLocation"},function(){return this.qq},function(t){Uh.j(t,"boolean",Na,"computesBoundsIncludingLocation");var e=this.qq;e!==t&&(this.qq=t,this.h("computesBoundsIncludingLocation",e,t))}),Uh.defineProperty(Na,{RH:"handlesDragDropForMembers"},function(){return this.Xq},function(t){Uh.j(t,"boolean",Na,"handlesDragDropForMembers");var e=this.Xq;e!==t&&(this.Xq=t,this.h("handlesDragDropForMembers",e,t))}),Uh.u(Na,{Ic:"memberParts"},function(){return this.Ar.i}),Na.prototype.Tm=function(){if(0<this.Ar.count){var t=this.g;if(null!==t)for(var e=this.Ar.copy().i;e.next();)t.remove(e.value)}js.prototype.Tm.call(this)},Uh.defineProperty(Na,{Qb:"layout"},function(){return this.Ud},function(t){var e=this.Ud;e!==t&&(null!==t&&Uh.A(t,Fa,Na,"layout"),null!==e&&(e.g=null,e.group=null),this.Ud=t,null!==t&&(t.g=this.g,t.group=this),this.h("layout",e,t))}),Uh.defineProperty(Na,{AI:"memberAdded"},function(){return this.zr},function(t){var e=this.zr;e!==t&&(null!==t&&Uh.j(t,"function",Na,"memberAdded"),this.zr=t,this.h("memberAdded",e,t))}),Uh.defineProperty(Na,{BI:"memberRemoved"},function(){return this.Br},function(t){var e=this.Br;e!==t&&(null!==t&&Uh.j(t,"function",Na,"memberRemoved"),this.Br=t,this.h("memberRemoved",e,t))}),Uh.defineProperty(Na,{gA:"memberValidation"},function(){return this.Tk},function(t){var e=this.Tk;e!==t&&(null!==t&&Uh.j(t,"function",Na,"memberValidation"),this.Tk=t,this.h("memberValidation",e,t))}),Na.prototype.canAddMembers=function(t){var e=this.g;if(null===e)return!1;for(e=e.pb,t=Ee(t).i;t.next();)if(!e.isValidMember(this,t.value))return!1;return!0},Na.prototype.addMembers=function(t,e){var i=this.g;if(null===i)return!1;for(var i=i.pb,n=!0,r=Ee(t).i;r.next();){var o=r.value;!e||i.isValidMember(this,o)?o.Ua=this:n=!1}return n},Uh.defineProperty(Na,{EJ:"ungroupable"},function(){return this.Ns},function(t){var e=this.Ns;e!==t&&(Uh.j(t,"boolean",Na,"ungroupable"),this.Ns=t,this.h("ungroupable",e,t))}),Na.prototype.canUngroup=function(){if(!this.EJ)return!1;var t=this.layer;return null===t||t.Bw?(t=t.g,null===t||t.Bw?!0:!1):!1},Na.prototype.ff=function(t){void 0===t&&(t=null),js.prototype.ff.call(this,t);for(var e=this.hE();e.next();){var i=e.value;if(null===t||!t.contains(i)){var n=i.V;null!==n&&n!==this&&n.bi(this)&&!n.isVisible()?i.jc():(n=i.ba,null!==n&&n!==this&&n.bi(this)&&!n.isVisible()&&i.jc())}}},Na.prototype.findExternalLinksConnected=Na.prototype.hE=function(){var t=this.dp();t.add(this);for(var e=new f(Ws),i=t.i;i.next();){var n=i.value;if(n instanceof js)for(n=n.ue;n.next();){var r=n.value;t.contains(r)||e.add(r)}}return e.i},Na.prototype.findExternalNodesConnected=function(){var t=this.dp();t.add(this);for(var e=new f(js),i=t.i;i.next();){var n=i.value;if(n instanceof js)for(n=n.ue;n.next();){var r=n.value,o=r.V;t.contains(o)&&o!==this||e.add(o),r=r.ba,t.contains(r)&&r!==this||e.add(r)}}return e.i},Na.prototype.findSubGraphParts=Na.prototype.dp=function(){var t=new f(fs);return De(t,this,!0,0,!0),t.remove(this),t},Na.prototype.rd=function(t){js.prototype.rd.call(this,t);for(var e=this.Ic;e.next();)e.value.rd(t)},Na.prototype.collapseSubGraph=Na.prototype.collapseSubGraph=function(){var t=this.g;if(null!==t&&!t.eh){t.eh=!0;var e=this.dp();Oa(this,e,t.Sa,this),t.eh=!1}},Na.prototype.expandSubGraph=Na.prototype.expandSubGraph=function(){var t=this.g;if(null!==t&&!t.eh){t.eh=!0;var e=this.dp();Ia(this,e,t.Sa,this),t.eh=!1}},Uh.defineProperty(Na,{ee:"isSubGraphExpanded"},function(){return this.gr},function(t){var e=this.gr;if(e!==t){Uh.j(t,"boolean",Na,"isSubGraphExpanded"),this.gr=t;var i=this.g;if(this.h("isSubGraphExpanded",e,t),e=this.tJ,null!==e){var n=!0;null!==i&&(n=i.Ra,i.Ra=!0),e(this),null!==i&&(i.Ra=n)}null!==i&&i.ma.lb?null!==this.Ib&&this.Ib.Q():t?this.expandSubGraph():this.collapseSubGraph()}}),Uh.defineProperty(Na,{WA:"wasSubGraphExpanded"},function(){return this.Ps
},function(t){var e=this.Ps;e!==t&&(Uh.j(t,"boolean",Na,"wasSubGraphExpanded"),this.Ps=t,this.h("wasSubGraphExpanded",e,t))}),Uh.defineProperty(Na,{tJ:"subGraphExpandedChanged"},function(){return this.Es},function(t){var e=this.Es;e!==t&&(null!==t&&Uh.j(t,"function",Na,"subGraphExpandedChanged"),this.Es=t,this.h("subGraphExpandedChanged",e,t))}),Na.prototype.move=function(t){var e=this.position,i=e.x;isNaN(i)&&(i=0),e=e.y,isNaN(e)&&(e=0);var i=t.x-i,e=t.y-e,n=Uh.Sb(i,e);for(js.prototype.move.call(this,t),t=this.dp().i;t.next();){var r=t.value;if(!(r instanceof Ws||r instanceof js&&r.wf)){var o=r.position,s=r.location;o.K()?(n.x=o.x+i,n.y=o.y+e,r.position=n):s.K()&&(n.x=s.x+i,n.y=s.y+e,r.location=n)}}for(t.reset();t.next();)r=t.value,r instanceof Ws&&(o=r.position,n.x=o.x+i,n.y=o.y+e,r.move(n));Uh.v(n)},Uh.Ja(La,Er),Uh.ea("Placeholder",La),La.prototype.cloneProtected=function(t){Er.prototype.cloneProtected.call(this,t),t.We=this.We.S(),t.ms=this.ms.copy()},La.prototype.Yj=function(t){if(null===this.background&&null===this.Im)return!1;var e=this.Ia;return Xh(0,0,e.width,e.height,t.x,t.y)},La.prototype.vp=function(){var t=this.aa;if(null!==t&&(t instanceof Na||t instanceof _s)||Uh.k("Placeholder is not inside a Group or Adornment."),t instanceof Na){var e=this.computeBorder(this.ms),i=this.Qc;$(i,e.width||0,e.height||0),Or(this,0,0,i.width,i.height);for(var i=t.Ic,n=!1;i.next();)if(i.value.isVisible()){n=!0;break}!n||isNaN(e.x)||isNaN(e.y)||(i=new b,i.iu(e,t.gf),t.location=new b(i.x,i.y))}else{var e=this.ya,i=this.Qc,n=this.padding,r=n.left+n.right,o=n.top+n.bottom;if(e.K())$(i,e.width+r||0,e.height+o||0),Or(this,-n.left,-n.top,i.width,i.height);else{var s=t.gc,a=s.$a(eu,Uh.M()),e=Uh.lk(a.x,a.y,0,0);e.gj(s.$a(hu,a)),e.gj(s.$a(nu,a)),e.gj(s.$a(au,a)),t.Mh.m(e.x,e.y),$(i,e.width+r||0,e.height+o||0),Or(this,-n.left,-n.top,i.width,i.height),Uh.v(a),Uh.ic(e)}}},La.prototype.Ri=function(t,e,i,n){var r=this.Y;r.x=t,r.y=e,r.width=i,r.height=n},La.prototype.computeBorder=function(t){var e=this.aa;if(e instanceof Na){var i=e;if(i.SD&&this.ms.K()){var n=i.g;if(null!==n&&(n=n.Za,n instanceof je&&!n.Lq&&null!==n.ac&&!n.ac.contains(i)))return t.assign(this.ms),t}}var i=Uh.ag(),n=this.computeMemberBounds(i),r=this.padding;return t.m(n.x-r.left,n.y-r.top,n.width+r.left+r.right,n.height+r.top+r.bottom),Uh.ic(i),e instanceof Na&&(i=e,i.cH&&i.location.K()&&t.gj(i.location)),t},La.prototype.computeMemberBounds=function(t){if(!(this.aa instanceof Na))return t.m(0,0,0,0),t;for(var e=this.aa,i=1/0,n=1/0,r=-1/0,o=-1/0,s=e.Ic;s.next();){var a=s.value;if(a.isVisible()){if(a instanceof Ws){var l=a;if(!e.Iw)continue;if(eo(l))continue;if(l.V===e||l.ba===e)continue}a=a.Y,a.left<i&&(i=a.left),a.top<n&&(n=a.top),a.right>r&&(r=a.right),a.bottom>o&&(o=a.bottom)}}return isFinite(i)&&isFinite(n)?t.m(i,n,r-i,o-n):(e=e.location,i=this.padding,t.m(e.x+i.left,e.y+i.top,0,0)),t},Uh.defineProperty(La,{padding:"padding"},function(){return this.We},function(t){"number"==typeof t?((isNaN(t)||0>t)&&Uh.wa(t,">= 0",La,"padding"),t=new D(t)):(Uh.A(t,D,La,"padding"),(isNaN(t.left)||0>t.left)&&Uh.wa(t.left,">= 0",La,"padding:value.left"),(isNaN(t.right)||0>t.right)&&Uh.wa(t.right,">= 0",La,"padding:value.right"),(isNaN(t.top)||0>t.top)&&Uh.wa(t.top,">= 0",La,"padding:value.top"),(isNaN(t.bottom)||0>t.bottom)&&Uh.wa(t.bottom,">= 0",La,"padding:value.bottom"));var e=this.We;e.L(t)||(this.We=t=t.S(),this.h("padding",e,t))}),Uh.ea("Layout",Fa),Fa.prototype.cloneProtected=function(t){t.dr=this.dr,t.vj=this.vj,t.lr=this.lr,t.gq.assign(this.gq),t.fr=this.fr,t.er=this.er,t.RB=this.RB,this.vj||(t.eo=!0)},Fa.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Fa.prototype.toString=function(){var t=Uh.df(Object.getPrototypeOf(this)),t=t+"(";return null!==this.group&&(t+=" in "+this.group),null!==this.g&&(t+=" for "+this.g),t+")"},Uh.defineProperty(Fa,{g:"diagram"},function(){return this.U},function(t){null!==t&&Uh.A(t,Qi,Fa,"diagram"),this.U=t}),Uh.defineProperty(Fa,{group:"group"},function(){return this.Ky},function(t){this.Ky!==t&&(null!==t&&Uh.A(t,Na,Fa,"group"),this.Ky=t,null!==t&&(this.U=t.g))}),Uh.defineProperty(Fa,{hI:"isOngoing"},function(){return this.dr},function(t){this.dr!==t&&(Uh.j(t,"boolean",Fa,"isOngoing"),this.dr=t)}),Uh.defineProperty(Fa,{HE:"isInitial"},function(){return this.vj},function(t){Uh.j(t,"boolean",Fa,"isInitial"),this.vj=t,t||(this.eo=!0)}),Uh.defineProperty(Fa,{hx:"isViewportSized"},function(){return this.lr},function(t){this.lr!==t&&(Uh.j(t,"boolean",Fa,"isViewportSized"),(this.lr=t)&&this.H())}),Uh.defineProperty(Fa,{Ht:"isRouting"},function(){return this.fr},function(t){this.fr!==t&&(Uh.j(t,"boolean",Fa,"isRouting"),this.fr=t)}),Uh.defineProperty(Fa,{JE:"isRealtime"},function(){return this.er},function(t){this.er!==t&&(Uh.j(t,"boolean",Fa,"isRealtime"),this.er=t)}),Uh.defineProperty(Fa,{yf:"isValidLayout"},function(){return this.eo},function(t){this.eo!==t&&(Uh.j(t,"boolean",Fa,"isValidLayout"),this.eo=t,t||(t=this.g,null!==t&&(t.Iu=!0)))}),Fa.prototype.invalidateLayout=Fa.prototype.H=function(){if(this.eo){var t=this.g;if(null!==t&&!t.ma.lb){var e=t.Sa;!e.co&&(e.vf&&e.di(),this.hI&&t.bn||this.HE&&!t.bn)&&(this.yf=!1,t.ve())}}},Uh.defineProperty(Fa,{network:"network"},function(){return this.$y},function(t){var e=this.$y;e!==t&&(null!==t&&Uh.A(t,qa,Fa,"network"),null!==e&&(e.Qb=null),this.$y=t,null!==t&&(t.Qb=this))}),Fa.prototype.createNetwork=function(){return new qa},Fa.prototype.makeNetwork=function(t){var e=this.createNetwork();return e.Qb=this,t instanceof Qi?(e.Vj(t.Bg,!0),e.Vj(t.links,!0)):e.Vj(t instanceof Na?t.Ic:t.i),e},Fa.prototype.updateParts=function(){var t=this.g;if(null===t&&null!==this.network)for(var e=this.network.vertexes.i;e.next();){var i=e.value.Jc;if(null!==i&&(t=i.g,null!==t))break}this.yf=!0;try{null!==t&&t.Rb("Layout"),this.commitLayout()}finally{null!==t&&t.Ad("Layout")}},Fa.prototype.commitLayout=function(){for(var t=this.network.vertexes.i;t.next();)t.value.commit();if(this.Ht)for(t=this.network.edges.i;t.next();)t.value.commit()},Fa.prototype.doLayout=function(t){null===t&&Uh.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");var e=new f(fs);t instanceof Qi?(za(this,e,t.Bg,!0,this.lA,!0,!1,!0),za(this,e,t.ik,!0,this.lA,!0,!1,!0)):t instanceof Na?za(this,e,t.Ic,!1,this.lA,!0,!1,!0):e.Tc(t.i);var i=e.count;if(i>0){t=this.g,null!==t&&t.Rb("Layout");for(var i=Math.ceil(Math.sqrt(i)),n=this.Xd.x,r=n,o=this.Xd.y,s=0,a=0,e=e.i;e.next();){var l=e.value;l.sf();var h=l.Ca,u=h.width,h=h.height;l.moveTo(r,o),l.Zy=!1,r+=Math.max(u,50)+20,a=Math.max(a,Math.max(h,50)),s>=i-1?(s=0,r=n,o+=a+20,a=0):s++}null!==t&&t.Ad("Layout")}this.yf=!0},Fa.prototype.lA=function(t){return!t.location.K()||t instanceof Na&&t.Zy?!0:!1},Fa.prototype.collectParts=Fa.prototype.XG=function(t){var e=new f(fs);return t instanceof Qi?(za(this,e,t.Bg,!0,null,!0,!0,!0),za(this,e,t.links,!0,null,!0,!0,!0),za(this,e,t.ik,!0,null,!0,!0,!0)):t instanceof Na?za(this,e,t.Ic,!1,null,!0,!0,!0):za(this,e,t.i,!1,null,!0,!0,!0),e},Uh.defineProperty(Fa,{Xd:"arrangementOrigin"},function(){return this.gq},function(t){Uh.A(t,b,Fa,"arrangementOrigin"),this.gq.L(t)||(this.gq.assign(t),this.H())}),Fa.prototype.initialOrigin=function(t){var e=this.group;if(null!==e){var i=e.position.copy();return(isNaN(i.x)||isNaN(i.y))&&i.set(t),e=e.placeholder,null!==e&&(i=e.$a(eu),(isNaN(i.x)||isNaN(i.y))&&i.set(t),i.x+=e.padding.left,i.y+=e.padding.top),i}return t},Uh.ea("LayoutNetwork",qa),qa.prototype.clear=function(){if(this.vertexes)for(var t=this.vertexes.i;t.next();){var e=t.value;e.clear(),e.network=null}if(this.edges)for(t=this.edges.i;t.next();)e=t.value,e.clear(),e.network=null;this.vertexes=new f(Ua),this.edges=new f(Ga),this.pA=new y(js,Ua),this.bA=new y(Ws,Ga)},qa.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutNetwork"+(null!==this.Qb?"("+this.Qb.toString()+")":"");if(0>=t)return e;if(e+=" vertexes: "+this.vertexes.count+" edges: "+this.edges.count,t>1){for(var i=this.vertexes.i;i.next();)e+="\n    "+i.value.toString(t-1);for(i=this.edges.i;i.next();)e+="\n    "+i.value.toString(t-1)}return e},Uh.defineProperty(qa,{Qb:"layout"},function(){return this.Ud},function(t){this.Ud=t}),qa.prototype.createVertex=function(){return new Ua},qa.prototype.createEdge=function(){return new Ga},qa.prototype.addParts=qa.prototype.Vj=function(t,e,i){if(null!==t){for(void 0===e&&(e=!1),Uh.j(e,"boolean",qa,"addParts:toplevelonly"),void 0===i&&(i=null),null===i&&(i=function(t){if(t instanceof js)return!t.wf;if(t instanceof Ws){var e=t.V;return null===e||e.wf?!1:(t=t.ba,null===t||t.wf?!1:!0)}return!1}),t=t.i;t.next();){var n=t.value;if(n instanceof js&&(!e||n.np)&&n.canLayout()&&i(n))if(n instanceof Na&&null===n.Qb)this.Vj(n.Ic,!1);else if(null===this.Wm(n)){var r=this.createVertex();r.Jc=n,this.el(r)}}for(t.reset();t.next();)if(n=t.value,n instanceof Ws&&(!e||n.np)&&n.canLayout()&&i(n)&&null===this.Qw(n)){var o=n.V,r=n.ba;null!==o&&null!==r&&o!==r&&(o=this.findGroupVertex(o),r=this.findGroupVertex(r),null!==o&&null!==r&&this.tp(o,r,n))}}},qa.prototype.findGroupVertex=function(t){if(null===t)return null;var e=t.findVisibleNode();if(null===e)return null;if(t=this.Wm(e),null!==t)return t;for(e=e.Ua;null!==e;){if(t=this.Wm(e),null!==t)return t;e=e.Ua}return null},qa.prototype.addVertex=qa.prototype.el=function(t){if(null!==t){this.vertexes.add(t);var e=t.Jc;null!==e&&this.pA.add(e,t),t.network=this}},qa.prototype.addNode=qa.prototype.Ws=function(t){if(null===t)return null;var e=this.Wm(t);return null===e&&(e=this.createVertex(),e.Jc=t,this.el(e)),e},qa.prototype.deleteVertex=qa.prototype.cE=function(t){if(null!==t&&Ra(this,t)){for(var e=t.Se,i=e.count-1;i>=0;i--){var n=e.ha(i);this.$o(n)}for(e=t.Ne,i=e.count-1;i>=0;i--)n=e.ha(i),this.$o(n)}},qa.prototype.deleteNode=function(t){null!==t&&(t=this.Wm(t),null!==t&&this.cE(t))},qa.prototype.findVertex=qa.prototype.Wm=function(t){return null===t?null:this.pA.ka(t)},qa.prototype.addEdge=qa.prototype.Po=function(t){if(null!==t){this.edges.add(t);var e=t.link;null!==e&&null===this.Qw(e)&&this.bA.add(e,t),e=t.toVertex,null!==e&&e.BD(t),e=t.fromVertex,null!==e&&e.AD(t),t.network=this}},qa.prototype.addLink=function(t){if(null===t)return null;var e=t.V,i=t.ba,n=this.Qw(t);return null===n?(n=this.createEdge(),n.link=t,null!==e&&(n.fromVertex=this.Ws(e)),null!==i&&(n.toVertex=this.Ws(i)),this.Po(n)):(n.fromVertex=null!==e?this.Ws(e):null,n.toVertex=null!==i?this.Ws(i):null),n},qa.prototype.deleteEdge=qa.prototype.$o=function(t){if(null!==t){var e=t.toVertex;null!==e&&e.bE(t),e=t.fromVertex,null!==e&&e.aE(t),Ha(this,t)}},qa.prototype.deleteLink=function(t){null!==t&&(t=this.Qw(t),null!==t&&this.$o(t))},qa.prototype.findEdge=qa.prototype.Qw=function(t){return null===t?null:this.bA.ka(t)},qa.prototype.linkVertexes=qa.prototype.tp=function(t,e,i){if(null===t||null===e)return null;if(t.network===this&&e.network===this){var n=this.createEdge();return n.link=i,n.fromVertex=t,n.toVertex=e,this.Po(n),n}return null},qa.prototype.reverseEdge=qa.prototype.Bx=function(t){if(null!==t){var e=t.fromVertex,i=t.toVertex;null!==e&&null!==i&&(e.aE(t),i.bE(t),t.Bx(),e.BD(t),i.AD(t))}},qa.prototype.deleteSelfEdges=qa.prototype.Mw=function(){for(var t=Uh.mb(),e=this.edges.i;e.next();){var i=e.value;i.fromVertex===i.toVertex&&t.push(i)}for(e=t.length,i=0;e>i;i++)this.$o(t[i]);Uh.ta(t)},qa.prototype.deleteArtificialVertexes=function(){for(var t=Uh.mb(),e=this.vertexes.i;e.next();){var i=e.value;null===i.Jc&&t.push(i)}for(i=t.length,e=0;i>e;e++)this.cE(t[e]);for(i=Uh.mb(),e=this.edges.i;e.next();){var n=e.value;null===n.link&&i.push(n)}for(n=i.length,e=0;n>e;e++)this.$o(i[e]);Uh.ta(t),Uh.ta(i)},qa.prototype.splitIntoSubNetworks=qa.prototype.sJ=function(){this.deleteArtificialVertexes(),Ba(this),this.Mw();for(var t=new u(qa),e=!0;e;)for(var e=!1,i=this.vertexes.i;i.next();){var n=i.value;if(0<n.Se.count||0<n.Ne.count){e=this.Qb.createNetwork(),t.add(e),Va(this,e,n),e=!0;break}}return t.sort(function(t,e){return null===t||null===e||t===e?0:e.vertexes.count-t.vertexes.count}),t},qa.prototype.findAllParts=function(){for(var t=new f(fs),e=this.vertexes.i;e.next();)t.add(e.value.Jc);for(e=this.edges.i;e.next();)t.add(e.value.link);return t},Uh.ea("LayoutVertex",Ua),Ua.prototype.clear=function(){this.ud=this.je=null,this.Se=new u(Ga),this.Ne=new u(Ga)},Ua.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutVertex#"+Uh.pd(this);if(t>0&&(e+=null!==this.Jc?"("+this.Jc.toString()+")":"",t>1)){t="";for(var i=!0,n=this.Se.i;n.next();){var r=n.value;i?i=!1:t+=",",t+=r.toString(0)}for(r="",i=!0,n=this.Ne.i;n.next();){var o=n.value;i?i=!1:r+=",",r+=o.toString(0)}e+=" sources: "+t+" destinations: "+r}return e},Uh.defineProperty(Ua,{data:"data"},function(){return this.je},function(t){if(this.je=t,null!==t){var e=t.bounds;t=e.x;var i=e.y,n=e.width,e=e.height;this.O.m(n/2,e/2),this.N.m(t,i,n,e)}}),Uh.defineProperty(Ua,{Jc:"node"},function(){return this.ud},function(t){if(this.ud!==t){this.ud=t,t.sf();var e=t.Y,i=e.x,n=e.y,r=e.width,e=e.height;if(isNaN(i)&&(i=0),isNaN(n)&&(n=0),this.N.m(i,n,r,e),!(t instanceof Na)&&(t=t.bc.$a(ou),t.K()))return void this.O.m(t.x-i,t.y-n);this.O.m(r/2,e/2)}}),Uh.defineProperty(Ua,{ob:"bounds"},function(){return this.N},function(t){this.N.L(t)||this.N.assign(t)}),Uh.defineProperty(Ua,{focus:"focus"},function(){return this.O},function(t){this.O.L(t)||this.O.assign(t)}),Uh.defineProperty(Ua,{oa:"centerX"},function(){return this.N.x+this.O.x},function(t){var e=this.N;e.x+this.O.x!==t&&(e.Oa(),e.x=t-this.O.x,e.freeze())}),Uh.defineProperty(Ua,{va:"centerY"},function(){return this.N.y+this.O.y},function(t){var e=this.N;e.y+this.O.y!==t&&(e.Oa(),e.y=t-this.O.y,e.freeze())}),Uh.defineProperty(Ua,{tt:"focusX"},function(){return this.O.x},function(t){var e=this.O;e.x!==t&&(e.Oa(),e.x=t,e.freeze())}),Uh.defineProperty(Ua,{ut:"focusY"},function(){return this.O.y},function(t){var e=this.O;e.y!==t&&(e.Oa(),e.y=t,e.freeze())}),Uh.defineProperty(Ua,{x:"x"},function(){return this.N.x},function(t){var e=this.N;e.x!==t&&(e.Oa(),e.x=t,e.freeze())}),Uh.defineProperty(Ua,{y:"y"},function(){return this.N.y},function(t){var e=this.N;e.y!==t&&(e.Oa(),e.y=t,e.freeze())}),Uh.defineProperty(Ua,{width:"width"},function(){return this.N.width},function(t){var e=this.N;e.width!==t&&(e.Oa(),e.width=t,e.freeze())}),Uh.defineProperty(Ua,{height:"height"},function(){return this.N.height},function(t){var e=this.N;e.height!==t&&(e.Oa(),e.height=t,e.freeze())}),Ua.prototype.commit=function(){var t=this.je;if(null!==t){var e=this.ob,i=t.bounds;Uh.Va(i)?(i.x=e.x,i.y=e.y,i.width=e.width,i.height=e.height):t.bounds=e.copy()}else if(t=this.Jc,null!==t){if(e=this.ob,!(t instanceof Na)){var i=t.Y,n=t.bc.$a(ou);if(i.K()&&n.K())return void t.moveTo(e.x+this.tt-(n.x-i.x),e.y+this.ut-(n.y-i.y))}t.moveTo(e.x,e.y)}},Ua.prototype.addSourceEdge=Ua.prototype.BD=function(t){null!==t&&(this.Se.contains(t)||this.Se.add(t))},Ua.prototype.deleteSourceEdge=Ua.prototype.bE=function(t){null!==t&&this.Se.remove(t)},Ua.prototype.addDestinationEdge=Ua.prototype.AD=function(t){null!==t&&(this.Ne.contains(t)||this.Ne.add(t))},Ua.prototype.deleteDestinationEdge=Ua.prototype.aE=function(t){null!==t&&this.Ne.remove(t)},Uh.u(Ua,{rJ:"sourceVertexes"},function(){for(var t=new f(Ua),e=this.lc;e.next();)t.add(e.value.fromVertex);return t.i}),Uh.u(Ua,{rH:"destinationVertexes"},function(){for(var t=new f(Ua),e=this.$b;e.next();)t.add(e.value.toVertex);return t.i}),Uh.u(Ua,{vertexes:"vertexes"},function(){for(var t=new f(Ua),e=this.lc;e.next();)t.add(e.value.fromVertex);for(e=this.$b;e.next();)t.add(e.value.toVertex);return t.i}),Uh.u(Ua,{lc:"sourceEdges"},function(){return this.Se.i}),Uh.u(Ua,{$b:"destinationEdges"},function(){return this.Ne.i}),Uh.u(Ua,{edges:"edges"},function(){for(var t=new u(Ga),e=this.lc;e.next();)t.add(e.value);for(e=this.$b;e.next();)t.add(e.value);return t.i}),Uh.u(Ua,{xH:"edgesCount"},function(){return this.Se.count+this.Ne.count});var dd;Ua.standardComparer=dd=function(t,e){var i=t.ud,n=e.ud;return i?n?(i=i.text,n=n.text,n>i?-1:i>n?1:0):1:null!==n?-1:0},Ua.smartComparer=function(t,e){if(null!==t){if(null!==e){var i=t.ud,n=e.ud;if(null!==i){if(null!==n){for(var i=i.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),n=n.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),r=0;r<i.length;r++)if(""!==n[r]&&void 0!==n[r]){var o=parseFloat(i[r]),s=parseFloat(n[r]);if(isNaN(o)){if(!isNaN(s))return 1;if(0!==i[r].localeCompare(n[r]))return i[r].localeCompare(n[r])}else{if(isNaN(s))return-1;if(0!==o-s)return o-s}}else if(""!==i[r])return 1;return""!==n[r]&&void 0!==n[r]?-1:0}return 1}return null!==n?-1:0}return 1}return null!==e?-1:0},Uh.ea("LayoutEdge",Ga),Ga.prototype.clear=function(){this.toVertex=this.fromVertex=this.link=this.data=null},Ga.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutEdge#"+Uh.pd(this);return t>0&&(e+=null!==this.link?"("+this.link.toString()+")":"",t>1&&(e+=" "+(this.fromVertex?this.fromVertex.toString():"null")+" --> "+(this.toVertex?this.toVertex.toString():"null"))),e},Ga.prototype.Bx=function(){var t=this.fromVertex;this.fromVertex=this.toVertex,this.toVertex=t},Ga.prototype.commit=function(){},Ga.prototype.getOtherVertex=Ga.prototype.JH=function(t){return this.toVertex===t?this.fromVertex:this.fromVertex===t?this.toVertex:null},Uh.Ja(Wa,Fa),Uh.ea("GridLayout",Wa),Wa.prototype.cloneProtected=function(t){Fa.prototype.cloneProtected.call(this,t),t.Ss=this.Ss,t.Rs=this.Rs,t.kj.assign(this.kj),t.Uh.assign(this.Uh),t.De=this.De,t.jd=this.jd,t.Th=this.Th,t.zh=this.zh},Wa.prototype.doLayout=function(t){null===t&&Uh.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),this.Xd=this.initialOrigin(this.Xd);var e=this.g;t=this.XG(t);for(var i=t.copy().i;i.next();){var n=i.value;if(n instanceof Ws){var r=n;if(null!==r.V||null!==r.ba){t.remove(r);continue}}if(n.sf(),n instanceof Na)for(n=n.Ic;n.next();)t.remove(n.value)}if(r=t.dc(),0!==r.length){switch(this.sorting){case xd:r.reverse();break;case wd:r.sort(this.comparer);break;case kd:r.sort(this.comparer),r.reverse()}var o=this.IJ;isNaN(o)&&(o=0);var s=this.VF,s=isNaN(s)&&null!==e?Math.max(e.tb.width-e.padding.left-e.padding.right,0):Math.max(this.VF,0);switch(0>=o&&0>=s&&(o=1),t=this.spacing.width,isFinite(t)||(t=0),i=this.spacing.height,isFinite(i)||(i=0),null!==e&&e.Rb("Layout"),n=[],this.alignment){case gd:var a=t,l=i,h=Math.max(this.Uo.width,1);if(!isFinite(h))for(var u=h=0;u<r.length;u++)var c=r[u],f=c.Ca,h=Math.max(h,f.width);var h=Math.max(h+a,1),d=Math.max(this.Uo.height,1);if(!isFinite(d))for(u=d=0;u<r.length;u++)c=r[u],f=c.Ca,d=Math.max(d,f.height);for(var d=Math.max(d+l,1),p=this.Nf,g=this.Xd.x,v=g,m=this.Xd.y,y=0,x=0,u=0;u<r.length;u++){var c=r[u],f=c.Ca,w=Math.ceil((f.width+a)/h)*h,k=Math.ceil((f.height+l)/d)*d,$=0;switch(p){case yd:$=Math.abs(v-f.width);break;default:$=v+f.width}switch((o>0&&y>o-1||s>0&&y>0&&$>s)&&(n.push(new T(0,m,s+a,x)),y=0,v=g,m+=x,x=0),x=Math.max(x,k),k=0,p){case yd:k=-f.width;break;default:k=0}switch(c.moveTo(v+k,m),p){case yd:v-=w;break;default:v+=w}y++}n.push(new T(0,m,s+a,x));break;case vd:for(a=o,l=t,h=i,u=Math.max(this.Uo.width,1),c=m=w=0,f=Uh.M(),o=0;o<r.length;o++)d=r[o],p=d.Ca,g=ms(d,d.bc,d.gf,f),w=Math.max(w,g.x),m=Math.max(m,p.width-g.x),c=Math.max(c,g.y);switch(v=this.Nf){case yd:w+=l;break;default:m+=l}var u=isFinite(u)?Math.max(u+l,1):Math.max(w+m,1),C=m=this.Xd.x,y=this.Xd.y,x=0;s>=w&&(s-=w);for(var w=k=0,$=Math.max(this.Uo.height,1),M=c=0,S=!0,P=Uh.M(),o=0;o<r.length;o++){if(d=r[o],p=d.Ca,g=ms(d,d.bc,d.gf,f),x>0)switch(v){case yd:C=(C-m-(p.width-g.x))/u,C=_u.Qa(Math.round(C),C)?Math.round(C):Math.floor(C),C=C*u+m;break;default:C=(C-m+g.x)/u,C=_u.Qa(Math.round(C),C)?Math.round(C):Math.ceil(C),C=C*u+m}else switch(v){case yd:k=C+g.x+p.width;break;default:k=C-g.x}var D=0;switch(v){case yd:D=-(C+g.x)+k;break;default:D=C+p.width-g.x-k}if(a>0&&x>a-1||s>0&&x>0&&D>s){for(n.push(new T(0,S?y-c:y,s+l,M+c+h)),C=0;x>C&&o!==x;C++){var D=r[o-x+C],A=ms(D,D.bc,D.gf,P);D.moveTo(D.position.x,D.position.y+c-A.y)}M+=h,y=S?y+M:y+(M+c),x=M=c=0,C=m,S=!1}switch(C===m&&(w=v===yd?Math.max(w,p.width-g.x):Math.min(w,-g.x)),c=Math.max(c,g.y),M=Math.max(M,p.height-g.y),isFinite($)&&(M=Math.max(M,Math.max(p.height,$)-g.y)),S?d.moveTo(C-g.x,y-g.y):d.moveTo(C-g.x,y),v){case yd:C-=g.x+l;break;default:C+=p.width-g.x+l}x++}for(n.push(new T(0,y,s+l,(S?M:M+c)+h)),C=0;x>C&&o!==x;C++)D=r[o-x+C],A=ms(D,D.bc,D.gf,f),D.moveTo(D.position.x,D.position.y+c-A.y);if(Uh.v(f),Uh.v(P),v===yd)for(o=0;o<n.length;o++)r=n[o],r.width+=w,r.x-=w;else for(o=0;o<n.length;o++)r=n[o],r.x>w&&(r.width+=r.x-w,r.x=w)}for(a=o=s=r=0;a<n.length;a++)l=n[a],r=Math.min(r,l.x),s=Math.min(s,l.y),o=Math.max(o,l.x+l.width);this.Nf===yd?this.commitLayers(n,new b(r+t/2-(o+r),s-i/2)):this.commitLayers(n,new b(r-t/2,s-i/2)),null!==e&&e.Ad("Layout"),this.yf=!0}},Wa.prototype.commitLayers=function(){},Uh.defineProperty(Wa,{VF:"wrappingWidth"},function(){return this.Ss},function(t){this.Ss!==t&&(Uh.j(t,"number",Wa,"wrappingWidth"),t>0||isNaN(t))&&(this.Ss=t,this.hx=isNaN(t),this.H())}),Uh.defineProperty(Wa,{IJ:"wrappingColumn"},function(){return this.Rs},function(t){this.Rs!==t&&(Uh.j(t,"number",Wa,"wrappingColumn"),t>0||isNaN(t))&&(this.Rs=t,this.H())}),Uh.defineProperty(Wa,{Uo:"cellSize"},function(){return this.kj},function(t){Uh.A(t,k,Wa,"cellSize"),this.kj.L(t)||(this.kj.assign(t),this.H())}),Uh.defineProperty(Wa,{spacing:"spacing"},function(){return this.Uh},function(t){Uh.A(t,k,Wa,"spacing"),this.Uh.L(t)||(this.Uh.assign(t),this.H())}),Uh.defineProperty(Wa,{alignment:"alignment"},function(){return this.De},function(t){this.De!==t&&(Uh.rb(t,Wa,Wa,"alignment"),t===vd||t===gd)&&(this.De=t,this.H())}),Uh.defineProperty(Wa,{Nf:"arrangement"},function(){return this.jd},function(t){this.jd!==t&&(Uh.rb(t,Wa,Wa,"arrangement"),t===md||t===yd)&&(this.jd=t,this.H())}),Uh.defineProperty(Wa,{sorting:"sorting"},function(){return this.Th},function(t){this.Th!==t&&(Uh.rb(t,Wa,Wa,"sorting"),t===bd||t===xd||t===wd||t===kd)&&(this.Th=t,this.H())}),Uh.defineProperty(Wa,{comparer:"comparer"},function(){return this.zh},function(t){this.zh!==t&&(Uh.j(t,"function",Wa,"comparer"),this.zh=t,this.H())});var pd;Wa.standardComparer=pd=function(t,e){var i=t.text,n=e.text;return n>i?-1:i>n?1:0},Wa.smartComparer=function(t,e){if(null!==t){if(null!==e){for(var i=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),n=e.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),r=0;r<i.length;r++)if(""!==n[r]&&void 0!==n[r]){var o=parseFloat(i[r]),s=parseFloat(n[r]);if(isNaN(o)){if(!isNaN(s))return 1;if(0!==i[r].localeCompare(n[r]))return i[r].localeCompare(n[r])}else{if(isNaN(s))return-1;if(0!==o-s)return o-s}}else if(""!==i[r])return 1;return""!==n[r]&&void 0!==n[r]?-1:0}return 1}return null!==e?-1:0};var gd;Wa.Position=gd=Uh.p(Wa,"Position",0);var vd;Wa.Location=vd=Uh.p(Wa,"Location",1);var md;Wa.LeftToRight=md=Uh.p(Wa,"LeftToRight",2);var yd;Wa.RightToLeft=yd=Uh.p(Wa,"RightToLeft",3);var bd;Wa.Forward=bd=Uh.p(Wa,"Forward",4);var xd;Wa.Reverse=xd=Uh.p(Wa,"Reverse",5);var wd;Wa.Ascending=wd=Uh.p(Wa,"Ascending",6);var kd;Wa.Descending=kd=Uh.p(Wa,"Descending",7),Uh.Ja(Ka,Fa),Uh.ea("CircularLayout",Ka),Ka.prototype.cloneProtected=function(t){Fa.prototype.cloneProtected.call(this,t),t.Zr=this.Zr,t.iq=this.iq,t.Ds=this.Ds,t.Fs=this.Fs,t.jd=this.jd,t.ca=this.ca,t.Th=this.Th,t.zh=this.zh,t.Uh=this.Uh,t.Pr=this.Pr},Ka.prototype.createNetwork=function(){return new al},Ka.prototype.doLayout=function(t){if(null===t&&Uh.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),t=this.network.vertexes,1>=t.count)1===t.count&&(t=t.first(),t.oa=0,t.va=0);else{var e=new u(ll);e.Tc(t.i),t=new u(ll);var i,n=new u(ll);i=this.sort(e);var r=this.Ay,o=this.YB,s=this.Jd,a=this.Qn,l=this.By,h=this.Mq,e=this.Ek,c=this.pD,f=this.qg,d=this.Ru,r=this.Nf,o=this.ox,s=this.SI;if((!isFinite(s)||0>=s)&&(s=0/0),a=this.PG,(!isFinite(a)||0>=a)&&(a=1),l=this.ye,isFinite(l)||(l=0),h=this.Bf,(!isFinite(h)||h>360||1>h)&&(h=360),e=this.spacing,isFinite(e)||(e=0/0),r===Md&&o===Ld?r=Td:r===Md&&o!==Ld&&(o=Ld,r=this.Nf),(this.direction===Dd||this.direction===Ad)&&this.sorting!==Od){for(var p=0;!(p>=i.length)&&(t.add(i.ha(p)),!(p+1>=i.length));p+=2)n.add(i.ha(p+1));this.direction===Dd?(this.Nf===Md&&t.reverse(),i=new u(ll),i.Tc(t),i.Tc(n)):(this.Nf===Md&&n.reverse(),i=new u(ll),i.Tc(n),i.Tc(t))}for(var g=i.length,v=c=0,p=0;p<i.length;p++){var f=l+h*v*(this.direction===Sd?1:-1)/g,m=i.ha(p).diameter;isNaN(m)&&(m=hl(i.ha(p),f)),360>h&&(0===p||p===i.length-1)&&(m/=2),c+=m,v++}if(isNaN(s)||r===Md){if(isNaN(e)&&(e=6),r!==Td&&r!==Md){for(m=-1/0,p=0;g>p;p++){var d=i.ha(p),y=i.ha(p===g-1?0:p+1);isNaN(d.diameter)&&hl(d,0),isNaN(y.diameter)&&hl(y,0),m=Math.max(m,(d.diameter+y.diameter)/2)}d=m+e,r===Cd?(f=2*Math.PI/g,s=(m+e)/f):s=rl(this,d*(h>=360?g:g-1),a,l*Math.PI/180,h*Math.PI/180)}else s=rl(this,c+(h>=360?g:g-1)*(r!==Md?e:1.6*e),a,l*Math.PI/180,h*Math.PI/180);f=s*a}else if(f=s*a,v=nl(this,s,f,l*Math.PI/180,h*Math.PI/180),isNaN(e))(r===Td||r===Md)&&(e=(v-c)/(h>=360?g:g-1));else if(r===Td||r===Md)p=(v-c)/(h>=360?g:g-1),e>p?(s=rl(this,c+e*(h>=360?g:g-1),a,l*Math.PI/180,h*Math.PI/180),f=s*a):e=p;else{for(m=-1/0,p=0;g>p;p++)d=i.ha(p),y=i.ha(p===g-1?0:p+1),isNaN(d.diameter)&&hl(d,0),isNaN(y.diameter)&&hl(y,0),m=Math.max(m,(d.diameter+y.diameter)/2);d=m+e,p=rl(this,d*(h>=360?g:g-1),a,l*Math.PI/180,h*Math.PI/180),p>s?(s=p,f=s*a):d=v/(h>=360?g:g-1)}if(this.Ay=r,this.YB=o,this.Jd=s,this.Qn=a,this.By=l,this.Mq=h,this.Ek=e,this.pD=c,this.qg=f,this.Ru=d,e=i,i=this.Ay,r=this.Jd,o=this.By,a=this.Mq,l=this.Ek,h=this.qg,c=this.Ru,this.direction!==Dd&&this.direction!==Ad||i!==Md)if(this.direction===Dd||this.direction===Ad){switch(s=0,i){case $d:s=180*ol(this,r,h,o,c)/Math.PI;break;case Td:c=e=0,s=t.first(),null!==s&&(e=hl(s,Math.PI/2)),s=n.first(),null!==s&&(c=hl(s,Math.PI/2)),s=180*ol(this,r,h,o,l+(e+c)/2)/Math.PI;break;case Cd:s=a/e.length}if(this.direction===Dd){switch(i){case $d:Xa(this,t,o,Pd);break;case Td:Ja(this,t,o,Pd);break;case Cd:Ya(this,t,a/2,o,Pd)}switch(i){case $d:Xa(this,n,o+s,Sd);break;case Td:Ja(this,n,o+s,Sd);break;case Cd:Ya(this,n,a/2,o+s,Sd)}}else{switch(i){case $d:Xa(this,n,o,Pd);break;case Td:Ja(this,n,o,Pd);break;case Cd:Ya(this,n,a/2,o,Pd)}switch(i){case $d:Xa(this,t,o+s,Sd);break;case Td:Ja(this,t,o+s,Sd);break;case Cd:Ya(this,t,a/2,o+s,Sd)}}}else switch(i){case $d:Xa(this,e,o,this.direction);break;case Td:Ja(this,e,o,this.direction);break;case Cd:Ya(this,e,a,o,this.direction);break;case Md:Qa(this,e,a,o,this.direction)}else Qa(this,e,a,o-a/2,Sd)}this.updateParts(),this.network=null,this.yf=!0},Ka.prototype.commitLayout=function(){this.commitNodes(),this.Ht&&this.commitLinks()},Ka.prototype.commitNodes=function(){for(var t=this.EG,e=this.network.vertexes.i;e.next();){var i=e.value;i.x+=t.x,i.y+=t.y,i.commit()}},Ka.prototype.commitLinks=function(){for(var t=this.network.edges.i;t.next();)t.value.commit()},Ka.prototype.sort=function(t){switch(this.sorting){case Ed:break;case Nd:t.reverse();break;case _d:t.sort(this.comparer);break;case jd:t.sort(this.comparer),t.reverse();break;case Od:for(var e=[],i=0;i<t.length;i++)e.push(0);for(var n=new u(ll),i=0;i<t.length;i++){var r=-1,o=-1;if(0===i)for(var s=0;s<t.length;s++){var a=t.ha(s).xH;a>r&&(r=a,o=s)}else for(s=0;s<t.length;s++)a=e[s],a>r&&(r=a,o=s);for(n.add(t.ha(o)),e[o]=-1,o=t.ha(o),r=0,s=o.lc;s.next();)r=t.indexOf(s.value.fromVertex),0>r||0<=e[r]&&e[r]++;for(o=o.$b;o.next();)r=t.indexOf(o.value.toVertex),0>r||0<=e[r]&&e[r]++}for(t=[],e=0;e<n.length;e++){s=n.ha(e),t[e]=[];for(var l=0,i=s.$b;i.next();)l=n.indexOf(i.value.toVertex),l!==e&&0>t[e].indexOf(l)&&t[e].push(l);for(i=s.lc;i.next();)l=n.indexOf(i.value.fromVertex),l!==e&&0>t[e].indexOf(l)&&t[e].push(l)}for(s=[],e=0;e<t.length;e++)s[e]=0;for(var i=[],a=[],h=[],r=[],o=new u(ll),c=0,e=0;e<t.length;e++){var f=t[e].length;if(1===f)r.push(e);else if(0===f)o.add(n.ha(e));else{if(0===c)i.push(e);else{for(var d=1/0,p=1/0,g=-1,v=[],f=0;f<i.length;f++)0>t[i[f]].indexOf(i[f===i.length-1?0:f+1])&&v.push(f===i.length-1?0:f+1);if(0===v.length)for(f=0;f<i.length;f++)v.push(f);for(f=0;f<v.length;f++){var m,y=v[f],l=t[e];m=a;for(var b=h,x=s,w=y,k=i,T=0,$=0;$<m.length;$++){var C=x[m[$]],M=x[b[$]],S=0,P=0;if(M>C?(S=C,P=M):(S=M,P=C),w>S&&P>=w)for(C=0;C<l.length;C++)M=l[C],0>k.indexOf(M)||S<x[M]&&x[M]<P||S===x[M]||P===x[M]||T++;else for(C=0;C<l.length;C++)M=l[C],0>k.indexOf(M)||S<x[M]&&x[M]<P&&S!==x[M]&&P!==x[M]&&T++}for(m=T,x=b=0;x<t[e].length;x++)l=i.indexOf(t[e][x]),l>=0&&(l=Math.abs(y-(l>=y?l+1:l)),b+=l<i.length+1-l?l:i.length+1-l);for(x=0;x<a.length;x++)l=s[a[x]],w=s[h[x]],l>=y&&l++,w>=y&&w++,l>w&&(k=w,w=l,l=k),w-l<(i.length+2)/2==(y>l&&w>=y)&&b++;(d>m||m===d&&p>b)&&(d=m,p=b,g=y)}for(i.splice(g,0,e),f=0;f<i.length;f++)s[i[f]]=f;for(f=0;f<t[e].length;f++)d=t[e][f],0<=i.indexOf(d)&&(a.push(e),h.push(d))}c++}}for(a=!1,h=i.length;;){for(a=!0,s=0;s<r.length;s++)if(e=r[s],c=t[e][0],l=i.indexOf(c),l>=0){for(p=f=0;p<t[c].length;p++)d=t[c][p],d=i.indexOf(d),0>d||d===l||(g=d>l?d-l:l-d,f+=l>d!=g>h-g?1:-1);i.splice(0>f?l:l+1,0,e),r.splice(s,1),s--}else a=!1;if(a)break;i.push(r[0]),r.splice(0,1)}for(e=0;e<i.length;e++)l=i[e],o.add(n.ha(l));return o;default:Uh.k("Invalid sorting type.")}return t},Uh.defineProperty(Ka,{SI:"radius"},function(){return this.Zr},function(t){this.Zr!==t&&(Uh.j(t,"number",Ka,"radius"),t>0||isNaN(t))&&(this.Zr=t,this.H())}),Uh.defineProperty(Ka,{PG:"aspectRatio"},function(){return this.iq},function(t){this.iq!==t&&(Uh.j(t,"number",Ka,"aspectRatio"),t>0&&(this.iq=t,this.H()))}),Uh.defineProperty(Ka,{ye:"startAngle"},function(){return this.Ds},function(t){this.Ds!==t&&(Uh.j(t,"number",Ka,"startAngle"),this.Ds=t,this.H())}),Uh.defineProperty(Ka,{Bf:"sweepAngle"},function(){return this.Fs},function(t){this.Fs!==t&&(Uh.j(t,"number",Ka,"sweepAngle"),this.Fs=t>0&&360>=t?t:360,this.H())}),Uh.defineProperty(Ka,{Nf:"arrangement"},function(){return this.jd},function(t){this.jd!==t&&(Uh.rb(t,Ka,Ka,"arrangement"),t===Md||t===Td||t===$d||t===Cd)&&(this.jd=t,this.H())}),Uh.defineProperty(Ka,{direction:"direction"},function(){return this.ca},function(t){this.ca!==t&&(Uh.rb(t,Ka,Ka,"direction"),t===Sd||t===Pd||t===Dd||t===Ad)&&(this.ca=t,this.H())}),Uh.defineProperty(Ka,{sorting:"sorting"},function(){return this.Th},function(t){this.Th!==t&&(Uh.rb(t,Ka,Ka,"sorting"),t===Ed||t===Nd||t===_d||jd||t===Od)&&(this.Th=t,this.H())}),Uh.defineProperty(Ka,{comparer:"comparer"},function(){return this.zh},function(t){this.zh!==t&&(Uh.j(t,"function",Ka,"comparer"),this.zh=t,this.H())}),Uh.defineProperty(Ka,{spacing:"spacing"},function(){return this.Uh},function(t){this.Uh!==t&&(Uh.j(t,"number",Ka,"spacing"),this.Uh=t,this.H())}),Uh.defineProperty(Ka,{ox:"nodeDiameterFormula"},function(){return this.Pr},function(t){this.Pr!==t&&(Uh.rb(t,Ka,Ka,"nodeDiameterFormula"),t===Id||t===Ld)&&(this.Pr=t,this.H())}),Uh.u(Ka,{FG:"actualXRadius"},function(){return this.Jd}),Uh.u(Ka,{GG:"actualYRadius"},function(){return this.qg}),Uh.u(Ka,{LJ:"actualSpacing"},function(){return this.Ek}),Uh.u(Ka,{EG:"actualCenter"},function(){return isNaN(this.Xd.x)||isNaN(this.Xd.y)?new b(0,0):new b(this.Xd.x+this.FG,this.Xd.y+this.GG)});var Td;Ka.ConstantSpacing=Td=Uh.p(Ka,"ConstantSpacing",0);var $d;Ka.ConstantDistance=$d=Uh.p(Ka,"ConstantDistance",1);var Cd;Ka.ConstantAngle=Cd=Uh.p(Ka,"ConstantAngle",2);var Md;Ka.Packed=Md=Uh.p(Ka,"Packed",3);var Sd;Ka.Clockwise=Sd=Uh.p(Ka,"Clockwise",4);var Pd;Ka.Counterclockwise=Pd=Uh.p(Ka,"Counterclockwise",5);var Dd;Ka.BidirectionalLeft=Dd=Uh.p(Ka,"BidirectionalLeft",6);var Ad;Ka.BidirectionalRight=Ad=Uh.p(Ka,"BidirectionalRight",7);var Ed;Ka.Forwards=Ed=Uh.p(Ka,"Forwards",8);var Nd;Ka.Reverse=Nd=Uh.p(Ka,"Reverse",9);
var _d;Ka.Ascending=_d=Uh.p(Ka,"Ascending",10);var jd;Ka.Descending=jd=Uh.p(Ka,"Descending",11);var Od;Ka.Optimized=Od=Uh.p(Ka,"Optimized",12);var Id;Ka.Pythagorean=Id=Uh.p(Ka,"Pythagorean",13);var Ld;Ka.Circular=Ld=Uh.p(Ka,"Circular",14),sl.prototype.compare=function(t,e){if(t>0&&0>this.fp||Math.abs(t)<Math.abs(this.fp)&&!(0>t&&0<this.fp)){this.fp=t,this.rn=[],this.Up=[];for(var i=0;i<e.length;i++)this.rn[i]=e[i].ob.x,this.Up[i]=e[i].ob.y}},sl.prototype.commit=function(t){if(null!==this.rn&&null!==this.Up)for(var e=0;e<this.rn.length;e++){var i=t.ha(e);i.x=this.rn[e],i.y=this.Up[e]}},Uh.Ja(al,qa),Uh.ea("CircularNetwork",al),al.prototype.createVertex=function(){return new ll},al.prototype.createEdge=function(){return new ul},Uh.Ja(ll,Ua),Uh.ea("CircularVertex",ll),Uh.Ja(ul,Ga),Uh.ea("CircularEdge",ul),Uh.Ja(cl,Fa),Uh.ea("ForceDirectedLayout",cl),cl.prototype.cloneProtected=function(t){Fa.prototype.cloneProtected.call(this,t),t.bg.assign(this.bg),t.hq=this.hq,t.Rh=this.Rh,t.yh=this.yh,t.oo=this.oo,t.Oq=this.Oq,t.Hh=this.Hh,t.$r=this.$r,t.Ln=this.Ln,t.Kn=this.Kn,t.Hn=this.Hn,t.Jn=this.Jn,t.Eq=this.Eq,t.Dq=this.Dq},cl.prototype.createNetwork=function(){return new kl},cl.prototype.doLayout=function(t){if(null===t&&Uh.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),t=this.fA,0<this.network.vertexes.count){this.network.Mw();for(var e=this.network.vertexes.i;e.next();){var i=e.value;i.charge=this.electricalCharge(i),i.mass=this.gravitationalMass(i)}for(e=this.network.edges.i;e.next();)i=e.value,i.stiffness=this.springStiffness(i),i.length=this.springLength(i);if(this.vz(),this.nr=0,this.needsClusterLayout()){for(e=this.network,i=e.sJ().i;i.next();){this.network=i.value;for(var n=this.network.vertexes.i;n.next();){var r=n.value;r.Zf=r.vertexes.count,r.hk=1,r.Mm=null,r.rh=null}fl(this,0,t)}this.network=e,i.reset();for(var n=this.GD,o=i.count,s=!0,a=r=0,l=Uh.mb(),h=0;h<o+e.vertexes.count+2;h++)l[h]=null;o=0,i.reset();for(var u=Uh.ag();i.next();)if(h=i.value,this.ah(h,u),s)s=!1,r=u.x+u.width/2,a=u.y+u.height/2,l[0]=new b(u.x+u.width+n.width,u.y),l[1]=new b(u.x,u.y+u.height+n.height),o=2;else{var c=ml(l,o,r,a,u.width,u.height,n),f=l[c],d=new b(f.x+u.width+n.width,f.y),p=new b(f.x,f.y+u.height+n.height);for(o>c+1&&l.splice(c+1,0,null),l[c]=d,l[c+1]=p,o++,c=f.x-u.x,f=f.y-u.y,h=h.vertexes.i;h.next();)d=h.value,d.oa+=c,d.va+=f}for(Uh.ic(u),h=e.vertexes.i;h.next();)s=h.value,u=s.ob,2>o?(r=u.x+u.width/2,a=u.y+u.height/2,l[0]=new b(u.x+u.width+n.width,u.y),l[1]=new b(u.x,u.y+u.height+n.height),o=2):(c=ml(l,o,r,a,u.width,u.height,n),f=l[c],d=new b(f.x+u.width+n.width,f.y),p=new b(f.x,f.y+u.height+n.height),o>c+1&&l.splice(c+1,0,null),l[c]=d,l[c+1]=p,o++,s.oa=f.x+s.width/2,s.va=f.y+s.height/2);for(Uh.ta(l),i.reset();i.next();){for(n=i.value,r=n.vertexes.i;r.next();)e.el(r.value);for(n=n.edges.i;n.next();)e.Po(n.value)}}bl(this,t),this.updateParts()}this.oo=t,this.network=null,this.yf=!0},cl.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var t=0,e=0,i=this.network.vertexes.first().ob,n=this.network.vertexes.i;n.next();){if(n.value.ob.xg(i)&&(t++,t>2))return!0;if(e>10)break;e++}return!1},cl.prototype.ah=function(t,e){for(var i=!0,n=t.vertexes.i;n.next();){var r=n.value;i?(i=!1,e.set(r.ob)):e.fi(r.ob)}return e},cl.prototype.vz=function(){if(this.comments)for(var t=this.network.vertexes.i;t.next();)this.addComments(t.value)},cl.prototype.addComments=function(t){var e=t.Jc;if(null!==e)for(e=e.jE();e.next();){var i=e.value;if("Comment"===i.Ec&&i.isVisible()){var n=this.network.Wm(i);null===n&&(n=this.network.Ws(i)),n.charge=this.mH;for(var i=null,r=n.$b;r.next();){var o=r.value;if(o.toVertex===t){i=o;break}}if(null===i)for(r=n.lc;r.next();)if(o=r.value,o.fromVertex===t){i=o;break}null===i&&(i=this.network.tp(t,n,null)),i.length=this.nH}}},cl.prototype.moveFixedVertex=function(){},cl.prototype.commitLayout=function(){this.IA(),this.commitNodes(),this.Ht&&this.commitLinks()},cl.prototype.IA=function(){if(this.Op)for(var t=this.network.edges.i;t.next();){var e=t.value.link;null!==e&&(e.Ab=tu,e.Bb=tu)}},cl.prototype.commitNodes=function(){var t=0,e=0;if(this.OG){var i=Uh.ag();this.ah(this.network,i),e=this.Xd,t=e.x-i.x,e=e.y-i.y,Uh.ic(i)}for(var i=Uh.ag(),n=this.network.vertexes.i;n.next();){var r=n.value;(0!==t||0!==e)&&(i.assign(r.ob),i.x+=t,i.y+=e,r.ob=i),r.commit()}Uh.ic(i)},cl.prototype.commitLinks=function(){for(var t=this.network.edges.i;t.next();)t.value.commit()},cl.prototype.springStiffness=function(t){return t=t.stiffness,isNaN(t)?this.Ln:t},cl.prototype.springLength=function(t){return t=t.length,isNaN(t)?this.Kn:t},cl.prototype.electricalCharge=function(t){return t=t.charge,isNaN(t)?this.Hn:t},cl.prototype.electricalFieldX=function(){return 0},cl.prototype.electricalFieldY=function(){return 0},cl.prototype.gravitationalMass=function(t){return t=t.mass,isNaN(t)?this.Jn:t},cl.prototype.gravitationalFieldX=function(){return 0},cl.prototype.gravitationalFieldY=function(){return 0},cl.prototype.isFixed=function(t){return t.isFixed},Uh.u(cl,{lK:"currentIteration"},function(){return this.nr}),Uh.defineProperty(cl,{GD:"arrangementSpacing"},function(){return this.bg},function(t){Uh.A(t,k,cl,"arrangementSpacing"),this.bg.L(t)||(this.bg.assign(t),this.H())}),Uh.defineProperty(cl,{OG:"arrangesToOrigin"},function(){return this.hq},function(t){this.hq!==t&&(Uh.j(t,"boolean",cl,"arrangesToOrigin"),this.hq=t,this.H())}),Uh.defineProperty(cl,{Op:"setsPortSpots"},function(){return this.Rh},function(t){this.Rh!==t&&(Uh.j(t,"boolean",cl,"setsPortSpots"),this.Rh=t,this.H())}),Uh.defineProperty(cl,{comments:"comments"},function(){return this.yh},function(t){this.yh!==t&&(Uh.j(t,"boolean",cl,"comments"),this.yh=t,this.H())}),Uh.defineProperty(cl,{fA:"maxIterations"},function(){return this.oo},function(t){this.oo!==t&&(Uh.j(t,"number",cl,"maxIterations"),t>=0&&(this.oo=t,this.H()))}),Uh.defineProperty(cl,{gE:"epsilonDistance"},function(){return this.Oq},function(t){this.Oq!==t&&(Uh.j(t,"number",cl,"epsilonDistance"),t>0&&(this.Oq=t,this.H()))}),Uh.defineProperty(cl,{EK:"infinityDistance"},function(){return this.Hh},function(t){this.Hh!==t&&(Uh.j(t,"number",cl,"infinityDistance"),t>1&&(this.Hh=t,this.H()))}),Uh.defineProperty(cl,{xx:"randomNumberGenerator"},function(){return this.$r},function(t){this.$r!==t&&(null!==t&&"function"!=typeof t.random&&Uh.k('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.$r=t)}),Uh.defineProperty(cl,{yK:"defaultSpringStiffness"},function(){return this.Ln},function(t){this.Ln!==t&&(Uh.j(t,"number",cl,"defaultSpringStiffness"),this.Ln=t,this.H())}),Uh.defineProperty(cl,{xK:"defaultSpringLength"},function(){return this.Kn},function(t){this.Kn!==t&&(Uh.j(t,"number",cl,"defaultSpringLength"),this.Kn=t,this.H())}),Uh.defineProperty(cl,{rK:"defaultElectricalCharge"},function(){return this.Hn},function(t){this.Hn!==t&&(Uh.j(t,"number",cl,"defaultElectricalCharge"),this.Hn=t,this.H())}),Uh.defineProperty(cl,{sK:"defaultGravitationalMass"},function(){return this.Jn},function(t){this.Jn!==t&&(Uh.j(t,"number",cl,"defaultGravitationalMass"),this.Jn=t,this.H())}),Uh.defineProperty(cl,{nH:"defaultCommentSpringLength"},function(){return this.Eq},function(t){this.Eq!==t&&(Uh.j(t,"number",cl,"defaultCommentSpringLength"),this.Eq=t,this.H())}),Uh.defineProperty(cl,{mH:"defaultCommentElectricalCharge"},function(){return this.Dq},function(t){this.Dq!==t&&(Uh.j(t,"number",cl,"defaultCommentElectricalCharge"),this.Dq=t,this.H())}),Uh.Ja(kl,qa),Uh.ea("ForceDirectedNetwork",kl),kl.prototype.createVertex=function(){return new Tl},kl.prototype.createEdge=function(){return new $l},Uh.Ja(Tl,Ua),Uh.ea("ForceDirectedVertex",Tl),Uh.Ja($l,Ga),Uh.ea("ForceDirectedEdge",$l),Uh.Ja(Cl,Fa),Uh.ea("LayeredDigraphLayout",Cl),Cl.prototype.cloneProtected=function(t){Fa.prototype.cloneProtected.call(this,t),t.jm=this.jm,t.Hd=this.Hd,t.ca=this.ca,t.Gn=this.Gn,t.jo=this.jo,t.Yn=this.Yn,t.gm=this.gm,t.wn=this.wn,t.Hi=this.Hi,t.Rh=this.Rh,t.sr=this.sr},Cl.prototype.createNetwork=function(){return new oh},Cl.prototype.doLayout=function(t){for(null===t&&Uh.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),this.Xd=this.initialOrigin(this.Xd),this.Dv=-1,this.If=this.Cr=0,this.Lr=this.Jr=this.nm=null,t=0;t<this.Qg.length;t++)this.Qg[t]=null;if(0<this.network.vertexes.count){for(this.network.Mw(),t=this.network.edges.i;t.next();)t.value.rev=!1;switch(this.Gn){default:case zd:var e=0,i=this.network.vertexes.count-1;t=[],t.length=i+1;for(var n=this.network.vertexes.i;n.next();)n.value.valid=!0;for(;null!==Ol(this.network);){for(n=Il(this.network);null!==n;)t[i]=n,i--,n.valid=!1,n=Il(this.network);for(n=Ll(this.network);null!==n;)t[e]=n,e++,n.valid=!1,n=Ll(this.network);for(var n=null,r=0,o=this.network.vertexes.i;o.next();){var s=o.value;if(s.valid){for(var a=0,l=s.$b;l.next();)l.value.toVertex.valid&&a++;for(var l=0,h=s.lc;h.next();)h.value.fromVertex.valid&&l++;(null===n||a-l>r)&&(n=s,r=a-l)}}null!==n&&(t[e]=n,e++,n.valid=!1)}for(e=0;e<this.network.vertexes.count;e++)t[e].index=e;for(t=this.network.edges.i;t.next();)e=t.value,e.fromVertex.index>e.toVertex.index&&(this.network.Bx(e),e.rev=!0);break;case Fd:for(e=this.network.vertexes.i;e.next();)t=e.value,t.ap=-1,t.finish=-1;for(t=this.network.edges.i;t.next();)t.value.forest=!1;for(this.Kr=0,e.reset();e.next();)i=e.value,0===i.lc.count&&Fl(this,i);for(e.reset();e.next();)i=e.value,-1===i.ap&&Fl(this,i);for(t.reset();t.next();)e=t.value,e.forest||(i=e.fromVertex,n=i.finish,r=e.toVertex,o=r.finish,r.ap<i.ap&&o>n&&(this.network.Bx(e),e.rev=!0))}for(t=this.network.vertexes.i;t.next();)t.value.layer=-1;for(this.qb=-1,this.assignLayers(),t.reset();t.next();)this.qb=Math.max(this.qb,t.value.layer);for(t=[],i=this.network.edges.i;i.next();)e=i.value,e.valid=!1,t.push(e);for(i=0;i<t.length;i++)if(e=t[i],!e.valid&&(null!==e.fromVertex.ud&&null!==e.toVertex.ud||e.fromVertex.layer!==e.toVertex.layer)){if(l=s=a=o=0,r=e.fromVertex,n=e.toVertex,null!==e.link){if(a=e.link,null===a)continue;var u=r.ud,o=n.ud;if(null===u||null===o)continue;var c=a.V,s=a.ba,f=a.cd,l=a.Fd;e.rev&&(a=c,h=f,c=s,f=l,s=a,l=h);var d=r.O,a=e.toVertex.O,p=e.rev?n.N:r.N,h=Uh.M();p.K()?(ms(c,f,ou,h),h.K()||h.assign(d)):h.assign(d),u!==c&&p.K()&&c.isVisible()&&(u=r.N,u.K()&&(h.x+=p.x-u.x,h.y+=p.y-u.y)),c=e.rev?r.N:n.N,u=Uh.M(),c.K()?(ms(s,l,ou,u),u.K()||u.assign(a)):u.assign(a),o!==s&&c.K()&&s.isVisible()&&(o=n.N,o.K()&&(u.x+=c.x-o.x,u.y+=c.y-o.y)),90===this.ca||270===this.ca?(o=Math.round((h.x-d.x)/this.Hd),s=h.x,a=Math.round((u.x-a.x)/this.Hd),l=u.x):(o=Math.round((h.y-d.y)/this.Hd),s=h.y,a=Math.round((u.y-a.y)/this.Hd),l=u.y),Uh.v(h),Uh.v(u),e.portFromColOffset=o,e.portFromPos=s,e.portToColOffset=a,e.portToPos=l}else e.portFromColOffset=0,e.portFromPos=0,e.portToColOffset=0,e.portToPos=0;h=r.layer,d=n.layer;t:if(u=e,c=0,p=u.link,null!==p){var g=p.cd,v=p.Fd;if(null!==g&&null!==v){var m=p.V,f=p.ba;if(null!==m&&null!==f){var y=g.Ab,b=v.Bb;this.Op||(p.Ab.Uc()||(y=p.Ab),p.Bb.Uc()||(b=p.Bb));var x=p.kc,w=eh(this,!0);(y.Uc()||y===Zh)&&(y=w);var k=eh(this,!1);if((b.Uc()||b===Zh)&&(b=k),y.$i()&&y.jp(k)&&b.$i()&&b.jp(w)){c=0;break t}w=p.getLinkPoint(m,g,y,!0,x,f,v,Uh.M()),y=p.getLinkDirection(m,g,w,y,!0,x,f,v),Uh.v(w),y===Bl(this,u,!0)?c+=1:this.Op&&null!==m&&1===m.ports.count&&u.rev&&(c+=1),y=p.getLinkPoint(f,v,b,!1,x,m,g,Uh.M()),p=p.getLinkDirection(f,v,y,b,!1,x,m,g),Uh.v(y),p===Bl(this,u,!1)?c+=2:this.Op&&null!==f&&1===f.ports.count&&u.rev&&(c+=2)}}}if(u=1===c||3===c?!0:!1,(c=2===c||3===c?!0:!1)&&(f=this.network.createVertex(),f.ud=null,f.Jm=1,f.layer=h,f.near=r,this.network.el(f),r=this.network.tp(r,f,e.link),r.valid=!1,r.rev=e.rev,r.portFromColOffset=o,r.portToColOffset=0,r.portFromPos=s,r.portToPos=0,r=f),p=1,u&&p--,h-d>p&&h>0){for(e.valid=!1,f=this.network.createVertex(),f.ud=null,f.Jm=2,f.layer=h-1,this.network.el(f),r=this.network.tp(r,f,e.link),r.valid=!0,r.rev=e.rev,r.portFromColOffset=c?0:o,r.portToColOffset=0,r.portFromPos=c?0:s,r.portToPos=0,r=f,h--;h-d>p&&h>0;)f=this.network.createVertex(),f.ud=null,f.Jm=3,f.layer=h-1,this.network.el(f),r=this.network.tp(r,f,e.link),r.valid=!0,r.rev=e.rev,r.portFromColOffset=0,r.portToColOffset=0,r.portFromPos=0,r.portToPos=0,r=f,h--;r=this.network.tp(f,n,e.link),r.valid=!u,u&&(f.near=n),r.rev=e.rev,r.portFromColOffset=0,r.portToColOffset=a,r.portFromPos=0,r.portToPos=l}else e.valid=!0}for(e=this.Td=[],i=0;i<=this.qb;i++)e[i]=0;for(t=this.network.vertexes.i;t.next();)i=t.value,i.index=-1;for(this.initializeIndices(),this.Dv=-1,i=this.If=this.Cr=0;i<=this.qb;i++)e[i]>e[this.If]&&(this.Dv=e[i]-1,this.If=i),e[i]<e[this.Cr]&&(this.Cr=i);for(this.Lr=[],i=0;i<e.length;i++)this.Lr[i]=[];for(t.reset();t.next();)e=t.value,i=this.Lr[e.layer],i[e.index]=e;for(this.Hb=-1,t=0;t<=this.qb;t++){for(e=ih(this,t),i=0,n=this.Td[t],r=0;n>r;r++)o=e[r],i+=this.nodeMinColumnSpace(o,!0),o.column=i,i+=1,i+=this.nodeMinColumnSpace(o,!1);this.Hb=Math.max(this.Hb,i-1),nh(this,t,e)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.yf=!0},Cl.prototype.linkMinLength=function(t){var e=t.toVertex,i=0;for(t=t.fromVertex.$b;t.next();)t.value.toVertex===e&&i++;return 1},Cl.prototype.nodeMinLayerSpace=function(t,e){return null===t.ud?0:90===this.ca||270===this.ca?e?t.O.y+10:t.N.height-t.O.y+10:e?t.O.x+10:t.N.width-t.O.x+10},Cl.prototype.nodeMinColumnSpace=function(t,e){if(null===t.ud)return 0;var i=e?t.nA:t.mA;return null!==i?i:(i=this.ca,90===i||270===i?e?t.nA=t.O.x/this.Hd+1|0:t.mA=(t.N.width-t.O.x)/this.Hd+1|0:e?t.nA=t.O.y/this.Hd+1|0:t.mA=(t.N.height-t.O.y)/this.Hd+1|0)},Cl.prototype.countCrossings=function(){for(var t=0,e=0;e<=this.qb;e++)for(var i=Dl(this,e,1),n=this.Td[e],r=0;n>r;r++)for(var o=r;n>o;o++)t+=i[r*n+o];return t},Cl.prototype.normalize=function(){var t=1/0;this.Hb=-1;for(var e=this.network.vertexes.i;e.next();){var i=e.value,t=Math.min(t,i.column-this.nodeMinColumnSpace(i,!0));this.Hb=Math.max(this.Hb,i.column+this.nodeMinColumnSpace(i,!1))}for(e.reset();e.next();)e.value.column-=t;this.Hb-=t},Cl.prototype.assignLayers=function(){switch(this.jo){case Rd:zl(this);break;case Hd:for(var t=0,e=this.network.vertexes.i;e.next();)t=Rl(this,e.value),this.qb=Math.max(t,this.qb);for(e.reset();e.next();)t=e.value,t.layer=this.qb-t.layer;break;default:case qd:for(zl(this),e=this.network.vertexes.i;e.next();)e.value.valid=!1;for(e.reset();e.next();)t=e.value,0===t.lc.count&&Hl(this,t);for(t=1/0,e.reset();e.next();)t=Math.min(t,e.value.layer);for(this.qb=-1,e.reset();e.next();){var i=e.value;i.layer-=t,this.qb=Math.max(this.qb,i.layer)}}},Cl.prototype.initializeIndices=function(){switch(this.Yn){default:case Ud:for(var t=this.network.vertexes.i;t.next();){var e=t.value,i=e.layer;e.index=this.Td[i],this.Td[i]++}break;case Bd:for(t=this.network.vertexes.i,e=this.qb;e>=0;e--)for(t.reset();t.next();)i=t.value,i.layer===e&&-1===i.index&&Vl(this,i);break;case Vd:for(t=this.network.vertexes.i,e=0;e<=this.qb;e++)for(t.reset();t.next();)i=t.value,i.layer===e&&-1===i.index&&Ul(this,i)}},Cl.prototype.reduceCrossings=function(){for(var t=this.countCrossings(),e=Sl(this),i=0,n=0,r=0,i=0;i<this.gm;i++){for(n=0;n<=this.qb;n++)Gl(this,n,1),Wl(this,n,1);for(r=this.countCrossings(),t>r&&(t=r,e=Sl(this)),n=this.qb;n>=0;n--)Gl(this,n,-1),Wl(this,n,-1);r=this.countCrossings(),t>r&&(t=r,e=Sl(this))}for(Pl(this,e),i=0;i<this.gm;i++){for(n=0;n<=this.qb;n++)Gl(this,n,0),Wl(this,n,0);for(r=this.countCrossings(),t>r&&(t=r,e=Sl(this)),n=this.qb;n>=0;n--)Gl(this,n,0),Wl(this,n,0);r=this.countCrossings(),t>r&&(t=r,e=Sl(this))}Pl(this,e);var o=!1,s=i=0,a=0,n=0;switch(this.wn){case Gd:break;case Kd:for(a=t+1;(n=this.countCrossings())<a;)for(a=n,i=this.qb;i>=0;i--)for(s=0;i>=s;s++){for(o=!0;o;)for(o=!1,n=i;n>=s;n--)o=Wl(this,n,-1)||o;for(r=this.countCrossings(),r>=t?Pl(this,e):(t=r,e=Sl(this)),o=!0;o;)for(o=!1,n=i;n>=s;n--)o=Wl(this,n,1)||o;for(r=this.countCrossings(),r>=t?Pl(this,e):(t=r,e=Sl(this)),o=!0;o;)for(o=!1,n=s;i>=n;n++)o=Wl(this,n,1)||o;for(r>=t?Pl(this,e):(t=r,e=Sl(this)),o=!0;o;)for(o=!1,n=s;i>=n;n++)o=Wl(this,n,-1)||o;for(r>=t?Pl(this,e):(t=r,e=Sl(this)),o=!0;o;)for(o=!1,n=i;n>=s;n--)o=Wl(this,n,0)||o;for(r>=t?Pl(this,e):(t=r,e=Sl(this)),o=!0;o;)for(o=!1,n=s;i>=n;n++)o=Wl(this,n,0)||o;r>=t?Pl(this,e):(t=r,e=Sl(this))}break;default:case Wd:for(i=this.qb,s=0,a=t+1;(n=this.countCrossings())<a;){for(a=n,o=!0;o;)for(o=!1,n=i;n>=s;n--)o=Wl(this,n,-1)||o;for(r=this.countCrossings(),r>=t?Pl(this,e):(t=r,e=Sl(this)),o=!0;o;)for(o=!1,n=i;n>=s;n--)o=Wl(this,n,1)||o;for(r=this.countCrossings(),r>=t?Pl(this,e):(t=r,e=Sl(this)),o=!0;o;)for(o=!1,n=s;i>=n;n++)o=Wl(this,n,1)||o;for(r>=t?Pl(this,e):(t=r,e=Sl(this)),o=!0;o;)for(o=!1,n=s;i>=n;n++)o=Wl(this,n,-1)||o;for(r>=t?Pl(this,e):(t=r,e=Sl(this)),o=!0;o;)for(o=!1,n=i;n>=s;n--)o=Wl(this,n,0)||o;for(r>=t?Pl(this,e):(t=r,e=Sl(this)),o=!0;o;)for(o=!1,n=s;i>=n;n++)o=Wl(this,n,0)||o;r>=t?Pl(this,e):(t=r,e=Sl(this))}}Pl(this,e)},Cl.prototype.straightenAndPack=function(){var t=0,e=!1,i=0!==(this.Hi&Yd),t=this.Hi===Qd;if(1e3<this.network.edges.count&&!t&&(i=!1),i){for(e=[],t=t=0;t<=this.qb;t++)e[t]=0;for(var n=0,r=this.network.vertexes.i;r.next();){var o=r.value,t=o.layer,n=o.column,o=this.nodeMinColumnSpace(o,!1);e[t]=Math.max(e[t],n+o)}for(r.reset();r.next();)o=r.value,t=o.layer,n=o.column,o.column=(8*(this.Hb-e[t])>>1)+8*n;this.Hb*=8}if(0!==(this.Hi&Jd))for(e=!0;e;){for(e=!1,t=this.If+1;t<=this.qb;t++)e=Kl(this,t,1)||e;for(t=this.If-1;t>=0;t--)e=Kl(this,t,-1)||e;e=Kl(this,this.If,0)||e}if(0!==(this.Hi&Xd)){for(t=this.If+1;t<=this.qb;t++)Jl(this,t,1);for(t=this.If-1;t>=0;t--)Jl(this,t,-1);Jl(this,this.If,0)}if(i&&(Zl(this,-1),Zl(this,1)),0!==(this.Hi&Jd))for(e=!0;e;){for(e=!1,e=Kl(this,this.If,0)||e,t=this.If+1;t<=this.qb;t++)e=Kl(this,t,0)||e;for(t=this.If-1;t>=0;t--)e=Kl(this,t,0)||e}},Cl.prototype.commitLayout=function(){if(this.Op)for(var t=eh(this,!0),e=eh(this,!1),i=this.network.edges.i;i.next();){var n=i.value.link;null!==n&&(n.Ab=t,n.Bb=e)}this.commitNodes(),this.Az(),this.Ht&&this.commitLinks()},Cl.prototype.commitNodes=function(){this.hg=[],this.Gf=[],this.Ff=[],this.Mb=[];for(var t=0;t<=this.qb;t++)this.hg[t]=0,this.Gf[t]=0,this.Ff[t]=0,this.Mb[t]=0;for(t=this.network.vertexes.i;t.next();){var e=t.value,i=e.layer;this.hg[i]=Math.max(this.hg[i],this.nodeMinLayerSpace(e,!0)),this.Gf[i]=Math.max(this.Gf[i],this.nodeMinLayerSpace(e,!1))}for(var e=0,n=this.jm,i=0;i<=this.qb;i++){var r=n;0>=this.hg[i]+this.Gf[i]&&(r=0),i>0&&(e+=r/2),90===this.ca||0===this.ca?(e+=this.Gf[i],this.Ff[i]=e,e+=this.hg[i]):(e+=this.hg[i],this.Ff[i]=e,e+=this.Gf[i]),i<this.qb&&(e+=r/2),this.Mb[i]=e}for(n=e,e=this.Xd.copy(),null!==this.group&&(270===this.direction||90===this.direction?e.y-=10:e.x-=10,270===this.direction||90===this.direction?e.x-=this.PD/2:e.y-=this.PD/2),i=0;i<=this.qb;i++)270===this.ca?this.Ff[i]=e.y+this.Ff[i]:90===this.ca?(this.Ff[i]=e.y+n-this.Ff[i],this.Mb[i]=n-this.Mb[i]):180===this.ca?this.Ff[i]=e.x+this.Ff[i]:(this.Ff[i]=e.x+n-this.Ff[i],this.Mb[i]=n-this.Mb[i]);for(t.reset();t.next();){var i=t.value,n=i.layer,r=0|i.column,o=0,s=0;270===this.ca||90===this.ca?(o=e.x+this.Hd*r,s=this.Ff[n]):(o=this.Ff[n],s=e.y+this.Hd*r),i.oa=o,i.va=s,i.commit()}},Cl.prototype.Az=function(){for(var t=0,e=this.jm,i=0;i<=this.qb;i++)t+=this.hg[i],t+=this.Gf[i];for(var t=t+this.qb*e,e=[],i=this.Hd*this.Hb,n=this.wI;n>=0;n--)e.push(270===this.ca?0===n?new T(0,0,i,Math.abs(this.Mb[0])):new T(0,this.Mb[n-1],i,Math.abs(this.Mb[n-1]-this.Mb[n])):90===this.ca?0===n?new T(0,this.Mb[0],i,Math.abs(this.Mb[0]-t)):new T(0,this.Mb[n],i,Math.abs(this.Mb[n-1]-this.Mb[n])):180===this.ca?0===n?new T(0,0,Math.abs(this.Mb[0]),i):new T(this.Mb[n-1],0,Math.abs(this.Mb[n-1]-this.Mb[n]),i):0===n?new T(this.Mb[0],0,Math.abs(this.Mb[0]-t),i):new T(this.Mb[n],0,Math.abs(this.Mb[n-1]-this.Mb[n]),i));this.commitLayers(e,_u.mk)},Cl.prototype.commitLayers=function(){},Cl.prototype.commitLinks=function(){for(var t,e=this.network.edges.i;e.next();)t=e.value.link,null!==t&&(t.Ll(),t.Wo(),t.Ui());for(e.reset();e.next();)t=e.value.link,null!==t&&t.pn();for(e.reset();e.next();){var i=e.value;if(t=i.link,null!==t){t.Ll();var n=t,r=n.V,o=n.ba,s=n.cd,a=n.Fd;if(i.valid){if(t.Me===Zf&&4===t.pa){if(i.rev)var l=r,r=o,o=l,h=s,s=a,a=h;if(i.fromVertex.column===i.toVertex.column){var c=t.getLinkPoint(r,s,t.computeSpot(!0),!0,!1,o,a),f=t.getLinkPoint(o,a,t.computeSpot(!1),!1,!1,r,s);c.K()||c.set(r.Y.hl),f.K()||f.set(o.Y.hl),t.Wo(),t.dl(c.x,c.y),t.dl((2*c.x+f.x)/3,(2*c.y+f.y)/3),t.dl((c.x+2*f.x)/3,(c.y+2*f.y)/3),t.dl(f.x,f.y)}else{var d=!1,p=!1;if(null!==s&&t.computeSpot(!0)===Zh&&(d=!0),null!==a&&t.computeSpot(!1)===Zh&&(p=!0),d||p){var g=t.l(0).x,v=t.l(0).y,m=t.l(1).x,y=t.l(1).y,b=t.l(2).x,x=t.l(2).y,w=t.l(3).x,k=t.l(3).y;if(d){90===this.ca||270===this.ca?(m=g,y=(v+k)/2):(m=(g+w)/2,y=v),t.W(1,m,y);var T=t.getLinkPoint(r,s,t.computeSpot(!0),!0,!1,o,a);T.K()||T.set(r.Y.hl),t.W(0,T.x,T.y)}p&&(90===this.ca||270===this.ca?(b=w,x=(v+k)/2):(b=(g+w)/2,x=k),t.W(2,b,x),T=t.getLinkPoint(o,a,t.computeSpot(!1),!1,!1,r,s),T.K()||T.set(o.Y.hl),t.W(3,T.x,T.y))}}}t.Ui()}else if(i.fromVertex.layer===i.toVertex.layer)t.Ui();else{var $=!1,C=!1,M=0,S=t.st+1;if(t.kc)C=!0,M=t.pa,M>4&&t.points.removeRange(2,M-3);else if(t.Me===Zf)$=!0,M=t.pa,M>4&&t.points.removeRange(2,M-3),S=2;else{var M=t.pa,P=t.computeSpot(!0)===Zh,D=t.computeSpot(!1)===Zh;M>2&&P&&D?t.points.removeRange(1,M-2):M>3&&P&&!D?t.points.removeRange(1,M-3):M>3&&!P&&D?t.points.removeRange(2,M-2):M>4&&!P&&!D&&t.points.removeRange(2,M-3)}var A,E,N=i.fromVertex,_=i.toVertex;if(i.rev){for(var j=0;null!==_&&N!==_;){E=A=null;for(var O=_.lc.i;O.next();){var I=O.value;if(I.link===i.link&&(A=I.fromVertex,E=I.toVertex,null===A.ud))break}if(A!==N)if(H=t.l(S-1).x,B=t.l(S-1).y,V=A.oa,U=A.va,C)180===this.ca||0===this.ca?2===S?(t.w(S++,H,B),t.w(S++,H,U)):(Y=null!==E?E.va:B,Y!==U&&(G=this.Mb[A.layer-1],t.w(S++,G,B),t.w(S++,G,U))):2===S?(t.w(S++,H,B),t.w(S++,V,B)):(J=null!==E?E.oa:H,J!==V&&(G=this.Mb[A.layer-1],t.w(S++,H,G),t.w(S++,V,G)));else if(2===S)if(W=Math.max(10,this.hg[_.layer]),K=Math.max(10,this.Gf[_.layer]),$)180===this.ca?V<=_.N.x?(j=_.N.x,t.w(S++,j-W,U),t.w(S++,j,U),t.w(S++,j+K,U)):(t.w(S++,V-W,U),t.w(S++,V,U),t.w(S++,V+K,U)):90===this.ca?U>=_.N.bottom?(j=_.N.y+_.N.height,t.w(S++,V,j+K),t.w(S++,V,j),t.w(S++,V,j-W)):(t.w(S++,V,U+K),t.w(S++,V,U),t.w(S++,V,U-W)):270===this.ca?U<=_.N.y?(j=_.N.y,t.w(S++,V,j-W),t.w(S++,V,j),t.w(S++,V,j+K)):(t.w(S++,V,U-W),t.w(S++,V,U),t.w(S++,V,U+K)):0===this.ca&&(V>=_.N.right?(j=_.N.x+_.N.width,t.w(S++,j+K,U),t.w(S++,j,U),t.w(S++,j-W,U)):(t.w(S++,V+K,U),t.w(S++,V,U),t.w(S++,V-W,U)));else{t.w(S++,H,B);var L=0;180===this.ca||0===this.ca?((180===this.ca?V>=_.N.right:V<=_.N.x)&&(L=(0===this.ca?-W:K)/2),t.w(S++,H+L,U)):((270===this.ca?U>=_.N.bottom:U<=_.N.y)&&(L=(90===this.ca?-W:K)/2),t.w(S++,V,B+L)),t.w(S++,V,U)}else W=Math.max(10,this.hg[A.layer]),K=Math.max(10,this.Gf[A.layer]),180===this.ca?($&&t.w(S++,V-W,U),t.w(S++,V,U),$&&t.w(S++,V+K,U)):90===this.ca?($&&t.w(S++,V,U+K),t.w(S++,V,U),$&&t.w(S++,V,U-W)):270===this.ca?($&&t.w(S++,V,U-W),t.w(S++,V,U),$&&t.w(S++,V,U+K)):($&&t.w(S++,V+K,U),t.w(S++,V,U),$&&t.w(S++,V-W,U));_=A}if(null===a||t.computeSpot(!1)!==Zh||C)if(H=t.l(S-1).x,B=t.l(S-1).y,V=t.l(S).x,U=t.l(S).y,C){var F=this.Gf[N.layer],z=0;180===this.ca||0===this.ca?(z=B,z>=N.N.y&&z<=N.N.bottom&&(180===this.ca?V>=N.N.x:V<=N.N.right)&&(j=N.oa+(180===this.ca?-F:F),z=z<N.N.y+N.N.height/2?N.N.y-this.Hd/2:N.N.bottom+this.Hd/2,t.w(S++,j,B),t.w(S++,j,z)),t.w(S++,V,z)):(z=H,z>=N.N.x&&z<=N.N.right&&(270===this.ca?U>=N.N.y:U<=N.N.bottom)&&(j=N.va+(270===this.ca?-F:F),z=z<N.N.x+N.N.width/2?N.N.x-this.Hd/2:N.N.right+this.Hd/2,t.w(S++,H,j),t.w(S++,z,j)),t.w(S++,z,U)),t.w(S++,V,U)}else $?(W=Math.max(10,this.hg[N.layer]),K=Math.max(10,this.Gf[N.layer]),180===this.ca&&V>=N.N.x?(j=N.N.x+N.N.width,t.W(S-2,j,B),t.W(S-1,j+K,B)):90===this.ca&&U<=N.N.bottom?(j=N.N.y,t.W(S-2,H,j),t.W(S-1,H,j-W)):270===this.ca&&U>=N.N.y?(j=N.N.y+N.N.height,t.W(S-2,H,j),t.W(S-1,H,j+K)):0===this.ca&&V<=N.N.right&&(j=N.N.x,t.W(S-2,j,B),t.W(S-1,j-W,B))):(W=Math.max(10,this.hg[N.layer]),K=Math.max(10,this.Gf[N.layer]),L=0,180===this.ca||0===this.ca?((180===this.ca?V<=N.N.x:V>=N.N.right)&&(L=(0===this.ca?K:-W)/2),t.w(S++,V+L,B)):((270===this.ca?U<=N.N.y:U>=N.N.bottom)&&(L=(90===this.ca?K:-W)/2),t.w(S++,H,U+L)),t.w(S++,V,U))}else{for(;null!==N&&N!==_;){E=A=null;for(var q=N.$b.i;q.next();){var R=q.value;if(R.link===i.link&&(A=R.toVertex,E=R.fromVertex,null!==E.ud&&(E=null),null===A.ud))break}var H=0,B=0,V=0,U=0,G=0,W=0,K=0;if(A!==_)if(H=t.l(S-1).x,B=t.l(S-1).y,V=A.oa,U=A.va,C)if(180===this.ca||0===this.ca){var Y=null!==E?E.va:B;Y!==U&&(G=this.Mb[A.layer],2===S&&(G=0===this.ca?Math.max(G,H):Math.min(G,H)),t.w(S++,G,B),t.w(S++,G,U))}else{var J=null!==E?E.oa:H;J!==V&&(G=this.Mb[A.layer],2===S&&(G=90===this.ca?Math.max(G,B):Math.min(G,B)),t.w(S++,H,G),t.w(S++,V,G))}else W=Math.max(10,this.hg[A.layer]),K=Math.max(10,this.Gf[A.layer]),180===this.ca?(t.w(S++,V+K,U),$&&t.w(S++,V,U),t.w(S++,V-W,U)):90===this.ca?(t.w(S++,V,U-W),$&&t.w(S++,V,U),t.w(S++,V,U+K)):270===this.ca?(t.w(S++,V,U+K),$&&t.w(S++,V,U),t.w(S++,V,U-W)):(t.w(S++,V-W,U),$&&t.w(S++,V,U),t.w(S++,V+K,U));N=A}C&&(H=t.l(S-1).x,B=t.l(S-1).y,V=t.l(S).x,U=t.l(S).y,180===this.ca||0===this.ca?B!==U&&(G=0===this.ca?Math.min(Math.max((V+H)/2,this.Mb[_.layer]),V):Math.max(Math.min((V+H)/2,this.Mb[_.layer]),V),t.w(S++,G,B),t.w(S++,G,U)):H!==V&&(G=90===this.ca?Math.min(Math.max((U+B)/2,this.Mb[_.layer]),U):Math.max(Math.min((U+B)/2,this.Mb[_.layer]),U),t.w(S++,H,G),t.w(S++,V,G)))}if(null!==n&&$){if(null!==s){if(t.computeSpot(!0)===Zh){var X=t.l(0),Q=t.l(2);X.L(Q)||t.W(1,(X.x+Q.x)/2,(X.y+Q.y)/2)}T=t.getLinkPoint(r,s,Zh,!0,!1,o,a),T.K()||T.set(r.Y.hl),t.W(0,T.x,T.y)}null!==a&&(t.computeSpot(!1)===Zh&&(X=t.l(t.pa-1),Q=t.l(t.pa-3),X.L(Q)||t.W(t.pa-2,(X.x+Q.x)/2,(X.y+Q.y)/2)),T=t.getLinkPoint(o,a,Zh,!1,!1,r,s),T.K()||T.set(o.Y.hl),t.W(t.pa-1,T.x,T.y))}t.Ui(),i.commit()}}}for(var Z=new u(Ws),te=this.network.edges.i;te.next();){var ee=te.value.link;null!==ee&&ee.kc&&!Z.contains(ee)&&Z.add(ee)}if(0<Z.count)if(90===this.ca||270===this.ca){for(var ie,ne,re=0,oe=new u(rh),se=Z.i;se.next();){var ae=se.value;if(null!==ae&&ae.kc)for(var le=2;le<ae.pa-3;le++)if(ie=ae.l(le),ne=ae.l(le+1),this.G(ie.y,ne.y)&&!this.G(ie.x,ne.x)){var he=new rh;he.layer=Math.floor(ie.y/2);var ue=ae.l(0),ce=ae.l(ae.pa-1);if(he.first=ue.x*ue.x+ue.y,he.Rd=ce.x*ce.x+ce.y,he.Ke=Math.min(ie.x,ne.x),he.Yd=Math.max(ie.x,ne.x),he.index=le,he.link=ae,le+2<ae.pa){var fe=ae.l(le-1),de=ae.l(le+2),pe=0;fe.y<ie.y?pe=de.y<ie.y?3:ie.x<ne.x?2:1:fe.y>ie.y&&(pe=de.y>ie.y?0:ne.x<ie.x?2:1),he.ei=pe}oe.add(he)}}if(1<oe.count){oe.sort(this.qF);for(var ge=0;ge<oe.count;){for(var ve=oe.n[ge].layer,me=ge+1;me<oe.count&&oe.n[me].layer===ve;)me++;if(me-ge>1)for(var ye=ge;me>ye;){for(var be=oe.n[ye].Yd,xe=ge+1;me>xe&&oe.n[xe].Ke<be;)be=Math.max(be,oe.n[xe].Yd),xe++;var we=xe-ye;if(we>1){oe.Rp(this.Dx,ye,ye+we);for(var ke=1,Te=oe.n[ye].Rd,le=ye;xe>le;le++){var $e=oe.n[le];$e.Rd!==Te&&(ke++,Te=$e.Rd)}oe.Rp(this.pF,ye,ye+we);for(var Ce=1,Te=oe.n[ye].first,le=ye;xe>le;le++)$e=oe.n[le],$e.first!==Te&&(Ce++,Te=$e.first);var Me=!0,Se=Ce;Ce>ke?(Me=!1,Se=ke,Te=oe.n[ye].Rd,oe.Rp(this.Dx,ye,ye+we)):Te=oe.n[ye].first;for(var Pe=0,le=ye;xe>le;le++){$e=oe.n[le],(Me?$e.first:$e.Rd)!==Te&&(Pe++,Te=Me?$e.first:$e.Rd),ae=$e.link,ie=ae.l($e.index),ne=ae.l($e.index+1);var De=this.PE*(Pe-(Se-1)/2);re++,ae.Ll(),ae.W($e.index,ie.x,ie.y+De),ae.W($e.index+1,ne.x,ne.y+De),ae.Ui()}}ye=xe}ge=me}}}else{for(var Ae,Ee,Ne=0,_e=new u(rh),je=Z.i;je.next();){var Oe=je.value;if(null!==Oe&&Oe.kc)for(var Ie=2;Ie<Oe.pa-3;Ie++)if(Ae=Oe.l(Ie),Ee=Oe.l(Ie+1),this.G(Ae.x,Ee.x)&&!this.G(Ae.y,Ee.y)){var Le=new rh;Le.layer=Math.floor(Ae.x/2);var Fe=Oe.l(0),ze=Oe.l(Oe.pa-1);if(Le.first=Fe.x+Fe.y*Fe.y,Le.Rd=ze.x+ze.y*ze.y,Le.Ke=Math.min(Ae.y,Ee.y),Le.Yd=Math.max(Ae.y,Ee.y),Le.index=Ie,Le.link=Oe,Ie+2<Oe.pa){var qe=Oe.l(Ie-1),Re=Oe.l(Ie+2),He=0;qe.x<Ae.x?He=Re.x<Ae.x?3:Ae.y<Ee.y?2:1:qe.x>Ae.x&&(He=Re.x>Ae.x?0:Ee.y<Ae.y?2:1),Le.ei=He}_e.add(Le)}}if(1<_e.count){_e.sort(this.qF);for(var Be=0;Be<_e.count;){for(var Ve=_e.n[Be].layer,Ue=Be+1;Ue<_e.count&&_e.n[Ue].layer===Ve;)Ue++;if(Ue-Be>1)for(var Ge=Be;Ue>Ge;){for(var We=_e.n[Ge].Yd,Ke=Be+1;Ue>Ke&&_e.n[Ke].Ke<We;)We=Math.max(We,_e.n[Ke].Yd),Ke++;var Ye=Ke-Ge;if(Ye>1){_e.Rp(this.Dx,Ge,Ge+Ye);for(var Je=1,Xe=_e.n[Ge].Rd,Ie=Ge;Ke>Ie;Ie++){var Qe=_e.n[Ie];Qe.Rd!==Xe&&(Je++,Xe=Qe.Rd)}_e.Rp(this.pF,Ge,Ge+Ye);for(var Ze=1,Xe=_e.n[Ge].first,Ie=Ge;Ke>Ie;Ie++)Qe=_e.n[Ie],Qe.first!==Xe&&(Ze++,Xe=Qe.first);var ti=!0,ei=Ze;Ze>Je?(ti=!1,ei=Je,Xe=_e.n[Ge].Rd,_e.Rp(this.Dx,Ge,Ge+Ye)):Xe=_e.n[Ge].first;for(var ii=0,Ie=Ge;Ke>Ie;Ie++){Qe=_e.n[Ie],(ti?Qe.first:Qe.Rd)!==Xe&&(ii++,Xe=ti?Qe.first:Qe.Rd),Oe=Qe.link,Ae=Oe.l(Qe.index),Ee=Oe.l(Qe.index+1);var ni=this.PE*(ii-(ei-1)/2);Ne++,Oe.Ll(),Oe.W(Qe.index,Ae.x+ni,Ae.y),Oe.W(Qe.index+1,Ee.x+ni,Ee.y),Oe.Ui()}}Ge=Ke}Be=Ue}}}},Cl.prototype.qF=function(t,e){return t instanceof rh&&e instanceof rh&&t!==e?t.layer<e.layer?-1:t.layer>e.layer?1:t.Ke<e.Ke?-1:t.Ke>e.Ke?1:t.Yd<e.Yd?-1:t.Yd>e.Yd?1:0:0},Cl.prototype.pF=function(t,e){return t instanceof rh&&e instanceof rh&&t!==e?t.first<e.first?-1:t.first>e.first||t.ei<e.ei?1:t.ei>e.ei||t.Ke<e.Ke?-1:t.Ke>e.Ke?1:t.Yd<e.Yd?-1:t.Yd>e.Yd?1:0:0},Cl.prototype.Dx=function(t,e){return t instanceof rh&&e instanceof rh&&t!==e?t.Rd<e.Rd?-1:t.Rd>e.Rd||t.ei<e.ei?1:t.ei>e.ei||t.Ke<e.Ke?-1:t.Ke>e.Ke?1:t.Yd<e.Yd?-1:t.Yd>e.Yd?1:0:0},Cl.prototype.G=function(t,e){var i=t-e;return i>-1&&1>i},Uh.defineProperty(Cl,{layerSpacing:"layerSpacing"},function(){return this.jm},function(t){this.jm!==t&&(Uh.j(t,"number",Cl,"layerSpacing"),t>=0&&(this.jm=t,this.H()))}),Uh.defineProperty(Cl,{PD:"columnSpacing"},function(){return this.Hd},function(t){this.Hd!==t&&(Uh.j(t,"number",Cl,"columnSpacing"),t>0&&(this.Hd=t,this.H()))}),Uh.defineProperty(Cl,{direction:"direction"},function(){return this.ca},function(t){this.ca!==t&&(Uh.j(t,"number",Cl,"direction"),0===t||90===t||180===t||270===t?(this.ca=t,this.H()):Uh.k("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}),Uh.defineProperty(Cl,{angle:"angle"},function(){return this.direction},function(t){this.direction=t}),Uh.defineProperty(Cl,{lH:"cycleRemoveOption"},function(){return this.Gn},function(t){this.Gn!==t&&(Uh.rb(t,Cl,Cl,"cycleRemoveOption"),t===zd||t===Fd)&&(this.Gn=t,this.H())}),Uh.defineProperty(Cl,{nI:"layeringOption"},function(){return this.jo},function(t){this.jo!==t&&(Uh.rb(t,Cl,Cl,"layeringOption"),t===qd||t===Rd||t===Hd)&&(this.jo=t,this.H())}),Uh.defineProperty(Cl,{ZH:"initializeOption"},function(){return this.Yn},function(t){this.Yn!==t&&(Uh.rb(t,Cl,Cl,"initializeOption"),t===Bd||t===Vd||t===Ud)&&(this.Yn=t,this.H())}),Uh.defineProperty(Cl,{PK:"iterations"},function(){return this.gm},function(t){this.gm!==t&&(Uh.Ye(t,oh,"iterations"),t>=0&&(this.gm=t,this.H()))}),Uh.defineProperty(Cl,{MG:"aggressiveOption"},function(){return this.wn},function(t){this.wn!==t&&(Uh.rb(t,Cl,Cl,"aggressiveOption"),t===Gd||t===Wd||t===Kd)&&(this.wn=t,this.H())}),Uh.defineProperty(Cl,{mL:"packOption"},function(){return this.Hi},function(t){this.Hi!==t&&(Uh.j(t,"number",Cl,"packOption"),t>=0&&8>t&&(this.Hi=t,this.H()))}),Uh.defineProperty(Cl,{Op:"setsPortSpots"},function(){return this.Rh},function(t){this.Rh!==t&&(Uh.j(t,"boolean",Cl,"setsPortSpots"),this.Rh=t,this.H())}),Uh.defineProperty(Cl,{PE:"linkSpacing"},function(){return this.sr},function(t){this.sr!==t&&(Uh.j(t,"number",Cl,"linkSpacing"),t>=0&&(this.sr=t,this.H()))}),Uh.u(Cl,{wI:"maxLayer"},function(){return this.qb}),Uh.u(Cl,{WK:"maxIndex"},function(){return this.Dv}),Uh.u(Cl,{VK:"maxColumn"},function(){return this.Hb}),Uh.u(Cl,{aL:"minIndexLayer"},function(){return this.Cr}),Uh.u(Cl,{XK:"maxIndexLayer"},function(){return this.If
});var Fd;Cl.CycleDepthFirst=Fd=Uh.p(Cl,"CycleDepthFirst",0);var zd;Cl.CycleGreedy=zd=Uh.p(Cl,"CycleGreedy",1);var qd;Cl.LayerOptimalLinkLength=qd=Uh.p(Cl,"LayerOptimalLinkLength",0);var Rd;Cl.LayerLongestPathSink=Rd=Uh.p(Cl,"LayerLongestPathSink",1);var Hd;Cl.LayerLongestPathSource=Hd=Uh.p(Cl,"LayerLongestPathSource",2);var Bd;Cl.InitDepthFirstOut=Bd=Uh.p(Cl,"InitDepthFirstOut",0);var Vd;Cl.InitDepthFirstIn=Vd=Uh.p(Cl,"InitDepthFirstIn",1);var Ud;Cl.InitNaive=Ud=Uh.p(Cl,"InitNaive",2);var Gd;Cl.AggressiveNone=Gd=Uh.p(Cl,"AggressiveNone",0);var Wd;Cl.AggressiveLess=Wd=Uh.p(Cl,"AggressiveLess",1);var Kd;Cl.AggressiveMore=Kd=Uh.p(Cl,"AggressiveMore",2),Cl.PackNone=0;var Yd;Cl.PackExpand=Yd=1;var Jd;Cl.PackStraighten=Jd=2;var Xd;Cl.PackMedian=Xd=4;var Qd;Cl.PackAll=Qd=7,Uh.Nd(rh,{layer:!0,first:!0,Rd:!0,Ke:!0,Yd:!0,index:!0,link:!0,ei:!0}),Uh.Ja(oh,qa),Uh.ea("LayeredDigraphNetwork",oh),oh.prototype.createVertex=function(){return new sh},oh.prototype.createEdge=function(){return new ah},Uh.Ja(sh,Ua),Uh.ea("LayeredDigraphVertex",sh),Uh.Ja(ah,Ga),Uh.ea("LayeredDigraphEdge",ah),Uh.Ja(lh,Fa),Uh.ea("TreeLayout",lh),lh.prototype.cloneProtected=function(t){Fa.prototype.cloneProtected.call(this,t),t.Vr=this.Vr,t.Ms=this.Ms,t.Bv=this.Bv,t.yh=this.yh,t.jd=this.jd,t.bg.assign(this.bg),t.sa.copyInheritedPropertiesFrom(this.sa),t.ua.copyInheritedPropertiesFrom(this.ua)},lh.prototype.createNetwork=function(){return new zh},lh.prototype.makeNetwork=function(t){function e(t){if(t instanceof js)return!t.wf&&"Comment"!==t.Ec;if(t instanceof Ws){var e=t.V;return null===e||e.wf||"Comment"===e.Ec?!1:(t=t.ba,null===t||t.wf||"Comment"===t.Ec?!1:!0)}return!1}var i=this.createNetwork();return i.Qb=this,t instanceof Qi?(i.Vj(t.Bg,!0,e),i.Vj(t.links,!0,e)):t instanceof Na?i.Vj(t.Ic,!1,e):i.Vj(t.i,!1,e),i},lh.prototype.doLayout=function(t){null===t&&Uh.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),this.Nf!==kp&&(this.Xd=this.initialOrigin(this.Xd));var e=this.g;if(null===e&&t instanceof Qi&&(e=t),this.Ef=this.path===Zd&&null!==e?e.Qd?tp:ep:this.path===Zd?tp:this.path,0<this.network.vertexes.count){for(this.network.Mw(),t=this.network.vertexes.i;t.next();)e=t.value,e.initialized=!1,e.level=0,e.parent=null,e.children=[];if(0<this.xd.count){for(t=new f(qh),e=this.xd.i;e.next();){var i=e.value;i instanceof js?(i=this.network.Wm(i),null!==i&&t.add(i)):i instanceof qh&&t.add(i)}this.xd=t}for(0===this.xd.count&&this.findRoots(),t=this.xd.copy().i;t.next();)e=t.value,e.initialized||(e.initialized=!0,hh(this,e));for(t=this.xd.i;t.next();)e=t.value,e instanceof qh&&ch(this,e);for(t=this.xd.i;t.next();)e=t.value,e instanceof qh&&dh(this,e);for(t=this.xd.i;t.next();)e=t.value,e instanceof qh&&ph(this,e);if(this.vz(),this.$z===Cp){for(i=[],t=this.network.vertexes.i;t.next();){var n=t.value,e=n.parent;null===e&&(e=n);var e=0===e.angle||180===e.angle,r=i[n.level];void 0===r&&(r=0),i[n.level]=Math.max(r,e?n.width:n.height)}for(n=0;n<i.length;n++)void 0===i[n]&&(i[n]=0);for(this.mB=i,t=this.network.vertexes.i;t.next();)n=t.value,e=n.parent,null===e&&(e=n),0===e.angle||180===e.angle?(180===e.angle&&(n.tt+=i[n.level]-n.width),n.width=i[n.level]):(270===e.angle&&(n.ut+=i[n.level]-n.height),n.height=i[n.level])}else if(this.$z===$p)for(t=this.network.vertexes.i;t.next();){for(i=t.value,e=0===i.angle||180===i.angle,r=-1,n=0;n<i.children.length;n++)var o=i.children[n],r=Math.max(r,e?o.width:o.height);if(r>=0)for(n=0;n<i.children.length;n++)o=i.children[n],e?(180===i.angle&&(o.tt+=r-o.width),o.width=r):(270===i.angle&&(o.ut+=r-o.height),o.height=r)}for(t=this.xd.i;t.next();)e=t.value,e instanceof qh&&this.layoutTree(e);this.arrangeTrees(),this.updateParts()}this.network=null,this.xd=new f(Object),this.yf=!0},lh.prototype.findRoots=function(){for(var t=this.network.vertexes.i;t.next();){var e=t.value;switch(this.Ef){case tp:0===e.lc.count&&this.xd.add(e);break;case ep:0===e.$b.count&&this.xd.add(e);break;default:Uh.k("Unhandled path value "+this.Ef.toString())}}if(0===this.xd.count){for(var t=999999,e=null,i=this.network.vertexes.i;i.next();){var n=i.value;switch(this.Ef){case tp:n.lc.count<t&&(t=n.lc.count,e=n);break;case ep:n.$b.count<t&&(t=n.$b.count,e=n);break;default:Uh.k("Unhandled path value "+this.Ef.toString())}}null!==e&&this.xd.add(e)}},lh.prototype.removeChild=function(t,e){if(null!==t&&null!==e){for(var i=t.children,n=0,r=0;r<i.length;r++)i[r]===e&&n++;if(n>0){for(var n=Array(i.length-n),o=0,r=0;r<i.length;r++)i[r]!==e&&(n[o++]=i[r]);t.children=n}}},lh.prototype.initializeTreeVertexValues=function(t){var e=fh(this,t);if(t.copyInheritedPropertiesFrom(e),null!==t.parent&&t.parent.alignment===cp){for(var e=t.angle,i=t.parent.children,n=0;n<i.length&&t!==i[n];)n++;0===n%2?n!==i.length-1&&(e=90===e?180:180===e?270:270===e?180:270):e=90===e?0:180===e?90:270===e?0:90,t.angle=e}t.initialized=!0},lh.prototype.assignTreeVertexValues=function(){},lh.prototype.sortTreeVertexChildren=function(t){switch(t.sorting){case ip:break;case np:t.children.reverse();break;case rp:t.children.sort(t.comparer);break;case op:t.children.sort(t.comparer),t.children.reverse();break;default:Uh.k("Unhandled sorting value "+t.sorting.toString())}},lh.prototype.vz=function(){if(this.comments)for(var t=this.network.vertexes.i;t.next();)this.addComments(t.value)},lh.prototype.addComments=function(t){var e=t.angle,i=t.parent,n=0,r=ap,r=!1;null!==i&&(n=i.angle,r=i.alignment,r=gh(r));var e=90===e||270===e,n=90===n||270===n,i=0===t.Lm,o=0,s=0,a=0,l=t.commentSpacing;if(null!==t.Jc)for(var h=t.Jc.jE();h.next();){var u=h.value;"Comment"===u.Ec&&u.canLayout()&&(null===t.comments&&(t.comments=[]),t.comments.push(u),u.sf(),u=u.Ca,e&&!i||!r&&!n&&i||r&&n&&i?(o=Math.max(o,u.width),s+=u.height+Math.abs(a)):(o+=u.width+Math.abs(a),s=Math.max(s,u.height)),a=l)}null!==t.comments&&(e&&!i||!r&&!n&&i||r&&n&&i?(o+=Math.abs(t.commentMargin),s=Math.max(0,s-t.height)):(s+=Math.abs(t.commentMargin),o=Math.max(0,o-t.width)),r=Uh.lk(0,0,t.N.width+o,t.N.height+s),t.ob=r,Uh.ic(r))},lh.prototype.layoutComments=function(t){if(null!==t.comments){var e=t.Jc.Ca,i=t.parent,n=t.angle,r=0,o=ap,o=!1;null!==i&&(r=i.angle,o=i.alignment,o=gh(o));for(var i=90===n||270===n,n=90===r||270===r,s=0===t.Lm,a=mh(t),l=0,h=t.comments,u=h.length,c=Uh.M(),f=0;u>f;f++){var d=h[f],p=d.Ca;if(i&&!s||!o&&!n&&s||o&&n&&s){if(r>135&&!o||n&&a)if(0<=t.commentMargin)for(c.m(t.N.x-t.commentMargin-p.width,t.N.y+l),d.move(c),d=d.tg();d.next();){var g=d.value;g.Ab=cu,g.Bb=fu}else for(c.m(t.N.x+2*t.O.x-t.commentMargin,t.N.y+l),d.move(c),d=d.tg();d.next();)g=d.value,g.Ab=fu,g.Bb=cu;else if(0<=t.commentMargin)for(c.m(t.N.x+2*t.O.x+t.commentMargin,t.N.y+l),d.move(c),d=d.tg();d.next();)g=d.value,g.Ab=fu,g.Bb=cu;else for(c.m(t.N.x+t.commentMargin-p.width,t.N.y+l),d.move(c),d=d.tg();d.next();)g=d.value,g.Ab=cu,g.Bb=fu;l=0<=t.commentSpacing?l+(p.height+t.commentSpacing):l+(t.commentSpacing-p.height)}else{if(r>135&&!o||!n&&a)if(0<=t.commentMargin)for(c.m(t.N.x+l,t.N.y-t.commentMargin-p.height),d.move(c),d=d.tg();d.next();)g=d.value,g.Ab=uu,g.Bb=du;else for(c.m(t.N.x+l,t.N.y+2*t.O.y-t.commentMargin),d.move(c),d=d.tg();d.next();)g=d.value,g.Ab=du,g.Bb=uu;else if(0<=t.commentMargin)for(c.m(t.N.x+l,t.N.y+2*t.O.y+t.commentMargin),d.move(c),d=d.tg();d.next();)g=d.value,g.Ab=du,g.Bb=uu;else for(c.m(t.N.x+l,t.N.y+t.commentMargin-p.height),d.move(c),d=d.tg();d.next();)g=d.value,g.Ab=uu,g.Bb=du;l=0<=t.commentSpacing?l+(p.width+t.commentSpacing):l+(t.commentSpacing-p.width)}}if(Uh.v(c),e=l-t.commentSpacing-(i?e.height:e.width),this.Ef===tp)for(r=t.$b;r.next();)t=r.value.link,null===t||t.zl||(t.rl=e>0?e:0/0);else for(r=t.lc;r.next();)t=r.value.link,null===t||t.zl||(t.Pl=e>0?e:0/0)}},lh.prototype.layoutTree=function(t){if(null!==t){for(var e=t.children,i=e.length,n=0;i>n;n++)this.layoutTree(e[n]);switch(t.compaction){case pp:yh(this,t);break;case gp:if(t.alignment===cp)yh(this,t);else if(0===t.Lm){var n=t.parent,e=!1,i=0,r=ap;null!==n&&(i=n.angle,r=n.alignment,e=gh(r)),n=mh(t),t.na.m(0,0),t.ib.m(t.width,t.height),null===t.parent||null===t.comments||(180!==i&&270!==i||e)&&!n?t.Ma.m(0,0):180===i&&!e||(90===i||270===i)&&n?t.Ma.m(t.width-2*t.O.x,0):t.Ma.m(0,t.height-2*t.O.y),t.Kt=null,t.cu=null}else{for(var o=Ih(t),e=90===o||270===o,s=0,a=t.children,l=a.length,h=0;l>h;h++)var u=a[h],s=Math.max(s,e?u.ib.width:u.ib.height);var c=t.alignment,n=c===lp,f=c===hp,d=gh(c),p=Math.max(0,t.breadthLimit),i=Lh(t),g=t.nodeSpacing,v=Fh(t),m=t.rowSpacing,y=0;(n||f||t.Jp||t.Kp&&1===t.maxGenerationCount)&&(y=Math.max(0,t.rowIndent));var n=t.width,r=t.height,b=0,x=0,w=0,k=null,T=null,$=0,C=0,M=0,S=0,P=0,D=0,A=0,E=0,u=0;if(d&&!vh(c)&&o>135&&a.reverse(),vh(c))if(l>1)for(h=0;l>h;h++)0===h%2&&h!==l-1?E=Math.max(E,e?a[h].ib.width:a[h].ib.height):0!==h%2&&(u=Math.max(u,e?a[h].ib.width:a[h].ib.height));else 1===l&&(E=e?a[0].ib.width:a[0].ib.height);if(d){switch(c){case up:C=135>o?bh(t,a,E,b,x):xh(t,a,E,b,x),E=C.x,b=C.width,x=C.height;break;case fp:for(h=0;l>h;h++){var u=a[h],N=u.ib,k=0===D?0:m;e?(u.na.m(s-N.width,S+k),b=Math.max(b,N.width),x=Math.max(x,S+k+N.height),S+=k+N.height):(u.na.m(M+k,s-N.height),b=Math.max(b,M+k+N.width),x=Math.max(x,N.height),M+=k+N.width),D++}break;case dp:for(h=0;l>h;h++)u=a[h],N=u.ib,k=0===D?0:m,e?(u.na.m(g/2+t.O.x,S+k),b=Math.max(b,N.width),x=Math.max(x,S+k+N.height),S+=k+N.height):(u.na.m(M+k,g/2+t.O.y),b=Math.max(b,M+k+N.width),x=Math.max(x,N.height),M+=k+N.width),D++}k=Nh(this,2),T=Nh(this,2),e?(k[0].m(0,0),k[1].m(0,x),T[0].m(b,0)):(k[0].m(0,0),k[1].m(b,0),T[0].m(0,x)),T[1].m(b,x)}else for(h=0;l>h;h++){if(u=a[h],N=u.ib,e){p>0&&D>0&&M+g+N.width>p&&(s>M&&Sh(t,c,s-M,0,A,h-1),P++,D=0,A=h,w=x,M=0,S=o>135?-x-m:x+m),Dh(this,u,0,S);var _=0;if(0===D)k=u.Kt,T=u.cu,$=N.width,C=N.height,(null===k||null===T||o!==Ih(u))&&(k=Nh(this,2),T=Nh(this,2),k[0].m(0,0),k[1].m(0,C),T[0].m($,0),T[1].m($,C));else{var j=Uh.mb(),C=Eh(this,t,u,k,T,$,C,j),_=C.x,k=j[0],T=j[1],$=C.width,C=C.height;Uh.ta(j),M<N.width&&0>_&&(Ph(t,-_,0,A,h-1),Ah(k,-_,0),Ah(T,-_,0),_=0)}u.na.m(_,S),b=Math.max(b,$),x=Math.max(x,w+(0===P?0:m)+N.height),M=$}else p>0&&D>0&&S+g+N.height>p&&(s>S&&Sh(t,c,0,s-S,A,h-1),P++,D=0,A=h,w=b,S=0,M=o>135?-b-m:b+m),Dh(this,u,M,0),_=0,0===D?(k=u.Kt,T=u.cu,$=N.width,C=N.height,(null===k||null===T||o!==Ih(u))&&(k=Nh(this,2),T=Nh(this,2),k[0].m(0,0),k[1].m($,0),T[0].m(0,C),T[1].m($,C))):(j=Uh.mb(),C=Eh(this,t,u,k,T,$,C,j),_=C.x,k=j[0],T=j[1],$=C.width,C=C.height,Uh.ta(j),S<N.height&&0>_&&(Ph(t,0,-_,A,h-1),Ah(k,0,-_),Ah(T,0,-_),_=0)),u.na.m(M,_),x=Math.max(x,C),b=Math.max(b,w+(0===P?0:m)+N.width),S=C;D++}switch(P>0&&(e?(x+=Math.max(0,i),b>M&&Sh(t,c,b-M,0,A,l-1),y>0&&(f||Ph(t,y,0,0,l-1),b+=y)):(b+=Math.max(0,i),x>S&&Sh(t,c,0,x-S,A,l-1),y>0&&(f||Ph(t,0,y,0,l-1),x+=y))),f=s=0,c){case sp:e?s+=b/2-t.O.x-v/2:f+=x/2-t.O.y-v/2;break;case ap:P>0?e?s+=b/2-t.O.x-v/2:f+=x/2-t.O.y-v/2:e?(h=a[0].na.x+a[0].Ma.x,E=a[l-1].na.x+a[l-1].Ma.x+2*a[l-1].O.x,s+=h+(E-h)/2-t.O.x-v/2):(h=a[0].na.y+a[0].Ma.y,E=a[l-1].na.y+a[l-1].Ma.y+2*a[l-1].O.y,f+=h+(E-h)/2-t.O.y-v/2);break;case lp:e?(s-=v,b+=v):(f-=v,x+=v);break;case hp:e?(s+=b-t.width+v,b+=v):(f+=x-t.height+v,x+=v);break;case up:e?s=l>1?s+(E+g/2-t.O.x):s+(a[0].O.x-t.O.x+a[0].Ma.x):f=l>1?f+(E+g/2-t.O.y):f+(a[0].O.y-t.O.y+a[0].Ma.y);break;case fp:e?s+=b+g/2-t.O.x:f+=x+g/2-t.O.y;break;case dp:break;default:Uh.k("Unhandled alignment value "+c.toString())}for(h=0;l>h;h++)u=a[h],e?u.na.m(u.na.x+u.Ma.x-s,u.na.y+(o>135?(d?-x:-u.ib.height)+u.Ma.y-i:r+i+u.Ma.y)):u.na.m(u.na.x+(o>135?(d?-b:-u.ib.width)+u.Ma.x-i:n+i+u.Ma.x),u.na.y+u.Ma.y-f);if(l=a=0,d?e?(b=$h(t,b,s),0>s&&(s=0),o>135&&(f+=x+i),x+=r+i,c===dp&&(a+=g/2+t.O.x),l+=r+i):(o>135&&(s+=b+i),b+=n+i,x=Ch(t,x,f),0>f&&(f=0),c===dp&&(l+=g/2+t.O.y),a+=n+i):e?(null===t.comments?n>b&&(c=Mh(c,n-b,0),a=c.x,l=c.y,b=n,s=0):b=$h(t,b,s),0>s&&(a-=s,s=0),o>135&&(f+=x+i),x=Math.max(Math.max(x,r),x+r+i),l+=r+i):(o>135&&(s+=b+i),b=Math.max(Math.max(b,n),b+n+i),null===t.comments?r>x&&(c=Mh(c,0,r-x),a=c.x,l=c.y,x=r,f=0):x=Ch(t,x,f),0>f&&(l-=f,f=0),a+=n+i),P>0)o=Nh(this,4),c=Nh(this,4),e?(o[2].m(0,r+i),o[3].m(o[2].x,x),c[2].m(b,o[2].y),c[3].m(c[2].x,o[3].y)):(o[2].m(n+i,0),o[3].m(b,o[2].y),c[2].m(o[2].x,x),c[3].m(o[3].x,c[2].y));else{for(o=Nh(this,k.length+2),c=Nh(this,T.length+2),h=0;h<k.length;h++)d=k[h],o[h+2].m(d.x+a,d.y+l);for(h=0;h<T.length;h++)d=T[h],c[h+2].m(d.x+a,d.y+l)}e?(o[0].m(s,0),o[1].m(o[0].x,r),o[2].y<o[1].y&&(o[2].x>o[0].x?o[2].assign(o[1]):o[1].assign(o[2])),o[3].y<o[2].y&&(o[3].x>o[0].x?o[3].assign(o[2]):o[2].assign(o[3])),c[0].m(s+n,0),c[1].m(c[0].x,r),c[2].y<c[1].y&&(c[2].x<c[0].x?c[2].assign(c[1]):c[1].assign(c[2])),c[3].y<c[2].y&&(c[3].x<c[0].x?c[3].assign(c[2]):c[2].assign(c[3])),o[2].y-=i/2,c[2].y-=i/2):(o[0].m(0,f),o[1].m(n,o[0].y),o[2].x<o[1].x&&(o[2].y>o[0].y?o[2].assign(o[1]):o[1].assign(o[2])),o[3].x<o[2].x&&(o[3].y>o[0].y?o[3].assign(o[2]):o[2].assign(o[3])),c[0].m(0,f+r),c[1].m(n,c[0].y),c[2].x<c[1].x&&(c[2].y<c[0].y?c[2].assign(c[1]):c[1].assign(c[2])),c[3].x<c[2].x&&(c[3].y<c[0].y?c[3].assign(c[2]):c[2].assign(c[3])),o[2].x-=i/2,c[2].x-=i/2),_h(this,k),_h(this,T),t.Kt=o,t.cu=c,t.Ma.m(s,f),t.ib.m(b,x)}break;default:Uh.k("Unhandled compaction value "+t.compaction.toString())}}},lh.prototype.arrangeTrees=function(){if(this.jd===kp)for(var t=this.xd.i;t.next();){var e=t.value;if(e instanceof qh){var i=e.Jc;if(null!==i){var n=i.position,i=n.x,n=n.y;isFinite(i)||(i=0),isFinite(n)||(n=0),jh(this,e,i,n)}}}else{for(i=[],t=this.xd.i;t.next();)e=t.value,e instanceof qh&&i.push(e);switch(this.sorting){case ip:break;case np:i.reverse();break;case rp:i.sort(this.comparer);break;case op:i.sort(this.comparer),i.reverse();break;default:Uh.k("Unhandled sorting value "+this.sorting.toString())}for(e=this.Xd,t=e.x,e=e.y,n=0;n<i.length;n++){var r=i[n];switch(jh(this,r,t+r.Ma.x,e+r.Ma.y),this.jd){case xp:e+=r.ib.height+this.bg.height;break;case wp:t+=r.ib.width+this.bg.width;break;default:Uh.k("Unhandled arrangement value "+this.jd.toString())}}}},lh.prototype.commitLayout=function(){this.IA(),this.commitNodes(),this.Az(),this.Ht&&this.commitLinks()},lh.prototype.commitNodes=function(){for(var t=this.network.vertexes.i;t.next();)t.value.commit();for(t.reset();t.next();)this.layoutComments(t.value)},lh.prototype.Az=function(){if(this.$z===Cp){for(var t=this.mB,e=[],i=null,n=this.network.vertexes.i;n.next();){var r=n.value;null===i?i=r.ob.copy():i.fi(r.ob);var o=e[r.level],o=void 0===o?Lh(r):Math.max(o,Lh(r));e[r.level]=o}for(n=0;n<e.length;n++)void 0===e[n]&&(e[n]=0);90===this.angle||270===this.angle?(i.Qf(this.nodeSpacing/2,this.layerSpacing),r=new b(-this.nodeSpacing/2,-this.layerSpacing/2)):(i.Qf(this.layerSpacing,this.nodeSpacing/2),r=new b(-this.layerSpacing/2,-this.nodeSpacing/2));var o=[],i=90===this.angle||270===this.angle?i.width:i.height,s=0;if(180===this.angle||270===this.angle)for(n=0;n<t.length;n++)s+=t[n]+e[n];for(n=0;n<t.length;n++){var a=t[n]+e[n];270===this.angle?(s-=a,o.push(new T(0,s,i,a))):90===this.angle?(o.push(new T(0,s,i,a)),s+=a):180===this.angle?(s-=a,o.push(new T(s,0,a,i))):(o.push(new T(s,0,a,i)),s+=a)}this.commitLayers(o,r)}},lh.prototype.commitLayers=function(){},lh.prototype.commitLinks=function(){for(var t=this.network.edges.i;t.next();)t.value.commit()},lh.prototype.IA=function(){for(var t=this.xd.i;t.next();){var e=t.value;e instanceof qh&&Oh(this,e)}},lh.prototype.setPortSpots=function(t){var e=t.alignment;if(gh(e)){var i,n=this.Ef===tp,r=Ih(t);switch(r){case 0:i=fu;break;case 90:i=du;break;case 180:i=cu;break;default:i=uu}var o=t.children,s=o.length;switch(e){case up:case cp:for(e=0;s>e;e++){var a=o[e],a=(n?a.lc:a.$b).first();if(null!==a&&(a=a.link,null!==a)){var l=90===r||270===r?cu:uu;if(1===s||e===s-1&&1===s%2)switch(r){case 0:l=cu;break;case 90:l=uu;break;case 180:l=fu;break;default:l=du}else 0===e%2&&(l=90===r||270===r?fu:du);n?(t.setsPortSpot&&(a.Ab=i),t.setsChildPortSpot&&(a.Bb=l)):(t.setsPortSpot&&(a.Ab=l),t.setsChildPortSpot&&(a.Bb=i))}}break;case fp:for(l=90===r||270===r?fu:du,r=n?t.$b:t.lc;r.next();)a=r.value.link,null!==a&&(n?(t.setsPortSpot&&(a.Ab=i),t.setsChildPortSpot&&(a.Bb=l)):(t.setsPortSpot&&(a.Ab=l),t.setsChildPortSpot&&(a.Bb=i)));break;case dp:for(l=90===r||270===r?cu:uu,r=n?t.$b:t.lc;r.next();)a=r.value.link,null!==a&&(n?(t.setsPortSpot&&(a.Ab=i),t.setsChildPortSpot&&(a.Bb=l)):(t.setsPortSpot&&(a.Ab=l),t.setsChildPortSpot&&(a.Bb=i)))}}else if(n=Ih(t),this.Ef===tp){for(i=t.$b;i.next();)if(r=i.value.link,null!==r){if(t.setsPortSpot)if(t.portSpot.Uc())switch(n){case 0:r.Ab=fu;break;case 90:r.Ab=du;break;case 180:r.Ab=cu;break;default:r.Ab=uu}else r.Ab=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Uc())switch(n){case 0:r.Bb=cu;break;case 90:r.Bb=uu;break;case 180:r.Bb=fu;break;default:r.Bb=du}else r.Bb=t.childPortSpot}}else for(i=t.lc;i.next();)if(r=i.value.link,null!==r){if(t.setsPortSpot)if(t.portSpot.Uc())switch(n){case 0:r.Bb=fu;break;case 90:r.Bb=du;break;case 180:r.Bb=cu;break;default:r.Bb=uu}else r.Bb=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Uc())switch(n){case 0:r.Ab=cu;break;case 90:r.Ab=uu;break;case 180:r.Ab=fu;break;default:r.Ab=du}else r.Ab=t.childPortSpot}},Uh.defineProperty(lh,{uL:"roots"},function(){return this.xd},function(t){this.xd!==t&&(Uh.A(t,f,lh,"roots"),this.xd=t,this.H())}),Uh.defineProperty(lh,{path:"path"},function(){return this.Vr},function(t){this.Vr!==t&&(Uh.rb(t,lh,lh,"path"),this.Vr=t,this.H())}),Uh.defineProperty(lh,{DJ:"treeStyle"},function(){return this.Ms},function(t){this.jd!==t&&(Uh.rb(t,lh,lh,"treeStyle"),t===vp||t===yp||t===mp||t===bp)&&(this.Ms=t,this.H())}),Uh.defineProperty(lh,{$z:"layerStyle"},function(){return this.Bv},function(t){this.jd!==t&&(Uh.rb(t,lh,lh,"layerStyle"),t===Tp||t===$p||t===Cp)&&(this.Bv=t,this.H())}),Uh.defineProperty(lh,{comments:"comments"},function(){return this.yh},function(t){this.yh!==t&&(Uh.j(t,"boolean",lh,"comments"),this.yh=t,this.H())}),Uh.defineProperty(lh,{Nf:"arrangement"},function(){return this.jd},function(t){this.jd!==t&&(Uh.rb(t,lh,lh,"arrangement"),t===xp||t===wp||t===kp)&&(this.jd=t,this.H())}),Uh.defineProperty(lh,{GD:"arrangementSpacing"},function(){return this.bg},function(t){Uh.A(t,k,lh,"arrangementSpacing"),this.bg.L(t)||(this.bg.assign(t),this.H())}),Uh.defineProperty(lh,{tL:"rootDefaults"},function(){return this.sa},function(t){this.sa!==t&&(Uh.A(t,qh,lh,"rootDefaults"),this.sa=t,this.H())}),Uh.defineProperty(lh,{UJ:"alternateDefaults"},function(){return this.ua},function(t){this.ua!==t&&(Uh.A(t,qh,lh,"alternateDefaults"),this.ua=t,this.H())}),Uh.defineProperty(lh,{sorting:"sorting"},function(){return this.sa.sorting},function(t){this.sa.sorting!==t&&(Uh.rb(t,lh,lh,"sorting"),t===ip||t===np||t===rp||op)&&(this.sa.sorting=t,this.H())}),Uh.defineProperty(lh,{comparer:"comparer"},function(){return this.sa.comparer},function(t){this.sa.comparer!==t&&(Uh.j(t,"function",lh,"comparer"),this.sa.comparer=t,this.H())}),Uh.defineProperty(lh,{angle:"angle"},function(){return this.sa.angle},function(t){this.sa.angle!==t&&(Uh.j(t,"number",lh,"angle"),0===t||90===t||180===t||270===t?(this.sa.angle=t,this.H()):Uh.k("TreeLayout.angle must be 0, 90, 180, or 270"))}),Uh.defineProperty(lh,{alignment:"alignment"},function(){return this.sa.alignment},function(t){this.sa.alignment!==t&&(Uh.rb(t,lh,lh,"alignment"),this.sa.alignment=t,this.H())}),Uh.defineProperty(lh,{nodeIndent:"nodeIndent"},function(){return this.sa.nodeIndent},function(t){this.sa.nodeIndent!==t&&(Uh.j(t,"number",lh,"nodeIndent"),t>=0&&(this.sa.nodeIndent=t,this.H()))}),Uh.defineProperty(lh,{nodeIndentPastParent:"nodeIndentPastParent"},function(){return this.sa.nodeIndentPastParent},function(t){this.sa.nodeIndentPastParent!==t&&(Uh.j(t,"number",lh,"nodeIndentPastParent"),t>=0&&1>=t&&(this.sa.nodeIndentPastParent=t,this.H()))}),Uh.defineProperty(lh,{nodeSpacing:"nodeSpacing"},function(){return this.sa.nodeSpacing},function(t){this.sa.nodeSpacing!==t&&(Uh.j(t,"number",lh,"nodeSpacing"),this.sa.nodeSpacing=t,this.H())}),Uh.defineProperty(lh,{layerSpacing:"layerSpacing"},function(){return this.sa.layerSpacing},function(t){this.sa.layerSpacing!==t&&(Uh.j(t,"number",lh,"layerSpacing"),this.sa.layerSpacing=t,this.H())}),Uh.defineProperty(lh,{layerSpacingParentOverlap:"layerSpacingParentOverlap"},function(){return this.sa.layerSpacingParentOverlap},function(t){this.sa.layerSpacingParentOverlap!==t&&(Uh.j(t,"number",lh,"layerSpacingParentOverlap"),t>=0&&1>=t&&(this.sa.layerSpacingParentOverlap=t,this.H()))}),Uh.defineProperty(lh,{compaction:"compaction"},function(){return this.sa.compaction},function(t){this.sa.compaction!==t&&(Uh.rb(t,lh,lh,"compaction"),t===pp||t===gp)&&(this.sa.compaction=t,this.H())}),Uh.defineProperty(lh,{breadthLimit:"breadthLimit"},function(){return this.sa.breadthLimit},function(t){this.sa.breadthLimit!==t&&(Uh.j(t,"number",lh,"breadthLimit"),t>=0&&(this.sa.breadthLimit=t,this.H()))}),Uh.defineProperty(lh,{rowSpacing:"rowSpacing"},function(){return this.sa.rowSpacing},function(t){this.sa.rowSpacing!==t&&(Uh.j(t,"number",lh,"rowSpacing"),this.sa.rowSpacing=t,this.H())}),Uh.defineProperty(lh,{rowIndent:"rowIndent"},function(){return this.sa.rowIndent},function(t){this.sa.rowIndent!==t&&(Uh.j(t,"number",lh,"rowIndent"),t>=0&&(this.sa.rowIndent=t,this.H()))}),Uh.defineProperty(lh,{commentSpacing:"commentSpacing"},function(){return this.sa.commentSpacing},function(t){this.sa.commentSpacing!==t&&(Uh.j(t,"number",lh,"commentSpacing"),this.sa.commentSpacing=t,this.H())}),Uh.defineProperty(lh,{commentMargin:"commentMargin"},function(){return this.sa.commentMargin},function(t){this.sa.commentMargin!==t&&(Uh.j(t,"number",lh,"commentMargin"),this.sa.commentMargin=t,this.H())}),Uh.defineProperty(lh,{setsPortSpot:"setsPortSpot"},function(){return this.sa.setsPortSpot},function(t){this.sa.setsPortSpot!==t&&(Uh.j(t,"boolean",lh,"setsPortSpot"),this.sa.setsPortSpot=t,this.H())}),Uh.defineProperty(lh,{portSpot:"portSpot"},function(){return this.sa.portSpot},function(t){Uh.A(t,E,lh,"portSpot"),this.sa.portSpot.L(t)||(this.sa.portSpot=t,this.H())}),Uh.defineProperty(lh,{setsChildPortSpot:"setsChildPortSpot"},function(){return this.sa.setsChildPortSpot},function(t){this.sa.setsChildPortSpot!==t&&(Uh.j(t,"boolean",lh,"setsChildPortSpot"),this.sa.setsChildPortSpot=t,this.H())}),Uh.defineProperty(lh,{childPortSpot:"childPortSpot"},function(){return this.sa.childPortSpot},function(t){Uh.A(t,E,lh,"childPortSpot"),this.sa.childPortSpot.L(t)||(this.sa.childPortSpot=t,this.H())}),Uh.defineProperty(lh,{eK:"alternateSorting"},function(){return this.ua.sorting},function(t){this.ua.sorting!==t&&(Uh.rb(t,lh,lh,"alternateSorting"),t===ip||t===np||t===rp||op)&&(this.ua.sorting=t,this.H())}),Uh.defineProperty(lh,{TJ:"alternateComparer"},function(){return this.ua.comparer},function(t){this.ua.comparer!==t&&(Uh.j(t,"function",lh,"alternateComparer"),this.ua.comparer=t,this.H())}),Uh.defineProperty(lh,{NJ:"alternateAngle"},function(){return this.ua.angle},function(t){this.ua.angle!==t&&(Uh.j(t,"number",lh,"alternateAngle"),0===t||90===t||180===t||270===t)&&(this.ua.angle=t,this.H())}),Uh.defineProperty(lh,{MJ:"alternateAlignment"},function(){return this.ua.alignment},function(t){this.ua.alignment!==t&&(Uh.rb(t,lh,lh,"alternateAlignment"),this.ua.alignment=t,this.H())}),Uh.defineProperty(lh,{XJ:"alternateNodeIndent"},function(){return this.ua.nodeIndent},function(t){this.ua.nodeIndent!==t&&(Uh.j(t,"number",lh,"alternateNodeIndent"),t>=0&&(this.ua.nodeIndent=t,this.H()))}),Uh.defineProperty(lh,{YJ:"alternateNodeIndentPastParent"},function(){return this.ua.nodeIndentPastParent},function(t){this.ua.nodeIndentPastParent!==t&&(Uh.j(t,"number",lh,"alternateNodeIndentPastParent"),t>=0&&1>=t&&(this.ua.nodeIndentPastParent=t,this.H()))}),Uh.defineProperty(lh,{ZJ:"alternateNodeSpacing"},function(){return this.ua.nodeSpacing},function(t){this.ua.nodeSpacing!==t&&(Uh.j(t,"number",lh,"alternateNodeSpacing"),this.ua.nodeSpacing=t,this.H())}),Uh.defineProperty(lh,{VJ:"alternateLayerSpacing"},function(){return this.ua.layerSpacing},function(t){this.ua.layerSpacing!==t&&(Uh.j(t,"number",lh,"alternateLayerSpacing"),this.ua.layerSpacing=t,this.H())}),Uh.defineProperty(lh,{WJ:"alternateLayerSpacingParentOverlap"},function(){return this.ua.layerSpacingParentOverlap},function(t){this.ua.layerSpacingParentOverlap!==t&&(Uh.j(t,"number",lh,"alternateLayerSpacingParentOverlap"),t>=0&&1>=t&&(this.ua.layerSpacingParentOverlap=t,this.H()))}),Uh.defineProperty(lh,{SJ:"alternateCompaction"},function(){return this.ua.compaction},function(t){this.ua.compaction!==t&&(Uh.rb(t,lh,lh,"alternateCompaction"),t===pp||t===gp)&&(this.ua.compaction=t,this.H())}),Uh.defineProperty(lh,{OJ:"alternateBreadthLimit"},function(){return this.ua.breadthLimit},function(t){this.ua.breadthLimit!==t&&(Uh.j(t,"number",lh,"alternateBreadthLimit"),t>=0&&(this.ua.breadthLimit=t,this.H()))}),Uh.defineProperty(lh,{bK:"alternateRowSpacing"},function(){return this.ua.rowSpacing},function(t){this.ua.rowSpacing!==t&&(Uh.j(t,"number",lh,"alternateRowSpacing"),this.ua.rowSpacing=t,this.H())}),Uh.defineProperty(lh,{aK:"alternateRowIndent"},function(){return this.ua.rowIndent},function(t){this.ua.rowIndent!==t&&(Uh.j(t,"number",lh,"alternateRowIndent"),t>=0&&(this.ua.rowIndent=t,this.H()))}),Uh.defineProperty(lh,{RJ:"alternateCommentSpacing"},function(){return this.ua.commentSpacing},function(t){this.ua.commentSpacing!==t&&(Uh.j(t,"number",lh,"alternateCommentSpacing"),this.ua.commentSpacing=t,this.H())}),Uh.defineProperty(lh,{QJ:"alternateCommentMargin"},function(){return this.ua.commentMargin},function(t){this.ua.commentMargin!==t&&(Uh.j(t,"number",lh,"alternateCommentMargin"),this.ua.commentMargin=t,this.H())}),Uh.defineProperty(lh,{dK:"alternateSetsPortSpot"},function(){return this.ua.setsPortSpot},function(t){this.ua.setsPortSpot!==t&&(Uh.j(t,"boolean",lh,"alternateSetsPortSpot"),this.ua.setsPortSpot=t,this.H())}),Uh.defineProperty(lh,{$J:"alternatePortSpot"},function(){return this.ua.portSpot},function(t){Uh.A(t,E,lh,"alternatePortSpot"),this.ua.portSpot.L(t)||(this.ua.portSpot=t,this.H())}),Uh.defineProperty(lh,{cK:"alternateSetsChildPortSpot"},function(){return this.ua.setsChildPortSpot},function(t){this.ua.setsChildPortSpot!==t&&(Uh.j(t,"boolean",lh,"alternateSetsChildPortSpot"),this.ua.setsChildPortSpot=t,this.H())}),Uh.defineProperty(lh,{PJ:"alternateChildPortSpot"},function(){return this.ua.childPortSpot},function(t){Uh.A(t,E,lh,"alternateChildPortSpot"),this.ua.childPortSpot.L(t)||(this.ua.childPortSpot=t,this.H())});var Zd;lh.PathDefault=Zd=Uh.p(lh,"PathDefault",-1);var tp;lh.PathDestination=tp=Uh.p(lh,"PathDestination",0);var ep;lh.PathSource=ep=Uh.p(lh,"PathSource",1);var ip;lh.SortingForwards=ip=Uh.p(lh,"SortingForwards",10);var np;lh.SortingReverse=np=Uh.p(lh,"SortingReverse",11);var rp;lh.SortingAscending=rp=Uh.p(lh,"SortingAscending",12);var op;lh.SortingDescending=op=Uh.p(lh,"SortingDescending",13);var sp;lh.AlignmentCenterSubtrees=sp=Uh.p(lh,"AlignmentCenterSubtrees",20);var ap;lh.AlignmentCenterChildren=ap=Uh.p(lh,"AlignmentCenterChildren",21);var lp;lh.AlignmentStart=lp=Uh.p(lh,"AlignmentStart",22);var hp;lh.AlignmentEnd=hp=Uh.p(lh,"AlignmentEnd",23);var up;lh.AlignmentBus=up=Uh.p(lh,"AlignmentBus",24);var cp;lh.AlignmentBusBranching=cp=Uh.p(lh,"AlignmentBusBranching",25);var fp;lh.AlignmentTopLeftBus=fp=Uh.p(lh,"AlignmentTopLeftBus",26);var dp;lh.AlignmentBottomRightBus=dp=Uh.p(lh,"AlignmentBottomRightBus",27);var pp;lh.CompactionNone=pp=Uh.p(lh,"CompactionNone",30);var gp;lh.CompactionBlock=gp=Uh.p(lh,"CompactionBlock",31);var vp;lh.StyleLayered=vp=Uh.p(lh,"StyleLayered",40);var mp;lh.StyleLastParents=mp=Uh.p(lh,"StyleLastParents",41);var yp;lh.StyleAlternating=yp=Uh.p(lh,"StyleAlternating",42);var bp;lh.StyleRootOnly=bp=Uh.p(lh,"StyleRootOnly",43);var xp;lh.ArrangementVertical=xp=Uh.p(lh,"ArrangementVertical",50);var wp;lh.ArrangementHorizontal=wp=Uh.p(lh,"ArrangementHorizontal",51);var kp;lh.ArrangementFixedRoots=kp=Uh.p(lh,"ArrangementFixedRoots",52);var Tp;lh.LayerIndividual=Tp=Uh.p(lh,"LayerIndividual",60);var $p;lh.LayerSiblings=$p=Uh.p(lh,"LayerSiblings",61);var Cp;lh.LayerUniform=Cp=Uh.p(lh,"LayerUniform",62),Uh.Ja(zh,qa),Uh.ea("TreeNetwork",zh),zh.prototype.createVertex=function(){return new qh},zh.prototype.createEdge=function(){return new Rh},Uh.Ja(qh,Ua),Uh.ea("TreeVertex",qh),qh.prototype.copyInheritedPropertiesFrom=function(t){null!==t&&(this.sorting=t.sorting,this.comparer=t.comparer,this.angle=t.angle,this.alignment=t.alignment,this.nodeIndent=t.nodeIndent,this.nodeIndentPastParent=t.nodeIndentPastParent,this.nodeSpacing=t.nodeSpacing,this.layerSpacing=t.layerSpacing,this.layerSpacingParentOverlap=t.layerSpacingParentOverlap,this.compaction=t.compaction,this.breadthLimit=t.breadthLimit,this.rowSpacing=t.rowSpacing,this.rowIndent=t.rowIndent,this.commentSpacing=t.commentSpacing,this.commentMargin=t.commentMargin,this.setsPortSpot=t.setsPortSpot,this.portSpot=t.portSpot,this.setsChildPortSpot=t.setsChildPortSpot,this.childPortSpot=t.childPortSpot)},Uh.u(qh,{Lm:"childrenCount"},function(){return this.children.length}),Uh.defineProperty(qh,{sL:"relativePosition"},function(){return this.na},function(t){this.na.set(t)}),Uh.defineProperty(qh,{EL:"subtreeSize"},function(){return this.ib},function(t){this.ib.set(t)}),Uh.defineProperty(qh,{DL:"subtreeOffset"},function(){return this.Ma},function(t){this.Ma.set(t)}),Uh.Ja(Rh,Ga),Uh.ea("TreeEdge",Rh),Rh.prototype.commit=function(){var t=this.link;if(null!==t&&!t.zl){var e=this.network.Qb,i=null,n=null;switch(e.Ef){case tp:i=this.fromVertex,n=this.toVertex;break;case ep:i=this.toVertex,n=this.fromVertex;break;default:Uh.k("Unhandled path value "+e.Ef.toString())}if(null!==i&&null!==n)if(e=this.as,0!==e.x||0!==e.y||i.eJ){var n=i.ob,r=Ih(i),o=Lh(i),s=i.rowSpacing;t.pn();var a,l,h=t.Me===Zf,u=t.kc,c=0;if(t.Ll(),u||h){for(c=2;4<t.pa;)t.eF(2);a=t.l(1),l=t.l(2)}else{for(c=1;3<t.pa;)t.eF(1);a=t.l(0),l=t.l(t.pa-1)}var f=t.l(t.pa-1),d=0;0===r?(i.alignment===hp?(d=n.bottom+e.y,0===e.y&&a.y>f.y+i.rowIndent&&(d=Math.min(d,Math.max(a.y,d-Fh(i))))):i.alignment===lp?(d=n.top+e.y,0===e.y&&a.y<f.y-i.rowIndent&&(d=Math.max(d,Math.min(a.y,d+Fh(i))))):d=i.Jp||i.Kp&&1===i.maxGenerationCount?n.top-i.Ma.y+e.y:n.y+n.height/2+e.y,h?(t.w(c,a.x,d),c++,t.w(c,n.right+o,d),c++,t.w(c,n.right+o+(e.x-s)/3,d),c++,t.w(c,n.right+o+2*(e.x-s)/3,d),c++,t.w(c,n.right+o+(e.x-s),d),c++,t.w(c,l.x,d)):(u&&(t.w(c,n.right+o/2,a.y),c++),t.w(c,n.right+o/2,d),c++,t.w(c,n.right+o+e.x-(u?s/2:s),d),c++,u&&t.w(c,t.l(c-1).x,l.y))):90===r?(i.alignment===hp?(d=n.right+e.x,0===e.x&&a.x>f.x+i.rowIndent&&(d=Math.min(d,Math.max(a.x,d-Fh(i))))):i.alignment===lp?(d=n.left+e.x,0===e.x&&a.x<f.x-i.rowIndent&&(d=Math.max(d,Math.min(a.x,d+Fh(i))))):d=i.Jp||i.Kp&&1===i.maxGenerationCount?n.left-i.Ma.x+e.x:n.x+n.width/2+e.x,h?(t.w(c,d,a.y),c++,t.w(c,d,n.bottom+o),c++,t.w(c,d,n.bottom+o+(e.y-s)/3),c++,t.w(c,d,n.bottom+o+2*(e.y-s)/3),c++,t.w(c,d,n.bottom+o+(e.y-s)),c++,t.w(c,d,l.y)):(u&&(t.w(c,a.x,n.bottom+o/2),c++),t.w(c,d,n.bottom+o/2),c++,t.w(c,d,n.bottom+o+e.y-(u?s/2:s)),c++,u&&t.w(c,l.x,t.l(c-1).y))):180===r?(i.alignment===hp?(d=n.bottom+e.y,0===e.y&&a.y>f.y+i.rowIndent&&(d=Math.min(d,Math.max(a.y,d-Fh(i))))):i.alignment===lp?(d=n.top+e.y,0===e.y&&a.y<f.y-i.rowIndent&&(d=Math.max(d,Math.min(a.y,d+Fh(i))))):d=i.Jp||i.Kp&&1===i.maxGenerationCount?n.top-i.Ma.y+e.y:n.y+n.height/2+e.y,h?(t.w(c,a.x,d),c++,t.w(c,n.left-o,d),c++,t.w(c,n.left-o+(e.x+s)/3,d),c++,t.w(c,n.left-o+2*(e.x+s)/3,d),c++,t.w(c,n.left-o+(e.x+s),d),c++,t.w(c,l.x,d)):(u&&(t.w(c,n.left-o/2,a.y),c++),t.w(c,n.left-o/2,d),c++,t.w(c,n.left-o+e.x+(u?s/2:s),d),c++,u&&t.w(c,t.l(c-1).x,l.y))):270===r?(i.alignment===hp?(d=n.right+e.x,0===e.x&&a.x>f.x+i.rowIndent&&(d=Math.min(d,Math.max(a.x,d-Fh(i))))):i.alignment===lp?(d=n.left+e.x,0===e.x&&a.x<f.x-i.rowIndent&&(d=Math.max(d,Math.min(a.x,d+Fh(i))))):d=i.Jp||i.Kp&&1===i.maxGenerationCount?n.left-i.Ma.x+e.x:n.x+n.width/2+e.x,h?(t.w(c,d,a.y),c++,t.w(c,d,n.top-o),c++,t.w(c,d,n.top-o+(e.y+s)/3),c++,t.w(c,d,n.top-o+2*(e.y+s)/3),c++,t.w(c,d,n.top-o+(e.y+s)),c++,t.w(c,d,l.y)):(u&&(t.w(c,a.x,n.top-o/2),c++),t.w(c,d,n.top-o/2),c++,t.w(c,d,n.top-o+e.y+(u?s/2:s)),c++,u&&t.w(c,l.x,t.l(c-1).y))):Uh.k("Invalid angle "+r),t.Ui()
}else r=i,o=n,t=this.link,i=Ih(r),i!==Ih(o)&&(e=Lh(r),n=r.ob,r=o.ob,0===i&&r.left-n.right<e+1||90===i&&r.top-n.bottom<e+1||180===i&&n.left-r.right<e+1||270===i&&n.top-r.bottom<e+1||(t.pn(),r=t.Me===Zf,o=t.kc,s=gh(this.fromVertex.alignment),t.Ll(),0===i?(i=n.right+e/2,r?4===t.pa&&(e=t.l(3).y,t.W(1,i-20,t.l(1).y),t.w(2,i-20,e),t.w(3,i,e),t.w(4,i+20,e),t.W(5,t.l(5).x,e)):o?s?t.W(3,t.l(2).x,t.l(4).y):6===t.pa&&(t.W(2,i,t.l(2).y),t.W(3,i,t.l(3).y)):4===t.pa?t.w(2,i,t.l(2).y):3===t.pa?t.W(1,i,t.l(2).y):2===t.pa&&t.w(1,i,t.l(1).y)):90===i?(e=n.bottom+e/2,r?4===t.pa&&(i=t.l(3).x,t.W(1,t.l(1).x,e-20),t.w(2,i,e-20),t.w(3,i,e),t.w(4,i,e+20),t.W(5,i,t.l(5).y)):o?s?t.W(3,t.l(2).x,t.l(4).y):6===t.pa&&(t.W(2,t.l(2).x,e),t.W(3,t.l(3).x,e)):4===t.pa?t.w(2,t.l(2).x,e):3===t.pa?t.W(1,t.l(2).x,e):2===t.pa&&t.w(1,t.l(1).x,e)):180===i?(i=n.left-e/2,r?4===t.pa&&(e=t.l(3).y,t.W(1,i+20,t.l(1).y),t.w(2,i+20,e),t.w(3,i,e),t.w(4,i-20,e),t.W(5,t.l(5).x,e)):o?s?t.W(3,t.l(2).x,t.l(4).y):6===t.pa&&(t.W(2,i,t.l(2).y),t.W(3,i,t.l(3).y)):4===t.pa?t.w(2,i,t.l(2).y):3===t.pa?t.W(1,i,t.l(2).y):2===t.pa&&t.w(1,i,t.l(1).y)):270===i&&(e=n.top-e/2,r?4===t.pa&&(i=t.l(3).x,t.W(1,t.l(1).x,e+20),t.w(2,i,e+20),t.w(3,i,e),t.w(4,i,e-20),t.W(5,i,t.l(5).y)):o?s?t.W(3,t.l(2).x,t.l(4).y):6===t.pa&&(t.W(2,t.l(2).x,e),t.W(3,t.l(3).x,e)):4===t.pa?t.w(2,t.l(2).x,e):3===t.pa?t.W(1,t.l(2).x,e):2===t.pa&&t.w(1,t.l(1).x,e)),t.Ui()))}},Uh.defineProperty(Rh,{rL:"relativePoint"},function(){return this.as},function(t){this.as.set(t)}),Uh.Ja(Hh,Er),Hh.prototype.cloneProtected=function(t){Er.prototype.cloneProtected.call(this,t),t.element=this.Te.cloneNode(!0)},Hh.prototype.toString=function(){return"HTMLHost("+this.Te.toString()+")#"+Uh.pd(this)},Hh.prototype.ak=function(t,e){var i=this.Te;if(null!==i){var n=this.$a(ou);n.x-=this.Y.width/2,n.y-=this.Y.height/2,n.x-=this.Y.x,n.y-=this.Y.y;var n=e.MF(n),r=e.ol;null===r||r.contains(i)||r.appendChild(i),r=this.transform,i.style.transform="matrix("+r.m11+","+r.m12+","+r.m21+","+r.m22+","+r.dx+","+r.dy+")",i.style.transformOrigin="0 0",r=n.y,i.style.left=n.x+"px",i.style.top=r+"px"}},Hh.prototype.vp=function(t,e,i,n){var r=this.ya;isFinite(r.width)&&(t=r.width),isFinite(r.height)&&(e=r.height);var r=this.jf,o=this.zg;i=Math.max(i,o.width),n=Math.max(n,o.height),t=Math.min(r.width,t),e=Math.min(r.height,e),t=Math.max(i,t),e=Math.max(n,e),i=this.Te,null!==i&&(e=i.getBoundingClientRect(),t=e.width,e=e.height),$(this.Qc,t,e),Or(this,0,0,t,e)},Hh.prototype.Ri=function(t,e,i,n){Fr(this,t,e,i,n)},Uh.u(Hh,{Ia:"naturalBounds"},function(){return this.Qc}),Uh.defineProperty(Hh,{element:"element"},function(){return this.Te},function(t){var e=this.Te;e!==t&&(t instanceof HTMLElement||Uh.k("HTMLHost.element must be an instance of HTMLElement."),this.Te=t,t.className="HTMLHost",this.h("element",e,t),this.qa())}),Vh.version="1.6.9",t&&(t.module&&"object"==typeof t.module&&"object"==typeof t.module.exports?t.module.exports=Vh:t.define&&"function"==typeof t.define&&t.define.amd?(t.go=Vh,t.define(Vh)):t.go=Vh),"undefined"!=typeof module&&"object"==typeof module.exports&&(module.exports=Vh)}(window),/*! jQuery UI - v1.11.4 - 2015-03-11
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,n){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,o=r.name,e.href&&o&&"map"===r.nodeName.toLowerCase()?(s=t("img[usemap='#"+o+"']")[0],!!s&&i(s)):!1):(/^(input|select|textarea|button|object)$/.test(a)?!e.disabled:"a"===a?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}function n(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=o(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function o(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",s)}function s(){t.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}/*!
 * jQuery UI Spinner 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/spinner/
 */
function l(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),n="absolute"===i,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return n&&"static"===e.css("position")?!1:r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var n=t.attr(i,"tabindex"),r=isNaN(n);return(r||n>=0)&&e(i,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function n(e,i,n,o){return t.each(r,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var r="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?s["inner"+i].call(this):this.each(function(){t(this).css(o,n(this,e)+"px")})},t.fn["outer"+i]=function(e,r){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){t(this).css(o,n(this,e,!0,r)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,n,r=t(this[0]);r.length&&r[0]!==document;){if(i=r.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(r.css("zIndex"),10),!isNaN(n)&&0!==n))return n;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,i,n){var r,o=t.ui[e].prototype;for(r in n)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([i,n[r]])},call:function(t,e,i,n){var r,o=t.plugins[e];if(o&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,i)}};/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
var h=0,u=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,r,o;for(o=0;null!=(r=i[o]);o++)try{n=t._data(r,"events"),n&&n.remove&&t(r).triggerHandler("remove")}catch(s){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var r,o,s,a,l={},h=e.split(".")[0];return e=e.split(".")[1],r=h+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[h]=t[h]||{},o=t[h][e],s=t[h][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(n,function(e,n){return t.isFunction(n)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},r=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(l[e]=n)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},l,{constructor:s,namespace:h,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete o._childConstructors):i._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var i,n,r=u.call(arguments,1),o=0,s=r.length;s>o;o++)for(i in r[o])n=r[o][i],r[o].hasOwnProperty(i)&&void 0!==n&&(e[i]=t.isPlainObject(n)?t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,s=u.call(arguments,1),a=this;return o?this.each(function(){var i,o=t.data(this,n);return"instance"===r?(a=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(i=o[r].apply(o,s),i!==o&&void 0!==i?(a=i&&i.jquery?a.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):(s.length&&(r=t.widget.extend.apply(null,[r].concat(s))),this.each(function(){var e=t.data(this,n);e?(e.option(r||{}),e._init&&e._init()):t.data(this,n,new i(r,this))})),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},n=e.split("."),e=n.shift(),n.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)r[n[o]]=r[n[o]]||{},r=r[n[o]];if(e=n.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var r,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,function(n,s){function a(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,h,a):i.bind(h,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var r,o,s=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(t.isFunction(s)&&s.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?i:r.effect||i:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),s&&t.effects&&t.effects.effect[a]?n[e](r):a!==e&&n[a]?n[a](r.duration,r.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}});var c=(t.widget,!1);t(document).mouseup(function(){c=!1});t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,r="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return n&&!r&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),c=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),c=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});/*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
!function(){function e(t,e,i){return[parseFloat(t[0])*(d.test(t[0])?e/100:1),parseFloat(t[1])*(d.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var r,o,s=Math.max,a=Math.abs,l=Math.round,h=/left|center|right/,u=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,f=/^\w+/,d=/%$/,p=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return t("body").append(n),e=o.offsetWidth,n.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=n[0].clientWidth),n.remove(),r=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:r,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||r?i.width():i.outerWidth(),height:n||r?i.height():i.outerHeight()}}},t.fn.position=function(r){if(!r||!r.of)return p.apply(this,arguments);r=t.extend({},r);var d,g,v,m,y,b,x=t(r.of),w=t.position.getWithinInfo(r.within),k=t.position.getScrollInfo(w),T=(r.collision||"flip").split(" "),$={};return b=n(x),x[0].preventDefault&&(r.at="left top"),g=b.width,v=b.height,m=b.offset,y=t.extend({},m),t.each(["my","at"],function(){var t,e,i=(r[this]||"").split(" ");1===i.length&&(i=h.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=h.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",t=c.exec(i[0]),e=c.exec(i[1]),$[this]=[t?t[0]:0,e?e[0]:0],r[this]=[f.exec(i[0])[0],f.exec(i[1])[0]]}),1===T.length&&(T[1]=T[0]),"right"===r.at[0]?y.left+=g:"center"===r.at[0]&&(y.left+=g/2),"bottom"===r.at[1]?y.top+=v:"center"===r.at[1]&&(y.top+=v/2),d=e($.at,g,v),y.left+=d[0],y.top+=d[1],this.each(function(){var n,h,u=t(this),c=u.outerWidth(),f=u.outerHeight(),p=i(this,"marginLeft"),b=i(this,"marginTop"),C=c+p+i(this,"marginRight")+k.width,M=f+b+i(this,"marginBottom")+k.height,S=t.extend({},y),P=e($.my,u.outerWidth(),u.outerHeight());"right"===r.my[0]?S.left-=c:"center"===r.my[0]&&(S.left-=c/2),"bottom"===r.my[1]?S.top-=f:"center"===r.my[1]&&(S.top-=f/2),S.left+=P[0],S.top+=P[1],o||(S.left=l(S.left),S.top=l(S.top)),n={marginLeft:p,marginTop:b},t.each(["left","top"],function(e,i){t.ui.position[T[e]]&&t.ui.position[T[e]][i](S,{targetWidth:g,targetHeight:v,elemWidth:c,elemHeight:f,collisionPosition:n,collisionWidth:C,collisionHeight:M,offset:[d[0]+P[0],d[1]+P[1]],my:r.my,at:r.at,within:w,elem:u})}),r.using&&(h=function(t){var e=m.left-S.left,i=e+g-c,n=m.top-S.top,o=n+v-f,l={target:{element:x,left:m.left,top:m.top,width:g,height:v},element:{element:u,left:S.left,top:S.top,width:c,height:f},horizontal:0>i?"left":e>0?"right":"center",vertical:0>o?"top":n>0?"bottom":"middle"};c>g&&a(e+i)<g&&(l.horizontal="center"),f>v&&a(n+o)<v&&(l.vertical="middle"),l.important=s(a(e),a(i))>s(a(n),a(o))?"horizontal":"vertical",r.using.call(this,t,l)}),u.offset(t.extend(S,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,h=a+e.collisionWidth-o-r;e.collisionWidth>o?l>0&&0>=h?(i=t.left+l+e.collisionWidth-o-r,t.left+=l-i):t.left=h>0&&0>=l?r:l>h?r+o-e.collisionWidth:r:l>0?t.left+=l:h>0?t.left-=h:t.left=s(t.left-a,t.left)},top:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,h=a+e.collisionHeight-o-r;e.collisionHeight>o?l>0&&0>=h?(i=t.top+l+e.collisionHeight-o-r,t.top+=l-i):t.top=h>0&&0>=l?r:l>h?r+o-e.collisionHeight:r:l>0?t.top+=l:h>0?t.top-=h:t.top=s(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,h=t.left-e.collisionPosition.marginLeft,u=h-l,c=h+e.collisionWidth-s-l,f="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];0>u?(i=t.left+f+d+p+e.collisionWidth-s-o,(0>i||i<a(u))&&(t.left+=f+d+p)):c>0&&(n=t.left-e.collisionPosition.marginLeft+f+d+p-l,(n>0||a(n)<c)&&(t.left+=f+d+p))},top:function(t,e){var i,n,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,h=t.top-e.collisionPosition.marginTop,u=h-l,c=h+e.collisionHeight-s-l,f="top"===e.my[1],d=f?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>u?(n=t.top+d+p+g+e.collisionHeight-s-o,(0>n||n<a(u))&&(t.top+=d+p+g)):c>0&&(i=t.top-e.collisionPosition.marginTop+d+p+g-l,(i>0||a(i)<c)&&(t.top+=d+p+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,r,s,a=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in n)e.style[s]=n[s];e.appendChild(l),i=a||document.documentElement,i.insertBefore(e,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",r=t(l).offset().left,o=r>10&&11>r,e.innerHTML="",i.removeChild(e)}()}();t.ui.position,t.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:o=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[n-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,n=i.heightStyle,r=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),n=e.next(),r=n.uniqueId().attr("id");e.attr("aria-controls",r),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(e=r.height(),this.element.siblings(":visible").each(function(){var i=t(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===n&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,n=this.active,r=t(e.currentTarget),o=r[0]===n[0],s=o&&i.collapsible,a=s?t():r.next(),l=n.next(),h={oldHeader:n,oldPanel:l,newHeader:s?t():r,newPanel:a};e.preventDefault(),o&&!i.collapsible||this._trigger("beforeActivate",e,h)===!1||(i.active=s?!1:this.headers.index(r),this.active=o?t():r,this._toggle(h),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var n,r,o,s=this,a=0,l=t.css("box-sizing"),h=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},c=h&&u.down||u,f=function(){s._toggleComplete(i)};return"number"==typeof c&&(o=c),"string"==typeof c&&(r=c),r=r||c.easing||u.easing,o=o||c.duration||u.duration,e.length?t.length?(n=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:f,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===l&&(a+=i.now):"content"!==s.options.heightStyle&&(i.now=Math.round(n-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,o,r,f):t.animate(this.showProps,o,r,f)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var i,n,r,o,s=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:s=!1,n=this.previousFilter||"",r=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),r===n?o=!0:r=n+r,i=this._filterMenuItems(r),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(e.keyCode),i=this._filterMenuItems(r)),i.length?(this.focus(e,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var e,i,n=this,r=this.options.icons.submenu,o=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.parent(),n=t("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",i.attr("id"))}),e=o.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);n._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,r,o,s,a;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.outerHeight(),0>r?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[e]()),this.focus(i,n)},nextPage:function(e){var i,n,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-r<0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,n,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+r>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(t.trim(t(this).text()))})}});/*!
 * jQuery UI Autocomplete 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 */
t.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,n,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=o?!0:s?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var r=t.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target===e.element[0]||n.target===i||t.contains(i,n.target)||e.close()})})},menufocus:function(e,i){var n,r;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(r=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),n=i.item.attr("aria-label")||r.value,void(n&&t.trim(n).length&&(this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))))},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,r){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),n=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!n)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").text(i.label).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}});var f,d=(t.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),p="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",g=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},v=function(e){var i=e.name,n=e.form,r=t([]);return i&&(i=i.replace(/'/g,"\\'"),r=n?t(n).find("[name='"+i+"'][type=radio]"):t("[name='"+i+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),r};t.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,g),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,i=this.options,n="checkbox"===this.type||"radio"===this.type,r=n?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(d).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===f&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||t(this).removeClass(r)}).bind("click"+this.eventNamespace,function(t){i.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),n&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var n=e.element[0];v(n).not(n).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(t(this).addClass("ui-state-active"),f=this,void e.document.one("mouseup",function(){f=null}))}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return i.disabled?!1:void((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(d+" ui-state-active "+p).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&this.buttonElement.removeClass("checkbox"===this.type||"radio"===this.type?"ui-state-focus":"ui-state-focus ui-state-active"))):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?v(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(p),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,r=n.primary&&n.secondary,o=[];n.primary||n.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}}),t.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),n=i.filter(":ui-button");i.not(":ui-button").button(),n.button("refresh"),this.buttons=i.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});t.ui.button;/*!
 * jQuery UI Datepicker 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 */
t.extend(t.ui,{datepicker:{version:"1.11.4"}});var m;t.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,r,o;n=e.nodeName.toLowerCase(),r="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),r),o.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var n=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?o(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,r,o,s=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),s&&(i.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&e.focus(this._showDatepicker),("button"===n||"both"===n)&&(r=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[a?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,r,o=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(i=0,n=0,r=0;r<t.length;r++)t[r].length>i&&(i=t[r].length,n=r);return n},o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,r,o){var s,l,h,u,c,f=this._dialogInst;return f||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},t.data(this._dialogInput[0],"datepicker",f)),a(f.settings,r||{}),i=i&&i.constructor===Date?this._formatDate(f,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,h=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,h/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",f),this},_destroyDatepicker:function(e){var i,n=t(e),r=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty(),m===r&&(m=null))},_enableDatepicker:function(e){var i,n,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var r,o,s,l,h=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):h?"all"===i?t.extend({},h.settings):this._get(h,i):null:(r=i||{},"string"==typeof i&&(r={},r[i]=n),void(h&&(this._curInst===h&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(h,"min"),l=this._getMinMaxDate(h,"max"),a(h.settings,r),null!==s&&void 0!==r.dateFormat&&void 0===r.minDate&&(h.settings.minDate=this._formatDate(h,s)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(h.settings.maxDate=this._formatDate(h,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),h),this._autoSize(h),this._setDate(h,o),this._updateAlternate(h),this._updateDatepicker(h))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,r,o=t.datepicker._getInst(e.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),r[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),i=t.datepicker._get(o,"onSelect"),i?(n=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,r=t.datepicker._getInst(e.target);return t.datepicker._get(r,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(r){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,r,o,s,l,h,u;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),r=t.datepicker._get(i,"beforeShow"),o=r?r.apply(e,[e,i]):{},o!==!1&&(a(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),s=!1,t(e).parents().each(function(){return s|="fixed"===t(this).css("position"),!s}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),l=t.datepicker._checkOffset(i,l,s),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(h=t.datepicker._get(i,"showAnim"),u=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",n(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[h]?i.dpDiv.show(h,t.datepicker._get(i,"showOptions"),u):i.dpDiv[h||"show"](h?u:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,m=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,n=this._getNumberOfMonths(e),r=n[1],o=17,a=e.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&s.apply(a.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",o*r+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),h=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?r-s:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+a?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>l&&l>r?Math.abs(i.left+r-l):0),i.top-=Math.min(i.top,i.top+o>h&&h>o?Math.abs(o+a):0),i},_findPos:function(e){for(var i,n=this._getInst(e),r=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,r,o,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(s,"showAnim"),n=this._get(s,"duration"),r=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[i]||t.effects[i])?s.dpDiv.hide(i,t.datepicker._get(s,"showOptions"),n,r):s.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,o=this._get(s,"onClose"),o&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,i+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(e){var i,n=t(e),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,i,n,r){var o,s=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(o=this._getInst(s[0]),o.selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,r=t(e),o=this._getInst(r[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),n=this._get(o,"onSelect"),n?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,r,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),r=this.formatDate(i,n,this._getFormatConfig(e)),t(o).each(function(){t(this).val(r)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var r,o,s,a,l=0,h=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),c=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,f=(n?n.dayNames:null)||this._defaults.dayNames,d=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,p=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,v=-1,m=-1,y=-1,b=!1,x=function(t){var i=r+1<e.length&&e.charAt(r+1)===t;return i&&r++,i},w=function(t){var e=x(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r="y"===t?n:1,o=new RegExp("^\\d{"+r+","+n+"}"),s=i.substring(l).match(o);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},k=function(e,n,r){var o=-1,s=t.map(x(e)?r:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,e){var n=e[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(o=e[0],l+=n.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},T=function(){if(i.charAt(l)!==e.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<e.length;r++)if(b)"'"!==e.charAt(r)||x("'")?T():b=!1;else switch(e.charAt(r)){case"d":m=w("d");break;case"D":k("D",c,f);break;case"o":y=w("o");break;case"m":v=w("m");break;case"M":v=k("M",d,p);break;case"y":g=w("y");break;case"@":a=new Date(w("@")),g=a.getFullYear(),v=a.getMonth()+1,m=a.getDate();break;case"!":a=new Date((w("!")-this._ticksTo1970)/1e4),g=a.getFullYear(),v=a.getMonth()+1,m=a.getDate();break;case"'":x("'")?T():b=!0;break;default:T()}if(l<i.length&&(s=i.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=g?0:-100)),y>-1)for(v=1,m=y;;){if(o=this._getDaysInMonth(g,v-1),o>=m)break;v++,m-=o}if(a=this._daylightSavingAdjust(new Date(g,v-1,m)),a.getFullYear()!==g||a.getMonth()+1!==v||a.getDate()!==m)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var n,r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},h=function(t,e,i){var n=""+e;if(l(t))for(;n.length<i;)n="0"+n;return n},u=function(t,e,i,n){return l(t)?n[e]:i[e]},c="",f=!1;if(e)for(n=0;n<t.length;n++)if(f)"'"!==t.charAt(n)||l("'")?c+=t.charAt(n):f=!1;else switch(t.charAt(n)){case"d":c+=h("d",e.getDate(),2);break;case"D":c+=u("D",e.getDay(),r,o);break;case"o":c+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=h("m",e.getMonth()+1,2);break;case"M":c+=u("M",e.getMonth(),s,a);break;case"y":c+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":c+=e.getTime();break;case"!":c+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?c+="'":f=!0;break;default:c+=t.charAt(n)}return c},_possibleChars:function(t){var e,i="",n=!1,r=function(i){var n=e+1<t.length&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;e<t.length;e++)if(n)"'"!==t.charAt(e)||r("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":r("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,s=this._getFormatConfig(t);try{o=this.parseDate(i,n,s)||r}catch(a){n=e?"":n}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=n?o.getDate():0,t.currentMonth=n?o.getMonth():0,t.currentYear=n?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var r=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(n){}for(var r=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=r.getFullYear(),s=r.getMonth(),a=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=l.exec(i);h;){switch(h[2]||"d"){case"d":case"D":a+=parseInt(h[1],10);break;case"w":case"W":a+=7*parseInt(h[1],10);break;case"m":case"M":s+=parseInt(h[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(o,s));break;case"y":case"Y":o+=parseInt(h[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(o,s))}h=l.exec(i)}return new Date(o,s,a)},s=null==i||""===i?n:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?n:r(i):new Date(i.getTime());return s=s&&"Invalid Date"===s.toString()?n:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,r,o,s,a,l,h,u,c,f,d,p,g,v,m,y,b,x,w,k,T,$,C,M,S,P,D,A,E,N,_,j,O,I,L,F,z,q=new Date,R=this._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth(),q.getDate())),H=this._get(t,"isRTL"),B=this._get(t,"showButtonPanel"),V=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),G=this._getNumberOfMonths(t),W=this._get(t,"showCurrentAtPos"),K=this._get(t,"stepMonths"),Y=1!==G[0]||1!==G[1],J=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),Z=t.drawMonth-W,te=t.drawYear;if(0>Z&&(Z+=12,te--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-G[0]*G[1]+1,Q.getDate())),e=X&&X>e?X:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-K,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>",r=this._get(t,"nextText"),r=U?this.formatDate(r,this._daylightSavingAdjust(new Date(te,Z+K,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?J:R,s=U?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",h=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(H?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,c=this._get(t,"showWeek"),f=this._get(t,"dayNames"),d=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),v=this._get(t,"beforeShowDay"),m=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),x="",k=0;k<G[0];k++){for(T="",this.maxRows=4,$=0;$<G[1];$++){if(C=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),M=" ui-corner-all",S="",Y){if(S+="<div class='ui-datepicker-group",G[1]>1)switch($){case 0:S+=" ui-datepicker-group-first",M=" ui-corner-"+(H?"right":"left");break;case G[1]-1:S+=" ui-datepicker-group-last",M=" ui-corner-"+(H?"left":"right");break;default:S+=" ui-datepicker-group-middle",M=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+M+"'>"+(/all|left/.test(M)&&0===k?H?o:n:"")+(/all|right/.test(M)&&0===k?H?n:o:"")+this._generateMonthYearHeader(t,Z,te,X,Q,k>0||$>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",P=c?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)D=(w+u)%7,P+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+f[D]+"'>"+d[D]+"</span></th>";for(S+=P+"</tr></thead><tbody>",A=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,A)),E=(this._getFirstDayOfMonth(te,Z)-u+7)%7,N=Math.ceil((E+A)/7),_=Y&&this.maxRows>N?this.maxRows:N,this.maxRows=_,j=this._daylightSavingAdjust(new Date(te,Z,1-E)),O=0;_>O;O++){for(S+="<tr>",I=c?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(j)+"</td>":"",w=0;7>w;w++)L=v?v.apply(t.input?t.input[0]:null,[j]):[!0,""],F=j.getMonth()!==Z,z=F&&!y||!L[0]||X&&X>j||Q&&j>Q,I+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(j.getTime()===C.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===j.getTime()&&b.getTime()===C.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!m?"":" "+L[1]+(j.getTime()===J.getTime()?" "+this._currentClass:"")+(j.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(F&&!m||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+j.getMonth()+"' data-year='"+j.getFullYear()+"'")+">"+(F&&!m?"&#xa0;":z?"<span class='ui-state-default'>"+j.getDate()+"</span>":"<a class='ui-state-default"+(j.getTime()===R.getTime()?" ui-state-highlight":"")+(j.getTime()===J.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+j.getDate()+"</a>")+"</td>",j.setDate(j.getDate()+1),j=this._daylightSavingAdjust(j);S+=I+"</tr>"}Z++,Z>11&&(Z=0,te++),S+="</tbody></table>"+(Y?"</div>"+(G[0]>0&&$===G[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),T+=S}x+=T}return x+=h,t._keyEvent=!1,x},_generateMonthYearHeader:function(t,e,i,n,r,o,s,a){var l,h,u,c,f,d,p,g,v=this._get(t,"changeMonth"),m=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",x="";if(o||!v)x+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=n&&n.getFullYear()===i,h=r&&r.getFullYear()===i,x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=n.getMonth())&&(!h||u<=r.getMonth())&&(x+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+a[u]+"</option>");x+="</select>"}if(y||(b+=x+(!o&&v&&m?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!m)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(c=this._get(t,"yearRange").split(":"),f=(new Date).getFullYear(),d=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?f+parseInt(t,10):parseInt(t,10);return isNaN(e)?f:e},p=d(c[0]),g=Math.max(p,d(c[1]||"")),p=n?Math.max(p,n.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=p;p++)t.yearshtml+="<option value='"+p+"'"+(p===i?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&v&&m?"":"&#xa0;")+x),b+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),r=t.drawMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(n,r))+("D"===i?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,r,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),r=i&&i>e?i:e;return n&&r>n?n:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,n+(0>e?e:r[0]*r[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,n,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),s=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));
return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new r,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.4";t.datepicker;/*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */
t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(n){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),r=n?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),i=t(r.containment),n=i[0],void(n&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,h=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var r=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,r))})},stop:function(e,i,n){var r=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,i,n){t.each(n.sortables,function(){var r=!1,o=this;o.positionAbs=n.positionAbs,o.helperProportions=n.helperProportions,o.offset.click=n.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,n._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=n.offset.click.top,o.offset.click.left=n.offset.click.left,o.offset.parent.left-=n.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=n.offset.parent.top-o.offset.parent.top,n._trigger("toSortable",e),n.dropped=o.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,o.fromOutside=n),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var r=t("body"),o=n.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,i,n){var r=n.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var r=t(i.helper),o=n.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,i,n){var r=n.options;r._opacity&&t(i.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var r=n.options,o=!1,s=n.scrollParentNotHidden[0],a=n.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-n.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-n.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var r=n.options;n.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,n){var r,o,s,a,l,h,u,c,f,d,p=n.options,g=p.snapTolerance,v=i.offset.left,m=v+n.helperProportions.width,y=i.offset.top,b=y+n.helperProportions.height;for(f=n.snapElements.length-1;f>=0;f--)l=n.snapElements[f].left-n.margins.left,h=l+n.snapElements[f].width,u=n.snapElements[f].top-n.margins.top,c=u+n.snapElements[f].height,l-g>m||v>h+g||u-g>b||y>c+g||!t.contains(n.snapElements[f].item.ownerDocument,n.snapElements[f].item)?(n.snapElements[f].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[f].item})),n.snapElements[f].snapping=!1):("inner"!==p.snapMode&&(r=Math.abs(u-b)<=g,o=Math.abs(c-y)<=g,s=Math.abs(l-m)<=g,a=Math.abs(h-v)<=g,r&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h}).left)),d=r||o||s||a,"outer"!==p.snapMode&&(r=Math.abs(u-y)<=g,o=Math.abs(c-b)<=g,s=Math.abs(l-v)<=g,a=Math.abs(h-m)<=g,r&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left)),!n.snapElements[f].snapping&&(r||o||s||a||d)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[f].item})),n.snapElements[f].snapping=r||o||s||a||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var r,o=n.options,s=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var r=t(i.helper),o=n.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,i,n){var r=n.options;r._zIndex&&t(i.helper).css("zIndex",r._zIndex)}});t.ui.draggable;/*!
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */
t.widget("ui.resizable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0?!0:(e[n]=1,r=e[n]>0,e[n]=0,r)},_create:function(){var e,i,n,r,o,s=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)n=t.trim(e[i]),o="ui-resizable-"+n,r=t("<div class='ui-resizable-handle "+o+"'></div>"),r.css({zIndex:a.zIndex}),"se"===n&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(r);this._renderAxis=function(e){var i,n,r,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(t(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,r=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var i,n,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,n+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),s.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),l?(i=l.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,n,r,o,s,a,l,h=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,o=n?0:u.sizeDiff.width,s={width:u.helper.width()-o,height:u.helper.height()-r},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,h.animate||this.element.css(t.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!h.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),n>o.minHeight&&(o.minHeight=n),i<o.maxWidth&&(o.maxWidth=i),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,h=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&h&&(t.left=a-e.minWidth),n&&h&&(t.left=a-e.maxWidth),s&&u&&(t.top=l-e.minHeight),r&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseInt(n[e],10)||0,i[e]+=parseInt(r[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,r=this.originalPosition;return{top:r.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,a=o?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-s},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,u&&h?{top:u,left:h}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&t(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,r,o,s,a,l=t(this).resizable("instance"),h=l.options,u=l.element,c=h.containment,f=c instanceof t?c.get(0):/parent/.test(c)?u.parent().get(0):c;f&&(l.containerElement=t(f),/document/.test(c)||c===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(f),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=l._num(e.css("padding"+n))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(f,"left")?f.scrollWidth:o,a=l._hasScroll(f)?f.scrollHeight:r,l.parentData={element:f,left:n.left,top:n.top,width:s,height:a}))},resize:function(e){var i,n,r,o,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,h=s.position,u=s._aspectRatio||e.shiftKey,c={top:0,left:0},f=s.containerElement,d=!0;f[0]!==document&&/static/.test(f.css("position"))&&(c=l),h.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-c.left),u&&(s.size.height=s.size.width/s.aspectRatio,d=!1),s.position.left=a.helper?l.left:0),h.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,d=!1),s.position.top=s._helper?l.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),i=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-c.left:s.offset.left-l.left)),n=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-c.top:s.offset.top-l.top)),i+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-i,u&&(s.size.height=s.size.width/s.aspectRatio,d=!1)),n+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-n,u&&(s.size.width=s.size.height*s.aspectRatio,d=!1)),d||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,h=s.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-n.left,width:l,height:h}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-n.left,width:l,height:h})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,i){var n=t(this).resizable("instance"),r=n.options,o=n.originalSize,s=n.originalPosition,a={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-s.top||0,left:n.position.left-s.left||0};t(r.alsoResize).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(n[e]||0)+(a[e]||0);i&&i>=0&&(r[e]=i||null)}),e.css(r)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,r=i.size,o=i.originalSize,s=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,h=l[0]||1,u=l[1]||1,c=Math.round((r.width-o.width)/h)*h,f=Math.round((r.height-o.height)/u)*u,d=o.width+c,p=o.height+f,g=n.maxWidth&&n.maxWidth<d,v=n.maxHeight&&n.maxHeight<p,m=n.minWidth&&n.minWidth>d,y=n.minHeight&&n.minHeight>p;n.grid=l,m&&(d+=h),y&&(p+=u),g&&(d-=h),v&&(p-=u),/^(se|s|e)$/.test(a)?(i.size.width=d,i.size.height=p):/^(ne)$/.test(a)?(i.size.width=d,i.size.height=p,i.position.top=s.top-f):/^(sw)$/.test(a)?(i.size.width=d,i.size.height=p,i.position.left=s.left-c):((0>=p-u||0>=d-h)&&(e=i._getPaddingPlusBorderDimensions(this)),p-u>0?(i.size.height=p,i.position.top=s.top-f):(p=u-e.height,i.size.height=p,i.position.top=s.top+o.height-p),d-h>0?(i.size.width=d,i.position.left=s.left-c):(d=h-e.width,i.size.width=d,i.position.left=s.left+o.width-d))}});t.ui.resizable,t.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i,n=this;if(this._isOpen&&this._trigger("beforeClose",e)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&t(i).blur()}catch(r){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),r=i.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.focus()}),e.preventDefault()):(this._delay(function(){n.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(i,function(i,n){var r,o;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),r=n.click,n.click=function(){r.apply(e.element[0],arguments)},o={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,t("<button></button>",n).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(r))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(r,o){var s=o.offset.left-i.document.scrollLeft(),a=o.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:i.window},t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",r,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,r=n.resizable,o=this.uiDialog.css("position"),s="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:s,start:function(n,r){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(r))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(r,o){var s=i.uiDialog.offset(),a=s.left-i.document.scrollLeft(),l=s.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:i.window},t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",r,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,r={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(n=!0),t in i.resizableRelatedOptions&&(r[t]=e)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,e){var i,n,r=this.uiDialog;"dialogClass"===t&&r.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=r.is(":data(ui-draggable)"),i&&!e&&r.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(n=r.is(":data(ui-resizable)"),n&&!e&&r.resizable("destroy"),n&&"string"==typeof e&&r.resizable("option","handles",e),n||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}});/*!
 * jQuery UI Droppable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 */
t.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,r=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(r=!0,!1):void 0}),r?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,n,r){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,a=o+e.helperProportions.width,l=s+e.helperProportions.height,h=i.offset.left,u=i.offset.top,c=h+i.proportions().width,f=u+i.proportions().height;switch(n){case"fit":return o>=h&&c>=a&&s>=u&&f>=l;case"intersect":return h<o+e.helperProportions.width/2&&a-e.helperProportions.width/2<c&&u<s+e.helperProportions.height/2&&l-e.helperProportions.height/2<f;case"pointer":return t(r.pageY,u,i.proportions().height)&&t(r.pageX,h,i.proportions().width);case"touch":return(s>=u&&f>=s||l>=u&&f>=l||u>s&&l>f)&&(o>=h&&c>=o||a>=h&&c>=a||h>o&&a>c);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<o.length;n++)if(!(o[n].options.disabled||e&&!o[n].accept.call(o[n].element[0],e.currentItem||e.element))){for(r=0;r<a.length;r++)if(a[r]===o[n].element[0]){o[n].proportions().height=0;continue t}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===s&&o[n]._activate.call(o[n],i),o[n].offset=o[n].element.offset(),o[n].proportions({width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,r,o,s=t.ui.intersect(e,this,this.options.tolerance,i),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r}),o.length&&(n=t(o[0]).droppable("instance"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}};var y=(t.ui.droppable,"ui-effects-"),b=t;t.effects={effect:{}},/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(t,e){function i(t,e,i){var n=c[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:n.max<t?n.max:t)}function n(e){var i=h(),n=i._rgba=[];return e=e.toLowerCase(),p(l,function(t,r){var o,s=r.re.exec(e),a=s&&r.parse(s),l=r.space||"rgba";return a?(o=i[l](a),i[u[l].cache]=o[u[l].cache],n=i._rgba=o._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),i):o[e]}function r(t,e,i){return i=(i+1)%1,1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}var o,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],h=t.Color=function(e,i,n,r){return new t.Color.fn.parse(e,i,n,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},f=h.support={},d=t("<p>")[0],p=t.each;d.style.cssText="background-color:rgba(1,1,1,.5)",f.rgba=d.style.backgroundColor.indexOf("rgba")>-1,p(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),h.fn=t.extend(h.prototype,{parse:function(r,s,a,l){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(s),s=e);var c=this,f=t.type(r),d=this._rgba=[];return s!==e&&(r=[r,s,a,l],f="array"),"string"===f?this.parse(n(r)||o._default):"array"===f?(p(u.rgba.props,function(t,e){d[e.idx]=i(r[e.idx],e)}),this):"object"===f?(r instanceof h?p(u,function(t,e){r[e.cache]&&(c[e.cache]=r[e.cache].slice())}):p(u,function(e,n){var o=n.cache;p(n.props,function(t,e){if(!c[o]&&n.to){if("alpha"===t||null==r[t])return;c[o]=n.to(c._rgba)}c[o][e.idx]=i(r[t],e,!0)}),c[o]&&t.inArray(null,c[o].slice(0,3))<0&&(c[o][3]=1,n.from&&(c._rgba=n.from(c[o])))}),this):void 0},is:function(t){var e=h(t),i=!0,n=this;return p(u,function(t,r){var o,s=e[r.cache];return s&&(o=n[r.cache]||r.to&&r.to(n._rgba)||[],p(r.props,function(t,e){return null!=s[e.idx]?i=s[e.idx]===o[e.idx]:void 0})),i}),i},_space:function(){var t=[],e=this;return p(u,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=h(t),r=n._space(),o=u[r],s=0===this.alpha()?h("transparent"):this,a=s[o.cache]||o.to(s._rgba),l=a.slice();return n=n[o.cache],p(o.props,function(t,r){var o=r.idx,s=a[o],h=n[o],u=c[r.type]||{};null!==h&&(null===s?l[o]=h:(u.mod&&(h-s>u.mod/2?s+=u.mod:s-h>u.mod/2&&(s-=u.mod)),l[o]=i((h-s)*e+s,r)))}),this[r](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=h(e)._rgba;return h(t.map(i,function(t,e){return(1-n)*r[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(n,r,o),l=Math.min(n,r,o),h=a-l,u=a+l,c=.5*u;return e=l===a?0:n===a?60*(r-o)/h+360:r===a?60*(o-n)/h+120:60*(n-r)/h+240,i=0===h?0:.5>=c?h/u:h/(2-u),[Math.round(e)%360,i,c,null==s?1:s]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],o=t[3],s=.5>=n?n*(1+i):n+i-n*i,a=2*n-s;return[Math.round(255*r(a,s,e+1/3)),Math.round(255*r(a,s,e)),Math.round(255*r(a,s,e-1/3)),o]},p(u,function(n,r){var o=r.props,s=r.cache,l=r.to,u=r.from;h.fn[n]=function(n){if(l&&!this[s]&&(this[s]=l(this._rgba)),n===e)return this[s].slice();var r,a=t.type(n),c="array"===a||"object"===a?n:arguments,f=this[s].slice();return p(o,function(t,e){var n=c["object"===a?t:e.idx];null==n&&(n=f[e.idx]),f[e.idx]=i(n,e)}),u?(r=h(u(f)),r[s]=f,r):h(f)},p(o,function(e,i){h.fn[e]||(h.fn[e]=function(r){var o,s=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":n,h=this[l](),u=h[i.idx];return"undefined"===s?u:("function"===s&&(r=r.call(this,u),s=t.type(r)),null==r&&i.empty?this:("string"===s&&(o=a.exec(r),o&&(r=u+parseFloat(o[2])*("+"===o[1]?1:-1))),h[i.idx]=r,this[l](h)))})})}),h.hook=function(e){var i=e.split(" ");p(i,function(e,i){t.cssHooks[i]={set:function(e,r){var o,s,a="";if("transparent"!==r&&("string"!==t.type(r)||(o=n(r)))){if(r=h(o||r),!f.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(l){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{e.style[i]=r}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=h(e.elem,i),e.end=h(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},h.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function e(e){var i,n,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)i=r[n],"string"==typeof r[i]&&(o[t.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(o[i]=r[i]);return o}function i(e,i){var n,o,s={};for(n in i)o=i[n],e[n]!==o&&(r[n]||(t.fx.step[n]||!isNaN(parseFloat(o)))&&(s[n]=o));return s}var n=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(b.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,o,s,a){var l=t.speed(o,s,a);return this.queue(function(){var o,s=t(this),a=s.attr("class")||"",h=l.children?s.find("*").addBack():s;h=h.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(n,function(t,e){r[e]&&s[e+"Class"](r[e])})},o(),h=h.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),s.attr("class",a),h=h.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,h.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(i,n,r,o){return n?t.effects.animateClass.call(this,{add:i},n,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,n,r,o,s){return"boolean"==typeof n||void 0===n?r?t.effects.animateClass.call(this,n?{add:i}:{remove:i},r,o,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,r,o)}}(t.fn.toggleClass),switchClass:function(e,i,n,r,o){return t.effects.animateClass.call(this,{add:i,remove:e},n,r,o)}})}(),function(){function e(e,i,n,r){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(r=n,n=i,i={}),t.isFunction(n)&&(r=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=r||i.complete,e}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.11.4",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data(y+e[i],t[0].style[e[i]])},restore:function(t,e){var i,n;for(n=0;n<e.length;n++)null!==e[n]&&(i=t.data(y+e[n]),void 0===i&&(i=""),t.css(e[n],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(s){o=document.body}return e.wrap(n),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,r){return r=r||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(r[i]=o[0]*n+o[1])}),r}}),t.fn.extend({effect:function(){function i(e){function i(){t.isFunction(o)&&o.call(r[0]),t.isFunction(e)&&e()}var r=t(this),o=n.complete,a=n.mode;(r.is(":hidden")?"hide"===a:"show"===a)?(r[a](),i()):s.call(r[0],n,i)}var n=e.apply(this,arguments),r=n.mode,o=n.queue,s=t.effects.effect[n.effect];return t.fx.off||!s?r?this[r](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):o===!1?this.each(i):this.queue(o||"fx",i)},show:function(t){return function(n){if(i(n))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(n){if(i(n))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(n){if(i(n)||"boolean"==typeof n)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();t.effects,t.effects.effect.blind=function(e,i){var n,r,o,s=t(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,h=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(s,e.mode||"hide"),c=e.direction||"up",f=a.test(c),d=f?"height":"width",p=f?"top":"left",g=l.test(c),v={},m="show"===u;s.parent().is(".ui-effects-wrapper")?t.effects.save(s.parent(),h):t.effects.save(s,h),s.show(),n=t.effects.createWrapper(s).css({overflow:"hidden"}),r=n[d](),o=parseFloat(n.css(p))||0,v[d]=m?r:0,g||(s.css(f?"bottom":"right",0).css(f?"top":"left","auto").css({position:"absolute"}),v[p]=m?o:r+o),m&&(n.css(d,0),g||n.css(p,o+r)),n.animate(v,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===u&&s.hide(),t.effects.restore(s,h),t.effects.removeWrapper(s),i()}})},t.effects.effect.bounce=function(e,i){var n,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"effect"),h="hide"===l,u="show"===l,c=e.direction||"up",f=e.distance,d=e.times||5,p=2*d+(u||h?1:0),g=e.duration/p,v=e.easing,m="up"===c||"down"===c?"top":"left",y="up"===c||"left"===c,b=s.queue(),x=b.length;for((u||h)&&a.push("opacity"),t.effects.save(s,a),s.show(),t.effects.createWrapper(s),f||(f=s["top"===m?"outerHeight":"outerWidth"]()/3),u&&(o={opacity:1},o[m]=0,s.css("opacity",0).css(m,y?2*-f:2*f).animate(o,g,v)),h&&(f/=Math.pow(2,d-1)),o={},o[m]=0,n=0;d>n;n++)r={},r[m]=(y?"-=":"+=")+f,s.animate(r,g,v).animate(o,g,v),f=h?2*f:f/2;h&&(r={opacity:0},r[m]=(y?"-=":"+=")+f,s.animate(r,g,v)),s.queue(function(){h&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()}),x>1&&b.splice.apply(b,[1,0].concat(b.splice(x,p+1))),s.dequeue()},t.effects.effect.clip=function(e,i){var n,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"hide"),h="show"===l,u=e.direction||"vertical",c="vertical"===u,f=c?"height":"width",d=c?"top":"left",p={};t.effects.save(s,a),s.show(),n=t.effects.createWrapper(s).css({overflow:"hidden"}),r="IMG"===s[0].tagName?n:s,o=r[f](),h&&(r.css(f,0),r.css(d,o/2)),p[f]=h?o:0,p[d]=h?0:o/2,r.animate(p,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){h||s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()}})},t.effects.effect.drop=function(e,i){var n,r=t(this),o=["position","top","bottom","left","right","opacity","height","width"],s=t.effects.setMode(r,e.mode||"hide"),a="show"===s,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",c={opacity:a?1:0};t.effects.save(r,o),r.show(),t.effects.createWrapper(r),n=e.distance||r["top"===h?"outerHeight":"outerWidth"](!0)/2,a&&r.css("opacity",0).css(h,"pos"===u?-n:n),c[h]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,r.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),i()}})},t.effects.effect.explode=function(e,i){function n(){b.push(this),b.length===c*f&&r()}function r(){d.css({visibility:"visible"}),t(b).remove(),g||d.hide(),i()}var o,s,a,l,h,u,c=e.pieces?Math.round(Math.sqrt(e.pieces)):3,f=c,d=t(this),p=t.effects.setMode(d,e.mode||"hide"),g="show"===p,v=d.show().css("visibility","hidden").offset(),m=Math.ceil(d.outerWidth()/f),y=Math.ceil(d.outerHeight()/c),b=[];for(o=0;c>o;o++)for(l=v.top+o*y,u=o-(c-1)/2,s=0;f>s;s++)a=v.left+s*m,h=s-(f-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*m,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:m,height:y,left:a+(g?h*m:0),top:l+(g?u*y:0),opacity:g?0:1}).animate({left:a+(g?0:h*m),top:l+(g?0:u*y),opacity:g?1:0},e.duration||500,e.easing,n)},t.effects.effect.fade=function(e,i){var n=t(this),r=t.effects.setMode(n,e.mode||"toggle");n.animate({opacity:r},{queue:!1,duration:e.duration,easing:e.easing,complete:i})},t.effects.effect.fold=function(e,i){var n,r,o=t(this),s=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(o,e.mode||"hide"),l="show"===a,h="hide"===a,u=e.size||15,c=/([0-9]+)%/.exec(u),f=!!e.horizFirst,d=l!==f,p=d?["width","height"]:["height","width"],g=e.duration/2,v={},m={};t.effects.save(o,s),o.show(),n=t.effects.createWrapper(o).css({overflow:"hidden"}),r=d?[n.width(),n.height()]:[n.height(),n.width()],c&&(u=parseInt(c[1],10)/100*r[h?0:1]),l&&n.css(f?{height:0,width:u}:{height:u,width:0}),v[p[0]]=l?r[0]:u,m[p[1]]=l?r[1]:0,n.animate(v,g,e.easing).animate(m,g,e.easing,function(){h&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),i()})},t.effects.effect.highlight=function(e,i){var n=t(this),r=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(n,e.mode||"show"),s={backgroundColor:n.css("backgroundColor")};"hide"===o&&(s.opacity=0),t.effects.save(n,r),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),t.effects.restore(n,r),i()}})},t.effects.effect.size=function(e,i){var n,r,o,s=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],h=["width","height","overflow"],u=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],f=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=t.effects.setMode(s,e.mode||"effect"),p=e.restore||"effect"!==d,g=e.scale||"both",v=e.origin||["middle","center"],m=s.css("position"),y=p?a:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===d&&s.show(),n={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===e.mode&&"show"===d?(s.from=e.to||b,s.to=e.from||n):(s.from=e.from||("show"===d?b:n),s.to=e.to||("hide"===d?b:n)),o={from:{y:s.from.height/n.height,x:s.from.width/n.width},to:{y:s.to.height/n.height,x:s.to.width/n.width}},("box"===g||"both"===g)&&(o.from.y!==o.to.y&&(y=y.concat(c),s.from=t.effects.setTransition(s,c,o.from.y,s.from),s.to=t.effects.setTransition(s,c,o.to.y,s.to)),o.from.x!==o.to.x&&(y=y.concat(f),s.from=t.effects.setTransition(s,f,o.from.x,s.from),s.to=t.effects.setTransition(s,f,o.to.x,s.to))),("content"===g||"both"===g)&&o.from.y!==o.to.y&&(y=y.concat(u).concat(h),s.from=t.effects.setTransition(s,u,o.from.y,s.from),s.to=t.effects.setTransition(s,u,o.to.y,s.to)),t.effects.save(s,y),s.show(),t.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),v&&(r=t.effects.getBaseline(v,n),s.from.top=(n.outerHeight-s.outerHeight())*r.y,s.from.left=(n.outerWidth-s.outerWidth())*r.x,s.to.top=(n.outerHeight-s.to.outerHeight)*r.y,s.to.left=(n.outerWidth-s.to.outerWidth)*r.x),s.css(s.from),("content"===g||"both"===g)&&(c=c.concat(["marginTop","marginBottom"]).concat(u),f=f.concat(["marginLeft","marginRight"]),h=a.concat(c).concat(f),s.find("*[width]").each(function(){var i=t(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};p&&t.effects.save(i,h),i.from={height:n.height*o.from.y,width:n.width*o.from.x,outerHeight:n.outerHeight*o.from.y,outerWidth:n.outerWidth*o.from.x},i.to={height:n.height*o.to.y,width:n.width*o.to.x,outerHeight:n.height*o.to.y,outerWidth:n.width*o.to.x},o.from.y!==o.to.y&&(i.from=t.effects.setTransition(i,c,o.from.y,i.from),i.to=t.effects.setTransition(i,c,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=t.effects.setTransition(i,f,o.from.x,i.from),i.to=t.effects.setTransition(i,f,o.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){p&&t.effects.restore(i,h)})})),s.animate(s.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===d&&s.hide(),t.effects.restore(s,y),p||("static"===m?s.css({position:"relative",top:s.to.top,left:s.to.left}):t.each(["top","left"],function(t,e){s.css(e,function(e,i){var n=parseInt(i,10),r=t?s.to.left:s.to.top;return"auto"===i?r+"px":n+r+"px"})})),t.effects.removeWrapper(s),i()}})},t.effects.effect.scale=function(e,i){var n=t(this),r=t.extend(!0,{},e),o=t.effects.setMode(n,e.mode||"effect"),s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),a=e.direction||"both",l=e.origin,h={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};r.effect="size",r.queue=!1,r.complete=i,"effect"!==o&&(r.origin=l||["middle","center"],r.restore=!0),r.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:h),r.to={height:h.height*u.y,width:h.width*u.x,outerHeight:h.outerHeight*u.y,outerWidth:h.outerWidth*u.x},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),n.effect(r)},t.effects.effect.puff=function(e,i){var n=t(this),r=t.effects.setMode(n,e.mode||"hide"),o="hide"===r,s=parseInt(e.percent,10)||150,a=s/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:r,complete:i,percent:o?s:100,from:o?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(e)},t.effects.effect.pulsate=function(e,i){var n,r=t(this),o=t.effects.setMode(r,e.mode||"show"),s="show"===o,a="hide"===o,l=s||"hide"===o,h=2*(e.times||5)+(l?1:0),u=e.duration/h,c=0,f=r.queue(),d=f.length;for((s||!r.is(":visible"))&&(r.css("opacity",0).show(),c=1),n=1;h>n;n++)r.animate({opacity:c},u,e.easing),c=1-c;r.animate({opacity:c},u,e.easing),r.queue(function(){a&&r.hide(),i()}),d>1&&f.splice.apply(f,[1,0].concat(f.splice(d,h+1))),r.dequeue()},t.effects.effect.shake=function(e,i){var n,r=t(this),o=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(r,e.mode||"effect"),a=e.direction||"left",l=e.distance||20,h=e.times||3,u=2*h+1,c=Math.round(e.duration/u),f="up"===a||"down"===a?"top":"left",d="up"===a||"left"===a,p={},g={},v={},m=r.queue(),y=m.length;for(t.effects.save(r,o),r.show(),t.effects.createWrapper(r),p[f]=(d?"-=":"+=")+l,g[f]=(d?"+=":"-=")+2*l,v[f]=(d?"-=":"+=")+2*l,r.animate(p,c,e.easing),n=1;h>n;n++)r.animate(g,c,e.easing).animate(v,c,e.easing);r.animate(g,c,e.easing).animate(p,c/2,e.easing).queue(function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),i()}),y>1&&m.splice.apply(m,[1,0].concat(m.splice(y,u+1))),r.dequeue()},t.effects.effect.slide=function(e,i){var n,r=t(this),o=["position","top","bottom","left","right","width","height"],s=t.effects.setMode(r,e.mode||"show"),a="show"===s,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,c={};t.effects.save(r,o),r.show(),n=e.distance||r["top"===h?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(r).css({overflow:"hidden"}),a&&r.css(h,u?isNaN(n)?"-"+n:-n:n),c[h]=(a?u?"+=":"-=":u?"-=":"+=")+n,r.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),i()}})},t.effects.effect.transfer=function(e,i){var n=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,h=r.offset(),u={top:h.top-a,left:h.left-l,height:r.innerHeight(),width:r.innerWidth()},c=n.offset(),f=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:c.top-a,left:c.left-l,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){f.remove(),i()})},t.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,r=t.data(this,"selectable-item");return r?(n=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),r.unselecting=!n,r.selecting=n,r.selected=n,n?i._trigger("selecting",e,{selecting:r.element}):i._trigger("unselecting",e,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return o>a&&(i=a,a=o,o=i),s>l&&(i=l,l=s,s=i),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),h=!1;i&&i.element!==n.element[0]&&("touch"===r.tolerance?h=!(i.left>a||i.right<o||i.top>l||i.bottom<s):"fit"===r.tolerance&&(h=i.left>o&&i.right<a&&i.top>s&&i.bottom<l),h?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this;this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)
},focus:function(t,i){var n=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&n.index!==e.focusIndex&&(e._trigger("focus",t,{item:n}),e.isOpen||e._select(n,t)),e.focusIndex=n.index,e.button.attr("aria-activedescendant",e.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,i){var n=this,r="";t.each(i,function(i,o){o.optgroup!==r&&(t("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:o.optgroup}).appendTo(e),r=o.optgroup),n._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var n=t("<li>");return i.disabled&&n.addClass("ui-state-disabled"),this._setText(n,i.label),n.appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,n,r=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),r+=":not(.ui-state-disabled)"),n="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](r).eq(-1):i[t+"All"](r).eq(0),n.length&&this.menuInstance.focus(e,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;t||(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var i=[];e.each(function(e,n){var r=t(n),o=r.parent("optgroup");i.push({element:r,index:e,value:r.val(),label:r.text(),optgroup:o.attr("label")||"",disabled:o.prop("disabled")||r.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",s=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),e=r.length;i>e;e++)s.push(o);this.handles=r.add(t(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,o,s,a,l,h,u=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-u.values(e));(r>i||r===i&&(e===u._lastChangedValue||u.values(e)===c.min))&&(r=i,o=t(this),s=e)}),a=this._start(e,s),a===!1?!1:(this._mouseSliding=!0,this._handleIndex=s,o.addClass("ui-state-active").focus(),l=o.offset(),h=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),o=this._valueMin()+n*r,this._trimAlignValue(o)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,r,o;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>n||1===e&&n>i)&&(i=n),i!==this.values(e)&&(r=this.values(),r[e]=i,o=this._trigger("slide",t,{handle:this.handles[e],value:i,values:r}),n=this.values(e?0:1),o!==!1&&this.values(e,i))):i!==this.value()&&(o=this._trigger("slide",t,{handle:this.handles[e],value:i}),o!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,r=arguments[0],o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var n,r=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!i),this._super(e,i),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;r>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,n=Math.floor(+(t-e).toFixed(this._precision())/i)*i;t=n+e,this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,i,n,r,o,s=this.options.range,a=this.options,l=this,h=this._animateOff?!1:a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[h?"animate":"css"](u,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(n=this.value(),r=this._valueMin(),o=this._valueMax(),i=o!==r?(n-r)/(o-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[h?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[h?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(e){var i,n,r,o,s=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),i=this._start(e,s),i===!1))return}switch(o=this.options.step,n=r=this.options.values&&this.options.values.length?this.values(s):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-o)}this._slide(e,s,r)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,r=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(n=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(n=t(e.target)),n&&(!this.options.handle||i||(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(r=!0)}),r))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,n){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],o=this._intersectsWithPointer(n),o&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],r):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,h=this.offset.click.top,u=this.offset.click.left,c="x"===this.options.axis||n+h>a&&l>n+h,f="y"===this.options.axis||e+u>o&&s>e+u,d=c&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&a<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=e&&i,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return n?this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){a.push(this)}var n,r,o,s,a=[],l=[],h=this._connectWith();if(h&&e)for(n=h.length-1;n>=0;n--)for(o=t(h[n],this.document[0]),r=o.length-1;r>=0;r--)s=t.data(o[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,r,o,s,a,l,h,u=this.items,c=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(i=f.length-1;i>=0;i--)for(r=t(f[i],this.document[0]),n=r.length-1;n>=0;n--)o=t.data(r[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(c.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=c.length-1;i>=0;i--)for(s=c[i][1],a=c[i][0],n=0,h=a.length;h>n;n++)l=t(a[n]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,r,o;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),o=r.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===n?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===n?e._createTrPlaceholder(e.currentItem,r):"img"===n&&r.attr("src",e.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(t,r){(!i||n.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each(function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,n,r,o,s,a,l,h,u,c,f=null,d=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(f&&t.contains(this.containers[i].element[0],f.element[0]))continue;f=this.containers[i],d=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(r=1e4,o=null,u=f.floating||this._isFloating(this.currentItem),s=u?"left":"top",a=u?"width":"height",c=u?"clientX":"clientY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[d].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[s],h=!1,e[c]-l>this.items[n][a]/2&&(h=!0),Math.abs(e[c]-l)<r&&(r=Math.abs(e[c]-l),o=this.items[n],this.direction=h?"up":"down"));
if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],i=t(r.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<r.length;n++)r[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,n){var r=i.attr(n);void 0!==r&&r.length&&(e[n]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return e=null!==n.min?n.min:0,i=t-e,i=Math.round(i/n.step)*n.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&t<n.min?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:l(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:l(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:l(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:l(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:l(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void l(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,n;e=e.cloneNode(!1),i=e.href.replace(t,""),n=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(r){}try{n=decodeURIComponent(n)}catch(r){}return e.hash.length>1&&i===n}}(),_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each(function(i,r){return t(r).attr("aria-controls")===n?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n===this.options.active?!1:n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function n(){return e>r&&(e=0),0>e&&(e=r),e}for(var r=this.tabs.length-1;-1!==t.inArray(n(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,n=this.anchors,r=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,n){var r,o,s,a=t(n).uniqueId().attr("id"),l=t(n).closest("li"),h=l.attr("aria-controls");e._isLocal(n)?(r=n.hash,s=r.substring(1),o=e.element.find(e._sanitizeSelector(r))):(s=l.attr("aria-controls")||t({}).uniqueId()[0].id,r="#"+s,o=e.element.find(r),o.length||(o=e._createPanel(s),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),h&&l.data("ui-tabs-aria-controls",h),l.attr({"aria-controls":s,"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,n=0;i=this.tabs[n];n++)e===!0||-1!==t.inArray(n,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,r=t(e.currentTarget),o=r.closest("li"),s=o[0]===n[0],a=s&&i.collapsible,l=a?t():this._getPanelForTab(o),h=n.length?this._getPanelForTab(n):t(),u={oldTab:n,oldPanel:h,newTab:a?t():o,newPanel:l};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||s&&!i.collapsible||this._trigger("beforeActivate",e,u)===!1||(i.active=a?!1:this.tabs.index(o),this.active=s?t():o,this.xhr&&this.xhr.abort(),h.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),e),this._toggle(e,u))},_toggle:function(e,i){function n(){o.running=!1,o._trigger("activate",e,i)}function r(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&o.options.show?o._show(s,o.options.show,n):(s.show(),n())}var o=this,s=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),r()),a.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&a.length?i.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setupDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setupDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),a={tab:r,panel:s},l=function(t,e){"abort"===e&&n.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),s.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(t,e,r){setTimeout(function(){s.html(t),n._trigger("load",i,a),l(r,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,i,n){var r=this;return{url:e.attr("href"),beforeSend:function(e,o){return r._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(i,n);-1!==r&&n.splice(r,1),e.removeData("ui-tooltip-id"),n=t.trim(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,i){var n=this;return"disabled"===e?(this[i?"_disable":"_enable"](),void(this.options[e]=i)):(this._super(e,i),void("content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e.element)})))},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur");r.target=r.currentTarget=n.element[0],e.close(r,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._registerCloseHandlers(e,n),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,r=this,o=e?e.type:null;return"string"==typeof n?this._open(e,t,n):(i=n.call(t[0],function(i){r._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}),void(i&&this._open(e,t,i)))},_open:function(e,i,n){function r(t){h.of=t,s.is(":hidden")||s.position(h)}var o,s,a,l,h=t.extend({},this.options.position);if(n){if(o=this._find(i))return void o.tooltip.find(".ui-tooltip-content").html(n);i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),s=o.tooltip,this._addDescribedBy(i,s.attr("id")),s.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(l=n.clone(),l.removeAttr("id").find("[id]").removeAttr("id")):l=n,t("<div>").html(l).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):s.position(t.extend({of:i},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){s.is(":visible")&&(r(h.of),clearInterval(a))},t.fx.interval)),this._trigger("open",e,{tooltip:s})}},_registerCloseHandlers:function(e,i){var n={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var n=t.Event(e);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(n.mouseleave="close"),e&&"focusin"!==e.type||(n.focusout="close"),this._on(!0,i,n)},close:function(e){var i,n=this,r=t(e?e.currentTarget:this.element),o=this._find(r);return o?(i=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]
}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(e){var i=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=i.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur"),o=n.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),/**
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 */
/**
 * Implementing Drag and Drop functionality in AngularJS is easier than ever.
 * Demo: http://codef0rmer.github.com/angular-dragdrop/
 *
 * @version 1.0.13
 *
 * (c) 2013 Amit Gharat a.k.a codef0rmer <amit.2006.it@gmail.com> - amitgharat.wordpress.com
 */
function(t,e,i,n){"use strict";var r=e.module("ngDragDrop",[]).service("ngDragDropService",["$timeout","$parse","$q",function(o,s,a){this.draggableScope=null,this.droppableScope=null,i("head").prepend('<style type="text/css">@charset "UTF-8";.angular-dragdrop-hide{display: none !important;}</style>'),this.callEventCallback=function(t,e,n,r){function o(e){var n=-1!==e.indexOf("(")?e.indexOf("("):e.length,r=-1!==e.lastIndexOf(")")?e.lastIndexOf(")"):e.length,o=e.substring(n+1,r),a=-1!==e.indexOf(".")?e.substr(0,e.indexOf(".")):null;return a=t[a]&&"function"==typeof t[a].constructor?a:null,{callback:e.substring(a&&a.length+1||0,n),args:i.map(o&&o.split(",")||[],function(e){return[s(e)(t)]}),constructor:a}}if(e){var a=o(e),l=a.callback,h=a.constructor,u=[n,r].concat(a.args);return(t[l]||t[h][l]).apply(t[l]?t:t[h],u)}},this.invokeDrop=function(t,s,l,h){var u,c,f,d="",p="",g={},v={},m=null,y={},b={},x=null,w=this.droppableScope,k=this.draggableScope,T=null,$=[];d=t.ngattr("ng-model"),p=s.ngattr("ng-model"),u=k.$eval(d),c=w.$eval(p),x=s.find("[jqyoui-draggable]:last,[data-jqyoui-draggable]:last"),v=w.$eval(s.attr("jqyoui-droppable")||s.attr("data-jqyoui-droppable"))||[],g=k.$eval(t.attr("jqyoui-draggable")||t.attr("data-jqyoui-draggable"))||[],g.index=this.fixIndex(k,g,u),v.index=this.fixIndex(w,v,c),m=e.isArray(u)?g.index:null,y=e.isArray(u)?u[m]:u,g.deepCopy&&(y=e.copy(y)),b=e.isArray(c)&&v&&v.index!==n?c[v.index]:e.isArray(c)?{}:c,v.deepCopy&&(b=e.copy(b)),g.beforeDrop&&$.push(this.callEventCallback(k,g.beforeDrop,l,h)),a.all($).then(e.bind(this,function(){if(g.insertInline&&d===p){if(g.index>v.index){f=u[g.index];for(var n=g.index;n>v.index;n--)c[n]=e.copy(c[n-1]),c[n-1]={},c[n][g.direction]="left";c[v.index]=f}else{f=u[g.index];for(var n=g.index;n<v.index;n++)c[n]=e.copy(c[n+1]),c[n+1]={},c[n][g.direction]="right";c[v.index]=f}this.callEventCallback(w,v.onDrop,l,h)}else g.animate===!0?(T=t.clone(),T.css({position:"absolute"}).css(t.offset()),i("body").append(T),t.addClass("angular-dragdrop-hide"),this.move(T,x.length>0?x:s,null,"fast",v,function(){T.remove()}),this.move(x.length>0&&!v.multiple?x:[],t.parent("[jqyoui-droppable],[data-jqyoui-droppable]"),r.startXY,"fast",v,e.bind(this,function(){o(e.bind(this,function(){t.css({position:"relative",left:"",top:""}).removeClass("angular-dragdrop-hide"),x.css({position:"relative",left:"",top:"",display:"none"===x.css("display")?"":x.css("display")}),this.mutateDraggable(k,v,g,d,p,b,t),this.mutateDroppable(w,v,g,p,y,m),this.callEventCallback(w,v.onDrop,l,h)}))}))):o(e.bind(this,function(){this.mutateDraggable(k,v,g,d,p,b,t),this.mutateDroppable(w,v,g,p,y,m),this.callEventCallback(w,v.onDrop,l,h)}))})).finally(e.bind(this,function(){this.restore(t)}))},this.move=function(e,i,r,o,s,a){if(0===e.length)return a&&t.setTimeout(function(){a()},300),!1;var l=e.css("z-index"),h=e[s.containment||"offset"](),u=i.css("display"),c=i.hasClass("ng-hide"),f=i.hasClass("angular-dragdrop-hide");null===r&&i.length>0&&((i.attr("jqyoui-draggable")||i.attr("data-jqyoui-draggable"))!==n&&i.ngattr("ng-model")!==n&&i.is(":visible")&&s&&s.multiple?(r=i[s.containment||"offset"](),s.stack===!1?r.left+=i.outerWidth(!0):r.top+=i.outerHeight(!0)):(c&&i.removeClass("ng-hide"),f&&i.removeClass("angular-dragdrop-hide"),r=i.css({visibility:"hidden",display:"block"})[s.containment||"offset"](),i.css({visibility:"",display:u}))),e.css({position:"absolute","z-index":9999}).css(h).animate(r,o,function(){c&&i.addClass("ng-hide"),f&&i.addClass("angular-dragdrop-hide"),e.css("z-index",l),a&&a()})},this.mutateDroppable=function(t,i,n,r,o,a){var l=t.$eval(r);t.dndDragItem=o,e.isArray(l)?(i&&i.index>=0?l[i.index]=o:l.push(o),n&&n.placeholder===!0&&(l[l.length-1].jqyoui_pos=a)):(s(r+" = dndDragItem")(t),n&&n.placeholder===!0&&(l.jqyoui_pos=a))},this.mutateDraggable=function(t,i,r,o,a,l,h){var u=e.equals(l,{})||!l,c=t.$eval(o);t.dndDropItem=l,r&&r.placeholder?"keep"!=r.placeholder&&(e.isArray(c)&&r.index!==n?c[r.index]=l:s(o+" = dndDropItem")(t)):e.isArray(c)?u?r&&r.placeholder!==!0&&"keep"!==r.placeholder&&c.splice(r.index,1):c[r.index]=l:(s(o+" = dndDropItem")(t),t.$parent&&s(o+" = dndDropItem")(t.$parent)),this.restore(h)},this.restore=function(t){t.css({"z-index":"",left:"",top:""})},this.fixIndex=function(t,i,r){if(i.applyFilter&&e.isArray(r)&&r.length>0){var o=t[i.applyFilter](),s=o[i.index],a=n;return r.forEach(function(t,i){e.equals(t,s)&&(a=i)}),a}return i.index}}]).directive("jqyouiDraggable",["ngDragDropService",function(t){return{require:"?jqyouiDroppable",restrict:"A",link:function(n,o,s){var a,l,h,u,c=i(o),f=function(o){o?(a=n.$eval(c.attr("jqyoui-draggable")||c.attr("data-jqyoui-draggable"))||{},l=n.$eval(s.jqyouiOptions)||{},c.draggable({disabled:!1}).draggable(l).draggable({start:function(e,o){t.draggableScope=n,h=i(l.helper?o.helper:this).css("z-index"),i(l.helper?o.helper:this).css("z-index",9999),r.startXY=i(this)[a.containment||"offset"](),t.callEventCallback(n,a.onStart,e,o)},stop:function(e,r){i(l.helper?r.helper:this).css("z-index",h),t.callEventCallback(n,a.onStop,e,r)},drag:function(e,i){t.callEventCallback(n,a.onDrag,e,i)}})):c.draggable({disabled:!0}),u&&e.isDefined(o)&&(e.equals(s.drag,"true")||e.equals(s.drag,"false"))&&(u(),u=null)};u=n.$watch(function(){return n.$eval(s.drag)},f),f(),c.on("$destroy",function(){c.draggable({disabled:!0}).draggable("destroy")})}}}]).directive("jqyouiDroppable",["ngDragDropService","$q",function(t,n){return{restrict:"A",priority:1,link:function(r,o,s){var a,l,h,u=i(o),c=function(o){o?(a=r.$eval(i(u).attr("jqyoui-droppable")||i(u).attr("data-jqyoui-droppable"))||{},l=r.$eval(s.jqyouiOptions)||{},u.droppable({disabled:!1}).droppable(l).droppable({over:function(e,i){t.callEventCallback(r,a.onOver,e,i)},out:function(e,i){t.callEventCallback(r,a.onOut,e,i)},drop:function(o,h){var u=null;u=a.beforeDrop?t.callEventCallback(r,a.beforeDrop,o,h):function(){var t=n.defer();return t.resolve(),t.promise}(),u.then(e.bind(this,function(){i(h.draggable).ngattr("ng-model")&&s.ngModel?(t.droppableScope=r,t.invokeDrop(i(h.draggable),i(this),o,h)):t.callEventCallback(r,a.onDrop,o,h)}),function(){h.draggable.animate({left:"",top:""},l.revertDuration||0)})}})):u.droppable({disabled:!0}),h&&e.isDefined(o)&&(e.equals(s.drop,"true")||e.equals(s.drop,"false"))&&(h(),h=null)};h=r.$watch(function(){return r.$eval(s.drop)},c),c(),u.on("$destroy",function(){u.droppable({disabled:!0}).droppable("destroy")})}}}]);i.fn.ngattr=function(t){var e=this[0];return e.getAttribute(t)||e.getAttribute("data-"+t)}}(window,window.angular,window.jQuery),/*!
 * ngTagsInput v3.1.1
 * http://mbenford.github.io/ngTagsInput
 *
 * Copyright (c) 2013-2016 Michael Benford
 * License: MIT
 *
 * Generated at 2016-05-27 12:28:31 -0300
 */
function(){"use strict";var t={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,left:37,right:39,"delete":46,comma:188},e=9007199254740991,i=["text","email","url"],n=angular.module("ngTagsInput",[]);n.directive("tagsInput",["$timeout","$document","$window","$q","tagsInputConfig","tiUtil",function(n,r,o,s,a,l){function h(t,e,i,n){var r,o,a,h,u={};return r=function(e){return l.safeToString(e[t.displayProperty])},o=function(e,i){e[t.displayProperty]=i},a=function(e){var n=r(e),o=n&&n.length>=t.minLength&&n.length<=t.maxLength&&t.allowedTagsPattern.test(n)&&!l.findInObjectArray(u.items,e,t.keyProperty||t.displayProperty);return s.when(o&&i({$tag:e})).then(l.promisifyValue)},h=function(t){return s.when(n({$tag:t})).then(l.promisifyValue)},u.items=[],u.addText=function(t){var e={};return o(e,t),u.add(e)},u.add=function(i){var n=r(i);return t.replaceSpacesWithDashes&&(n=l.replaceSpacesWithDashes(n)),o(i,n),a(i).then(function(){u.items.push(i),e.trigger("tag-added",{$tag:i})}).catch(function(){n&&e.trigger("invalid-tag",{$tag:i})})},u.remove=function(t){var i=u.items[t];return h(i).then(function(){return u.items.splice(t,1),u.clearSelection(),e.trigger("tag-removed",{$tag:i}),i})},u.select=function(t){0>t?t=u.items.length-1:t>=u.items.length&&(t=0),u.index=t,u.selected=u.items[t]},u.selectPrior=function(){u.select(--u.index)},u.selectNext=function(){u.select(++u.index)},u.removeSelected=function(){return u.remove(u.index)},u.clearSelection=function(){u.selected=null,u.index=-1},u.clearSelection(),u}function u(t){return-1!==i.indexOf(t)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",templateScope:"=?",tagClass:"&",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(t,i,n){t.events=l.simplePubSub(),a.load("tagsInput",t,i,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",u],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,e],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,e],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0]}),t.tagList=new h(t.options,t.events,l.handleUndefinedResult(t.onTagAdding,!0),l.handleUndefinedResult(t.onTagRemoving,!0)),this.registerAutocomplete=function(){n.find("input");return{addTag:function(e){return t.tagList.add(e)},getTags:function(){return t.tagList.items},getCurrentTagText:function(){return t.newTag.text()},getOptions:function(){return t.options},getTemplateScope:function(){return t.templateScope},on:function(e,i){return t.events.on(e,i,!0),this}}},this.registerTagItem=function(){return{getOptions:function(){return t.options},removeTag:function(e){t.disabled||t.tagList.remove(e)}}}}],link:function(e,i,s,a){var h,u,c=[t.enter,t.comma,t.space,t.backspace,t.delete,t.left,t.right],f=e.tagList,d=e.events,p=e.options,g=i.find("input"),v=["minTags","maxTags","allowLeftoverText"];h=function(){a.$setValidity("maxTags",f.items.length<=p.maxTags),a.$setValidity("minTags",f.items.length>=p.minTags),a.$setValidity("leftoverText",e.hasFocus||p.allowLeftoverText?!0:!e.newTag.text())},u=function(){n(function(){g[0].focus()})},a.$isEmpty=function(t){return!t||!t.length},e.newTag={text:function(t){return angular.isDefined(t)?(e.text=t,void d.trigger("input-change",t)):e.text||""},invalid:null},e.track=function(t){return t[p.keyProperty||p.displayProperty]},e.getTagClass=function(t,i){var n=t===f.selected;return[e.tagClass({$tag:t,$index:i,$selected:n}),{selected:n}]},e.$watch("tags",function(t){t?(f.items=l.makeObjectArray(t,p.displayProperty),e.tags=f.items):f.items=[]}),e.$watch("tags.length",function(){h(),a.$validate()}),s.$observe("disabled",function(t){e.disabled=t}),e.eventHandlers={input:{keydown:function(t){d.trigger("input-keydown",t)},focus:function(){e.hasFocus||(e.hasFocus=!0,d.trigger("input-focus"))},blur:function(){n(function(){var t=r.prop("activeElement"),n=t===g[0],o=i[0].contains(t);(n||!o)&&(e.hasFocus=!1,d.trigger("input-blur"))})},paste:function(t){t.getTextData=function(){var e=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData;return e?e.getData("text/plain"):o.clipboardData.getData("Text")},d.trigger("input-paste",t)}},host:{click:function(){e.disabled||u()}},tag:{click:function(t){d.trigger("tag-clicked",{$tag:t})}}},d.on("tag-added",e.onTagAdded).on("invalid-tag",e.onInvalidTag).on("tag-removed",e.onTagRemoved).on("tag-clicked",e.onTagClicked).on("tag-added",function(){e.newTag.text("")}).on("tag-added tag-removed",function(){e.tags=f.items,a.$setDirty(),u()}).on("invalid-tag",function(){e.newTag.invalid=!0}).on("option-change",function(t){-1!==v.indexOf(t.name)&&h()}).on("input-change",function(){f.clearSelection(),e.newTag.invalid=null}).on("input-focus",function(){i.triggerHandler("focus"),a.$setValidity("leftoverText",!0)}).on("input-blur",function(){p.addOnBlur&&!p.addFromAutocompleteOnly&&f.addText(e.newTag.text()),i.triggerHandler("blur"),h()}).on("input-keydown",function(i){var n,r,o,s,a=i.keyCode,h={};l.isModifierOn(i)||-1===c.indexOf(a)||(h[t.enter]=p.addOnEnter,h[t.comma]=p.addOnComma,h[t.space]=p.addOnSpace,n=!p.addFromAutocompleteOnly&&h[a],r=(a===t.backspace||a===t.delete)&&f.selected,s=a===t.backspace&&0===e.newTag.text().length&&p.enableEditingLastTag,o=(a===t.backspace||a===t.left||a===t.right)&&0===e.newTag.text().length&&!p.enableEditingLastTag,n?f.addText(e.newTag.text()):s?(f.selectPrior(),f.removeSelected().then(function(t){t&&e.newTag.text(t[p.displayProperty])})):r?f.removeSelected():o&&(a===t.left||a===t.backspace?f.selectPrior():a===t.right&&f.selectNext()),(n||o||r||s)&&i.preventDefault())}).on("input-paste",function(t){if(p.addOnPaste){var e=t.getTextData(),i=e.split(p.pasteSplitPattern);i.length>1&&(i.forEach(function(t){f.addText(t)}),t.preventDefault())}})}}}]),n.directive("tiTagItem",["tiUtil",function(t){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(e,i,n,r){var o=r.registerTagItem(),s=o.getOptions();e.$$template=s.template,e.$$removeTagSymbol=s.removeTagSymbol,e.$getDisplayText=function(){return t.safeToString(e.data[s.displayProperty])},e.$removeTag=function(){o.removeTag(e.$index)},e.$watch("$parent.$index",function(t){e.$index=t})}}}]),n.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(e,i,n,r,o,s){function a(t,e,i){var n,o,a,l={};return a=function(){return e.tagsInput.keyProperty||e.tagsInput.displayProperty},n=function(t,i){return t.filter(function(t){return!s.findInObjectArray(i,t,a(),function(t,i){return e.tagsInput.replaceSpacesWithDashes&&(t=s.replaceSpacesWithDashes(t),i=s.replaceSpacesWithDashes(i)),s.defaultComparer(t,i)})})},l.reset=function(){o=null,l.items=[],l.visible=!1,l.index=-1,l.selected=null,l.query=null},l.show=function(){e.selectFirstMatch?l.select(0):l.selected=null,l.visible=!0},l.load=s.debounce(function(i,h){l.query=i;var u=r.when(t({$query:i}));o=u,u.then(function(t){u===o&&(t=s.makeObjectArray(t.data||t,a()),t=n(t,h),l.items=t.slice(0,e.maxResultsToShow),l.items.length>0?l.show():l.reset())})},e.debounceDelay),l.selectNext=function(){l.select(++l.index)},l.selectPrior=function(){l.select(--l.index)},l.select=function(t){0>t?t=l.items.length-1:t>=l.items.length&&(t=0),l.index=t,l.selected=l.items[t],i.trigger("suggestion-selected",t)},l.reset(),l}function l(t,e){var i=t.find("li").eq(e),n=i.parent(),r=i.prop("offsetTop"),o=i.prop("offsetHeight"),s=n.prop("clientHeight"),a=n.prop("scrollTop");a>r?n.prop("scrollTop",r):r+o>s+a&&n.prop("scrollTop",r+o-s)}return{restrict:"E",require:"^tagsInput",scope:{source:"&",matchClass:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(t,e,i){t.events=s.simplePubSub(),o.load("autoComplete",t,i,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),t.suggestionList=new a(t.source,t.options,t.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return t.options},getQuery:function(){return t.suggestionList.query}}}}],link:function(e,i,n,r){var o,a=[t.enter,t.tab,t.escape,t.up,t.down],h=e.suggestionList,u=r.registerAutocomplete(),c=e.options,f=e.events;c.tagsInput=u.getOptions(),o=function(t){return t&&t.length>=c.minLength||!t&&c.loadOnEmpty},e.templateScope=u.getTemplateScope(),e.addSuggestionByIndex=function(t){h.select(t),e.addSuggestion()},e.addSuggestion=function(){var t=!1;return h.selected&&(u.addTag(angular.copy(h.selected)),h.reset(),t=!0),t},e.track=function(t){return t[c.tagsInput.keyProperty||c.tagsInput.displayProperty]},e.getSuggestionClass=function(t,i){var n=t===h.selected;return[e.matchClass({$match:t,$index:i,$selected:n}),{selected:n}]},u.on("tag-added tag-removed invalid-tag input-blur",function(){h.reset()}).on("input-change",function(t){o(t)?h.load(t,u.getTags()):h.reset()}).on("input-focus",function(){var t=u.getCurrentTagText();c.loadOnFocus&&o(t)&&h.load(t,u.getTags())}).on("input-keydown",function(i){var n=i.keyCode,r=!1;if(!s.isModifierOn(i)&&-1!==a.indexOf(n))return h.visible?n===t.down?(h.selectNext(),r=!0):n===t.up?(h.selectPrior(),r=!0):n===t.escape?(h.reset(),r=!0):(n===t.enter||n===t.tab)&&(r=e.addSuggestion()):n===t.down&&e.options.loadOnDownArrow&&(h.load(u.getCurrentTagText(),u.getTags()),r=!0),r?(i.preventDefault(),i.stopImmediatePropagation(),!1):void 0}),f.on("suggestion-selected",function(t){l(i,t)})}}}]),n.directive("tiAutocompleteMatch",["$sce","tiUtil",function(t,e){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(i,n,r,o){var s=o.registerAutocompleteMatch(),a=s.getOptions();i.$$template=a.template,i.$index=i.$parent.$index,i.$highlight=function(i){return a.highlightMatchedText&&(i=e.safeHighlight(i,s.getQuery())),t.trustAsHtml(i)},i.$getDisplayText=function(){return e.safeToString(i.data[a.displayProperty||a.tagsInput.displayProperty])}}}}]),n.directive("tiTranscludeAppend",function(){return function(t,e,i,n,r){r(function(t){e.append(t)})}}),n.directive("tiAutosize",["tagsInputConfig",function(t){return{restrict:"A",require:"ngModel",link:function(e,i,n,r){var o,s,a=t.getTextAutosizeThreshold();o=angular.element('<span class="input"></span>'),o.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),i.parent().append(o),s=function(t){var e,r=t;return angular.isString(r)&&0===r.length&&(r=n.placeholder),r&&(o.text(r),o.css("display",""),e=o.prop("offsetWidth"),o.css("display","none")),i.css("width",e?e+a+"px":""),t},r.$parsers.unshift(s),r.$formatters.unshift(s),n.$observe("placeholder",function(t){r.$modelValue||s(t)})}}}]),n.directive("tiBindAttrs",function(){return function(t,e,i){t.$watch(i.tiBindAttrs,function(t){angular.forEach(t,function(t,e){i.$set(e,t)})},!0)}}),n.provider("tagsInputConfig",function(){var t={},e={},i=3;this.setDefaults=function(e,i){return t[e]=i,this},this.setActiveInterpolation=function(t,i){return e[t]=i,this},this.setTextAutosizeThreshold=function(t){return i=t,this},this.$get=["$interpolate",function(n){var r={};return r[String]=function(t){return t},r[Number]=function(t){return parseInt(t,10)},r[Boolean]=function(t){return"true"===t.toLowerCase()},r[RegExp]=function(t){return new RegExp(t)},{load:function(i,o,s,a){var l=function(){return!0};o.options={},angular.forEach(a,function(a,h){var u,c,f,d,p,g;u=a[0],c=a[1],f=a[2]||l,d=r[u],p=function(){var e=t[i]&&t[i][h];return angular.isDefined(e)?e:c},g=function(t){o.options[h]=t&&f(t)?d(t):p()},e[i]&&e[i][h]?s.$observe(h,function(t){g(t),o.events.trigger("option-change",{name:h,newValue:t})}):g(s[h]&&n(s[h])(o.$parent))})},getTextAutosizeThreshold:function(){return i}}}]}),n.factory("tiUtil",["$timeout","$q",function(t,e){var i={};return i.debounce=function(e,i){var n;return function(){var r=arguments;t.cancel(n),n=t(function(){e.apply(null,r)},i)}},i.makeObjectArray=function(t,e){if(!angular.isArray(t)||0===t.length||angular.isObject(t[0]))return t;var i=[];return t.forEach(function(t){var n={};n[e]=t,i.push(n)}),i},i.findInObjectArray=function(t,e,n,r){var o=null;return r=r||i.defaultComparer,t.some(function(t){return r(t[n],e[n])?(o=t,!0):void 0}),o},i.defaultComparer=function(t,e){return i.safeToString(t).toLowerCase()===i.safeToString(e).toLowerCase()},i.safeHighlight=function(t,e){function n(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}if(!e)return t;t=i.encodeHTML(t),e=i.encodeHTML(e);var r=new RegExp("&[^;]+;|"+n(e),"gi");return t.replace(r,function(t){return t.toLowerCase()===e.toLowerCase()?"<em>"+t+"</em>":t})},i.safeToString=function(t){return angular.isUndefined(t)||null==t?"":t.toString().trim()},i.encodeHTML=function(t){return i.safeToString(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},i.handleUndefinedResult=function(t,e){return function(){var i=t.apply(null,arguments);return angular.isUndefined(i)?e:i}},i.replaceSpacesWithDashes=function(t){return i.safeToString(t).replace(/\s/g,"-")},i.isModifierOn=function(t){return t.shiftKey||t.ctrlKey||t.altKey||t.metaKey},i.promisifyValue=function(t){return t=angular.isUndefined(t)?!0:t,e[t?"when":"reject"]()},i.simplePubSub=function(){var t={};return{on:function(e,i,n){return e.split(" ").forEach(function(e){t[e]||(t[e]=[]);var r=n?[].unshift:[].push;r.call(t[e],i)}),this},trigger:function(e,n){var r=t[e]||[];return r.every(function(t){return i.handleUndefinedResult(t,!0)(n)}),this}}},i}]),n.run(["$templateCache",function(t){t.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="getTagClass(tag, $index)" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item scope="templateScope" data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),t.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),t.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="getSuggestionClass(item, $index)" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match scope="templateScope" data="::item"></ti-autocomplete-match></li></ul></div>'),t.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}(),/**
 * @license AngularJS v1.3.20
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,i){"use strict";function n(t){var e;if(e=t.match(h)){var i=new Date(0),n=0,o=0;return e[9]&&(n=r(e[9]+e[10]),o=r(e[9]+e[11])),i.setUTCFullYear(r(e[1]),r(e[2])-1,r(e[3])),i.setUTCHours(r(e[4]||0)-n,r(e[5]||0)-o,r(e[6]||0),r(e[7]||0)),i}return t}function r(t){return parseInt(t,10)}function o(t,e,i){var n="";for(0>t&&(n="-",t=-t),t=""+t;t.length<e;)t="0"+t;return i&&(t=t.substr(t.length-e)),n+t}function s(t,n,r,o){function s(t,i,n,r){return e.isFunction(t)?t:function(){return e.isNumber(t)?[t,i,n,r]:[200,t,i,n]}}function h(t,s,a,h,u,v,m){function y(t){return e.isString(t)||e.isFunction(t)||t instanceof RegExp?t:e.toJson(t)}function b(e){function r(){var i=e.response(t,s,a,u);x.$$respHeaders=i[2],h(g(i[0]),g(i[1]),x.getAllResponseHeaders(),g(i[3]||""))}function l(){for(var t=0,e=d.length;e>t;t++)if(d[t]===r){d.splice(t,1),h(-1,i,"");break}}return!o&&v&&(v.then?v.then(l):n(l,v)),r}var x=new l,w=f[0],k=!1;if(w&&w.match(t,s)){if(!w.matchData(a))throw new Error("Expected "+w+" with different data\nEXPECTED: "+y(w.data)+"\nGOT:      "+a);if(!w.matchHeaders(u))throw new Error("Expected "+w+" with different headers\nEXPECTED: "+y(w.headers)+"\nGOT:      "+y(u));if(f.shift(),w.response)return void d.push(b(w));k=!0}for(var T,$=-1;T=c[++$];)if(T.match(t,s,a,u||{})){if(T.response)(o?o.defer:p)(b(T));else{if(!T.passThrough)throw new Error("No response defined !");r(t,s,a,h,u,v,m)}return}throw new Error(k?"No response defined !":"Unexpected request: "+t+" "+s+"\n"+(w?"Expected "+w:"No more request expected"))}function u(t){e.forEach(["GET","DELETE","JSONP","HEAD"],function(e){h[t+e]=function(n,r){return h[t](e,n,i,r)}}),e.forEach(["PUT","POST","PATCH"],function(e){h[t+e]=function(i,n,r){return h[t](e,i,n,r)}})}var c=[],f=[],d=[],p=e.bind(d,d.push),g=e.copy;return h.when=function(t,e,n,r){var l=new a(t,e,n,r),h={respond:function(t,e,n,r){return l.passThrough=i,l.response=s(t,e,n,r),h}};return o&&(h.passThrough=function(){return l.response=i,l.passThrough=!0,h}),c.push(l),h},u("when"),h.expect=function(t,e,i,n){var r=new a(t,e,i,n),o={respond:function(t,e,i,n){return r.response=s(t,e,i,n),o}};return f.push(r),o},u("expect"),h.flush=function(i,n){if(n!==!1&&t.$digest(),!d.length)throw new Error("No pending request to flush !");if(e.isDefined(i)&&null!==i)for(;i--;){if(!d.length)throw new Error("No more pending request to flush !");d.shift()()}else for(;d.length;)d.shift()();h.verifyNoOutstandingExpectation(n)},h.verifyNoOutstandingExpectation=function(e){if(e!==!1&&t.$digest(),f.length)throw new Error("Unsatisfied requests: "+f.join(", "))},h.verifyNoOutstandingRequest=function(){if(d.length)throw new Error("Unflushed requests: "+d.length)},h.resetExpectations=function(){f.length=0,d.length=0},h}function a(t,i,n,r){this.data=n,this.headers=r,this.match=function(i,n,r,o){return t!=i?!1:this.matchUrl(n)?e.isDefined(r)&&!this.matchData(r)?!1:e.isDefined(o)&&!this.matchHeaders(o)?!1:!0:!1},this.matchUrl=function(t){return i?e.isFunction(i.test)?i.test(t):e.isFunction(i)?i(t):i==t:!0},this.matchHeaders=function(t){return e.isUndefined(r)?!0:e.isFunction(r)?r(t):e.equals(r,t)},this.matchData=function(t){return e.isUndefined(n)?!0:n&&e.isFunction(n.test)?n.test(t):n&&e.isFunction(n)?n(t):n&&!e.isString(n)?e.equals(e.fromJson(e.toJson(n)),e.fromJson(t)):n==t},this.toString=function(){return t+" "+i}}function l(){l.$$lastInstance=this,this.open=function(t,e,i){this.$$method=t,this.$$url=e,this.$$async=i,this.$$reqHeaders={},this.$$respHeaders={}},this.send=function(t){this.$$data=t},this.setRequestHeader=function(t,e){this.$$reqHeaders[t]=e},this.getResponseHeader=function(t){var n=this.$$respHeaders[t];return n?n:(t=e.lowercase(t),(n=this.$$respHeaders[t])?n:(n=i,e.forEach(this.$$respHeaders,function(i,r){n||e.lowercase(r)!=t||(n=i)}),n))},this.getAllResponseHeaders=function(){var t=[];return e.forEach(this.$$respHeaders,function(e,i){t.push(i+": "+e)}),t.join("\n")},this.abort=e.noop}e.mock={},e.mock.$BrowserProvider=function(){this.$get=function(){return new e.mock.$Browser}},e.mock.$Browser=function(){var t=this;this.isMock=!0,t.$$url="http://server/",t.$$lastUrl=t.$$url,t.pollFns=[],t.$$completeOutstandingRequest=e.noop,t.$$incOutstandingRequestCount=e.noop,t.onUrlChange=function(e){return t.pollFns.push(function(){(t.$$lastUrl!==t.$$url||t.$$state!==t.$$lastState)&&(t.$$lastUrl=t.$$url,t.$$lastState=t.$$state,e(t.$$url,t.$$state))}),e},t.$$checkUrlChange=e.noop,t.cookieHash={},t.lastCookieHash={},t.deferredFns=[],t.deferredNextId=0,t.defer=function(e,i){return i=i||0,t.deferredFns.push({time:t.defer.now+i,fn:e,id:t.deferredNextId}),t.deferredFns.sort(function(t,e){return t.time-e.time}),t.deferredNextId++},t.defer.now=0,t.defer.cancel=function(n){var r;return e.forEach(t.deferredFns,function(t,e){t.id===n&&(r=e)}),r!==i?(t.deferredFns.splice(r,1),!0):!1},t.defer.flush=function(i){if(e.isDefined(i))t.defer.now+=i;else{if(!t.deferredFns.length)throw new Error("No deferred tasks to be flushed");t.defer.now=t.deferredFns[t.deferredFns.length-1].time}for(;t.deferredFns.length&&t.deferredFns[0].time<=t.defer.now;)t.deferredFns.shift().fn()},t.$$baseHref="/",t.baseHref=function(){return this.$$baseHref}},e.mock.$Browser.prototype={poll:function(){e.forEach(this.pollFns,function(t){t()})},addPollFn:function(t){return this.pollFns.push(t),t},url:function(t,i,n){return e.isUndefined(n)&&(n=null),t?(this.$$url=t,this.$$state=e.copy(n),this):this.$$url},state:function(){return this.$$state},cookies:function(t,i){return t?void(e.isUndefined(i)?delete this.cookieHash[t]:e.isString(i)&&i.length<=4096&&(this.cookieHash[t]=i)):(e.equals(this.cookieHash,this.lastCookieHash)||(this.lastCookieHash=e.copy(this.cookieHash),this.cookieHash=e.copy(this.cookieHash)),this.cookieHash)},notifyWhenNoOutstandingRequests:function(t){t()}},e.mock.$ExceptionHandlerProvider=function(){var t;this.mode=function(e){switch(e){case"log":case"rethrow":var i=[];t=function(t){if(i.push(1==arguments.length?t:[].slice.call(arguments,0)),"rethrow"===e)throw t},t.errors=i;break;default:throw new Error("Unknown mode '"+e+"', only 'log'/'rethrow' modes are allowed!")}},this.$get=function(){return t},this.mode("rethrow")},e.mock.$LogProvider=function(){function t(t,e,i){return t.concat(Array.prototype.slice.call(e,i))}var i=!0;this.debugEnabled=function(t){return e.isDefined(t)?(i=t,this):i},this.$get=function(){var n={log:function(){n.log.logs.push(t([],arguments,0))},warn:function(){n.warn.logs.push(t([],arguments,0))},info:function(){n.info.logs.push(t([],arguments,0))},error:function(){n.error.logs.push(t([],arguments,0))},debug:function(){i&&n.debug.logs.push(t([],arguments,0))}};return n.reset=function(){n.log.logs=[],n.info.logs=[],n.warn.logs=[],n.error.logs=[],n.debug.logs=[]},n.assertEmpty=function(){var t=[];if(e.forEach(["error","warn","info","log","debug"],function(i){e.forEach(n[i].logs,function(n){e.forEach(n,function(e){t.push("MOCK $log ("+i+"): "+String(e)+"\n"+(e.stack||""))})})}),t.length)throw t.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:"),t.push(""),new Error(t.join("\n---------\n"))},n.reset(),n}},e.mock.$IntervalProvider=function(){this.$get=["$browser","$rootScope","$q","$$q",function(t,n,r,o){var s=[],a=0,l=0,h=function(h,u,c,f){function d(){if(v.notify(p++),c>0&&p>=c){var r;v.resolve(p),e.forEach(s,function(t,e){t.id===m.$$intervalId&&(r=e)}),r!==i&&s.splice(r,1)}g?t.defer.flush():n.$apply()}var p=0,g=e.isDefined(f)&&!f,v=(g?o:r).defer(),m=v.promise;return c=e.isDefined(c)?c:0,m.then(null,null,h),m.$$intervalId=a,s.push({nextTime:l+u,delay:u,fn:d,id:a,deferred:v}),s.sort(function(t,e){return t.nextTime-e.nextTime}),a++,m};return h.cancel=function(t){if(!t)return!1;var n;return e.forEach(s,function(e,i){e.id===t.$$intervalId&&(n=i)}),n!==i?(s[n].deferred.reject("canceled"),s.splice(n,1),!0):!1},h.flush=function(t){for(l+=t;s.length&&s[0].nextTime<=l;){var e=s[0];e.fn(),e.nextTime+=e.delay,s.sort(function(t,e){return t.nextTime-e.nextTime})}return t},h}]};var h=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;if(e.mock.TzDate=function(t,i){var r=new Date(0);if(e.isString(i)){var s=i;if(r.origDate=n(i),i=r.origDate.getTime(),isNaN(i))throw{name:"Illegal Argument",message:"Arg '"+s+"' passed into TzDate constructor is not a valid date string"}}else r.origDate=new Date(i);var a=new Date(i).getTimezoneOffset();r.offsetDiff=60*a*1e3-1e3*t*60*60,r.date=new Date(i+r.offsetDiff),r.getTime=function(){return r.date.getTime()-r.offsetDiff},r.toLocaleDateString=function(){return r.date.toLocaleDateString()},r.getFullYear=function(){return r.date.getFullYear()},r.getMonth=function(){return r.date.getMonth()},r.getDate=function(){return r.date.getDate()},r.getHours=function(){return r.date.getHours()},r.getMinutes=function(){return r.date.getMinutes()},r.getSeconds=function(){return r.date.getSeconds()},r.getMilliseconds=function(){return r.date.getMilliseconds()},r.getTimezoneOffset=function(){return 60*t},r.getUTCFullYear=function(){return r.origDate.getUTCFullYear()},r.getUTCMonth=function(){return r.origDate.getUTCMonth()},r.getUTCDate=function(){return r.origDate.getUTCDate()},r.getUTCHours=function(){return r.origDate.getUTCHours()},r.getUTCMinutes=function(){return r.origDate.getUTCMinutes()},r.getUTCSeconds=function(){return r.origDate.getUTCSeconds()},r.getUTCMilliseconds=function(){return r.origDate.getUTCMilliseconds()},r.getDay=function(){return r.date.getDay()},r.toISOString&&(r.toISOString=function(){return o(r.origDate.getUTCFullYear(),4)+"-"+o(r.origDate.getUTCMonth()+1,2)+"-"+o(r.origDate.getUTCDate(),2)+"T"+o(r.origDate.getUTCHours(),2)+":"+o(r.origDate.getUTCMinutes(),2)+":"+o(r.origDate.getUTCSeconds(),2)+"."+o(r.origDate.getUTCMilliseconds(),3)+"Z"});var l=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];return e.forEach(l,function(t){r[t]=function(){throw new Error("Method '"+t+"' is not implemented in the TzDate mock")}}),r},e.mock.TzDate.prototype=Date.prototype,e.mock.animate=e.module("ngAnimateMock",["ng"]).config(["$provide",function(t){var i=[];t.value("$$animateReflow",function(t){var e=i.length;return i.push(t),function(){i.splice(e,1)}}),t.decorator("$animate",["$delegate","$$asyncCallback","$timeout","$browser","$rootScope","$$rAF",function(t,n,r,o,s,a){var l={queue:[],cancel:t.cancel,enabled:t.enabled,triggerCallbackEvents:function(){n.flush()},triggerCallbackPromise:function(){r.flush(0)},triggerCallbacks:function(){this.triggerCallbackEvents(),this.triggerCallbackPromise()},triggerReflow:function(){e.forEach(i,function(t){t()}),i=[]},flush:function(){function t(){return o.deferredFns.length}s.$digest();var e,r=!1;do if(e=!1,i.length&&(e=r=!0,this.triggerReflow()),a.queue.length&&(e=r=!0,a.flush()),n.queue.length&&(e=r=!0,this.triggerCallbackEvents()),t()){var l=t();this.triggerCallbackPromise();var h=t();l>h&&(e=r=!0)}while(e);if(!r)throw new Error("No pending animations ready to be closed or flushed");s.$digest()}};return e.forEach(["animate","enter","leave","move","addClass","removeClass","setClass"],function(e){l[e]=function(){return l.queue.push({event:e,element:arguments[0],options:arguments[arguments.length-1],args:arguments}),t[e].apply(t,arguments)}}),l}])}]),e.mock.dump=function(t){function i(t){var r;return e.isElement(t)?(t=e.element(t),r=e.element("<div></div>"),e.forEach(t,function(t){r.append(e.element(t).clone())}),r=r.html()):e.isArray(t)?(r=[],e.forEach(t,function(t){r.push(i(t))}),r="[ "+r.join(", ")+" ]"):r=e.isObject(t)?e.isFunction(t.$eval)&&e.isFunction(t.$apply)?n(t):t instanceof Error?t.stack||""+t.name+": "+t.message:e.toJson(t,!0):String(t),r}function n(t,i){i=i||"  ";var r=[i+"Scope("+t.$id+"): {"];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&!o.match(/^(\$|this)/)&&r.push("  "+o+": "+e.toJson(t[o]));for(var s=t.$$childHead;s;)r.push(n(s,i+"  ")),s=s.$$nextSibling;return r.push("}"),r.join("\n"+i)}return i(t)},e.mock.$HttpBackendProvider=function(){this.$get=["$rootScope","$timeout",s]},e.mock.$TimeoutDecorator=["$delegate","$browser",function(t,i){function n(t){var i=[];return e.forEach(t,function(t){i.push("{id: "+t.id+", time: "+t.time+"}")}),i.join(", ")}return t.flush=function(t){i.defer.flush(t)},t.verifyNoPendingTasks=function(){if(i.deferredFns.length)throw new Error("Deferred tasks to flush ("+i.deferredFns.length+"): "+n(i.deferredFns))},t}],e.mock.$RAFDecorator=["$delegate",function(t){var e,i=function(t){var i=e.length;return e.push(t),function(){e.splice(i,1)}};return e=i.queue=[],i.supported=t.supported,i.flush=function(){if(0===e.length)throw new Error("No rAF callbacks present");for(var t=e.length,i=0;t>i;i++)e[i]();e.length=0},i}],e.mock.$AsyncCallbackDecorator=["$delegate",function(){var t,i=function(e){t.push(e)};return t=i.queue=[],i.flush=function(){e.forEach(t,function(t){t()}),t.length=0},i}],e.mock.$RootElementProvider=function(){this.$get=function(){return e.element("<div ng-app></div>")}},e.mock.$ControllerDecorator=["$delegate",function(t){return function(i,n,r,o){if(r&&"object"==typeof r){var s=t(i,n,!0,o);return e.extend(s.instance,r),s()}return t(i,n,r,o)}}],e.module("ngMock",["ng"]).provider({$browser:e.mock.$BrowserProvider,$exceptionHandler:e.mock.$ExceptionHandlerProvider,$log:e.mock.$LogProvider,$interval:e.mock.$IntervalProvider,$httpBackend:e.mock.$HttpBackendProvider,$rootElement:e.mock.$RootElementProvider}).config(["$provide",function(t){t.decorator("$timeout",e.mock.$TimeoutDecorator),t.decorator("$$rAF",e.mock.$RAFDecorator),t.decorator("$$asyncCallback",e.mock.$AsyncCallbackDecorator),t.decorator("$rootScope",e.mock.$RootScopeDecorator),t.decorator("$controller",e.mock.$ControllerDecorator)}]),e.module("ngMockE2E",["ng"]).config(["$provide",function(t){t.decorator("$httpBackend",e.mock.e2e.$httpBackendDecorator)}]),e.mock.e2e={},e.mock.e2e.$httpBackendDecorator=["$rootScope","$timeout","$delegate","$browser",s],e.mock.$RootScopeDecorator=["$delegate",function(t){function e(){for(var t,e=0,i=[this.$$childHead];i.length;)for(t=i.shift();t;)e+=1,i.push(t.$$childHead),t=t.$$nextSibling;return e}function i(){for(var t,e=this.$$watchers?this.$$watchers.length:0,i=[this.$$childHead];i.length;)for(t=i.shift();t;)e+=t.$$watchers?t.$$watchers.length:0,i.push(t.$$childHead),t=t.$$nextSibling;return e}var n=Object.getPrototypeOf(t);return n.$countChildScopes=e,n.$countWatchers=i,t}],t.jasmine||t.mocha){var u=null,c=[],f=function(){return!!u};e.mock.$$annotate=e.injector.$$annotate,e.injector.$$annotate=function(t){return"function"!=typeof t||t.$inject||c.push(t),e.mock.$$annotate.apply(this,arguments)},(t.beforeEach||t.setup)(function(){c=[],u=this}),(t.afterEach||t.teardown)(function(){var t=u.$injector;if(c.forEach(function(t){delete t.$inject}),e.forEach(u.$modules,function(t){t&&t.$$hashKey&&(t.$$hashKey=i)}),u.$injector=null,u.$modules=null,u=null,t){t.get("$rootElement").off();var n=t.get("$browser");n.pollFns&&(n.pollFns.length=0)}e.forEach(e.element.fragments,function(t,i){delete e.element.fragments[i]}),l.$$lastInstance=null,e.forEach(e.callbacks,function(t,i){delete e.callbacks[i]}),e.callbacks.counter=0}),t.module=e.mock.module=function(){function t(){if(u.$injector)throw new Error("Injector already created, can not register a module!");var t=u.$modules||(u.$modules=[]);e.forEach(i,function(i){t.push(e.isObject(i)&&!e.isArray(i)?function(t){e.forEach(i,function(e,i){t.value(i,e)})}:i)})}var i=Array.prototype.slice.call(arguments,0);return f()?t():t};var d=function(t,e){this.message=t.message,this.name=t.name,t.line&&(this.line=t.line),t.sourceId&&(this.sourceId=t.sourceId),t.stack&&e&&(this.stack=t.stack+"\n"+e.stack),t.stackArray&&(this.stackArray=t.stackArray)};d.prototype.toString=Error.prototype.toString,t.inject=e.mock.inject=function(){function t(){var t=u.$modules||[],r=!!u.$injectorStrict;t.unshift("ngMock"),t.unshift("ng");var o=u.$injector;o||(r&&e.forEach(t,function(t){"function"==typeof t&&e.injector.$$annotate(t)}),o=u.$injector=e.injector(t,r),u.$injectorStrict=r);for(var s=0,a=i.length;a>s;s++){u.$injectorStrict&&o.annotate(i[s]);try{o.invoke(i[s]||e.noop,this)}catch(l){if(l.stack&&n)throw new d(l,n);throw l}finally{n=null}}}var i=Array.prototype.slice.call(arguments,0),n=new Error("Declaration Location");return f()?t.call(u):t},e.mock.inject.strictDi=function(t){function e(){if(t!==u.$injectorStrict){if(u.$injector)throw new Error("Injector already created, can not modify strict annotations");u.$injectorStrict=t}}return t=arguments.length?!!t:!0,f()?e():e}}}(window,window.angular);